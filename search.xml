<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>人生苦短，我用python--几小时快速上手Python语法</title>
      <link href="20ae399c.html"/>
      <url>20ae399c.html</url>
      
        <content type="html"><![CDATA[<h1 id="人生苦短，我用python——几小时快速上手Python语法"><a href="#人生苦短，我用python——几小时快速上手Python语法" class="headerlink" title="人生苦短，我用python——几小时快速上手Python语法"></a>人生苦短，我用python——几小时快速上手Python语法</h1><h2 id="Python是什么？"><a href="#Python是什么？" class="headerlink" title="Python是什么？"></a>Python是什么？</h2><p><strong>Python简介一览：</strong> <a href="https://baike.baidu.com/item/Python/407313?fr=aladdin#1">百度百科</a></p><h2 id="为什么学-Python？"><a href="#为什么学-Python？" class="headerlink" title="为什么学 Python？"></a>为什么学 Python？</h2><p><strong>知乎回答你：</strong> <a href="https://www.zhihu.com/question/25627959">为什么要学 Python？</a></p><p><strong>热度与趋势：</strong> <a href="https://zhuanlan.zhihu.com/p/417777235">2021年10月：Python在TIOBE榜单历史上首次排名第一</a></p><p><strong>Python 能做的事情很多：</strong> <a href="https://baike.baidu.com/item/Python/407313?fr=aladdin#6">应用领域</a></p><h3 id="数据爬虫"><a href="#数据爬虫" class="headerlink" title="数据爬虫"></a>数据爬虫</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd </span><br><span class="line"><span class="keyword">import</span> requests,re</span><br><span class="line"><span class="keyword">from</span> lxml <span class="keyword">import</span> etree</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_one_paeg</span>(<span class="params">url</span>):</span></span><br><span class="line">    headers = &#123;<span class="string">&#x27;user-agent&#x27;</span>: <span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.110 Safari/537.36 Edg/96.0.1054.62&#x27;</span>&#125; </span><br><span class="line">    res = requests.get(url, headers=headers) </span><br><span class="line">    html = etree.HTML(res.text)</span><br><span class="line"></span><br><span class="line">    rank_num = html.xpath(<span class="string">&#x27;//*[@id=&quot;content&quot;]/div/div[1]/ol/li/div/div[1]/em/text()&#x27;</span>)</span><br><span class="line">    movie_name = html.xpath(<span class="string">&#x27;//*[@id=&quot;content&quot;]/div/div[1]/ol/li/div/div[2]/div[1]/a/span[1]/text()&#x27;</span>)</span><br><span class="line">    actors = [i.strip() <span class="keyword">for</span> i <span class="keyword">in</span> html.xpath(<span class="string">&#x27;//*[@id=&quot;content&quot;]/div/div[1]/ol/li/div/div[2]/div[2]/p[1]/text()[1]&#x27;</span>)]</span><br><span class="line">    scores = html.xpath(<span class="string">&#x27;//*[@id=&quot;content&quot;]/div/div[1]/ol/li/div/div[2]/div[2]/div/span[2]/text()&#x27;</span>)</span><br><span class="line">    comments = [i.strip(<span class="string">&#x27;人评价&#x27;</span>) <span class="keyword">for</span> i <span class="keyword">in</span> html.xpath(<span class="string">&#x27;//*[@id=&quot;content&quot;]/div/div[1]/ol/li/div/div[2]/div[2]/div/span[4]/text()&#x27;</span>)]</span><br><span class="line">    release_time = html.xpath(<span class="string">&#x27;//*[@id=&quot;content&quot;]/div/div[1]/ol/li/div/div[2]/div[2]/p[1]/text()[2]&#x27;</span>)</span><br><span class="line">    inq = html.xpath(<span class="string">&#x27;//*[@id=&quot;content&quot;]/div/div[1]/ol/li/div/div[2]/div[2]/p[2]/span/text()&#x27;</span>)</span><br><span class="line">    </span><br><span class="line">    df = pd.DataFrame(&#123;<span class="string">&#x27;rank_num&#x27;</span>: rank_num,<span class="string">&#x27;movie_name&#x27;</span>: movie_name,<span class="string">&#x27;actors&#x27;</span>: actors,<span class="string">&#x27;scores&#x27;</span>: scores,<span class="string">&#x27;comments&#x27;</span>: comments,<span class="string">&#x27;release_time&#x27;</span>: release_time,<span class="string">&#x27;inq&#x27;</span>: inq,&#125;)</span><br><span class="line">    <span class="keyword">return</span> df</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_10_page</span>():</span> </span><br><span class="line">    df_all = pd.DataFrame()</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>):</span><br><span class="line">        url = <span class="string">&#x27;https://movie.douban.com/top250?start=&#123;&#125;&amp;filter=&#x27;</span>.<span class="built_in">format</span>((i-<span class="number">1</span>)*<span class="number">25</span>)</span><br><span class="line">        df_one = get_one_paeg(url)</span><br><span class="line">        df_all = df_all.append(df_one, ignore_index=<span class="literal">True</span>)</span><br><span class="line">    <span class="keyword">return</span> df_all</span><br><span class="line"></span><br><span class="line">df_all = get_10_page()</span><br><span class="line">df_all</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>rank_num</th>      <th>movie_name</th>      <th>actors</th>      <th>scores</th>      <th>comments</th>      <th>release_time</th>      <th>inq</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>1</td>      <td>肖申克的救赎</td>      <td>导演: 弗兰克·德拉邦特 Frank Darabont   主演: 蒂姆·罗宾斯 Tim R...</td>      <td>9.7</td>      <td>2523815</td>      <td>\n                            1994 / 美国 / 犯罪 剧...</td>      <td>希望让人自由。</td>    </tr>    <tr>      <th>1</th>      <td>2</td>      <td>霸王别姬</td>      <td>导演: 陈凯歌 Kaige Chen   主演: 张国荣 Leslie Cheung / 张...</td>      <td>9.6</td>      <td>1876401</td>      <td>\n                            1993 / 中国大陆 中国香港...</td>      <td>风华绝代。</td>    </tr>    <tr>      <th>2</th>      <td>3</td>      <td>阿甘正传</td>      <td>导演: 罗伯特·泽米吉斯 Robert Zemeckis   主演: 汤姆·汉克斯 Tom ...</td>      <td>9.5</td>      <td>1896138</td>      <td>\n                            1994 / 美国 / 剧情 爱...</td>      <td>一部美国近现代史。</td>    </tr>    <tr>      <th>3</th>      <td>4</td>      <td>泰坦尼克号</td>      <td>导演: 詹姆斯·卡梅隆 James Cameron   主演: 莱昂纳多·迪卡普里奥 Leo...</td>      <td>9.4</td>      <td>1857961</td>      <td>\n                            1997 / 美国 墨西哥 澳大...</td>      <td>失去的才是永恒的。</td>    </tr>    <tr>      <th>4</th>      <td>5</td>      <td>这个杀手不太冷</td>      <td>导演: 吕克·贝松 Luc Besson   主演: 让·雷诺 Jean Reno / 娜塔...</td>      <td>9.4</td>      <td>2056630</td>      <td>\n                            1994 / 法国 美国 / 剧...</td>      <td>怪蜀黍和小萝莉不得不说的故事。</td>    </tr>    <tr>      <th>5</th>      <td>6</td>      <td>美丽人生</td>      <td>导演: 罗伯托·贝尼尼 Roberto Benigni   主演: 罗伯托·贝尼尼 Robe...</td>      <td>9.6</td>      <td>1163228</td>      <td>\n                            1997 / 意大利 / 剧情 ...</td>      <td>最美的谎言。</td>    </tr>    <tr>      <th>6</th>      <td>7</td>      <td>千与千寻</td>      <td>导演: 宫崎骏 Hayao Miyazaki   主演: 柊瑠美 Rumi Hîragi /...</td>      <td>9.4</td>      <td>1977535</td>      <td>\n                            2001 / 日本 / 剧情 动...</td>      <td>最好的宫崎骏，最好的久石让。</td>    </tr>    <tr>      <th>7</th>      <td>8</td>      <td>辛德勒的名单</td>      <td>导演: 史蒂文·斯皮尔伯格 Steven Spielberg   主演: 连姆·尼森 Lia...</td>      <td>9.5</td>      <td>970256</td>      <td>\n                            1993 / 美国 / 剧情 历...</td>      <td>拯救一个人，就是拯救整个世界。</td>    </tr>    <tr>      <th>8</th>      <td>9</td>      <td>盗梦空间</td>      <td>导演: 克里斯托弗·诺兰 Christopher Nolan   主演: 莱昂纳多·迪卡普里...</td>      <td>9.3</td>      <td>1821114</td>      <td>\n                            2010 / 美国 英国 / 剧...</td>      <td>诺兰给了我们一场无法盗取的梦。</td>    </tr>    <tr>      <th>9</th>      <td>10</td>      <td>忠犬八公的故事</td>      <td>导演: 莱塞·霍尔斯道姆 Lasse Hallström   主演: 理查·基尔 Richa...</td>      <td>9.4</td>      <td>1249658</td>      <td>\n                            2009 / 美国 英国 / 剧...</td>      <td>永远都不能忘记你所爱的人。</td>    </tr>    <tr>      <th>10</th>      <td>11</td>      <td>星际穿越</td>      <td>导演: 克里斯托弗·诺兰 Christopher Nolan   主演: 马修·麦康纳 Ma...</td>      <td>9.4</td>      <td>1501345</td>      <td>\n                            2014 / 美国 英国 加拿大...</td>      <td>爱是一种力量，让我们超越时空感知它的存在。</td>    </tr>    <tr>      <th>11</th>      <td>12</td>      <td>楚门的世界</td>      <td>导演: 彼得·威尔 Peter Weir   主演: 金·凯瑞 Jim Carrey / 劳...</td>      <td>9.3</td>      <td>1423206</td>      <td>\n                            1998 / 美国 / 剧情 科...</td>      <td>如果再也不能见到你，祝你早安，午安，晚安。</td>    </tr>    <tr>      <th>12</th>      <td>13</td>      <td>海上钢琴师</td>      <td>导演: 朱塞佩·托纳多雷 Giuseppe Tornatore   主演: 蒂姆·罗斯 Ti...</td>      <td>9.3</td>      <td>1479681</td>      <td>\n                            1998 / 意大利 / 剧情 ...</td>      <td>每个人都要走一条自己坚定了的路，就算是粉身碎骨。</td>    </tr>    <tr>      <th>13</th>      <td>14</td>      <td>三傻大闹宝莱坞</td>      <td>导演: 拉库马·希拉尼 Rajkumar Hirani   主演: 阿米尔·汗 Aamir ...</td>      <td>9.2</td>      <td>1656399</td>      <td>\n                            2009 / 印度 / 剧情 喜...</td>      <td>英俊版憨豆，高情商版谢耳朵。</td>    </tr>    <tr>      <th>14</th>      <td>15</td>      <td>机器人总动员</td>      <td>导演: 安德鲁·斯坦顿 Andrew Stanton   主演: 本·贝尔特 Ben Bur...</td>      <td>9.3</td>      <td>1166971</td>      <td>\n                            2008 / 美国 / 科幻 动...</td>      <td>小瓦力，大人生。</td>    </tr>    <tr>      <th>15</th>      <td>16</td>      <td>放牛班的春天</td>      <td>导演: 克里斯托夫·巴拉蒂 Christophe Barratier   主演: 热拉尔·朱...</td>      <td>9.3</td>      <td>1151696</td>      <td>\n                            2004 / 法国 瑞士 德国 ...</td>      <td>天籁一般的童声，是最接近上帝的存在。</td>    </tr>    <tr>      <th>16</th>      <td>17</td>      <td>无间道</td>      <td>导演: 刘伟强 / 麦兆辉   主演: 刘德华 / 梁朝伟 / 黄秋生</td>      <td>9.3</td>      <td>1151911</td>      <td>\n                            2002 / 中国香港 / 剧情...</td>      <td>香港电影史上永不过时的杰作。</td>    </tr>    <tr>      <th>17</th>      <td>18</td>      <td>疯狂动物城</td>      <td>导演: 拜伦·霍华德 Byron Howard / 瑞奇·摩尔 Rich Moore   主...</td>      <td>9.2</td>      <td>1653074</td>      <td>\n                            2016 / 美国 / 喜剧 动...</td>      <td>迪士尼给我们营造的乌托邦就是这样，永远善良勇敢，永远出乎意料。</td>    </tr>    <tr>      <th>18</th>      <td>19</td>      <td>大话西游之大圣娶亲</td>      <td>导演: 刘镇伟 Jeffrey Lau   主演: 周星驰 Stephen Chow / 吴...</td>      <td>9.2</td>      <td>1351755</td>      <td>\n                            1995 / 中国香港 中国大陆...</td>      <td>一生所爱。</td>    </tr>    <tr>      <th>19</th>      <td>20</td>      <td>熔炉</td>      <td>导演: 黄东赫 Dong-hyuk Hwang   主演: 孔侑 Yoo Gong / 郑有...</td>      <td>9.3</td>      <td>822250</td>      <td>\n                            2011 / 韩国 / 剧情\n...</td>      <td>我们一路奋战不是为了改变世界，而是为了不让世界改变我们。</td>    </tr>    <tr>      <th>20</th>      <td>21</td>      <td>教父</td>      <td>导演: 弗朗西斯·福特·科波拉 Francis Ford Coppola   主演: 马龙·...</td>      <td>9.3</td>      <td>828058</td>      <td>\n                            1972 / 美国 / 剧情 犯...</td>      <td>千万不要记恨你的对手，这样会让你失去理智。</td>    </tr>    <tr>      <th>21</th>      <td>22</td>      <td>当幸福来敲门</td>      <td>导演: 加布里尔·穆奇诺 Gabriele Muccino   主演: 威尔·史密斯 Wil...</td>      <td>9.2</td>      <td>1339113</td>      <td>\n                            2006 / 美国 / 剧情 传...</td>      <td>平民励志片。</td>    </tr>    <tr>      <th>22</th>      <td>23</td>      <td>控方证人</td>      <td>导演: 比利·怀尔德 Billy Wilder   主演: 泰隆·鲍华 Tyrone Pow...</td>      <td>9.6</td>      <td>419919</td>      <td>\n                            1957 / 美国 / 剧情 犯...</td>      <td>比利·怀德满分作品。</td>    </tr>    <tr>      <th>23</th>      <td>24</td>      <td>龙猫</td>      <td>导演: 宫崎骏 Hayao Miyazaki   主演: 日高法子 Noriko Hidak...</td>      <td>9.2</td>      <td>1116657</td>      <td>\n                            1988 / 日本 / 动画 奇...</td>      <td>人人心中都有个龙猫，童年就永远不会消失。</td>    </tr>    <tr>      <th>24</th>      <td>25</td>      <td>怦然心动</td>      <td>导演: 罗伯·莱纳 Rob Reiner   主演: 玛德琳·卡罗尔 Madeline Ca...</td>      <td>9.1</td>      <td>1600876</td>      <td>\n                            2010 / 美国 / 剧情 喜...</td>      <td>真正的幸福是来自内心深处。</td>    </tr>  </tbody></table></div><h3 id="数据处理"><a href="#数据处理" class="headerlink" title="数据处理"></a>数据处理</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os <span class="comment"># 批量合并表格</span></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">df = pd.DataFrame()</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> os.listdir(<span class="string">&#x27;./Excel_Files/files/&#x27;</span>):</span><br><span class="line">    print(i)</span><br><span class="line">    df = df.append(pd.read_csv(<span class="string">&#x27;./Excel_Files/files/&#x27;</span> + i))</span><br><span class="line"><span class="comment"># data = pd.concat(fs)</span></span><br><span class="line">print(<span class="string">&#x27;已经全部完成&#x27;</span>)</span><br><span class="line">df</span><br></pre></td></tr></table></figure><h3 id="数据可视化"><a href="#数据可视化" class="headerlink" title="数据可视化"></a>数据可视化</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 使用pyecharts绘制南丁格尔玫瑰图</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 导入包</span></span><br><span class="line"><span class="keyword">from</span> pyecharts.charts <span class="keyword">import</span> Pie</span><br><span class="line"><span class="keyword">from</span> pyecharts <span class="keyword">import</span> options <span class="keyword">as</span> opts</span><br><span class="line"></span><br><span class="line"><span class="comment"># 准备数据：省份和对应的连续多日疫情零新增数量、颜色序列</span></span><br><span class="line">provinces = [<span class="string">&#x27;西藏&#x27;</span>, <span class="string">&#x27;澳门&#x27;</span>, <span class="string">&#x27;青海&#x27;</span>, <span class="string">&#x27;贵州&#x27;</span>, <span class="string">&#x27;新疆&#x27;</span>,</span><br><span class="line">             <span class="string">&#x27;江苏&#x27;</span>, <span class="string">&#x27;内蒙古&#x27;</span>, <span class="string">&#x27;陕西&#x27;</span>, <span class="string">&#x27;海南&#x27;</span>, <span class="string">&#x27;云南&#x27;</span>,</span><br><span class="line">             <span class="string">&#x27;吉林&#x27;</span>, <span class="string">&#x27;山西&#x27;</span>, <span class="string">&#x27;重庆&#x27;</span>, <span class="string">&#x27;广西&#x27;</span>, <span class="string">&#x27;福建&#x27;</span>,</span><br><span class="line">             <span class="string">&#x27;江西&#x27;</span>, <span class="string">&#x27;安徽&#x27;</span>, <span class="string">&#x27;河北&#x27;</span>, <span class="string">&#x27;天津&#x27;</span>, <span class="string">&#x27;湖南&#x27;</span>,</span><br><span class="line">             <span class="string">&#x27;辽宁&#x27;</span>, <span class="string">&#x27;宁夏&#x27;</span>, <span class="string">&#x27;浙江&#x27;</span>, <span class="string">&#x27;四川&#x27;</span>, <span class="string">&#x27;上海&#x27;</span>,</span><br><span class="line">             <span class="string">&#x27;黑龙江&#x27;</span>, <span class="string">&#x27;北京&#x27;</span>]</span><br><span class="line">number = [<span class="number">42</span>, <span class="number">37</span>, <span class="number">35</span>, <span class="number">24</span>, <span class="number">23</span>, <span class="number">22</span>, <span class="number">22</span>, <span class="number">21</span>, <span class="number">21</span>, <span class="number">20</span>, <span class="number">17</span>, <span class="number">16</span>, <span class="number">16</span>,</span><br><span class="line">       <span class="number">16</span>, <span class="number">14</span>, <span class="number">13</span>, <span class="number">13</span>, <span class="number">13</span>, <span class="number">13</span>, <span class="number">12</span>, <span class="number">9</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">7</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>]</span><br><span class="line">color_series = [<span class="string">&#x27;#FAE927&#x27;</span>,<span class="string">&#x27;#E9E416&#x27;</span>,<span class="string">&#x27;#C9DA36&#x27;</span>,<span class="string">&#x27;#9ECB3C&#x27;</span>,<span class="string">&#x27;#6DBC49&#x27;</span>,</span><br><span class="line">              <span class="string">&#x27;#37B44E&#x27;</span>,<span class="string">&#x27;#3DBA78&#x27;</span>,<span class="string">&#x27;#14ADCF&#x27;</span>,<span class="string">&#x27;#209AC9&#x27;</span>,<span class="string">&#x27;#1E91CA&#x27;</span>,</span><br><span class="line">              <span class="string">&#x27;#2C6BA0&#x27;</span>,<span class="string">&#x27;#2B55A1&#x27;</span>,<span class="string">&#x27;#2D3D8E&#x27;</span>,<span class="string">&#x27;#44388E&#x27;</span>,<span class="string">&#x27;#6A368B&#x27;</span></span><br><span class="line">              <span class="string">&#x27;#7D3990&#x27;</span>,<span class="string">&#x27;#A63F98&#x27;</span>,<span class="string">&#x27;#C31C88&#x27;</span>,<span class="string">&#x27;#D52178&#x27;</span>,<span class="string">&#x27;#D5225B&#x27;</span>,</span><br><span class="line">              <span class="string">&#x27;#D02C2A&#x27;</span>,<span class="string">&#x27;#D44C2D&#x27;</span>,<span class="string">&#x27;#F57A34&#x27;</span>,<span class="string">&#x27;#FA8F2F&#x27;</span>,<span class="string">&#x27;#D99D21&#x27;</span>,</span><br><span class="line">              <span class="string">&#x27;#CF7B25&#x27;</span>,<span class="string">&#x27;#CF7B25&#x27;</span>,<span class="string">&#x27;#CF7B25&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建饼图</span></span><br><span class="line">pie = Pie(init_opts=opts.InitOpts(width=<span class="string">&#x27;1350px&#x27;</span>, height=<span class="string">&#x27;750px&#x27;</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 添加数据</span></span><br><span class="line">pie.add(<span class="string">&quot;&quot;</span>, [<span class="built_in">list</span>(z) <span class="keyword">for</span> z <span class="keyword">in</span> <span class="built_in">zip</span>(provinces, number)],</span><br><span class="line">        radius=[<span class="string">&quot;30%&quot;</span>, <span class="string">&quot;135%&quot;</span>],</span><br><span class="line">        center=[<span class="string">&quot;50%&quot;</span>, <span class="string">&quot;65%&quot;</span>],</span><br><span class="line">        rosetype=<span class="string">&quot;area&quot;</span></span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置全局配置</span></span><br><span class="line">pie.set_global_opts(title_opts=opts.TitleOpts(title=<span class="string">&#x27;\t\t\t\t\t\t\t多省市\n确诊病例连续多日&#x27;</span>,</span><br><span class="line">                                              subtitle=<span class="string">&#x27;\t\t\t零新增&#x27;</span>,</span><br><span class="line">                                              pos_left=<span class="string">&#x27;42.5%&#x27;</span>, pos_right=<span class="string">&#x27;50%&#x27;</span>,</span><br><span class="line">                                              pos_top=<span class="string">&#x27;60%&#x27;</span>, pos_bottom=<span class="string">&#x27;50%&#x27;</span>,</span><br><span class="line">                                              title_textstyle_opts=opts.TextStyleOpts(font_size=<span class="number">25</span>),</span><br><span class="line">                                              subtitle_textstyle_opts=opts.TextStyleOpts(font_size=<span class="number">30</span>,</span><br><span class="line">                                                                                         font_family=<span class="string">&#x27;monospace&#x27;</span>,</span><br><span class="line">                                                                                         font_style=<span class="string">&#x27;normal&#x27;</span>,</span><br><span class="line">                                                                                         background_color=<span class="string">&#x27;red&#x27;</span>,</span><br><span class="line">                                                                                         rich=&#123;<span class="string">&#x27;color&#x27;</span>: <span class="string">&#x27;red&#x27;</span>&#125;)</span><br><span class="line">                                              ),</span><br><span class="line">                    legend_opts=opts.LegendOpts(is_show=<span class="literal">False</span>)</span><br><span class="line">                   )</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置系列配置和颜色</span></span><br><span class="line">pie.set_series_opts(label_opts=opts.LabelOpts(</span><br><span class="line">                    is_show=<span class="literal">True</span>, position=<span class="string">&quot;inside&quot;</span>, font_size=<span class="number">12</span>,</span><br><span class="line">                    formatter=<span class="string">&quot;&#123;b&#125;:&#123;c&#125;天&quot;</span>, font_style=<span class="string">&quot;italic&quot;</span>,</span><br><span class="line">                    font_weight=<span class="string">&quot;bold&quot;</span>, font_family=<span class="string">&quot;Microsoft YaHei&quot;</span></span><br><span class="line">                                              )</span><br><span class="line">                    )</span><br><span class="line"></span><br><span class="line">pie.set_colors(color_series)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 在网页生成图片</span></span><br><span class="line"><span class="comment"># pie.render(&#x27;南丁格尔玫瑰图.html&#x27;) </span></span><br><span class="line">pie.render_notebook()</span><br></pre></td></tr></table></figure><script>    require.config({        paths: {            'echarts':'https://assets.pyecharts.org/assets/echarts.min'        }    });</script><pre><code>    &lt;div id=&quot;8334335566444857824ec5c8d0a88189&quot; style=&quot;width:1350px; height:750px;&quot;&gt;&lt;/div&gt;</code></pre><script>        require(['echarts'], function(echarts) {                var chart_8334335566444857824ec5c8d0a88189 = echarts.init(                    document.getElementById('8334335566444857824ec5c8d0a88189'), 'white', {renderer: 'canvas'});                var option_8334335566444857824ec5c8d0a88189 = {    "animation": true,    "animationThreshold": 2000,    "animationDuration": 1000,    "animationEasing": "cubicOut",    "animationDelay": 0,    "animationDurationUpdate": 300,    "animationEasingUpdate": "cubicOut",    "animationDelayUpdate": 0,    "color": [        "#FAE927",        "#E9E416",        "#C9DA36",        "#9ECB3C",        "#6DBC49",        "#37B44E",        "#3DBA78",        "#14ADCF",        "#209AC9",        "#1E91CA",        "#2C6BA0",        "#2B55A1",        "#2D3D8E",        "#44388E",        "#6A368B#7D3990",        "#A63F98",        "#C31C88",        "#D52178",        "#D5225B",        "#D02C2A",        "#D44C2D",        "#F57A34",        "#FA8F2F",        "#D99D21",        "#CF7B25",        "#CF7B25",        "#CF7B25"    ],    "series": [        {            "type": "pie",            "clockwise": true,            "data": [                {                    "name": "\u897f\u85cf",                    "value": 42                },                {                    "name": "\u6fb3\u95e8",                    "value": 37                },                {                    "name": "\u9752\u6d77",                    "value": 35                },                {                    "name": "\u8d35\u5dde",                    "value": 24                },                {                    "name": "\u65b0\u7586",                    "value": 23                },                {                    "name": "\u6c5f\u82cf",                    "value": 22                },                {                    "name": "\u5185\u8499\u53e4",                    "value": 22                },                {                    "name": "\u9655\u897f",                    "value": 21                },                {                    "name": "\u6d77\u5357",                    "value": 21                },                {                    "name": "\u4e91\u5357",                    "value": 20                },                {                    "name": "\u5409\u6797",                    "value": 17                },                {                    "name": "\u5c71\u897f",                    "value": 16                },                {                    "name": "\u91cd\u5e86",                    "value": 16                },                {                    "name": "\u5e7f\u897f",                    "value": 16                },                {                    "name": "\u798f\u5efa",                    "value": 14                },                {                    "name": "\u6c5f\u897f",                    "value": 13                },                {                    "name": "\u5b89\u5fbd",                    "value": 13                },                {                    "name": "\u6cb3\u5317",                    "value": 13                },                {                    "name": "\u5929\u6d25",                    "value": 13                },                {                    "name": "\u6e56\u5357",                    "value": 12                },                {                    "name": "\u8fbd\u5b81",                    "value": 9                },                {                    "name": "\u5b81\u590f",                    "value": 8                },                {                    "name": "\u6d59\u6c5f",                    "value": 7                },                {                    "name": "\u56db\u5ddd",                    "value": 7                },                {                    "name": "\u4e0a\u6d77",                    "value": 1                },                {                    "name": "\u9ed1\u9f99\u6c5f",                    "value": 1                },                {                    "name": "\u5317\u4eac",                    "value": 1                }            ],            "radius": [                "30%",                "135%"            ],            "center": [                "50%",                "65%"            ],            "roseType": "area",            "label": {                "show": true,                "position": "inside",                "margin": 8,                "fontSize": 12,                "fontStyle": "italic",                "fontWeight": "bold",                "fontFamily": "Microsoft YaHei",                "formatter": "{b}:{c}\u5929"            },            "rippleEffect": {                "show": true,                "brushType": "stroke",                "scale": 2.5,                "period": 4            }        }    ],    "legend": [        {            "data": [                "\u897f\u85cf",                "\u6fb3\u95e8",                "\u9752\u6d77",                "\u8d35\u5dde",                "\u65b0\u7586",                "\u6c5f\u82cf",                "\u5185\u8499\u53e4",                "\u9655\u897f",                "\u6d77\u5357",                "\u4e91\u5357",                "\u5409\u6797",                "\u5c71\u897f",                "\u91cd\u5e86",                "\u5e7f\u897f",                "\u798f\u5efa",                "\u6c5f\u897f",                "\u5b89\u5fbd",                "\u6cb3\u5317",                "\u5929\u6d25",                "\u6e56\u5357",                "\u8fbd\u5b81",                "\u5b81\u590f",                "\u6d59\u6c5f",                "\u56db\u5ddd",                "\u4e0a\u6d77",                "\u9ed1\u9f99\u6c5f",                "\u5317\u4eac"            ],            "selected": {},            "show": false,            "padding": 5,            "itemGap": 10,            "itemWidth": 25,            "itemHeight": 14        }    ],    "tooltip": {        "show": true,        "trigger": "item",        "triggerOn": "mousemove|click",        "axisPointer": {            "type": "line"        },        "showContent": true,        "alwaysShowContent": false,        "showDelay": 0,        "hideDelay": 100,        "textStyle": {            "fontSize": 14        },        "borderWidth": 0,        "padding": 5    },    "title": [        {            "text": "\t\t\t\t\t\t\t\u591a\u7701\u5e02\n\u786e\u8bca\u75c5\u4f8b\u8fde\u7eed\u591a\u65e5",            "subtext": "\t\t\t\u96f6\u65b0\u589e",            "left": "42.5%",            "right": "50%",            "top": "60%",            "bottom": "50%",            "padding": 5,            "itemGap": 10,            "textStyle": {                "fontSize": 25            },            "subtextStyle": {                "fontStyle": "normal",                "fontFamily": "monospace",                "fontSize": 30,                "backgroundColor": "red",                "rich": {                    "color": "red"                }            }        }    ]};                chart_8334335566444857824ec5c8d0a88189.setOption(option_8334335566444857824ec5c8d0a88189);        });    </script><h3 id="数据挖掘-分析"><a href="#数据挖掘-分析" class="headerlink" title="数据挖掘/分析"></a>数据挖掘/分析</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.datasets <span class="keyword">import</span> load_iris</span><br><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> tree</span><br><span class="line"><span class="keyword">import</span> graphviz</span><br><span class="line"><span class="keyword">from</span> sklearn.tree <span class="keyword">import</span> DecisionTreeClassifier</span><br><span class="line"></span><br><span class="line">iris = load_iris()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 建立决策树</span></span><br><span class="line">clf = DecisionTreeClassifier(criterion=<span class="string">&#x27;entropy&#x27;</span>, max_depth=<span class="number">3</span>) </span><br><span class="line">clf = clf.fit(iris.data, iris.target)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 可视化</span></span><br><span class="line"><span class="comment"># 决策树可视化</span></span><br><span class="line">dot_data = tree.export_graphviz(decision_tree=clf,</span><br><span class="line">                                 out_file=<span class="literal">None</span>, </span><br><span class="line">                                 feature_names=iris.feature_names,</span><br><span class="line">                                 class_names=iris.target_names, </span><br><span class="line">                                 filled=<span class="literal">True</span>,</span><br><span class="line">                                 rounded=<span class="literal">True</span></span><br><span class="line">                                )</span><br><span class="line">graph = graphviz.Source(dot_data)</span><br><span class="line">graph</span><br></pre></td></tr></table></figure><h3 id="自动化办公：一样的工作，你要花1小时，我只要-10-秒钟"><a href="#自动化办公：一样的工作，你要花1小时，我只要-10-秒钟" class="headerlink" title="自动化办公：一样的工作，你要花1小时，我只要 10 秒钟"></a>自动化办公：一样的工作，你要花1小时，我只要 10 秒钟</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> docx <span class="keyword">import</span> Document</span><br><span class="line"><span class="keyword">import</span> xlrd</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">change_text</span>(<span class="params">old_text, new_text</span>):</span></span><br><span class="line">    all_paragraphs = document.paragraphs</span><br><span class="line">    <span class="keyword">for</span> paragraph <span class="keyword">in</span> all_paragraphs:</span><br><span class="line">        <span class="keyword">for</span> run <span class="keyword">in</span> paragraph.runs:</span><br><span class="line">            run_text = run.text.replace(old_text, new_text)</span><br><span class="line">            run.text = run_text</span><br><span class="line"></span><br><span class="line">    all_tables = document.tables</span><br><span class="line">    <span class="keyword">for</span> table <span class="keyword">in</span> all_tables:</span><br><span class="line">        <span class="keyword">for</span> row <span class="keyword">in</span> table.rows:</span><br><span class="line">            <span class="keyword">for</span> cell <span class="keyword">in</span> row.cells:</span><br><span class="line">                cell_text = cell.text.replace(old_text, new_text)</span><br><span class="line">                cell.text = cell_text</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">xlsx = xlrd.open_workbook(<span class="string">&#x27;Excel_Files/合同信息表.xlsx&#x27;</span>)</span><br><span class="line">sheet = xlsx.sheet_by_index(<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> table_row <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, sheet.nrows):</span><br><span class="line">    document = Document(<span class="string">&quot;Word_Files/修改模板.docx&quot;</span>)</span><br><span class="line">    <span class="keyword">for</span> table_col <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, sheet.ncols):</span><br><span class="line">        change_text(<span class="built_in">str</span>(sheet.cell_value(<span class="number">0</span>, table_col)), <span class="built_in">str</span>(sheet.cell_value(table_row, table_col)))</span><br><span class="line"></span><br><span class="line">    document.save(<span class="string">&quot;Word_Files/%s合同.docx&quot;</span> % <span class="built_in">str</span>(sheet.cell_value(table_row, <span class="number">2</span>)))</span><br><span class="line">    print(<span class="string">&quot;%s合同完成&quot;</span> % <span class="built_in">str</span>(sheet.cell_value(table_row, <span class="number">2</span>)))</span><br></pre></td></tr></table></figure><h2 id="学习目的"><a href="#学习目的" class="headerlink" title="学习目的"></a>学习目的</h2><p>希望通过简单的入门学习，你会：</p><pre><code>1、 掌握基本的python语法，并编写简单的python程序2、 可以阅读别人写的python代码3、 编写简单的爬虫4、 进行基本的数据分析</code></pre><h2 id="机器学习需要："><a href="#机器学习需要：" class="headerlink" title="机器学习需要："></a>机器学习需要：</h2><pre><code>1、 数学理论知识  (统计、线性代数、微积分 。。。)2、 编程能力（python)</code></pre><h2 id="python的特性"><a href="#python的特性" class="headerlink" title="python的特性"></a>python的特性</h2><p><a href="https://baike.baidu.com/item/Python/407313?fr=aladdin#2">百度百科</a></p><pre><code>1、python语法简单，容易理解，容易学习2、跨平台，可在windows/linux/mac os等系统上运行3、可以做网站、爬虫、大数据处理、机器学习4、拥有强大、丰富的第三方库  numpy、pandas ...</code></pre><h1 id="几小时快速上手Python"><a href="#几小时快速上手Python" class="headerlink" title="几小时快速上手Python"></a>几小时快速上手Python</h1><h2 id="简单尝试"><a href="#简单尝试" class="headerlink" title="简单尝试"></a>简单尝试</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">&quot;Hello, World!&quot;</span>)</span><br></pre></td></tr></table></figure><pre><code>Hello, World!</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;hello world!&#x27;</span></span><br></pre></td></tr></table></figure><pre><code>&#39;hello world!&#39;</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> this</span><br></pre></td></tr></table></figure><pre><code>The Zen of Python, by Tim PetersBeautiful is better than ugly.Explicit is better than implicit.Simple is better than complex.Complex is better than complicated.Flat is better than nested.Sparse is better than dense.Readability counts.Special cases aren&#39;t special enough to break the rules.Although practicality beats purity.Errors should never pass silently.Unless explicitly silenced.In the face of ambiguity, refuse the temptation to guess.There should be one-- and preferably only one --obvious way to do it.Although that way may not be obvious at first unless you&#39;re Dutch.Now is better than never.Although never is often better than *right* now.If the implementation is hard to explain, it&#39;s a bad idea.If the implementation is easy to explain, it may be a good idea.Namespaces are one honking great idea -- let&#39;s do more of those!</code></pre><p>python之禅<br>                作者：Tim Peters</p><p>优美胜于丑陋                                                  Python 以编写优美的代码为目标<br>明了胜于晦涩                                                  优美的代码应当是明了的，命名规范，风格相似<br>简洁胜于复杂                                                  优美的代码应当是简洁的，不要有复杂的内部实现<br>复杂胜于凌乱                                                  如果复杂不可避免，那代码间也不能有难懂的关系，要保持接口简洁<br>扁平胜于嵌套                                                  优美的代码应当是扁平的，不能有太多的嵌套<br>间隔胜于紧凑                                                  优美的代码有适当的间隔，不要奢望一行代码解决问题<br>可读性很重要                                                  优美的代码是可读的<br>即便假借特例的实用性之名，也不可违背这些规则                        这些规则至高无上<br>不要包容所有错误，除非你确定需要这样做                             精准地捕获异常，不写 except:pass 风格的代码<br>当存在多种可能，不要尝试去猜测<br>而是尽量找一种，最好是唯一一种明显的解决方案                        如果不确定，就用穷举法<br>虽然这并不容易，因为你不是Python之父                             这里的 Dutch 是指 Guido<br>做也许好过不做，但不假思索就动手还不如不做                          动手之前要细思量<br>如果你无法向人描述你的方案，那肯定不是一个好方案；反之亦然             方案测评标准<br>命名空间是一种绝妙的理念，我们应当多加利用                          倡导与号召</p><h2 id="Python-like-English"><a href="#Python-like-English" class="headerlink" title="Python like English"></a>Python like English</h2><h3 id="实例：求数字a的绝对数"><a href="#实例：求数字a的绝对数" class="headerlink" title="实例：求数字a的绝对数"></a>实例：求数字a的绝对数</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">a = -<span class="number">50</span> <span class="comment">## 赋值 </span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> a &gt;= <span class="number">0</span>:</span><br><span class="line">    print(a) <span class="comment"># 缩进 空格</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    print(-a) <span class="comment"># 打印</span></span><br></pre></td></tr></table></figure><pre><code>50</code></pre><h3 id="Python-VS-English"><a href="#Python-VS-English" class="headerlink" title="Python VS English"></a>Python VS English</h3><table><thead><tr><th align="left">英语</th><th align="left">Python</th><th align="left">例如</th></tr></thead><tbody><tr><td align="left"><strong>单词</strong></td><td align="left">数据、数据类型</td><td align="left">列表、字符串、字典等</td></tr><tr><td align="left"><strong>语法</strong></td><td align="left">语法/逻辑语句</td><td align="left">if条件判读语句、for循环语句等</td></tr></tbody></table><h3 id="每天进步一点点"><a href="#每天进步一点点" class="headerlink" title="每天进步一点点"></a>每天进步一点点</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> math</span><br><span class="line">%matplotlib inline</span><br><span class="line"></span><br><span class="line">ability = <span class="number">1</span></span><br><span class="line">scale = <span class="number">1.01</span></span><br><span class="line">records = []</span><br><span class="line"></span><br><span class="line">days = <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">60</span>*<span class="number">2</span>)</span><br><span class="line"><span class="keyword">for</span> day <span class="keyword">in</span> days:</span><br><span class="line">    ability = ability*scale</span><br><span class="line">    records.append(ability)</span><br><span class="line">    </span><br><span class="line">plt.plot(days, records)</span><br><span class="line">plt.title(<span class="string">&#x27;Be better everyday!&#x27;</span>)</span><br></pre></td></tr></table></figure><pre><code>Text(0.5, 1.0, &#39;Be better everyday!&#39;)</code></pre><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202201121844475.png" alt="png"></p><h3 id="Python是面向对象的编程语言"><a href="#Python是面向对象的编程语言" class="headerlink" title="Python是面向对象的编程语言"></a>Python是面向对象的编程语言</h3><table><thead><tr><th align="left">类型</th><th align="left">实例(对象)</th><th align="left">实例(对象)</th><th align="left">方法</th></tr></thead><tbody><tr><td align="left">猪</td><td align="left">村东头老王家的猪</td><td align="left">把猪变成肉</td><td align="left"><code>猪.产肉</code></td></tr><tr><td align="left">牛</td><td align="left">村东头老张家的耕牛</td><td align="left">把粮食变成畜力</td><td align="left"><code>牛.耕地</code></td></tr><tr><td align="left">列表</td><td align="left"><code>hobbies = [&#39;跑步&#39;,  &#39;乒乓球&#39;， &#39;篮球&#39;，&#39;篮球&#39;]</code></td><td align="left">统计某群体爱好的分布, 查看各爱好的人数</td><td align="left"><code>hobbies.count(&#39;篮球&#39;)</code></td></tr><tr><td align="left">字符串</td><td align="left"><code>str1 = &quot;Hello，World!&quot;</code></td><td align="left">将文本内容由World更改为Python</td><td align="left"><code>str1.replace(&#39;World&#39;, &#39;Python&#39;)</code></td></tr><tr><td align="left">字典</td><td align="left"><code>grade = &#123;&#39;David&#39;:98, &#39;Mary&#39;:88,...&#125;</code></td><td align="left">方便数据检索</td><td align="left"><code>grade.get(&#39;David&#39;)</code></td></tr><tr><td align="left">…</td><td align="left">…</td><td align="left">…</td><td align="left">…</td></tr></tbody></table><h3 id="Python中的数据类型"><a href="#Python中的数据类型" class="headerlink" title="Python中的数据类型"></a>Python中的数据类型</h3><table><thead><tr><th align="center">数据类型</th><th align="center">例子</th></tr></thead><tbody><tr><td align="center">数字</td><td align="center"><code>a = 5</code></td></tr><tr><td align="center">字符串</td><td align="center"><code>my_str = &quot;abcdefg&quot;</code></td></tr><tr><td align="center">列表</td><td align="center"><code>my_list = [1, 2, 3]</code></td></tr><tr><td align="center">元组</td><td align="center"><code>my_tuple = (1, 2, 3)</code></td></tr><tr><td align="center">字典</td><td align="center"><code>my_dict = &#123;&#39;David&#39;: 25, &#39;Mark&#39;:30&#125;</code></td></tr><tr><td align="center">空值</td><td align="center"><code>None</code></td></tr></tbody></table><h2 id="数据类型：字符串str"><a href="#数据类型：字符串str" class="headerlink" title="数据类型：字符串str"></a>数据类型：字符串str</h2><h3 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h3><p>字符串是以  <strong>单引号</strong>  或  <strong>双引号</strong>  或 <strong>三引号</strong> 括起来的任意文本，如</p><ul><li>‘abc’</li><li>“abc”</li><li>‘’’abc’’’</li><li>“””abc”””</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="string">&#x27;abc&#x27;</span></span><br><span class="line">a</span><br></pre></td></tr></table></figure><pre><code>&#39;abc&#39;</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;abc&quot;</span></span><br></pre></td></tr></table></figure><pre><code>&#39;abc&#39;</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;&#x27;abc&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure><pre><code>&#39;abc&#39;</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;abc&quot;&quot;&quot;</span> <span class="comment"># 单包双</span></span><br></pre></td></tr></table></figure><pre><code>&#39;abc&#39;</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">&#x27;abc&#x27;</span>)</span><br><span class="line">print(<span class="string">&quot;abc&quot;</span>)</span><br><span class="line">print(<span class="string">&#x27;&#x27;&#x27;abc&#x27;&#x27;&#x27;</span>)</span><br><span class="line">print(<span class="string">&quot;&quot;&quot;abc&quot;&quot;&quot;</span>)</span><br></pre></td></tr></table></figure><pre><code>abcabcabcabc</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;abc&#x27;</span></span><br><span class="line"><span class="string">&#x27;efg&#x27;</span></span><br></pre></td></tr></table></figure><pre><code>&#39;efg&#39;</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">&#x27;abc&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;efg&#x27;</span>)</span><br></pre></td></tr></table></figure><pre><code>abcefg</code></pre><p><strong>注意</strong>:  </p><ul><li>这里所说的引号都是英文引号</li><li><code>&#39;&#39;</code> 或 <code>&quot;&quot;</code> 本身不是字符串的一部分，因此，字符串 <code>&#39;abc&#39;</code> 只有a，b，c这3个字符。</li><li>notebook中只显示最后一个，所以这里用了两个print</li></ul><h3 id="拼接"><a href="#拼接" class="headerlink" title="拼接+"></a>拼接+</h3><p>按顺序拼接</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="string">&#x27;P&#x27;</span></span><br><span class="line">b = <span class="string">&#x27;ython&#x27;</span></span><br><span class="line"></span><br><span class="line">print(a+b)</span><br><span class="line">print(b+a)</span><br></pre></td></tr></table></figure><pre><code>PythonythonP</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="string">&#x27;P&#x27;</span></span><br><span class="line"></span><br><span class="line">print(a+b)</span><br><span class="line">print(b+a)</span><br></pre></td></tr></table></figure><pre><code>PythonythonP</code></pre><h3 id="切片"><a href="#切片" class="headerlink" title="切片"></a>切片</h3><p><img src="H:\Users\K\Downloads\img\字符串索引.png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">name = <span class="string">&#x27;My Name is Mike&#x27;</span></span><br><span class="line">name[<span class="number">0</span>]</span><br><span class="line">name[-<span class="number">15</span>]</span><br></pre></td></tr></table></figure><pre><code>&#39;M&#39;</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">name[<span class="number">3</span>:<span class="number">6</span>]</span><br><span class="line">name[-<span class="number">12</span>:-<span class="number">9</span>]</span><br><span class="line">name[<span class="number">0</span>:<span class="number">2</span>]</span><br><span class="line">name[:<span class="number">2</span>]</span><br><span class="line">name[<span class="number">5</span>:]</span><br><span class="line">name[-<span class="number">7</span>:]</span><br></pre></td></tr></table></figure><pre><code>&#39;is Mike&#39;</code></pre><h4 id="切片总结"><a href="#切片总结" class="headerlink" title="切片总结"></a>切片总结</h4><table><thead><tr><th align="left">切片表达式</th><th align="left">解读</th></tr></thead><tbody><tr><td align="left"><strong>从左往右</strong></td><td align="left">索引值从0开始，0表示’第一个’</td></tr><tr><td align="left"><strong>从右向左</strong></td><td align="left">-1表示倒数第一个，-2表示倒数第二个</td></tr><tr><td align="left"><strong>a:b</strong></td><td align="left">选取列表索引位置为<code>a，a+1...b-2, b-1</code>的值</td></tr><tr><td align="left"><strong>a:</strong></td><td align="left">选取列表中a之后的所有元素(含a)</td></tr><tr><td align="left"><strong>:b</strong></td><td align="left">选取列表中b之前的所有元素(不含b)</td></tr></tbody></table><h3 id="字符串常用方法"><a href="#字符串常用方法" class="headerlink" title="字符串常用方法"></a>字符串常用方法</h3><table><thead><tr><th align="left">字符串常用方法</th><th align="left">功能</th></tr></thead><tbody><tr><td align="left">str.lower()</td><td align="left">变小写</td></tr><tr><td align="left">str.upper()</td><td align="left">变大写</td></tr><tr><td align="left">str.split(sep)</td><td align="left">使用sep将字符串分割，默认sep为空格</td></tr><tr><td align="left">str.replace(old, new)</td><td align="left">将str中的old替换为new</td></tr><tr><td align="left">str.format()</td><td align="left">向str中填充内容</td></tr></tbody></table><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">words = <span class="string">&#x27;Python is poweful!&#x27;</span></span><br><span class="line">words.lower()</span><br></pre></td></tr></table></figure><pre><code>&#39;python is poweful!&#39;</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">words.upper()</span><br></pre></td></tr></table></figure><pre><code>&#39;PYTHON IS POWEFUL!&#39;</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">words</span><br></pre></td></tr></table></figure><pre><code>&#39;Python is poweful!&#39;</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">words.split(<span class="string">&#x27; &#x27;</span>)</span><br></pre></td></tr></table></figure><pre><code>[&#39;Python&#39;, &#39;is&#39;, &#39;poweful!&#39;]</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">words.replace(<span class="string">&#x27;Python&#x27;</span>, <span class="string">&#x27;Python programing language&#x27;</span>)</span><br></pre></td></tr></table></figure><pre><code>&#39;Python programing language is poweful!&#39;</code></pre><p>需要发送每个员工的工资组成详情。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&quot;张三,你这个月的工资是2310元；以下是你的工资详情。。。。&quot;</span><br><span class="line">&quot;李四,你这个月的工资是3456元；以下是你的工资详情。。。。&quot;</span><br><span class="line">&quot;王五,你这个月的工资是2431元；以下是你的工资详情。。。。&quot;</span><br></pre></td></tr></table></figure><p>如何自动化自动化填充?</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">template = <span class="string">&#x27;&#123;name&#125;,你这个月的工资是&#123;salary&#125;元；以下是你的工资详情&#x27;</span></span><br><span class="line"></span><br><span class="line">print(template.<span class="built_in">format</span>(name=<span class="string">&#x27;张三&#x27;</span>, salary=<span class="string">&#x27;2310&#x27;</span>))</span><br><span class="line">print(template.<span class="built_in">format</span>(name=<span class="string">&#x27;李四&#x27;</span>, salary=<span class="string">&#x27;3456&#x27;</span>))</span><br><span class="line">print(template.<span class="built_in">format</span>(name=<span class="string">&#x27;王五&#x27;</span>, salary=<span class="string">&#x27;2431&#x27;</span>))</span><br></pre></td></tr></table></figure><pre><code>张三,你这个月的工资是2310元；以下是你的工资详情李四,你这个月的工资是3456元；以下是你的工资详情王五,你这个月的工资是2431元；以下是你的工资详情</code></pre><h3 id="转义符"><a href="#转义符" class="headerlink" title="转义符\"></a>转义符\</h3><p>如果字符串内部既包含 <strong>单引号</strong> 又包含 <strong>双引号</strong>， 会发生什么？</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">&#x27;I&#x27;</span>m <span class="string">&quot;OK&quot;</span>!<span class="string">&#x27;)</span></span><br></pre></td></tr></table></figure><pre><code>  File &quot;C:\Users\K\AppData\Local\Temp/ipykernel_10664/2605556670.py&quot;, line 1    print(&#39;I&#39;m &quot;OK&quot;!&#39;)             ^SyntaxError: invalid syntax</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 可以用 转义字符\ 来标识，比如：</span></span><br><span class="line">print(<span class="string">&#x27;I\&#x27;m \&quot;OK\&quot;!&#x27;</span>)</span><br></pre></td></tr></table></figure><pre><code>I&#39;m &quot;OK&quot;!</code></pre><p>常见的转义符还有</p><ul><li><code>\n</code> 换行</li><li><code>\t</code> 制表符</li><li><code>字符\</code> 本身也要转义，所以 <code>\\</code> 表示的字符就是 <code>\</code></li></ul><p>可以print()打印字符串看看下面打印结果是?：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">&#x27;Hello\tWorld!&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;转义\n换行!&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;反斜杠线\\&#x27;</span>)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">&#x27;Hello\tWorld!&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;Hello World!&#x27;</span>)</span><br></pre></td></tr></table></figure><pre><code>Hello    World!Hello World!</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">&#x27;转义\n换行!&#x27;</span>)</span><br></pre></td></tr></table></figure><pre><code>转义换行!</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">&#x27;反斜杠线\\&#x27;</span>)</span><br></pre></td></tr></table></figure><pre><code>反斜杠线\</code></pre><h3 id="r"><a href="#r" class="headerlink" title="r"></a>r</h3><p>如果字符串里面有很多字符都需要转义，就需要加很多<code>\</code>,</p><p>为了简化，Python还允许用<code>r&#39;&#39;</code>表示<code>&#39;&#39;内部</code>的字符串默认不转义,例如</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">&#x27;\\\t\\&#x27;</span>)</span><br><span class="line">print(<span class="string">r&#x27;\\\t\\&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;hello world!&#x27;</span>)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">&#x27;\\\t\\&#x27;</span>)</span><br></pre></td></tr></table></figure><pre><code>\    \</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">r&#x27;\\\t\\&#x27;</span>)</span><br></pre></td></tr></table></figure><pre><code>\\\t\\</code></pre><h2 id="数据类型：列表list-元素-集合set"><a href="#数据类型：列表list-元素-集合set" class="headerlink" title="数据类型：列表list 元素 集合set"></a>数据类型：列表list 元素 集合set</h2><h3 id="定义-1"><a href="#定义-1" class="headerlink" title="定义"></a>定义</h3><p>list是一种有序的集合,内部可以由任何数据类型的组成的</p><p>现在有5位员工的汇总信息，</p><table><thead><tr><th align="left">id</th><th align="left">姓名</th><th align="left">年龄</th><th align="left">性别</th><th align="left">爱好</th></tr></thead><tbody><tr><td align="left">1</td><td align="left">David</td><td align="left">25</td><td align="left">Male</td><td align="left">Basketball, Pingpang, Hiking</td></tr><tr><td align="left">2</td><td align="left">Mary</td><td align="left">23</td><td align="left">Female</td><td align="left">Reading, Movies</td></tr><tr><td align="left">3</td><td align="left">Henry</td><td align="left">23</td><td align="left">Male</td><td align="left">Diving, Hiking</td></tr><tr><td align="left">4</td><td align="left">Swift</td><td align="left">21</td><td align="left">Male</td><td align="left">Football, Music</td></tr><tr><td align="left">5</td><td align="left">Lenard</td><td align="left">26</td><td align="left">Male</td><td align="left">Stay at Home</td></tr></tbody></table><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">names = [<span class="string">&#x27;David&#x27;</span>, <span class="string">&#x27;Mary&#x27;</span>, <span class="string">&#x27;Henry&#x27;</span>, <span class="string">&#x27;Swift&#x27;</span>, <span class="string">&#x27;Lenard&#x27;</span>]</span><br><span class="line"></span><br><span class="line">ages = [<span class="number">25</span>, <span class="number">23</span>, <span class="number">23</span>, <span class="number">21</span>, <span class="number">26</span>]</span><br><span class="line"></span><br><span class="line">hobbies = [[<span class="string">&#x27;Basketball&#x27;</span>, <span class="string">&#x27;Pingpang&#x27;</span>, <span class="string">&#x27;Hiking&#x27;</span>],</span><br><span class="line">          [<span class="string">&#x27;Reading&#x27;</span>, <span class="string">&#x27;Movies&#x27;</span>],</span><br><span class="line">          [<span class="string">&#x27;Diving&#x27;</span>, <span class="string">&#x27;Hiking&#x27;</span>],</span><br><span class="line">          [<span class="string">&#x27;Football&#x27;</span>, <span class="string">&#x27;Music&#x27;</span>],</span><br><span class="line">          [<span class="string">&#x27;Stay at Home&#x27;</span>]]</span><br><span class="line"></span><br><span class="line">print(<span class="built_in">type</span>(names))</span><br><span class="line">print(<span class="built_in">type</span>(ages))</span><br><span class="line">print(<span class="built_in">type</span>(hobbies))</span><br><span class="line"></span><br><span class="line">print(names)</span><br><span class="line">print(ages)</span><br><span class="line">print(hobbies)</span><br></pre></td></tr></table></figure><pre><code>&lt;class &#39;list&#39;&gt;&lt;class &#39;list&#39;&gt;&lt;class &#39;list&#39;&gt;[&#39;David&#39;, &#39;Mary&#39;, &#39;Henry&#39;, &#39;Swift&#39;, &#39;Lenard&#39;][25, 23, 23, 21, 26][[&#39;Basketball&#39;, &#39;Pingpang&#39;, &#39;Hiking&#39;], [&#39;Reading&#39;, &#39;Movies&#39;], [&#39;Diving&#39;, &#39;Hiking&#39;], [&#39;Football&#39;, &#39;Music&#39;], [&#39;Stay at Home&#39;]]</code></pre><h3 id="拼接-1"><a href="#拼接-1" class="headerlink" title="拼接"></a>拼接</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">a1 = [<span class="string">&#x27;Michael&#x27;</span>, <span class="string">&#x27;Bob&#x27;</span>]</span><br><span class="line">a2 = [<span class="string">&#x27;David&#x27;</span>, <span class="string">&#x27;Lee&#x27;</span>]</span><br><span class="line"></span><br><span class="line">print(a1 + a2)</span><br><span class="line">print(a2 + a1)</span><br></pre></td></tr></table></figure><pre><code>[&#39;Michael&#39;, &#39;Bob&#39;, &#39;David&#39;, &#39;Lee&#39;][&#39;David&#39;, &#39;Lee&#39;, &#39;Michael&#39;, &#39;Bob&#39;]</code></pre><h3 id="拆包"><a href="#拆包" class="headerlink" title="拆包"></a>拆包</h3><p>等号两边长度相同</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">name, age = [<span class="string">&#x27;David&#x27;</span>, <span class="number">25</span>]</span><br><span class="line">print(name)</span><br><span class="line">print(age)</span><br></pre></td></tr></table></figure><pre><code>David25</code></pre><h3 id="切片-1"><a href="#切片-1" class="headerlink" title="切片"></a>切片</h3><p>列表的切片与字符串类似</p><table><thead><tr><th align="left">id</th><th align="left">姓名</th><th align="left">年龄</th><th align="left">性别</th><th align="left">爱好</th><th align="left">正索引</th><th align="left">倒索引</th></tr></thead><tbody><tr><td align="left">1</td><td align="left">David</td><td align="left">25</td><td align="left">Male</td><td align="left">Basketball, Pingpang, Hiking</td><td align="left">0</td><td align="left">-5</td></tr><tr><td align="left">2</td><td align="left">Mary</td><td align="left">23</td><td align="left">Female</td><td align="left">Reading, Movies</td><td align="left">1</td><td align="left">-4</td></tr><tr><td align="left">3</td><td align="left">Henry</td><td align="left">23</td><td align="left">Male</td><td align="left">Diving, Hiking</td><td align="left">2</td><td align="left">-3</td></tr><tr><td align="left">4</td><td align="left">Swift</td><td align="left">21</td><td align="left">Male</td><td align="left">Football, Music</td><td align="left">3</td><td align="left">-2</td></tr><tr><td align="left">5</td><td align="left">Lenard</td><td align="left">26</td><td align="left">Male</td><td align="left">Stay at Home</td><td align="left">4</td><td align="left">-1</td></tr></tbody></table><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">names = [<span class="string">&#x27;David&#x27;</span>, <span class="string">&#x27;Mary&#x27;</span>, <span class="string">&#x27;Henry&#x27;</span>, <span class="string">&#x27;Swift&#x27;</span>, <span class="string">&#x27;Lenard&#x27;</span>]</span><br><span class="line">print(names)</span><br><span class="line">print(names[<span class="number">2</span>])</span><br><span class="line">print(names[-<span class="number">3</span>])</span><br><span class="line">print(names[<span class="number">0</span>:<span class="number">3</span>])</span><br><span class="line">print(names[-<span class="number">5</span>:-<span class="number">2</span>])</span><br><span class="line">print(names[<span class="number">2</span>:])</span><br><span class="line">print(names[-<span class="number">3</span>:])</span><br><span class="line">print(names[:<span class="number">2</span>])</span><br><span class="line">print(names[:-<span class="number">3</span>])</span><br></pre></td></tr></table></figure><pre><code>[&#39;David&#39;, &#39;Mary&#39;, &#39;Henry&#39;, &#39;Swift&#39;, &#39;Lenard&#39;]HenryHenry[&#39;David&#39;, &#39;Mary&#39;, &#39;Henry&#39;][&#39;David&#39;, &#39;Mary&#39;, &#39;Henry&#39;][&#39;Henry&#39;, &#39;Swift&#39;, &#39;Lenard&#39;][&#39;Henry&#39;, &#39;Swift&#39;, &#39;Lenard&#39;][&#39;David&#39;, &#39;Mary&#39;][&#39;David&#39;, &#39;Mary&#39;]</code></pre><h3 id="列表常用方法"><a href="#列表常用方法" class="headerlink" title="列表常用方法"></a>列表常用方法</h3><table><thead><tr><th align="left">常用方法</th><th align="left">功能</th></tr></thead><tbody><tr><td align="left">list.append(a)</td><td align="left">向list中添加元素a</td></tr><tr><td align="left">list.extend(lst)</td><td align="left">向list中添加列表lst</td></tr><tr><td align="left">list.count(a)</td><td align="left">统计list中a的个数</td></tr></tbody></table><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">names = [<span class="string">&#x27;David&#x27;</span>, <span class="string">&#x27;Mary&#x27;</span>, <span class="string">&#x27;Henry&#x27;</span>, <span class="string">&#x27;Swift&#x27;</span>, <span class="string">&#x27;Lenard&#x27;</span>]</span><br><span class="line"></span><br><span class="line">print(names)</span><br><span class="line">names.append(<span class="string">&#x27;Mary&#x27;</span>)</span><br><span class="line">print(names)</span><br></pre></td></tr></table></figure><pre><code>[&#39;David&#39;, &#39;Mary&#39;, &#39;Henry&#39;, &#39;Swift&#39;, &#39;Lenard&#39;][&#39;David&#39;, &#39;Mary&#39;, &#39;Henry&#39;, &#39;Swift&#39;, &#39;Lenard&#39;, &#39;Mary&#39;]</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">names = [<span class="string">&#x27;David&#x27;</span>, <span class="string">&#x27;Mary&#x27;</span>, <span class="string">&#x27;Henry&#x27;</span>, <span class="string">&#x27;Swift&#x27;</span>, <span class="string">&#x27;Lenard&#x27;</span>]</span><br><span class="line"></span><br><span class="line">print(names)</span><br><span class="line"></span><br><span class="line">names.extend([<span class="string">&#x27;Mary&#x27;</span>])</span><br><span class="line"></span><br><span class="line">print(names)</span><br></pre></td></tr></table></figure><pre><code>[&#39;David&#39;, &#39;Mary&#39;, &#39;Henry&#39;, &#39;Swift&#39;, &#39;Lenard&#39;][&#39;David&#39;, &#39;Mary&#39;, &#39;Henry&#39;, &#39;Swift&#39;, &#39;Lenard&#39;, &#39;Mary&#39;]</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ages = [<span class="number">25</span>, <span class="number">23</span>, <span class="number">23</span>, <span class="number">21</span>, <span class="number">26</span>]</span><br><span class="line">print(ages.count(<span class="number">23</span>))</span><br></pre></td></tr></table></figure><pre><code>2</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">one = [<span class="string">&#x27;David&#x27;</span>]</span><br><span class="line">print(one[-<span class="number">1</span>])</span><br><span class="line">print(one[<span class="number">0</span>])</span><br></pre></td></tr></table></figure><pre><code>DavidDavid</code></pre><h3 id="元组tuple"><a href="#元组tuple" class="headerlink" title="元组tuple"></a>元组tuple</h3><p>形似列表，也有</p><ul><li>元组拼接</li><li>切片</li><li>拆包</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">name_list = [<span class="string">&#x27;David&#x27;</span>, <span class="string">&#x27;Mary&#x27;</span>, <span class="string">&#x27;Henry&#x27;</span>, <span class="string">&#x27;Swift&#x27;</span>, <span class="string">&#x27;Lenard&#x27;</span>]</span><br><span class="line">name_tuple = (<span class="string">&#x27;David&#x27;</span>, <span class="string">&#x27;Mary&#x27;</span>, <span class="string">&#x27;Henry&#x27;</span>, <span class="string">&#x27;Swift&#x27;</span>, <span class="string">&#x27;Lenard&#x27;</span>)</span><br><span class="line"></span><br><span class="line">print(<span class="built_in">type</span>(name_list))</span><br><span class="line">print(<span class="built_in">type</span>(name_tuple))</span><br><span class="line"></span><br><span class="line">print(name_list)</span><br><span class="line">print(name_tuple)</span><br></pre></td></tr></table></figure><pre><code>&lt;class &#39;list&#39;&gt;&lt;class &#39;tuple&#39;&gt;[&#39;David&#39;, &#39;Mary&#39;, &#39;Henry&#39;, &#39;Swift&#39;, &#39;Lenard&#39;](&#39;David&#39;, &#39;Mary&#39;, &#39;Henry&#39;, &#39;Swift&#39;, &#39;Lenard&#39;)</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(name_list==name_tuple)</span><br></pre></td></tr></table></figure><pre><code>False</code></pre><h3 id="集合"><a href="#集合" class="headerlink" title="集合"></a>集合</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">names2 = [<span class="string">&#x27;David&#x27;</span>, <span class="string">&#x27;Mary&#x27;</span>, <span class="string">&#x27;David&#x27;</span>, <span class="string">&#x27;Swift&#x27;</span>, <span class="string">&#x27;David&#x27;</span>]</span><br><span class="line">print(<span class="built_in">set</span>(names2))</span><br></pre></td></tr></table></figure><pre><code>&#123;&#39;David&#39;, &#39;Swift&#39;, &#39;Mary&#39;&#125;</code></pre><h3 id="集合的方法"><a href="#集合的方法" class="headerlink" title="集合的方法"></a>集合的方法</h3><ul><li>setdata.add(ele)  向setdata中加入ele</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">name_set = <span class="built_in">set</span>(names2)</span><br><span class="line"></span><br><span class="line">print(name_set)</span><br><span class="line"></span><br><span class="line">name_set.add(<span class="string">&#x27;William&#x27;</span>)</span><br><span class="line"></span><br><span class="line">print(name_set)</span><br></pre></td></tr></table></figure><pre><code>&#123;&#39;David&#39;, &#39;Swift&#39;, &#39;Mary&#39;&#125;&#123;&#39;David&#39;, &#39;Swift&#39;, &#39;William&#39;, &#39;Mary&#39;&#125;</code></pre><h3 id="集合不能切片"><a href="#集合不能切片" class="headerlink" title="集合不能切片"></a>集合不能切片</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">name_set[<span class="number">2</span>]</span><br></pre></td></tr></table></figure><pre><code>---------------------------------------------------------------------------TypeError                                 Traceback (most recent call last)~\AppData\Local\Temp/ipykernel_10664/1949433462.py in &lt;module&gt;----&gt; 1 name_set[2]TypeError: &#39;set&#39; object is not subscriptable</code></pre><h2 id="数据类型：字典dict"><a href="#数据类型：字典dict" class="headerlink" title="数据类型：字典dict"></a>数据类型：字典dict</h2><p>字典是有key，有value的 key-value-pair类型数据（键-值对）</p><table><thead><tr><th align="left">id</th><th align="left">姓名</th><th align="left">年龄</th><th align="left">性别</th><th align="left">爱好</th></tr></thead><tbody><tr><td align="left">1</td><td align="left">David</td><td align="left">25</td><td align="left">Male</td><td align="left">Basketball, Pingpang, Hiking</td></tr><tr><td align="left">2</td><td align="left">Mary</td><td align="left">23</td><td align="left">Female</td><td align="left">Reading, Movies</td></tr><tr><td align="left">3</td><td align="left">Henry</td><td align="left">23</td><td align="left">Male</td><td align="left">Diving, Hiking</td></tr></tbody></table><p>将上面的员工信息以关键词<code>name、age、hobbies</code> 组织成字典数据</p><h3 id="空字典"><a href="#空字典" class="headerlink" title="空字典"></a>空字典</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">david = <span class="built_in">dict</span>()</span><br><span class="line">print(david)</span><br></pre></td></tr></table></figure><pre><code>&#123;&#125;</code></pre><h3 id="填充"><a href="#填充" class="headerlink" title="填充"></a>填充</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">david[<span class="string">&#x27;age&#x27;</span>] = <span class="number">23</span></span><br><span class="line">print(david)</span><br></pre></td></tr></table></figure><pre><code>&#123;&#39;age&#39;: 23&#125;</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">david[<span class="string">&#x27;hobbies&#x27;</span>] = [<span class="string">&#x27;Basketball&#x27;</span>, <span class="string">&#x27;Pingpang&#x27;</span>, <span class="string">&#x27;Hiking&#x27;</span>]</span><br><span class="line">print(david)</span><br></pre></td></tr></table></figure><pre><code>&#123;&#39;age&#39;: 23, &#39;hobbies&#39;: [&#39;Basketball&#39;, &#39;Pingpang&#39;, &#39;Hiking&#39;]&#125;</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">david[<span class="string">&#x27;gender&#x27;</span>] = <span class="string">&#x27;Male&#x27;</span></span><br><span class="line">print(david)</span><br></pre></td></tr></table></figure><pre><code>&#123;&#39;age&#39;: 23, &#39;hobbies&#39;: [&#39;Basketball&#39;, &#39;Pingpang&#39;, &#39;Hiking&#39;], &#39;gender&#39;: &#39;Male&#39;&#125;</code></pre><h3 id="更新"><a href="#更新" class="headerlink" title="更新"></a>更新</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">david[<span class="string">&#x27;age&#x27;</span>] = <span class="number">25</span></span><br><span class="line">print(david)</span><br></pre></td></tr></table></figure><pre><code>&#123;&#39;age&#39;: 25, &#39;hobbies&#39;: [&#39;Basketball&#39;, &#39;Pingpang&#39;, &#39;Hiking&#39;], &#39;gender&#39;: &#39;Male&#39;&#125;</code></pre><h3 id="完整的信息"><a href="#完整的信息" class="headerlink" title="完整的信息"></a>完整的信息</h3><p>key-value组成的。</p><p>字典可以嵌套字典</p><p>字典也可以存储列表、字符串、数字等等。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">infos =  &#123;<span class="string">&#x27;David&#x27;</span>:&#123;<span class="string">&#x27;age&#x27;</span>:<span class="number">25</span>, </span><br><span class="line">                   <span class="string">&#x27;gender&#x27;</span>:<span class="string">&#x27;Male&#x27;</span>,</span><br><span class="line">                   <span class="string">&#x27;hobbies&#x27;</span>:[<span class="string">&#x27;Basketball&#x27;</span>, <span class="string">&#x27;Pingpang&#x27;</span>, <span class="string">&#x27;Hiking&#x27;</span>]&#125;,</span><br><span class="line">          <span class="string">&#x27;Mary&#x27;</span>:&#123;<span class="string">&#x27;age&#x27;</span>:<span class="number">23</span>,</span><br><span class="line">                  <span class="string">&#x27;gender&#x27;</span>: <span class="string">&#x27;Female&#x27;</span>,</span><br><span class="line">                  <span class="string">&#x27;hobbies&#x27;</span>: [<span class="string">&#x27;Reading&#x27;</span>, <span class="string">&#x27;Movies&#x27;</span>]&#125;,</span><br><span class="line">          <span class="string">&#x27;Henry&#x27;</span>:&#123;<span class="string">&#x27;age&#x27;</span>:<span class="number">23</span>,</span><br><span class="line">                  <span class="string">&#x27;gender&#x27;</span>: <span class="string">&#x27;Male&#x27;</span>,</span><br><span class="line">                  <span class="string">&#x27;hobbies&#x27;</span>: [<span class="string">&#x27;Diving&#x27;</span>, <span class="string">&#x27;Hiking&#x27;</span>]&#125;</span><br><span class="line">         &#125;</span><br><span class="line"></span><br><span class="line">print(infos)</span><br></pre></td></tr></table></figure><pre><code>&#123;&#39;David&#39;: &#123;&#39;age&#39;: 25, &#39;gender&#39;: &#39;Male&#39;, &#39;hobbies&#39;: [&#39;Basketball&#39;, &#39;Pingpang&#39;, &#39;Hiking&#39;]&#125;, &#39;Mary&#39;: &#123;&#39;age&#39;: 23, &#39;gender&#39;: &#39;Female&#39;, &#39;hobbies&#39;: [&#39;Reading&#39;, &#39;Movies&#39;]&#125;, &#39;Henry&#39;: &#123;&#39;age&#39;: 23, &#39;gender&#39;: &#39;Male&#39;, &#39;hobbies&#39;: [&#39;Diving&#39;, &#39;Hiking&#39;]&#125;&#125;</code></pre><h3 id="字典的方法"><a href="#字典的方法" class="headerlink" title="字典的方法"></a>字典的方法</h3><table><thead><tr><th align="left">方法</th><th align="left">效果</th></tr></thead><tbody><tr><td align="left">dictdata.items()</td><td align="left">返回dictdata所有item</td></tr><tr><td align="left">dictdata.keys()</td><td align="left">返回dictdata的所有关键词</td></tr><tr><td align="left">dictdata.values()</td><td align="left">返回dictdata的所有值</td></tr><tr><td align="left"><code>dictdata.get(keystr)</code></td><td align="left">获取关键词keystr对应的值</td></tr><tr><td align="left"><code>dictdata[keystr]</code></td><td align="left">获取关键词keystr对应的值</td></tr></tbody></table><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">infos.items()</span><br></pre></td></tr></table></figure><pre><code>dict_items([(&#39;David&#39;, &#123;&#39;age&#39;: 25, &#39;gender&#39;: &#39;Male&#39;, &#39;hobbies&#39;: [&#39;Basketball&#39;, &#39;Pingpang&#39;, &#39;Hiking&#39;]&#125;), (&#39;Mary&#39;, &#123;&#39;age&#39;: 23, &#39;gender&#39;: &#39;Female&#39;, &#39;hobbies&#39;: [&#39;Reading&#39;, &#39;Movies&#39;]&#125;), (&#39;Henry&#39;, &#123;&#39;age&#39;: 23, &#39;gender&#39;: &#39;Male&#39;, &#39;hobbies&#39;: [&#39;Diving&#39;, &#39;Hiking&#39;]&#125;)])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#把infos.items()转化为列表</span></span><br><span class="line"><span class="built_in">list</span>(infos.items())[<span class="number">0</span>]</span><br></pre></td></tr></table></figure><pre><code>(&#39;David&#39;, &#123;&#39;age&#39;: 25,  &#39;gender&#39;: &#39;Male&#39;,  &#39;hobbies&#39;: [&#39;Basketball&#39;, &#39;Pingpang&#39;, &#39;Hiking&#39;]&#125;)</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">infos.keys()</span><br></pre></td></tr></table></figure><pre><code>dict_keys([&#39;David&#39;, &#39;Mary&#39;, &#39;Henry&#39;])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">infos.values()</span><br></pre></td></tr></table></figure><pre><code>dict_values([&#123;&#39;age&#39;: 25, &#39;gender&#39;: &#39;Male&#39;, &#39;hobbies&#39;: [&#39;Basketball&#39;, &#39;Pingpang&#39;, &#39;Hiking&#39;]&#125;, &#123;&#39;age&#39;: 23, &#39;gender&#39;: &#39;Female&#39;, &#39;hobbies&#39;: [&#39;Reading&#39;, &#39;Movies&#39;]&#125;, &#123;&#39;age&#39;: 23, &#39;gender&#39;: &#39;Male&#39;, &#39;hobbies&#39;: [&#39;Diving&#39;, &#39;Hiking&#39;]&#125;])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">print(infos[<span class="string">&#x27;David&#x27;</span>])</span><br><span class="line">print(infos.get(<span class="string">&#x27;David&#x27;</span>))</span><br></pre></td></tr></table></figure><pre><code>&#123;&#39;age&#39;: 25, &#39;gender&#39;: &#39;Male&#39;, &#39;hobbies&#39;: [&#39;Basketball&#39;, &#39;Pingpang&#39;, &#39;Hiking&#39;]&#125;&#123;&#39;age&#39;: 25, &#39;gender&#39;: &#39;Male&#39;, &#39;hobbies&#39;: [&#39;Basketball&#39;, &#39;Pingpang&#39;, &#39;Hiking&#39;]&#125;</code></pre><p>两种功能等同，但是get获取方法更加安全稳定。例如</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(infos[<span class="string">&#x27;Will&#x27;</span>])</span><br></pre></td></tr></table></figure><pre><code>---------------------------------------------------------------------------KeyError                                  Traceback (most recent call last)~\AppData\Local\Temp/ipykernel_10664/2723618392.py in &lt;module&gt;----&gt; 1 print(infos[&#39;Will&#39;])KeyError: &#39;Will&#39;</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(infos.get(<span class="string">&#x27;Will&#x27;</span>))</span><br></pre></td></tr></table></figure><pre><code>None</code></pre><h2 id="数据类型：布尔值Boolean"><a href="#数据类型：布尔值Boolean" class="headerlink" title="数据类型：布尔值Boolean"></a>数据类型：布尔值Boolean</h2><p>用于逻辑判断，一般与if结合使用。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="literal">True</span></span><br><span class="line">print(a)</span><br></pre></td></tr></table></figure><pre><code>True</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="literal">True</span></span><br></pre></td></tr></table></figure><pre><code>True</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="literal">False</span></span><br></pre></td></tr></table></figure><pre><code>False</code></pre><p>其他产生布尔值的方式</p><ul><li>布尔运算</li><li>比较运算</li><li>成员运算</li></ul><h3 id="布尔运算"><a href="#布尔运算" class="headerlink" title="布尔运算"></a>布尔运算</h3><table><thead><tr><th align="left">运算符号</th><th align="left">功能</th><th align="left">例子</th><th align="left">等于</th></tr></thead><tbody><tr><td align="left">x and y</td><td align="left">且</td><td align="left">True and False</td><td align="left">False</td></tr><tr><td align="left">x or y</td><td align="left">或</td><td align="left">True or False</td><td align="left">True</td></tr><tr><td align="left">not x</td><td align="left">非</td><td align="left">not True</td><td align="left">False</td></tr></tbody></table><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x = <span class="literal">True</span> <span class="keyword">and</span> <span class="literal">False</span></span><br><span class="line">print(x)</span><br></pre></td></tr></table></figure><pre><code>False</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x = <span class="literal">True</span> <span class="keyword">or</span> <span class="literal">False</span></span><br><span class="line">print(x)</span><br></pre></td></tr></table></figure><pre><code>True</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x = <span class="keyword">not</span> <span class="literal">True</span></span><br><span class="line">print(x)</span><br></pre></td></tr></table></figure><pre><code>False</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x = <span class="keyword">not</span> <span class="literal">False</span></span><br><span class="line">print(x)</span><br></pre></td></tr></table></figure><pre><code>True</code></pre><h3 id="比较运算"><a href="#比较运算" class="headerlink" title="比较运算"></a>比较运算</h3><table><thead><tr><th align="left">比较运算符号</th><th align="left">功能</th><th align="left">例子</th><th align="left">等于</th></tr></thead><tbody><tr><td align="left">==</td><td align="left">相等</td><td align="left">5==3</td><td align="left">False</td></tr><tr><td align="left">!=</td><td align="left">不等于</td><td align="left">5!=3</td><td align="left">True</td></tr><tr><td align="left"><code>&gt;</code></td><td align="left">大于</td><td align="left"><code>5&gt;3</code></td><td align="left">True</td></tr><tr><td align="left"><code>&lt;</code></td><td align="left">小于</td><td align="left"><code>5&lt;3</code></td><td align="left">False</td></tr><tr><td align="left"><code>&lt;=</code></td><td align="left">小于等于</td><td align="left"><code>5&lt;=3</code></td><td align="left">False</td></tr><tr><td align="left"><code>&gt;=</code></td><td align="left">小于</td><td align="left"><code>5&gt;=3</code></td><td align="left">True</td></tr></tbody></table><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">5</span></span><br><span class="line">b = <span class="number">3</span></span><br><span class="line"></span><br><span class="line">x = a&lt;b</span><br><span class="line">print(x)</span><br><span class="line">print(<span class="built_in">type</span>(x))</span><br></pre></td></tr></table></figure><pre><code>False&lt;class &#39;bool&#39;&gt;</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="number">5</span>==<span class="number">5</span>)</span><br></pre></td></tr></table></figure><pre><code>True</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="number">5</span>!=<span class="number">5</span>)</span><br></pre></td></tr></table></figure><pre><code>False</code></pre><p><strong>注意</strong></p><p>比较符两侧必须为同样的数据类型</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="string">&#x27;5&#x27;</span></span><br><span class="line">b = <span class="number">5</span></span><br><span class="line"></span><br><span class="line">print(a&gt;b)</span><br></pre></td></tr></table></figure><pre><code>---------------------------------------------------------------------------TypeError                                 Traceback (most recent call last)~\AppData\Local\Temp/ipykernel_10664/125173610.py in &lt;module&gt;      2 b = 5      3 ----&gt; 4 print(a&gt;b)TypeError: &#39;&gt;&#39; not supported between instances of &#39;str&#39; and &#39;int&#39;</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="string">&#x27;5&#x27;</span></span><br><span class="line">b = <span class="string">&#x27;5&#x27;</span></span><br><span class="line">print(a==b)</span><br></pre></td></tr></table></figure><pre><code>True</code></pre><h3 id="成员运算符in"><a href="#成员运算符in" class="headerlink" title="成员运算符in"></a>成员运算符in</h3><table><thead><tr><th align="left">案例</th><th align="left">结果</th></tr></thead><tbody><tr><td align="left"><code>4 in [1,2,4]</code></td><td align="left">True</td></tr><tr><td align="left"><code>4 not in [1,2,4]</code></td><td align="left">False</td></tr><tr><td align="left"><code>3 in [1,2,4]</code></td><td align="left">False</td></tr><tr><td align="left"><code>3 not in [1,2,4]</code></td><td align="left">True</td></tr></tbody></table><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x = <span class="number">4</span> <span class="keyword">in</span> [<span class="number">1</span>,<span class="number">2</span>,<span class="number">4</span>]</span><br><span class="line">x</span><br></pre></td></tr></table></figure><pre><code>True</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">y = <span class="number">4</span> <span class="keyword">not</span> <span class="keyword">in</span> [<span class="number">1</span>,<span class="number">2</span>,<span class="number">4</span>]</span><br><span class="line">y</span><br></pre></td></tr></table></figure><pre><code>False</code></pre><h3 id="None"><a href="#None" class="headerlink" title="None"></a>None</h3><p>特殊的空值，类似于C语言中的Null。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="literal">None</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;</span></span><br></pre></td></tr></table></figure><pre><code>&#39;&#39;</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[]</span><br></pre></td></tr></table></figure><pre><code>[]</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">dict</span>()</span><br></pre></td></tr></table></figure><pre><code>&#123;&#125;</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">type</span>(<span class="literal">None</span>)</span><br></pre></td></tr></table></figure><pre><code>NoneType</code></pre><h2 id="逻辑语句-if-amp-for-amp-tryexcept"><a href="#逻辑语句-if-amp-for-amp-tryexcept" class="headerlink" title="逻辑语句(if&amp;for&amp;tryexcept)"></a>逻辑语句(if&amp;for&amp;tryexcept)</h2><h3 id="if条件判断"><a href="#if条件判断" class="headerlink" title="if条件判断"></a>if条件判断</h3><p><img src="H:\Users\K\Downloads\img\if图.png"></p><h3 id="condition为布尔值、布尔运算、成员运算符"><a href="#condition为布尔值、布尔运算、成员运算符" class="headerlink" title="condition为布尔值、布尔运算、成员运算符"></a>condition为布尔值、布尔运算、成员运算符</h3><p>通常我们理解的condition为布尔值</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#Tab</span></span><br><span class="line">condition = <span class="literal">True</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> condition:</span><br><span class="line">    print(<span class="string">&#x27;condition为True&#x27;</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    print(<span class="string">&#x27;condition为False&#x27;</span>)</span><br></pre></td></tr></table></figure><pre><code>condition为True</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">age = <span class="number">17</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> age&gt;=<span class="number">18</span>:</span><br><span class="line">    print(<span class="string">&#x27;你是成年人了&#x27;</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    print(<span class="string">&#x27;你还是个孩子&#x27;</span>)</span><br></pre></td></tr></table></figure><pre><code>你还是个孩子</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">age = <span class="number">20</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> age&gt;=<span class="number">55</span>:</span><br><span class="line">    print(<span class="string">&#x27;老年人&#x27;</span>)</span><br><span class="line"><span class="keyword">elif</span> <span class="number">35</span>&lt;=age&lt;<span class="number">55</span>:</span><br><span class="line">    print(<span class="string">&#x27;中年&#x27;</span>)</span><br><span class="line"><span class="keyword">elif</span> <span class="number">18</span>&lt;=age&lt;<span class="number">35</span>:</span><br><span class="line">    print(<span class="string">&#x27;青年&#x27;</span>)</span><br><span class="line"><span class="keyword">elif</span> <span class="number">0</span>&lt;=age&lt;<span class="number">18</span>:</span><br><span class="line">    print(<span class="string">&#x27;儿童&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><pre><code>青年</code></pre><h3 id="特殊的conditon"><a href="#特殊的conditon" class="headerlink" title="特殊的conditon"></a>特殊的conditon</h3><ul><li>各种空值(空字符串、空列表等)作用等同于False</li><li>各种非空值，作用等同于True</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="literal">None</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> a:</span><br><span class="line">    print(<span class="string">&#x27;a是非空数据&#x27;</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    print(<span class="string">&#x27;a是空数据&#x27;</span>)</span><br></pre></td></tr></table></figure><pre><code>a是空数据</code></pre><h3 id="for循环"><a href="#for循环" class="headerlink" title="for循环"></a>for循环</h3><ul><li>重复做某件事</li><li>迭代出数据中的内容(元素)<br><img src="H:\Users\K\Downloads\img\for循环.png"></li></ul><p>上面这个图可以解读为</p><p>我们想对iterable这个集合中的每一个item:</p><pre><code>做点事(对item做操作)</code></pre><p>重复做某事</p><p>问题1<br>计算1+2+3+…+97+98+99+100=?</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">result = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#int</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">101</span>):</span><br><span class="line">    result = result + i</span><br><span class="line">    </span><br><span class="line">print(result)</span><br></pre></td></tr></table></figure><pre><code>5050</code></pre><h3 id="迭代出数据中的内容"><a href="#迭代出数据中的内容" class="headerlink" title="迭代出数据中的内容"></a>迭代出数据中的内容</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">names = [<span class="string">&#x27;David&#x27;</span>, <span class="string">&#x27;Henry&#x27;</span>, <span class="string">&#x27;Mary&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> name <span class="keyword">in</span> names:</span><br><span class="line">    print(name)</span><br></pre></td></tr></table></figure><pre><code>DavidHenryMary</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">name = <span class="string">&#x27;David&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> s <span class="keyword">in</span> name:</span><br><span class="line">    print(s)</span><br></pre></td></tr></table></figure><pre><code>David</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">infos =  &#123;<span class="string">&#x27;David&#x27;</span>:&#123;<span class="string">&#x27;age&#x27;</span>:<span class="number">25</span>, </span><br><span class="line">                   <span class="string">&#x27;gender&#x27;</span>:<span class="string">&#x27;Male&#x27;</span>&#125;,</span><br><span class="line">          <span class="string">&#x27;Mary&#x27;</span>:&#123;<span class="string">&#x27;age&#x27;</span>:<span class="number">23</span>,</span><br><span class="line">                  <span class="string">&#x27;gender&#x27;</span>: <span class="string">&#x27;Female&#x27;</span>&#125;,</span><br><span class="line">          <span class="string">&#x27;Henry&#x27;</span>:&#123;<span class="string">&#x27;age&#x27;</span>:<span class="number">23</span>,</span><br><span class="line">                  <span class="string">&#x27;gender&#x27;</span>: <span class="string">&#x27;Male&#x27;</span>&#125;</span><br><span class="line">         &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> infos.items():</span><br><span class="line">    print(item)</span><br></pre></td></tr></table></figure><pre><code>(&#39;David&#39;, &#123;&#39;age&#39;: 25, &#39;gender&#39;: &#39;Male&#39;&#125;)(&#39;Mary&#39;, &#123;&#39;age&#39;: 23, &#39;gender&#39;: &#39;Female&#39;&#125;)(&#39;Henry&#39;, &#123;&#39;age&#39;: 23, &#39;gender&#39;: &#39;Male&#39;&#125;)</code></pre><h3 id="try-except"><a href="#try-except" class="headerlink" title="try-except"></a>try-except</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> [<span class="number">1</span>,<span class="number">2</span>,<span class="number">0</span>,<span class="number">2</span>,<span class="number">1</span>]:</span><br><span class="line">    print(<span class="number">10</span>/x)</span><br></pre></td></tr></table></figure><pre><code>10.05.0---------------------------------------------------------------------------ZeroDivisionError                         Traceback (most recent call last)~\AppData\Local\Temp/ipykernel_10664/3014728168.py in &lt;module&gt;      1 for x in [1,2,0,2,1]:----&gt; 2     print(10/x)ZeroDivisionError: division by zero</code></pre><h3 id="练习1"><a href="#练习1" class="headerlink" title="练习1"></a>练习1</h3><p>假设现在某人的能力为1， 每天比前一天进步0.01， 一年后他的能力是多少？</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">ability = <span class="number">1</span></span><br><span class="line">scale = <span class="number">1.01</span></span><br><span class="line"></span><br><span class="line">records = []</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">365</span>):</span><br><span class="line">    ability = ability * <span class="number">1.01</span></span><br><span class="line">    records.append(ability)</span><br><span class="line">    </span><br><span class="line">print(records)</span><br></pre></td></tr></table></figure><pre><code>[1.01, 1.0201, 1.030301, 1.04060401, 1.0510100501, 1.061520150601, 1.0721353521070098, 1.08285670562808, 1.0936852726843609, 1.1046221254112045, 1.1156683466653166, 1.1268250301319698, 1.1380932804332895, 1.1494742132376223, 1.1609689553699987, 1.1725786449236986, 1.1843044313729356, 1.196147475686665, 1.2081089504435316, 1.220190039947967, 1.2323919403474468, 1.2447158597509214, 1.2571630183484306, 1.269734648531915, 1.282431995017234, 1.2952563149674063, 1.3082088781170804, 1.3212909668982513, 1.334503876567234, 1.3478489153329063, 1.3613274044862353, 1.3749406785310978, 1.3886900853164088, 1.402576986169573, 1.4166027560312686, 1.4307687835915812, 1.445076471427497, 1.4595272361417722, 1.47412250850319, 1.4888637335882218, 1.503752370924104, 1.5187898946333451, 1.5339777935796786, 1.5493175715154754, 1.5648107472306303, 1.5804588547029366, 1.596263443249966, 1.6122260776824657, 1.6283483384592905, 1.6446318218438833, 1.6610781400623222, 1.6776889214629456, 1.694465810677575, 1.7114104687843508, 1.7285245734721943, 1.7458098192069162, 1.7632679173989854, 1.7809005965729752, 1.798709602538705, 1.8166966985640922, 1.8348636655497332, 1.8532123022052305, 1.8717444252272828, 1.8904618694795556, 1.9093664881743513, 1.9284601530560948, 1.9477447545866557, 1.9672222021325223, 1.9868944241538475, 2.006763368395386, 2.02683100207934, 2.047099312100133, 2.0675703052211345, 2.088246008273346, 2.1091284683560794, 2.1302197530396403, 2.1515219505700367, 2.173037170075737, 2.1947675417764945, 2.2167152171942592, 2.238882369366202, 2.261271193059864, 2.2838839049904625, 2.3067227440403673, 2.329789971480771, 2.3530878711955787, 2.3766187499075344, 2.40038493740661, 2.424388786780676, 2.4486326746484828, 2.4731190013949678, 2.4978501914089173, 2.5228286933230066, 2.5480569802562365, 2.573537550058799, 2.599272925559387, 2.6252656548149806, 2.6515183113631307, 2.678033494476762, 2.7048138294215294, 2.7318619677157447, 2.759180587392902, 2.786772393266831, 2.8146401171994992, 2.8427865183714944, 2.8712143835552095, 2.8999265273907615, 2.928925792664669, 2.9582150505913156, 2.9877972010972287, 3.017675173108201, 3.0478519248392835, 3.078330444087676, 3.109113748528553, 3.1402048860138385, 3.171606934873977, 3.203323004222717, 3.2353562342649442, 3.2677097966075936, 3.3003868945736694, 3.333390763519406, 3.3667246711546, 3.400391917866146, 3.4343958370448076, 3.4687397954152557, 3.5034271933694083, 3.5384614653031026, 3.573846079956134, 3.6095845407556952, 3.645680386163252, 3.6821371900248847, 3.7189585619251337, 3.756148147544385, 3.793709629019829, 3.8316467253100273, 3.8699631925631275, 3.9086628244887587, 3.947749452733646, 3.9872269472609827, 4.027099216733593, 4.067370208900929, 4.108043910989938, 4.149124350099838, 4.190615593600836, 4.232521749536844, 4.274846967032213, 4.317595436702534, 4.36077139106956, 4.404379104980255, 4.448422896030058, 4.492907124990358, 4.537836196240262, 4.583214558202664, 4.629046703784691, 4.675337170822537, 4.722090542530763, 4.7693114479560705, 4.817004562435631, 4.865174608059988, 4.913826354140587, 4.962964617681993, 5.012594263858813, 5.062720206497401, 5.113347408562375, 5.164480882647999, 5.216125691474479, 5.268286948389224, 5.320969817873116, 5.374179516051847, 5.427921311212366, 5.482200524324489, 5.537022529567734, 5.592392754863411, 5.648316682412045, 5.704799849236166, 5.761847847728528, 5.819466326205813, 5.877660989467871, 5.9364375993625496, 5.9958019753561755, 6.055759995109737, 6.116317595060834, 6.177480771011442, 6.239255578721557, 6.301648134508772, 6.36466461585386, 6.428311262012398, 6.492594374632523, 6.557520318378848, 6.623095521562637, 6.689326476778263, 6.7562197415460465, 6.823781938961507, 6.892019758351122, 6.960939955934633, 7.03054935549398, 7.100854849048919, 7.171863397539409, 7.243582031514803, 7.316017851829951, 7.38917803034825, 7.463069810651733, 7.537700508758251, 7.613077513845833, 7.689208288984291, 7.766100371874135, 7.843761375592877, 7.922198989348805, 8.001420979242294, 8.081435189034718, 8.162249540925066, 8.243872036334317, 8.32631075669766, 8.409573864264637, 8.493669602907284, 8.578606298936357, 8.66439236192572, 8.751036285544979, 8.83854664840043, 8.926932114884433, 9.016201436033278, 9.10636345039361, 9.197427084897546, 9.289401355746522, 9.382295369303987, 9.476118322997028, 9.570879506226998, 9.666588301289268, 9.763254184302161, 9.860886726145182, 9.959495593406634, 10.0590905493407, 10.159681454834107, 10.261278269382448, 10.363891052076273, 10.467529962597036, 10.572205262223006, 10.677927314845236, 10.78470658799369, 10.892553653873627, 11.001479190412363, 11.111493982316487, 11.222608922139653, 11.334835011361049, 11.44818336147466, 11.562665195089407, 11.6782918470403, 11.795074765510703, 11.91302551316581, 12.032155768297468, 12.152477325980442, 12.274002099240246, 12.396742120232648, 12.520709541434975, 12.645916636849325, 12.772375803217818, 12.900099561249997, 13.029100556862497, 13.159391562431122, 13.290985478055433, 13.423895332835986, 13.558134286164346, 13.69371562902599, 13.83065278531625, 13.968959313169412, 14.108648906301106, 14.249735395364118, 14.39223274931776, 14.536155076810937, 14.681516627579047, 14.828331793854836, 14.976615111793384, 15.126381262911318, 15.27764507554043, 15.430421526295834, 15.584725741558794, 15.740572998974383, 15.897978728964127, 16.05695851625377, 16.217528101416306, 16.37970338243047, 16.543500416254776, 16.708935420417323, 16.876024774621495, 17.04478502236771, 17.215232872591386, 17.3873852013173, 17.561259053330474, 17.73687164386378, 17.91424036030242, 18.093382763905442, 18.274316591544498, 18.45705975745994, 18.64163035503454, 18.828046658584885, 19.016327125170733, 19.206490396422442, 19.398555300386665, 19.59254085339053, 19.788466261924437, 19.986350924543682, 20.186214433789118, 20.38807657812701, 20.59195734390828, 20.797876917347363, 21.005855686520835, 21.215914243386045, 21.428073385819907, 21.642354119678107, 21.85877766087489, 22.07736543748364, 22.298139091858477, 22.52112048277706, 22.746331687604833, 22.97379500448088, 23.203532954525688, 23.435568284070946, 23.669923966911657, 23.906623206580775, 24.145689438646585, 24.38714633303305, 24.63101779636338, 24.877327974327013, 25.126101254070285, 25.377362266610987, 25.631135889277097, 25.887447248169867, 26.146321720651567, 26.407784937858082, 26.671862787236662, 26.93858141510903, 27.20796722926012, 27.480046901552722, 27.75484737056825, 28.032395844273932, 28.31271980271667, 28.595847000743838, 28.881805470751278, 29.17062352545879, 29.462329760713377, 29.756953058320512, 30.05452258890372, 30.355067814792758, 30.658618492940686, 30.965204677870094, 31.274856724648796, 31.587605291895283, 31.903481344814235, 32.22251615826238, 32.544741319845, 32.870188733043456, 33.19889062037389, 33.53087952657763, 33.8661883218434, 34.20485020506184, 34.546898707112454, 34.89236769418358, 35.24129137112541, 35.59370428483667, 35.949641327685036, 36.30913774096189, 36.672229118371504, 37.03895140955522, 37.40934092365077, 37.783434332887275]</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> math</span><br><span class="line">%matplotlib inline</span><br><span class="line"></span><br><span class="line">ability = <span class="number">1</span></span><br><span class="line">scale = <span class="number">1.02</span></span><br><span class="line">records = []</span><br><span class="line"></span><br><span class="line">days = <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">365</span>)</span><br><span class="line"><span class="keyword">for</span> day <span class="keyword">in</span> days:</span><br><span class="line">    ability = ability*scale</span><br><span class="line">    records.append(ability)</span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">plt.plot(days, records)</span><br><span class="line">plt.title(<span class="string">&#x27;Be better everyday!&#x27;</span>)</span><br></pre></td></tr></table></figure><pre><code>Text(0.5, 1.0, &#39;Be better everyday!&#39;)</code></pre><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202201121844471.png" alt="png"></p><h3 id="安装包的方法"><a href="#安装包的方法" class="headerlink" title="安装包的方法"></a>安装包的方法</h3><ol><li>命令行执行 <code>pip install packagename</code></li><li>jupyter notebook的Cell中执行<code>!pip install packagename</code></li><li>如果是mac，pip写成pip3</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">!pip install matplotlib</span><br></pre></td></tr></table></figure><pre><code>  File &quot;C:\Users\K\AppData\Local\Temp/ipykernel_10664/3193058225.py&quot;, line 2    1. 命令行执行 ``pip install packagename``       ^SyntaxError: invalid syntax</code></pre><h3 id="练习2"><a href="#练习2" class="headerlink" title="练习2"></a>练习2</h3><p><strong>打印九九乘法表格</strong><br><img src="H:\Users\K\Downloads\img\九九乘法表2.png"><br>用到的知识点:</p><ul><li>for循环</li><li>字符串format方法</li><li>print函数(涉及到end参数)</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> row <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">10</span>):</span><br><span class="line">    <span class="comment">#print(row)</span></span><br><span class="line">    <span class="keyword">for</span> col <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, row+<span class="number">1</span>):</span><br><span class="line">        formula = <span class="string">&#x27;&#123;col&#125;*&#123;row&#125;=&#123;res&#125;&#x27;</span>.<span class="built_in">format</span>(col=col, row=row, res=col*row)</span><br><span class="line">        print(formula, end=<span class="string">&#x27;\t&#x27;</span>)</span><br><span class="line">    print(<span class="string">&#x27;&#x27;</span>)</span><br></pre></td></tr></table></figure><pre><code>1*1=1    1*2=2    2*2=4    1*3=3    2*3=6    3*3=9    1*4=4    2*4=8    3*4=12    4*4=16    1*5=5    2*5=10    3*5=15    4*5=20    5*5=25    1*6=6    2*6=12    3*6=18    4*6=24    5*6=30    6*6=36    1*7=7    2*7=14    3*7=21    4*7=28    5*7=35    6*7=42    7*7=49    1*8=8    2*8=16    3*8=24    4*8=32    5*8=40    6*8=48    7*8=56    8*8=64    1*9=9    2*9=18    3*9=27    4*9=36    5*9=45    6*9=54    7*9=63    8*9=72    9*9=81    </code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">help</span>(<span class="built_in">print</span>)</span><br></pre></td></tr></table></figure><pre><code>Help on built-in function print in module builtins:print(...)    print(value, ..., sep=&#39; &#39;, end=&#39;\n&#39;, file=sys.stdout, flush=False)    Prints the values to a stream, or to sys.stdout by default.    Optional keyword arguments:    file:  a file-like object (stream); defaults to the current sys.stdout.    sep:   string inserted between values, default a space.    end:   string appended after the last value, default a newline.    flush: whether to forcibly flush the stream.</code></pre><p>​    </p><h2 id="列表推导式"><a href="#列表推导式" class="headerlink" title="列表推导式"></a>列表推导式</h2><h3 id="问题1-用列表表示集合X"><a href="#问题1-用列表表示集合X" class="headerlink" title="问题1 用列表表示集合X"></a>问题1 用列表表示集合X</h3><p>$X= {x| x \in [1,2,3,4,5,6,7,8,9,10]}$</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">X = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>]</span><br><span class="line">X</span><br></pre></td></tr></table></figure><pre><code>[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">X = <span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">1</span>, <span class="number">10</span>))</span><br><span class="line">X</span><br></pre></td></tr></table></figure><pre><code>[1, 2, 3, 4, 5, 6, 7, 8, 9]</code></pre><h3 id="问题2-表示集合Y"><a href="#问题2-表示集合Y" class="headerlink" title="问题2 表示集合Y"></a>问题2 表示集合Y</h3><p>$Y = {x^2| x \in [1,2,3,4,5,6,7,8,9,10]}$</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Y = []</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> X:</span><br><span class="line">    Y.append(x*x)</span><br><span class="line">    </span><br><span class="line">Y</span><br></pre></td></tr></table></figure><pre><code>[1, 4, 9, 16, 25, 36, 49, 64, 81]</code></pre><h3 id="列表推导式-1"><a href="#列表推导式-1" class="headerlink" title="列表推导式"></a>列表推导式</h3><p>实现步骤</p><ol><li>先复制X</li><li>再对X中的元素x进行操作</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#先复制X</span></span><br><span class="line">[x <span class="keyword">for</span> x <span class="keyword">in</span> X]</span><br></pre></td></tr></table></figure><pre><code>[1, 2, 3, 4, 5, 6, 7, 8, 9]</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#再对x进行操作</span></span><br><span class="line">[x*x <span class="keyword">for</span> x <span class="keyword">in</span> X]</span><br></pre></td></tr></table></figure><pre><code>[1, 4, 9, 16, 25, 36, 49, 64, 81]</code></pre><h3 id="理解列表推导式"><a href="#理解列表推导式" class="headerlink" title="理解列表推导式"></a>理解列表推导式</h3><p><img src="H:\Users\K\Downloads\img\列表推导式理解.JPG"></p><h3 id="带条件的列表推导式"><a href="#带条件的列表推导式" class="headerlink" title="带条件的列表推导式"></a>带条件的列表推导式</h3><p>$C= {x^2 | (x \in X) \cap (x&gt;5)}$</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#复制X</span></span><br><span class="line">[x </span><br><span class="line"> <span class="keyword">for</span> x <span class="keyword">in</span> X]</span><br></pre></td></tr></table></figure><pre><code>[1, 2, 3, 4, 5, 6, 7, 8, 9]</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#X中的要大于5</span></span><br><span class="line"><span class="comment">#[x for x in X if x&gt;5]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[x </span><br><span class="line"> <span class="keyword">for</span> x <span class="keyword">in</span> X </span><br><span class="line"> <span class="keyword">if</span> x&gt;<span class="number">5</span>]</span><br></pre></td></tr></table></figure><pre><code>[6, 7, 8, 9]</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#对满足条件的x进行操作</span></span><br><span class="line"><span class="comment">#[x*x for x in X if x&gt;5]</span></span><br><span class="line"></span><br><span class="line">[x*x </span><br><span class="line"> <span class="keyword">for</span> x <span class="keyword">in</span> X </span><br><span class="line"> <span class="keyword">if</span> x&gt;<span class="number">5</span>]</span><br></pre></td></tr></table></figure><pre><code>[36, 49, 64, 81]</code></pre><h3 id="问题3-全部小写"><a href="#问题3-全部小写" class="headerlink" title="问题3 全部小写"></a>问题3 全部小写</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">words = [<span class="string">&#x27;Life&#x27;</span>, <span class="string">&#x27;is&#x27;</span>, <span class="string">&#x27;short&#x27;</span>, <span class="string">&#x27;so&#x27;</span>, <span class="string">&#x27;we&#x27;</span>, <span class="string">&#x27;use&#x27;</span>, <span class="string">&#x27;Python&#x27;</span>, <span class="string">&#x27;python&#x27;</span>, </span><br><span class="line">         <span class="string">&#x27;is&#x27;</span>, <span class="string">&#x27;easy&#x27;</span>, <span class="string">&#x27;to&#x27;</span>, <span class="string">&#x27;learn&#x27;</span>, <span class="string">&#x27;and&#x27;</span>, <span class="string">&#x27;easy&#x27;</span>, <span class="string">&#x27;to&#x27;</span>, <span class="string">&#x27;use&#x27;</span>]</span><br><span class="line">words</span><br></pre></td></tr></table></figure><pre><code>[&#39;Life&#39;, &#39;is&#39;, &#39;short&#39;, &#39;so&#39;, &#39;we&#39;, &#39;use&#39;, &#39;Python&#39;, &#39;python&#39;, &#39;is&#39;, &#39;easy&#39;, &#39;to&#39;, &#39;learn&#39;, &#39;and&#39;, &#39;easy&#39;, &#39;to&#39;, &#39;use&#39;]</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">lower_words = [w.lower() <span class="keyword">for</span> w <span class="keyword">in</span> words]</span><br><span class="line">lower_words</span><br></pre></td></tr></table></figure><pre><code>[&#39;life&#39;, &#39;is&#39;, &#39;short&#39;, &#39;so&#39;, &#39;we&#39;, &#39;use&#39;, &#39;python&#39;, &#39;python&#39;, &#39;is&#39;, &#39;easy&#39;, &#39;to&#39;, &#39;learn&#39;, &#39;and&#39;, &#39;easy&#39;, &#39;to&#39;, &#39;use&#39;]</code></pre><h3 id="问题4-计算lower-words列表数据的单词词频"><a href="#问题4-计算lower-words列表数据的单词词频" class="headerlink" title="问题4 计算lower_words列表数据的单词词频"></a>问题4 计算lower_words列表数据的单词词频</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">wordset = <span class="built_in">set</span>(lower_words)</span><br><span class="line">[(w, lower_words.count(w)) <span class="keyword">for</span> w <span class="keyword">in</span> wordset]</span><br></pre></td></tr></table></figure><pre><code>[(&#39;we&#39;, 1), (&#39;to&#39;, 2), (&#39;learn&#39;, 1), (&#39;use&#39;, 2), (&#39;so&#39;, 1), (&#39;short&#39;, 1), (&#39;python&#39;, 2), (&#39;easy&#39;, 2), (&#39;and&#39;, 1), (&#39;life&#39;, 1), (&#39;is&#39;, 2)]</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#1 生产词语集合</span></span><br><span class="line">wordset = <span class="built_in">set</span>(lower_words)</span><br><span class="line">print(wordset)</span><br></pre></td></tr></table></figure><pre><code>&#123;&#39;we&#39;, &#39;to&#39;, &#39;learn&#39;, &#39;use&#39;, &#39;so&#39;, &#39;short&#39;, &#39;python&#39;, &#39;easy&#39;, &#39;and&#39;, &#39;life&#39;, &#39;is&#39;&#125;</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#2. wordset复制wordset自己</span></span><br><span class="line">[w <span class="keyword">for</span> w <span class="keyword">in</span> wordset]</span><br></pre></td></tr></table></figure><pre><code>[&#39;we&#39;, &#39;to&#39;, &#39;learn&#39;, &#39;use&#39;, &#39;so&#39;, &#39;short&#39;, &#39;python&#39;, &#39;easy&#39;, &#39;and&#39;, &#39;life&#39;, &#39;is&#39;]</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#3. 对wordset中每个词语w进行一些操作</span></span><br><span class="line">[lower_words.count(w) <span class="keyword">for</span> w <span class="keyword">in</span> wordset]</span><br></pre></td></tr></table></figure><pre><code>[1, 2, 1, 2, 1, 1, 2, 2, 1, 1, 2]</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#3. 词频和词语一起显示</span></span><br><span class="line">[(w,lower_words.count(w)) <span class="keyword">for</span> w <span class="keyword">in</span> wordset]</span><br></pre></td></tr></table></figure><pre><code>[(&#39;we&#39;, 1), (&#39;to&#39;, 2), (&#39;learn&#39;, 1), (&#39;use&#39;, 2), (&#39;so&#39;, 1), (&#39;short&#39;, 1), (&#39;python&#39;, 2), (&#39;easy&#39;, 2), (&#39;and&#39;, 1), (&#39;life&#39;, 1), (&#39;is&#39;, 2)]</code></pre><h3 id="问题5"><a href="#问题5" class="headerlink" title="问题5"></a>问题5</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">d = &#123;<span class="string">&#x27;x&#x27;</span>: <span class="string">&#x27;A&#x27;</span>, </span><br><span class="line">     <span class="string">&#x27;y&#x27;</span>: <span class="string">&#x27;B&#x27;</span>, </span><br><span class="line">     <span class="string">&#x27;z&#x27;</span>: <span class="string">&#x27;C&#x27;</span> &#125;</span><br></pre></td></tr></table></figure><p>如何将d中的 键值对 拼接,输出为</p><p><code>[&#39;xA&#39;, &#39;yB&#39;, &#39;zC]</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">d = &#123;<span class="string">&#x27;x&#x27;</span>: <span class="string">&#x27;A&#x27;</span>, </span><br><span class="line">     <span class="string">&#x27;y&#x27;</span>: <span class="string">&#x27;B&#x27;</span>, </span><br><span class="line">     <span class="string">&#x27;z&#x27;</span>: <span class="string">&#x27;C&#x27;</span> &#125;</span><br><span class="line"></span><br><span class="line">d.items()</span><br></pre></td></tr></table></figure><pre><code>dict_items([(&#39;x&#39;, &#39;A&#39;), (&#39;y&#39;, &#39;B&#39;), (&#39;z&#39;, &#39;C&#39;)])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#1 自己复制d.items()自己</span></span><br><span class="line">[i <span class="keyword">for</span> i <span class="keyword">in</span> d.items()]</span><br></pre></td></tr></table></figure><pre><code>[(&#39;x&#39;, &#39;A&#39;), (&#39;y&#39;, &#39;B&#39;), (&#39;z&#39;, &#39;C&#39;)]</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#2 对任何一个元素都要进行字符串的拼接操作</span></span><br><span class="line">[i[<span class="number">0</span>]+i[<span class="number">1</span>] <span class="keyword">for</span> i <span class="keyword">in</span> d.items()]</span><br></pre></td></tr></table></figure><pre><code>[&#39;xA&#39;, &#39;yB&#39;, &#39;zC&#39;]</code></pre><h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><p>可重复使用的代码块</p><p><img src="H:\Users\K\Downloads\img\函数.png"></p><p>def函数常见参数定义&amp;调用方式</p><ul><li>位置参数</li><li>关键词参数</li><li>默认参数</li></ul><h3 id="位置参数"><a href="#位置参数" class="headerlink" title="位置参数"></a>位置参数</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">hello1</span>(<span class="params">name, age</span>):</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;我是&#123;0&#125;,今年&#123;1&#125;&#x27;</span>.<span class="built_in">format</span>(name, age)</span><br><span class="line">    </span><br><span class="line">hello1(<span class="string">&#x27;张三&#x27;</span>, <span class="number">25</span>)</span><br></pre></td></tr></table></figure><pre><code>&#39;我是张三,今年25&#39;</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hello1(<span class="number">25</span>,<span class="string">&#x27;张三&#x27;</span>)</span><br></pre></td></tr></table></figure><pre><code>&#39;我是25,今年张三&#39;</code></pre><h3 id="关键词参数"><a href="#关键词参数" class="headerlink" title="关键词参数"></a>关键词参数</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">hello2</span>(<span class="params">name, age</span>):</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;我是&#123;0&#125;,今年&#123;1&#125;&#x27;</span>.<span class="built_in">format</span>(name, age)</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">hello2(name=<span class="string">&#x27;张三&#x27;</span>, age=<span class="number">25</span>)</span><br></pre></td></tr></table></figure><pre><code>&#39;我是张三,今年25&#39;</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hello2(age=<span class="number">25</span>, name=<span class="string">&#x27;张三&#x27;</span>)</span><br></pre></td></tr></table></figure><pre><code>&#39;我是张三,今年25&#39;</code></pre><h3 id="默认参数"><a href="#默认参数" class="headerlink" title="默认参数"></a>默认参数</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">hello3</span>(<span class="params">name, age, gender=<span class="string">&#x27;男&#x27;</span></span>):</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;我是&#123;0&#125;,今年&#123;1&#125;, 性别&#123;2&#125;&#x27;</span>.<span class="built_in">format</span>(name, age, gender)</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">hello3(<span class="string">&#x27;David&#x27;</span>, <span class="number">25</span>)</span><br></pre></td></tr></table></figure><pre><code>&#39;我是David,今年25, 性别男&#39;</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hello3(<span class="string">&#x27;David&#x27;</span>, <span class="number">25</span>, gender=<span class="string">&#x27;male&#x27;</span>)</span><br></pre></td></tr></table></figure><pre><code>&#39;我是David,今年25, 性别male&#39;</code></pre><h2 id="常见函数"><a href="#常见函数" class="headerlink" title="常见函数"></a>常见函数</h2><h3 id="重点函数"><a href="#重点函数" class="headerlink" title="重点函数"></a>重点函数</h3><ul><li>sorted(lst， ascending)</li><li>range(start, end, step)</li><li>enumerate(lst)</li><li>eval(expression)</li><li>zip(lst1, lst2..)</li><li>map(func, lst)</li><li>print(x)</li><li>open(file, encoding)</li></ul><h3 id="数学相关"><a href="#数学相关" class="headerlink" title="数学相关"></a>数学相关</h3><table><thead><tr><th>函数</th><th>功能</th><th>例子</th><th>运行结果</th></tr></thead><tbody><tr><td>abs(a)</td><td>对a取绝对值</td><td>abs(-1)</td><td>1</td></tr><tr><td>max(lst)、min(lst)</td><td>寻找lst中的最大、最小值</td><td>max([3, 2, 9])</td><td>9</td></tr><tr><td>sum(lst)</td><td>对lst内所有数字求和</td><td>sum([3, 2, 9])</td><td>14</td></tr><tr><td>==sorted(lst， ascending)==</td><td>对lst排序； 参数ascending为布尔值控制升降序</td><td>sorted([3, 2, 9])</td><td>[2, 3, 9]</td></tr><tr><td>==range(start, end, step)==</td><td>以步长step，生成从start到end的数列,默认step=1，结果取不到end</td><td>list(range(1,5))</td><td>[1, 2, 3,4]</td></tr></tbody></table><h3 id="类型转换"><a href="#类型转换" class="headerlink" title="类型转换"></a>类型转换</h3><table><thead><tr><th>函数</th><th>功能</th><th>例子</th><th>运行结果</th></tr></thead><tbody><tr><td>int(string)</td><td>将字符串数改为整数型</td><td>int(‘9’)</td><td>9</td></tr><tr><td>float(int/str)</td><td>将int或str改为浮点型</td><td>float(9)、float(‘9’)</td><td>9.0</td></tr><tr><td>list(iterable)</td><td>将可迭代对象为列表。这里的iterable可以为字符串，可以是列表</td><td>list(‘abc’)</td><td>[‘a’, ‘b’, ‘c’]</td></tr><tr><td>==enumerate(lst)==</td><td>返回带有索引值的序列seq.==需要list(seq)处理后才能看到seq==</td><td>list(enumerate([‘a’, ‘b’, ‘c’]))</td><td>[(0,’a’), (1, ‘b’), (2, ‘c’)]</td></tr><tr><td>tuple(lst)</td><td>将lst变为tuple</td><td>tuple([1,2,3])</td><td>(1,2,3)</td></tr><tr><td>set(lst)</td><td>将lst变为集合</td><td>set([1,4,4,4,3])</td><td>{1,3,4}</td></tr></tbody></table><h3 id="功能函数"><a href="#功能函数" class="headerlink" title="功能函数"></a>功能函数</h3><table><thead><tr><th>函数</th><th>功能</th><th>例子</th><th>运行结果</th></tr></thead><tbody><tr><td>==eval(expression)==</td><td>执行一个表达式</td><td>eval(‘1+1’)</td><td>2</td></tr><tr><td>==zip(lst1,lst2…)==</td><td>将lst1,lst2…合并,返回zip对象。==需要list处理一下zip对象==</td><td>list(zip([1,2,3],[4,5,6]))</td><td>[(1, 4), (2, 5), (3, 6)]</td></tr><tr><td>==type(x)==</td><td>查看X的类型</td><td>type(‘2’)</td><td>&lt;class ‘str’&gt;</td></tr><tr><td>help(x)</td><td>查看X的相关信息</td><td>help([1, 2])</td><td>Help on list object..</td></tr><tr><td>==map(func, lst)==</td><td>对lst中的每一个个体都进行func操作</td><td>list(map(sum, [[1,1], [1,2]]))</td><td>[2, 3]</td></tr><tr><td>==print(x)==</td><td>打印x</td><td>print(‘abc’)</td><td>Abc</td></tr><tr><td>==open(file， encoding)==</td><td>打开file文件， encoding是file的文件编码</td><td></td><td></td></tr></tbody></table><h2 id="Python内置常用函数"><a href="#Python内置常用函数" class="headerlink" title="Python内置常用函数"></a>Python内置常用函数</h2><p>有三大类</p><ul><li>数学相关函数</li><li>类型转化函数</li><li>功能函数</li></ul><h3 id="数学相关-1"><a href="#数学相关-1" class="headerlink" title="数学相关"></a>数学相关</h3><table><thead><tr><th>函数</th><th>功能</th><th>例子</th><th>运行结果</th></tr></thead><tbody><tr><td>abs(a)</td><td>对a取绝对值</td><td>abs(-1)</td><td>1</td></tr><tr><td>max(lst)、min(lst)</td><td>寻找lst中的最大、最小值</td><td>max([3, 2, 9])</td><td>9</td></tr><tr><td>sum(lst)</td><td>对lst内所有数字求和</td><td>sum([3, 2, 9])</td><td>14</td></tr><tr><td><strong>sorted(lst， reverse)</strong></td><td>对lst排序； 参数reverse为布尔值控制升降序</td><td>sorted([3, 2, 9])</td><td>[2, 3, 9]</td></tr><tr><td><strong>range(start, end, step)</strong></td><td>生成以步长step，生成从start到end的数列,默认step=1，结果取不到end</td><td>list(range(1,5))</td><td>[1, 2, 3,4]</td></tr></tbody></table><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#取绝对值</span></span><br><span class="line"><span class="built_in">abs</span>(-<span class="number">1</span>)</span><br></pre></td></tr></table></figure><pre><code>1</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#取最大</span></span><br><span class="line"><span class="built_in">max</span>([<span class="number">3</span>, <span class="number">2</span>, <span class="number">9</span>])</span><br></pre></td></tr></table></figure><pre><code>9</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#取最小</span></span><br><span class="line"><span class="built_in">min</span>([<span class="number">3</span>, <span class="number">2</span>, <span class="number">9</span>])</span><br></pre></td></tr></table></figure><pre><code>2</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#求和</span></span><br><span class="line"><span class="built_in">sum</span>([<span class="number">3</span>, <span class="number">2</span>, <span class="number">9</span>])</span><br></pre></td></tr></table></figure><pre><code>14</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#排序</span></span><br><span class="line"><span class="built_in">sorted</span>([<span class="number">3</span>,<span class="number">2</span>,<span class="number">9</span>])</span><br></pre></td></tr></table></figure><pre><code>[2, 3, 9]</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#排序(方向调整)</span></span><br><span class="line"><span class="built_in">sorted</span>([<span class="number">3</span>,<span class="number">2</span>,<span class="number">9</span>], reverse=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure><pre><code>[9, 3, 2]</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#生成序列</span></span><br><span class="line"><span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">1</span>, <span class="number">10</span>))</span><br></pre></td></tr></table></figure><pre><code>[1, 2, 3, 4, 5, 6, 7, 8, 9]</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">1</span>, <span class="number">10</span>, <span class="number">2</span>))</span><br></pre></td></tr></table></figure><pre><code>[1, 3, 5, 7, 9]</code></pre><h3 id="类型转换-1"><a href="#类型转换-1" class="headerlink" title="类型转换"></a>类型转换</h3><table><thead><tr><th>函数</th><th>功能</th><th>例子</th><th>运行结果</th></tr></thead><tbody><tr><td>int(string)</td><td>将字符串数改为整数型</td><td>int(‘9’)</td><td>9</td></tr><tr><td>float(int/str)</td><td>将int或str改为浮点型</td><td>float(9)、float(‘9’)</td><td>9.0</td></tr><tr><td>list(iterable)</td><td>将可迭代对象为列表。这里的iterable可以为字符串，可以是列表</td><td>list(range(1,5))</td><td><code>[1,2,3,4] </code></td></tr><tr><td>enumerate(lst)</td><td>返回带有索引值的序列seq,<strong>需要list(seq)处理后才能看到seq</strong></td><td>list(enumerate([‘a’, ‘b’, ‘c’]))</td><td>[(0,’a’), (1, ‘b’), (2, ‘c’)]</td></tr><tr><td>tuple(lst)</td><td>将lst变为tuple</td><td>tuple([1,2,3])</td><td>(1,2,3)</td></tr><tr><td>set(lst)</td><td>将lst变为集合</td><td>set([1,4,4,4,3])</td><td>{1,3,4}</td></tr></tbody></table><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">9</span></span><br><span class="line">b = <span class="number">9</span></span><br><span class="line"></span><br><span class="line">a+b</span><br></pre></td></tr></table></figure><pre><code>18</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#变转化为整数</span></span><br><span class="line"><span class="built_in">int</span>(<span class="string">&#x27;9&#x27;</span>)</span><br></pre></td></tr></table></figure><pre><code>9</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#转化为小数</span></span><br><span class="line"><span class="built_in">float</span>(<span class="string">&#x27;9&#x27;</span>)</span><br></pre></td></tr></table></figure><pre><code>9.0</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">float</span>(<span class="number">9</span>)</span><br></pre></td></tr></table></figure><pre><code>9.0</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#转化为列表</span></span><br><span class="line"><span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">1</span>, <span class="number">5</span>))</span><br></pre></td></tr></table></figure><pre><code>[1, 2, 3, 4]</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#给列表中每个元素分配一个索引值</span></span><br><span class="line">names = [<span class="string">&#x27;张三&#x27;</span>, <span class="string">&#x27;李四&#x27;</span>, <span class="string">&#x27;王五&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="built_in">list</span>(<span class="built_in">enumerate</span>(names))</span><br></pre></td></tr></table></figure><pre><code>[(0, &#39;张三&#39;), (1, &#39;李四&#39;), (2, &#39;王五&#39;)]</code></pre><h3 id="功能函数-1"><a href="#功能函数-1" class="headerlink" title="功能函数"></a>功能函数</h3><table><thead><tr><th>函数</th><th>功能</th><th>例子</th><th>运行结果</th></tr></thead><tbody><tr><td><strong>eval(expression)</strong></td><td>执行一个字符串表达式</td><td>eval(‘1+1’)</td><td>2</td></tr><tr><td><strong>zip(lst1,lst2…)</strong></td><td>将lst1,lst2…合并,返回zip对象。<strong>需要list处理一下zip对象</strong></td><td>list(zip([1,2,3],[4,5,6]))</td><td>[(1, 4), (2, 5), (3, 6)]</td></tr><tr><td><strong>type(x)</strong></td><td>查看X的类型</td><td>type(‘2’)</td><td>&lt;class ‘str’&gt;</td></tr><tr><td><strong>help(x)</strong></td><td>查看X的相关信息</td><td>help([1, 2])</td><td>Help on list object..</td></tr><tr><td><strong>map(func, lst)</strong></td><td>对lst中的每一个个体都进行func操作</td><td>list(map(sum, [[1,1], [1,2]]))</td><td>[2, 3]</td></tr><tr><td><strong>print(value, end=’\n’)</strong></td><td>打印value</td><td>print(‘abc’)</td><td>abc</td></tr><tr><td><strong>open(file， encoding)</strong></td><td>打开file文件， encoding是file的文件编码</td><td></td><td></td></tr></tbody></table><h3 id="eval"><a href="#eval" class="headerlink" title="eval()"></a>eval()</h3><p>eval(str_expression)</p><p>str_expression 是字符串表达式，可以是变量、函数等</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">9</span></span><br><span class="line">b = <span class="number">9</span></span><br><span class="line">c = <span class="string">&#x27;a+b&#x27;</span></span><br><span class="line"></span><br><span class="line">print(a+b)</span><br><span class="line">print(c)</span><br><span class="line">print(<span class="built_in">eval</span>(c))</span><br></pre></td></tr></table></figure><pre><code>18a+b18</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">eval</span>(<span class="string">&#x27;a+b&#x27;</span>)</span><br></pre></td></tr></table></figure><pre><code>18</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">d = <span class="string">&#x27;hello world&#x27;</span></span><br><span class="line">print(<span class="string">&#x27;d&#x27;</span>)</span><br><span class="line">print(<span class="built_in">eval</span>(<span class="string">&#x27;d&#x27;</span>))</span><br></pre></td></tr></table></figure><pre><code>dhello world</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">hello</span>():</span></span><br><span class="line">    print(<span class="string">&#x27;hello python&#x27;</span>)</span><br><span class="line">    </span><br><span class="line">print(<span class="string">&#x27;hello()&#x27;</span>)</span><br></pre></td></tr></table></figure><pre><code>hello()</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">eval</span>(<span class="string">&#x27;hello()&#x27;</span>)</span><br></pre></td></tr></table></figure><pre><code>hello python</code></pre><h3 id="zip-lst1-lst2-lst3…"><a href="#zip-lst1-lst2-lst3…" class="headerlink" title="zip(lst1, lst2,lst3…)"></a>zip(lst1, lst2,lst3…)</h3><p>将lst1， lst2， lst3按照顺序进行合并</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">names = [<span class="string">&#x27;David&#x27;</span>, <span class="string">&#x27;Mary&#x27;</span>, <span class="string">&#x27;Henry&#x27;</span>, <span class="string">&#x27;Unique&#x27;</span>]</span><br><span class="line">sexs = [<span class="string">&#x27;male&#x27;</span>, <span class="string">&#x27;femal&#x27;</span>, <span class="string">&#x27;male&#x27;</span>, <span class="string">&#x27;male&#x27;</span>]</span><br><span class="line">ages = [<span class="number">25</span>, <span class="number">22</span>, <span class="number">30</span>, <span class="number">40</span>]</span><br><span class="line"></span><br><span class="line"><span class="built_in">list</span>(<span class="built_in">zip</span>(names, sexs, ages))</span><br></pre></td></tr></table></figure><pre><code>[(&#39;David&#39;, &#39;male&#39;, 25), (&#39;Mary&#39;, &#39;femal&#39;, 22), (&#39;Henry&#39;, &#39;male&#39;, 30), (&#39;Unique&#39;, &#39;male&#39;, 40)]</code></pre><h3 id="type-help"><a href="#type-help" class="headerlink" title="type/help"></a>type/help</h3><p>查看数据类型、查看感兴趣对象的介绍</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a = [<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>]</span><br><span class="line"><span class="built_in">type</span>(a)</span><br></pre></td></tr></table></figure><pre><code>list</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">help</span>(a)</span><br></pre></td></tr></table></figure><pre><code>Help on list object:class list(object) |  list(iterable=(), /) |   |  Built-in mutable sequence. |   |  If no argument is given, the constructor creates a new empty list. |  The argument must be an iterable if specified. |   |  Methods defined here: |   |  __add__(self, value, /) |      Return self+value. |   |  __contains__(self, key, /) |      Return key in self. |   |  __delitem__(self, key, /) |      Delete self[key]. |   |  __eq__(self, value, /) |      Return self==value. |   |  __ge__(self, value, /) |      Return self&gt;=value. |   |  __getattribute__(self, name, /) |      Return getattr(self, name). |   |  __getitem__(...) |      x.__getitem__(y) &lt;==&gt; x[y] |   |  __gt__(self, value, /) |      Return self&gt;value. |   |  __iadd__(self, value, /) |      Implement self+=value. |   |  __imul__(self, value, /) |      Implement self*=value. |   |  __init__(self, /, *args, **kwargs) |      Initialize self.  See help(type(self)) for accurate signature. |   |  __iter__(self, /) |      Implement iter(self). |   |  __le__(self, value, /) |      Return self&lt;=value. |   |  __len__(self, /) |      Return len(self). |   |  __lt__(self, value, /) |      Return self&lt;value. |   |  __mul__(self, value, /) |      Return self*value. |   |  __ne__(self, value, /) |      Return self!=value. |   |  __repr__(self, /) |      Return repr(self). |   |  __reversed__(self, /) |      Return a reverse iterator over the list. |   |  __rmul__(self, value, /) |      Return value*self. |   |  __setitem__(self, key, value, /) |      Set self[key] to value. |   |  __sizeof__(self, /) |      Return the size of the list in memory, in bytes. |   |  append(self, object, /) |      Append object to the end of the list. |   |  clear(self, /) |      Remove all items from list. |   |  copy(self, /) |      Return a shallow copy of the list. |   |  count(self, value, /) |      Return number of occurrences of value. |   |  extend(self, iterable, /) |      Extend list by appending elements from the iterable. |   |  index(self, value, start=0, stop=9223372036854775807, /) |      Return first index of value. |       |      Raises ValueError if the value is not present. |   |  insert(self, index, object, /) |      Insert object before index. |   |  pop(self, index=-1, /) |      Remove and return item at index (default last). |       |      Raises IndexError if list is empty or index is out of range. |   |  remove(self, value, /) |      Remove first occurrence of value. |       |      Raises ValueError if the value is not present. |   |  reverse(self, /) |      Reverse *IN PLACE*. |   |  sort(self, /, *, key=None, reverse=False) |      Sort the list in ascending order and return None. |       |      The sort is in-place (i.e. the list itself is modified) and stable (i.e. the |      order of two equal elements is maintained). |       |      If a key function is given, apply it once to each list item and sort them, |      ascending or descending, according to their function values. |       |      The reverse flag can be set to sort in descending order. |   |  ---------------------------------------------------------------------- |  Class methods defined here: |   |  __class_getitem__(...) from builtins.type |      See PEP 585 |   |  ---------------------------------------------------------------------- |  Static methods defined here: |   |  __new__(*args, **kwargs) from builtins.type |      Create and return a new object.  See help(type) for accurate signature. |   |  ---------------------------------------------------------------------- |  Data and other attributes defined here: |   |  __hash__ = None</code></pre><p>​    </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">type</span>(<span class="built_in">print</span>)</span><br></pre></td></tr></table></figure><pre><code>builtin_function_or_method</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">help</span>(<span class="built_in">print</span>)</span><br></pre></td></tr></table></figure><pre><code>Help on built-in function print in module builtins:print(...)    print(value, ..., sep=&#39; &#39;, end=&#39;\n&#39;, file=sys.stdout, flush=False)    Prints the values to a stream, or to sys.stdout by default.    Optional keyword arguments:    file:  a file-like object (stream); defaults to the current sys.stdout.    sep:   string inserted between values, default a space.    end:   string appended after the last value, default a newline.    flush: whether to forcibly flush the stream.</code></pre><p>​    </p><h3 id="map-func-lst-映射运算"><a href="#map-func-lst-映射运算" class="headerlink" title="map(func, lst)映射运算"></a>map(func, lst)映射运算</h3><p>将func运算映射到lst上每个元素</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">lst = [[<span class="number">1</span>,<span class="number">1</span>], [<span class="number">1</span>,<span class="number">2</span>], [<span class="number">1</span>,<span class="number">2</span>], [<span class="number">1</span>,<span class="number">2</span>], [<span class="number">1</span>,<span class="number">2</span>], [<span class="number">1</span>,<span class="number">2</span>], [<span class="number">1</span>,<span class="number">2</span>]]</span><br><span class="line"></span><br><span class="line">res = <span class="built_in">map</span>(<span class="built_in">sum</span>, lst)</span><br><span class="line"><span class="built_in">list</span>(res)</span><br></pre></td></tr></table></figure><pre><code>[2, 3, 3, 3, 3, 3, 3]</code></pre><h3 id="print-value-end-’-n’"><a href="#print-value-end-’-n’" class="headerlink" title="print(value, end=’\n’)"></a>print(value, end=’\n’)</h3><p>打印value，默认使用换行结束</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">help</span>(<span class="built_in">print</span>)</span><br></pre></td></tr></table></figure><pre><code>Help on built-in function print in module builtins:print(...)    print(value, ..., sep=&#39; &#39;, end=&#39;\n&#39;, file=sys.stdout, flush=False)    Prints the values to a stream, or to sys.stdout by default.    Optional keyword arguments:    file:  a file-like object (stream); defaults to the current sys.stdout.    sep:   string inserted between values, default a space.    end:   string appended after the last value, default a newline.    flush: whether to forcibly flush the stream.</code></pre><p>​    </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">&#x27;hello world!&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;hello python!&#x27;</span>)</span><br></pre></td></tr></table></figure><pre><code>hello world!hello python!</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">&#x27;hello world!&#x27;</span>, end=<span class="string">&#x27;\t&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;hello python!&#x27;</span>)</span><br></pre></td></tr></table></figure><pre><code>hello world!    hello python!</code></pre><h3 id="open-file-mode-’r’-encoding-None"><a href="#open-file-mode-’r’-encoding-None" class="headerlink" title="open(file, mode=’r’, encoding=None)"></a>open(file, mode=’r’, encoding=None)</h3><ul><li>file 文件路径</li><li>mode 操作方式们，最常用的是r和a+。r读取， a+是追加写入</li><li>encoding 编码方式 ，常见的文件编码方式主要是utf-8和gbk</li></ul><p>读取返回io对象</p><p>io对象有read()方法</p><h3 id="相对路径VS绝对路径"><a href="#相对路径VS绝对路径" class="headerlink" title="相对路径VS绝对路径"></a>相对路径VS绝对路径</h3><p>相对路径  data</p><p>绝对路径 C:Users\thunderhit\Desktop\Python数据分析入门\02-Python语法入门\data</p><p>以后都要用相对路径</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 读取数据</span></span><br><span class="line"><span class="built_in">open</span>(<span class="string">&#x27;data/test.txt&#x27;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>).read()</span><br></pre></td></tr></table></figure><pre><code>&#39;章节设计\n\n第一部分  环境配置\n第二部分  快速入门python\n第三部分  网络爬虫\n第四部分  简单的文本分析\n第五部分  进阶文本分析&#39;</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 新建文件/在已有的文件内插入内容</span></span><br><span class="line">f = <span class="built_in">open</span>(<span class="string">&#x27;data/test2.txt&#x27;</span>, mode=<span class="string">&#x27;a+&#x27;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">f.write(<span class="string">&#x27;我在学python，现在是下午五点&#x27;</span>)</span><br><span class="line">f.close()</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 新建文件/在已有的文件内插入内容</span></span><br><span class="line">f = <span class="built_in">open</span>(<span class="string">&#x27;data/test2.txt&#x27;</span>, mode=<span class="string">&#x27;a+&#x27;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">f.write(<span class="string">&#x27;\nLife is short, so to learn Python&#x27;</span>)</span><br><span class="line">f.close()</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 新建文件/在已有的文件内插入内容</span></span><br><span class="line">f = <span class="built_in">open</span>(<span class="string">&#x27;data/test2.txt&#x27;</span>, mode=<span class="string">&#x27;a+&#x27;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">f.write(<span class="string">&#x27;\nLife is short, so to learn Python&#x27;</span>)</span><br><span class="line">f.write(<span class="string">&#x27;\nLife is short, so to learn music&#x27;</span>)</span><br><span class="line">f.write(<span class="string">&#x27;\nLife is short, so to learn english&#x27;</span>)</span><br><span class="line">f.close()</span><br></pre></td></tr></table></figure><h3 id="重点函数-1"><a href="#重点函数-1" class="headerlink" title="重点函数"></a>重点函数</h3><ul><li><input checked="" disabled="" type="checkbox"> sorted(lst， ascending)</li><li><input checked="" disabled="" type="checkbox"> range(start, end, step)</li><li><input checked="" disabled="" type="checkbox"> enumerate(lst)</li><li><input checked="" disabled="" type="checkbox"> eval(expression)</li><li><input checked="" disabled="" type="checkbox"> zip(lst1, lst2..)</li><li><input checked="" disabled="" type="checkbox"> map(func, lst)</li><li><input checked="" disabled="" type="checkbox"> print(x)</li><li><input checked="" disabled="" type="checkbox"> open(file, mode, encoding)</li></ul><h2 id="内置库之文件路径pathlib库"><a href="#内置库之文件路径pathlib库" class="headerlink" title="内置库之文件路径pathlib库"></a>内置库之文件路径pathlib库</h2><ul><li>相对路径 <code>&#39;img&#39;</code> </li><li>绝对路径  <code>&#39;C:/Users/thunderhit/Desktop/Python数据分析入门/02-Python语法入门/img&#39;</code></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pathlib</span><br><span class="line"></span><br><span class="line"><span class="comment">#当前代码所在的文件夹的相对路径</span></span><br><span class="line">pathlib.Path()</span><br></pre></td></tr></table></figure><pre><code>WindowsPath(&#39;.&#39;)</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pathlib <span class="keyword">import</span> Path</span><br><span class="line"></span><br><span class="line"><span class="comment">#当前代码所在的文件夹的相对路径</span></span><br><span class="line">Path()</span><br></pre></td></tr></table></figure><pre><code>WindowsPath(&#39;.&#39;)</code></pre><h3 id="pathlib-Path-属性方法"><a href="#pathlib-Path-属性方法" class="headerlink" title="pathlib.Path()属性方法"></a>pathlib.Path()属性方法</h3><table><thead><tr><th align="left">方法</th><th align="left">功能</th></tr></thead><tbody><tr><td align="left"><strong>cwd()</strong></td><td align="left">获取代码所在的当前工作路径</td></tr><tr><td align="left"><strong>joinpath(…grandpadir, fatherdir, …file)</strong></td><td align="left">生成路径</td></tr><tr><td align="left"><strong>iterdir()</strong></td><td align="left">返回某路径下的文件(夹)目录</td></tr><tr><td align="left"><strong>glob(pattern)</strong></td><td align="left">返回符合pattern的所有文件的文件路径</td></tr><tr><td align="left">is_file()</td><td align="left">判断某路径是否为文件，返回布尔值</td></tr><tr><td align="left">is_dir()</td><td align="left">判断某路径是否为文件夹，返回布尔值</td></tr><tr><td align="left">exists()</td><td align="left">判断某路径是否存在，返回布尔值</td></tr><tr><td align="left">mkdir(parents=True, exist_ok=True)</td><td align="left">创建某路径对应的文件夹</td></tr></tbody></table><h4 id="cwd"><a href="#cwd" class="headerlink" title="cwd()"></a>cwd()</h4><p><strong>例</strong>：获取当前代码所在文件夹的绝对路径</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Path().cwd()</span><br></pre></td></tr></table></figure><pre><code>WindowsPath(&#39;c:/Users/K/Desktop/02-Python语法入门&#39;)</code></pre><h4 id="joinpath-…grandpadir-fatherdir-…file"><a href="#joinpath-…grandpadir-fatherdir-…file" class="headerlink" title="joinpath(…grandpadir, fatherdir, …file)"></a>joinpath(…grandpadir, fatherdir, …file)</h4><p>把…grandpadir, fatherdir, …file加入到某路径中</p><p><strong>例</strong>：获得data文件夹的路径</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Path().cwd().joinpath(<span class="string">&#x27;data&#x27;</span>)</span><br></pre></td></tr></table></figure><pre><code>WindowsPath(&#39;c:/Users/K/Desktop/02-Python语法入门/data&#39;)</code></pre><p><strong>例</strong>：获得data/test.txt文件的路径</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Path().cwd().joinpath(<span class="string">&#x27;data&#x27;</span>, <span class="string">&#x27;test.txt&#x27;</span>)</span><br></pre></td></tr></table></figure><pre><code>WindowsPath(&#39;c:/Users/K/Desktop/02-Python语法入门/data/test.txt&#39;)</code></pre><h4 id="iterdir"><a href="#iterdir" class="headerlink" title="iterdir()"></a>iterdir()</h4><p>返回某路径下的文件(夹)目录</p><p>例：获得<strong>02-Python语法入门</strong>文件夹里的所有文件(夹)路径</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">list</span>(Path().cwd().iterdir())</span><br></pre></td></tr></table></figure><pre><code>[WindowsPath(&#39;c:/Users/K/Desktop/02-Python语法入门/.ipynb_checkpoints&#39;), WindowsPath(&#39;c:/Users/K/Desktop/02-Python语法入门/01-Python跟英语一样是一门语言.ipynb&#39;), WindowsPath(&#39;c:/Users/K/Desktop/02-Python语法入门/02-数据类型之字符串.ipynb&#39;), WindowsPath(&#39;c:/Users/K/Desktop/02-Python语法入门/03-数据类型之列表元组集合.ipynb&#39;), WindowsPath(&#39;c:/Users/K/Desktop/02-Python语法入门/04-数据类型之字典.ipynb&#39;), WindowsPath(&#39;c:/Users/K/Desktop/02-Python语法入门/05-数据类型之布尔值&amp;None.ipynb&#39;), WindowsPath(&#39;c:/Users/K/Desktop/02-Python语法入门/06-逻辑语句(if&amp;for&amp;tryexcept).ipynb&#39;), WindowsPath(&#39;c:/Users/K/Desktop/02-Python语法入门/07-列表推导式.ipynb&#39;), WindowsPath(&#39;c:/Users/K/Desktop/02-Python语法入门/08-理解函数.ipynb&#39;), WindowsPath(&#39;c:/Users/K/Desktop/02-Python语法入门/09-常用内置函数.ipynb&#39;), WindowsPath(&#39;c:/Users/K/Desktop/02-Python语法入门/09-常用函数.md&#39;), WindowsPath(&#39;c:/Users/K/Desktop/02-Python语法入门/10-内置库之文件路径pathlib库.ipynb&#39;), WindowsPath(&#39;c:/Users/K/Desktop/02-Python语法入门/11-内置库之csv文件库.ipynb&#39;), WindowsPath(&#39;c:/Users/K/Desktop/02-Python语法入门/12. 内置库之正则表达式re库.ipynb&#39;), WindowsPath(&#39;c:/Users/K/Desktop/02-Python语法入门/13-初学python常出错误汇总.ipynb&#39;), WindowsPath(&#39;c:/Users/K/Desktop/02-Python语法入门/2小时快速上手Python语法.ipynb&#39;), WindowsPath(&#39;c:/Users/K/Desktop/02-Python语法入门/data&#39;), WindowsPath(&#39;c:/Users/K/Desktop/02-Python语法入门/img&#39;)]</code></pre><h3 id="glob-pattern"><a href="#glob-pattern" class="headerlink" title="glob(pattern)"></a>glob(pattern)</h3><p>查找某路径内满足pattern的所有文件路径 。</p><p><code>pattern=&#39;*.*&#39;</code> 匹配任意格式任意名字的文件</p><p><code>pattern=&#39;*.txt&#39;</code> 匹配出所有的txt文件</p><p><strong>例</strong>：获得data文件夹内的所有的文件路径</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">list</span>(Path().cwd().joinpath(<span class="string">&#x27;data&#x27;</span>).glob(<span class="string">&#x27;*.*&#x27;</span>))</span><br></pre></td></tr></table></figure><pre><code>[WindowsPath(&#39;c:/Users/K/Desktop/02-Python语法入门/data/test.txt&#39;), WindowsPath(&#39;c:/Users/K/Desktop/02-Python语法入门/data/test2.csv&#39;), WindowsPath(&#39;c:/Users/K/Desktop/02-Python语法入门/data/test2.txt&#39;), WindowsPath(&#39;c:/Users/K/Desktop/02-Python语法入门/data/twitter_sentiment.csv&#39;)]</code></pre><p><strong>例</strong>：获得data文件夹内的所有的txt额路径</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">list</span>(Path().cwd().joinpath(<span class="string">&#x27;data&#x27;</span>).glob(<span class="string">&#x27;*.txt&#x27;</span>))</span><br></pre></td></tr></table></figure><pre><code>[WindowsPath(&#39;c:/Users/K/Desktop/02-Python语法入门/data/test.txt&#39;), WindowsPath(&#39;c:/Users/K/Desktop/02-Python语法入门/data/test2.txt&#39;)]</code></pre><p><strong>例</strong>：获得data/reports内的pdf路径</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">dirs = Path().cwd().joinpath(<span class="string">&#x27;data&#x27;</span>, <span class="string">&#x27;reports&#x27;</span>).iterdir()</span><br><span class="line">dirs = <span class="built_in">list</span>(dirs)</span><br><span class="line"><span class="keyword">for</span> <span class="built_in">dir</span> <span class="keyword">in</span> dirs:</span><br><span class="line">    files = <span class="built_in">dir</span>.glob(<span class="string">&#x27;*.*&#x27;</span>)</span><br><span class="line">    <span class="keyword">for</span> file <span class="keyword">in</span> files:</span><br><span class="line">        print(file)</span><br></pre></td></tr></table></figure><pre><code>c:\Users\K\Desktop\02-Python语法入门\data\reports\600000\600000_2002_1.pdfc:\Users\K\Desktop\02-Python语法入门\data\reports\600000\600000_2006_n.pdfc:\Users\K\Desktop\02-Python语法入门\data\reports\600000\600000_2006_z.pdfc:\Users\K\Desktop\02-Python语法入门\data\reports\600000\600000_2007_z.pdfc:\Users\K\Desktop\02-Python语法入门\data\reports\600000\600000_2008_3.pdfc:\Users\K\Desktop\02-Python语法入门\data\reports\600000\600000_2008_n.pdfc:\Users\K\Desktop\02-Python语法入门\data\reports\600000\600000_2009_1.pdfc:\Users\K\Desktop\02-Python语法入门\data\reports\600000\600000_2009_3.pdfc:\Users\K\Desktop\02-Python语法入门\data\reports\600000\600000_2009_n.pdfc:\Users\K\Desktop\02-Python语法入门\data\reports\600004\600004_2003_3.pdfc:\Users\K\Desktop\02-Python语法入门\data\reports\600004\600004_2003_n.pdfc:\Users\K\Desktop\02-Python语法入门\data\reports\600004\600004_2003_z.pdfc:\Users\K\Desktop\02-Python语法入门\data\reports\600004\600004_2004_1.pdfc:\Users\K\Desktop\02-Python语法入门\data\reports\600004\600004_2004_3.pdfc:\Users\K\Desktop\02-Python语法入门\data\reports\600004\600004_2004_n.pdfc:\Users\K\Desktop\02-Python语法入门\data\reports\600004\600004_2004_z.pdf</code></pre><p><strong>例</strong>：获得data/reports内的 含有”_n” 额pdf路径</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">dirs = Path().cwd().joinpath(<span class="string">&#x27;data&#x27;</span>, <span class="string">&#x27;reports&#x27;</span>).iterdir()</span><br><span class="line">dirs = <span class="built_in">list</span>(dirs)</span><br><span class="line"><span class="keyword">for</span> <span class="built_in">dir</span> <span class="keyword">in</span> dirs:</span><br><span class="line">    files = <span class="built_in">dir</span>.glob(<span class="string">&#x27;*_n.pdf&#x27;</span>)</span><br><span class="line">    <span class="keyword">for</span> file <span class="keyword">in</span> files:</span><br><span class="line">        print(file)</span><br></pre></td></tr></table></figure><pre><code>c:\Users\K\Desktop\02-Python语法入门\data\reports\600000\600000_2006_n.pdfc:\Users\K\Desktop\02-Python语法入门\data\reports\600000\600000_2008_n.pdfc:\Users\K\Desktop\02-Python语法入门\data\reports\600000\600000_2009_n.pdfc:\Users\K\Desktop\02-Python语法入门\data\reports\600004\600004_2003_n.pdfc:\Users\K\Desktop\02-Python语法入门\data\reports\600004\600004_2004_n.pdf</code></pre><h3 id="is-file"><a href="#is-file" class="headerlink" title="is_file()"></a>is_file()</h3><p>判断某路径是否为一个文件。返回布尔值：</p><ul><li>True 真实存在的文件路径</li><li>False 不真实存在或者文件夹路径</li></ul><p><strong>例</strong> ‘C:/Users/thunderhit/Desktop/Python数据分析入门/02-Python语法入门/data/test.txt’是文件路径？</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">fpath = Path(<span class="string">&#x27;C:/Users/thunderhit/Desktop/Python数据分析入门/02-Python语法入门/data/test.txt&#x27;</span>)</span><br><span class="line">fpath.is_file()</span><br></pre></td></tr></table></figure><pre><code>False</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">fpath = Path(<span class="string">&#x27;C:/Users/thunderhit/Desktop/Python数据分析入门/02-Python语法入门/data/test222.txt&#x27;</span>)</span><br><span class="line">fpath.is_file()</span><br></pre></td></tr></table></figure><pre><code>False</code></pre><h3 id="is-dir"><a href="#is-dir" class="headerlink" title="is_dir()"></a>is_dir()</h3><p>判断某路径是否为一个文件夹。返回布尔值，True、False</p><p><strong>例</strong>： ‘C:/Users/thunderhit/Desktop/Python数据分析入门/02-Python语法入门/data’ 是 文件夹路径？</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">fpath = Path(<span class="string">&#x27;C:/Users/thunderhit/Desktop/Python数据分析入门/02-Python语法入门/data&#x27;</span>)</span><br><span class="line">fpath.is_dir()</span><br></pre></td></tr></table></figure><pre><code>False</code></pre><h3 id="exists"><a href="#exists" class="headerlink" title="exists()"></a>exists()</h3><p>判断某路径是否存在。返回布尔值，True、False</p><p>例： ‘C:/Users/thunderhit/Desktop/Python数据分析入门/02-Python语法入门/data’ 是否存在？</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">fpath = Path(<span class="string">&#x27;C:/Users/thunderhit/Desktop/Python数据分析入门/02-Python语法入门/data&#x27;</span>)</span><br><span class="line">fpath.exists()</span><br></pre></td></tr></table></figure><pre><code>False</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">fpath = Path(<span class="string">&#x27;C:/Users/thunderhit/Desktop/Python数据分析入门/02-Python语法入门/datasss&#x27;</span>)</span><br><span class="line">fpath.exists()</span><br></pre></td></tr></table></figure><pre><code>False</code></pre><h3 id="mkdir-parents-True-exist-ok-True"><a href="#mkdir-parents-True-exist-ok-True" class="headerlink" title="mkdir(parents=True, exist_ok=True)"></a>mkdir(parents=True, exist_ok=True)</h3><p>创建某路径</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">path = Path().cwd().joinpath(<span class="string">&#x27;data&#x27;</span>, <span class="string">&#x27;stocks&#x27;</span>, <span class="string">&#x27;800000&#x27;</span>)</span><br><span class="line">path.mkdir(parents=<span class="literal">True</span>, exist_ok=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure><h2 id="内置库之csv文件库"><a href="#内置库之csv文件库" class="headerlink" title="内置库之csv文件库"></a>内置库之csv文件库</h2><h3 id="csv存储数据代码步骤"><a href="#csv存储数据代码步骤" class="headerlink" title="csv存储数据代码步骤"></a>csv存储数据代码步骤</h3><ol><li>新建一个csv文件</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> csv</span><br><span class="line">path = <span class="string">&#x27;data/test.csv&#x27;</span></span><br><span class="line">csvf = <span class="built_in">open</span>(path, <span class="string">&#x27;a+&#x27;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>, newline=<span class="string">&#x27;&#x27;</span>)</span><br></pre></td></tr></table></figure><ol start="2"><li>定义字段名，并初始化csv文件为writer</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fieldnames = [<span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;age&#x27;</span>]</span><br><span class="line">writer = csv.DictWriter(csvf, fieldnames=fieldnames)</span><br><span class="line">writer.writeheader()</span><br></pre></td></tr></table></figure><ol start="3"><li>将待存储数据整理为字典格式</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">test_data = &#123;<span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;David&#x27;</span>,</span><br><span class="line">             <span class="string">&#x27;age&#x27;</span>: <span class="number">25</span>&#125;</span><br></pre></td></tr></table></figure><ol start="4"><li>用writer往csv中存储数据</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">writer.writerow(test_data)</span><br></pre></td></tr></table></figure><ol start="5"><li>最后记得关闭csv文件</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">csvf.close()</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> csv</span><br><span class="line"></span><br><span class="line">csvf = <span class="built_in">open</span>(<span class="string">&#x27;data/test1.csv&#x27;</span>, <span class="string">&#x27;a+&#x27;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>, newline=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">fieldnames = [<span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;age&#x27;</span>]</span><br><span class="line">writer = csv.DictWriter(csvf, fieldnames=fieldnames)</span><br><span class="line">writer.writeheader()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">csvf.close()</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> csv</span><br><span class="line"></span><br><span class="line">csvf = <span class="built_in">open</span>(<span class="string">&#x27;data/test2.csv&#x27;</span>, <span class="string">&#x27;a+&#x27;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>, newline=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">fieldnames = [<span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;age&#x27;</span>]</span><br><span class="line">writer = csv.DictWriter(csvf, fieldnames=fieldnames)</span><br><span class="line">writer.writeheader()</span><br><span class="line"></span><br><span class="line">test_data = &#123;<span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;David&#x27;</span>,</span><br><span class="line">             <span class="string">&#x27;age&#x27;</span>: <span class="number">25</span>&#125;</span><br><span class="line">writer.writerow(test_data)</span><br><span class="line"></span><br><span class="line">csvf.close()</span><br></pre></td></tr></table></figure><h3 id="很多数据的存储"><a href="#很多数据的存储" class="headerlink" title="很多数据的存储"></a>很多数据的存储</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">datas = [&#123;<span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;David&#x27;</span>, <span class="string">&#x27;age&#x27;</span>: <span class="number">25</span>&#125;, </span><br><span class="line">         &#123;<span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;Mary&#x27;</span>, <span class="string">&#x27;age&#x27;</span>: <span class="number">30</span>&#125;,</span><br><span class="line">         &#123;<span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;Henry&#x27;</span>, <span class="string">&#x27;age&#x27;</span>: <span class="number">35</span>&#125;]</span><br><span class="line"></span><br><span class="line">datas</span><br></pre></td></tr></table></figure><pre><code>[&#123;&#39;name&#39;: &#39;David&#39;, &#39;age&#39;: 25&#125;, &#123;&#39;name&#39;: &#39;Mary&#39;, &#39;age&#39;: 30&#125;, &#123;&#39;name&#39;: &#39;Henry&#39;, &#39;age&#39;: 35&#125;]</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> csv</span><br><span class="line"></span><br><span class="line">csvf = <span class="built_in">open</span>(<span class="string">&#x27;data/test2.csv&#x27;</span>, <span class="string">&#x27;a+&#x27;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>, newline=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">fieldnames = [<span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;age&#x27;</span>]</span><br><span class="line">writer = csv.DictWriter(csvf, fieldnames=fieldnames)</span><br><span class="line">writer.writeheader()</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> data <span class="keyword">in</span> datas:</span><br><span class="line">    writer.writerow(data)</span><br><span class="line"></span><br><span class="line">csvf.close()</span><br></pre></td></tr></table></figure><h2 id="内置库之正则表达式re库"><a href="#内置库之正则表达式re库" class="headerlink" title="内置库之正则表达式re库"></a>内置库之正则表达式re库</h2><h3 id="一、正则表达式中的符号"><a href="#一、正则表达式中的符号" class="headerlink" title="一、正则表达式中的符号"></a>一、正则表达式中的符号</h3><p>按照符号的功能，我将其分为三类，一般情况下表达式都是由这三种符号组成的。</p><h3 id="1-1-正则字符"><a href="#1-1-正则字符" class="headerlink" title="1.1 正则字符"></a>1.1 正则字符</h3><table><thead><tr><th align="left">正则符号</th><th align="left">描述</th><th align="left">匹配自己时</th></tr></thead><tbody><tr><td align="left"><code>\</code></td><td align="left">转义字符。例如， ‘n’ 匹配字符 ‘n’。</td><td align="left"><code>&#39;\n&#39;</code></td></tr><tr><td align="left"><code>( )</code></td><td align="left">标记一个子表达式的开始和结束位置。</td><td align="left"><code>\(   \)</code></td></tr><tr><td align="left">.</td><td align="left">匹配除换行符 <code>\n</code> 之外的任何单字符。</td><td align="left"><code>\. </code></td></tr><tr><td align="left">|</td><td align="left">|左右两侧均可参与匹配</td><td align="left"></td></tr><tr><td align="left">\d</td><td align="left">匹配字符串中的单个数字</td><td align="left"></td></tr><tr><td align="left">a-zA-Z</td><td align="left">匹配全部英文字符</td><td align="left"></td></tr><tr><td align="left">0-9</td><td align="left">匹配全部数字</td><td align="left"></td></tr><tr><td align="left"><code>\s</code></td><td align="left">匹配字符串中的<code>\n</code>,<code>\t</code>,<code>空格</code></td><td align="left"></td></tr><tr><td align="left"><code>[]</code></td><td align="left">中括号内任意正则符号均可参与匹配</td><td align="left"><code>\[   \]</code></td></tr><tr><td align="left">^</td><td align="left">当在方括号表达式中使用，^对其后的正则表达式进行了反义表达。</td><td align="left"><code>\^</code></td></tr></tbody></table><h3 id="1-2-限定字符"><a href="#1-2-限定字符" class="headerlink" title="1.2 限定字符"></a>1.2 限定字符</h3><table><thead><tr><th align="left">正则符号</th><th align="left">描述</th><th align="left">匹配自己时</th></tr></thead><tbody><tr><td align="left">*</td><td align="left">匹配前面的子表达式零次或多次。</td><td align="left"><code>\*</code></td></tr><tr><td align="left">?</td><td align="left">匹配前面的子表达式零次或一次</td><td align="left">\?</td></tr><tr><td align="left">+</td><td align="left">匹配前面的子表达式一次或多次。</td><td align="left"><code>\+</code></td></tr><tr><td align="left">{m}</td><td align="left">n 是一个非负整数。匹配确定的 m 次。</td><td align="left"></td></tr><tr><td align="left">{m,}</td><td align="left">m 是一个非负整数。至少匹配m 次。</td><td align="left"></td></tr><tr><td align="left">{m, n}</td><td align="left">m 和 n 均为非负整数，其中m &lt;= n。最少匹配 m 次且最多匹配 n 次。</td><td align="left"></td></tr></tbody></table><h3 id="1-3-定位字符"><a href="#1-3-定位字符" class="headerlink" title="1.3 定位字符"></a>1.3 定位字符</h3><table><thead><tr><th align="left">正则符号</th><th align="left">描述</th><th align="left">匹配自己时</th></tr></thead><tbody><tr><td align="left">^</td><td align="left">匹配输入字符串的开始位置。</td><td align="left"><code>\^</code></td></tr><tr><td align="left">$</td><td align="left">匹配输入字符串的结尾位置</td><td align="left"><code>\$</code></td></tr><tr><td align="left">\b</td><td align="left">匹配一个单词边界，即字与空格间的位置</td><td align="left"></td></tr><tr><td align="left">\B</td><td align="left">非单词边界匹配</td><td align="left"></td></tr></tbody></table><h3 id="二、re库常用方法"><a href="#二、re库常用方法" class="headerlink" title="二、re库常用方法"></a>二、re库常用方法</h3><table><thead><tr><th align="left">re库常用函数</th><th align="left">作用</th></tr></thead><tbody><tr><td align="left"><code>re.findall(pattern, string)</code></td><td align="left">根据pattern返回匹配结果（列表）</td></tr><tr><td align="left"><code>re.split(pattern, string)</code></td><td align="left">使用pattern分割string，返回列表</td></tr><tr><td align="left"><code>re.sub(pattern, repl, string)</code></td><td align="left">使用repl替换string中的pattern</td></tr></tbody></table><h3 id="三、只需要掌握"><a href="#三、只需要掌握" class="headerlink" title="三、只需要掌握"></a>三、只需要掌握</h3><ul><li>搜索引擎检索到自己需要的正则表达式</li><li>最简单最好用表达式<code>(.*?)</code></li><li>在<a href="http://c.runoob.com/front-end/854">正则表达式测试网站</a>验证自己的正则表达式</li></ul><h3 id="3-1-检索找到自己需要的正则表达式"><a href="#3-1-检索找到自己需要的正则表达式" class="headerlink" title="3.1 检索找到自己需要的正则表达式"></a>3.1 检索找到自己需要的正则表达式</h3><p>比如我只需要中文，其余字符统统不要。</p><p>我会在百度搜<strong>中文正则表达式</strong></p><p>发现很多网页中网友提到````，于是</p><p><code>[\u4e00-\u9fa5]</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line">pattern = <span class="string">&#x27;[\u4e00-\u9fa5]+&#x27;</span></span><br><span class="line"></span><br><span class="line">string = <span class="string">&quot;&quot;&quot;Python是一门面向对象的编程语言，诞生于1991年。\</span></span><br><span class="line"><span class="string">目前以广泛应用在网站开发、游戏软件开发、数据采集、机器学习等多个领域。\</span></span><br><span class="line"><span class="string">一般情况下Python是Java的20%，所以说人生苦短，我用Python。&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">chinese_words = re.findall(pattern, string)</span><br><span class="line">chinese_text = <span class="string">&#x27;&#x27;</span>.join(chinese_words)</span><br><span class="line">chinese_text</span><br></pre></td></tr></table></figure><pre><code>&#39;是一门面向对象的编程语言诞生于年目前以广泛应用在网站开发游戏软件开发数据采集机器学习等多个领域一般情况下是的所以说人生苦短我用&#39;</code></pre><h3 id="3-2-最简单最好用表达式"><a href="#3-2-最简单最好用表达式" class="headerlink" title="3.2 最简单最好用表达式(.*?)"></a>3.2 最简单最好用表达式(.*?)</h3><p><strong>pattern设计步骤：</strong></p><p><strong>正则符号</strong>组成<strong>正则表达式</strong>，用于<strong>匹配</strong>需要的字符。</p><ol><li>找到重复的一致的规律</li><li>复制粘贴到pattern中</li><li>扣掉<strong>想要的数据</strong></li><li>替换为<code>(.*?)</code>  或者<code>相应的正则符号表达式*</code></li></ol><p>比如现在需要快速挖掘出intros中的姓名、籍贯和年龄</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">pattern = <span class="string">&#x27;我叫(.*?)，来自(.*?)，今年(.*?)岁。&#x27;</span></span><br><span class="line"></span><br><span class="line">intros = [<span class="string">&#x27;我叫张三，来自山东，今年25岁。&#x27;</span>,</span><br><span class="line">          <span class="string">&#x27;我叫李四，来自河北，今年28岁。&#x27;</span>,</span><br><span class="line">          <span class="string">&#x27;我叫王五，来自河南，今年24岁。&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> intro <span class="keyword">in</span> intros:</span><br><span class="line">    info = re.findall(pattern, intro)</span><br><span class="line">    print(info)</span><br></pre></td></tr></table></figure><pre><code>[(&#39;张三&#39;, &#39;山东&#39;, &#39;25&#39;)][(&#39;李四&#39;, &#39;河北&#39;, &#39;28&#39;)][(&#39;王五&#39;, &#39;河南&#39;, &#39;24&#39;)]</code></pre><p>*<em>特别需要注意的是pattern中的(.</em>?)左右两侧必须有字符，否则匹配失败**</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">pattern = <span class="string">&#x27;(.*?)，来自(.*?)，今年(.*?)&#x27;</span></span><br><span class="line"></span><br><span class="line">intros = [<span class="string">&#x27;我叫张三，来自山东，今年25岁。&#x27;</span>,</span><br><span class="line">          <span class="string">&#x27;我叫李四，来自河北，今年28岁。&#x27;</span>,</span><br><span class="line">          <span class="string">&#x27;我叫王五，来自河南，今年24岁。&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> intro <span class="keyword">in</span> intros:</span><br><span class="line">    info = re.findall(pattern, intro)</span><br><span class="line">    print(info)</span><br></pre></td></tr></table></figure><pre><code>[(&#39;我叫张三&#39;, &#39;山东&#39;, &#39;&#39;)][(&#39;我叫李四&#39;, &#39;河北&#39;, &#39;&#39;)][(&#39;我叫王五&#39;, &#39;河南&#39;, &#39;&#39;)]</code></pre><p>由于</p><p><code>&#39;(.*?)，来自(.*?)，今年(.*?)&#39;</code></p><p>中最左侧和最右侧的<code>(.*?)</code>没有被其他字符左右包裹，导致匹配姓名和年龄失败。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">pattern = <span class="string">&#x27;叫(.*?)，来自(.*?)，今年(.*?)岁&#x27;</span></span><br><span class="line"></span><br><span class="line">intros = [<span class="string">&#x27;我叫张三，来自山东，今年25岁。&#x27;</span>,</span><br><span class="line">          <span class="string">&#x27;我叫李四，来自河北，今年28岁。&#x27;</span>,</span><br><span class="line">          <span class="string">&#x27;我叫王五，来自河南，今年24岁。&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> intro <span class="keyword">in</span> intros:</span><br><span class="line">    info = re.findall(pattern, intro)</span><br><span class="line">    print(info)</span><br></pre></td></tr></table></figure><pre><code>[(&#39;张三&#39;, &#39;山东&#39;, &#39;25&#39;)][(&#39;李四&#39;, &#39;河北&#39;, &#39;28&#39;)][(&#39;王五&#39;, &#39;河南&#39;, &#39;24&#39;)]</code></pre><h3 id="四、案例"><a href="#四、案例" class="headerlink" title="四、案例"></a>四、案例</h3><h3 id="4-1-找出文本中出现的年份"><a href="#4-1-找出文本中出现的年份" class="headerlink" title="4.1 找出文本中出现的年份"></a>4.1 找出文本中出现的年份</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">pattern = <span class="string">&#x27;\d&#123;4&#125;&#x27;</span></span><br><span class="line">string = <span class="string">&quot;&quot;&quot;Python是一门面向对象的编程语言，诞生于1991年。\</span></span><br><span class="line"><span class="string">目前以广泛应用在网站开发、游戏软件开发、数据采集、机器学习等多个领域。\</span></span><br><span class="line"><span class="string">一般情况下Python是Java的20%，所以说人生苦短，我用Python。&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">re.findall(pattern, string)</span><br></pre></td></tr></table></figure><pre><code>[&#39;1991&#39;]</code></pre><h3 id="4-2-re-split-pattern-string"><a href="#4-2-re-split-pattern-string" class="headerlink" title="4.2 re.split(pattern, string)"></a>4.2 re.split(pattern, string)</h3><p>断句</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">pattern = <span class="string">&#x27;；|。&#x27;</span></span><br><span class="line"></span><br><span class="line">string = <span class="string">&quot;&quot;&quot;Python是一门面向对象的编程语言，诞生于1991年；\</span></span><br><span class="line"><span class="string">目前以广泛应用在网站开发、游戏软件开发、数据采集、机器学习等多个领域。\</span></span><br><span class="line"><span class="string">一般情况下Python是Java的20%，所以说人生苦短，我用Python。&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">res = re.split(pattern, string)</span><br><span class="line">res = [r <span class="keyword">for</span> r <span class="keyword">in</span> res <span class="keyword">if</span> r]</span><br><span class="line">res</span><br></pre></td></tr></table></figure><pre><code>[&#39;Python是一门面向对象的编程语言，诞生于1991年&#39;, &#39;目前以广泛应用在网站开发、游戏软件开发、数据采集、机器学习等多个领域&#39;, &#39;一般情况下Python是Java的20%，所以说人生苦短，我用Python&#39;]</code></pre><h3 id="4-3-re-sub-pattern-repl-string"><a href="#4-3-re-sub-pattern-repl-string" class="headerlink" title="4.3 re.sub(pattern, repl, string)"></a>4.3 re.sub(pattern, repl, string)</h3><p>将数字替换为NUM</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">pattern = <span class="string">&#x27;\d+&#x27;</span></span><br><span class="line"></span><br><span class="line">repl = <span class="string">&#x27;NUM&#x27;</span></span><br><span class="line"></span><br><span class="line">string = <span class="string">&quot;&quot;&quot;Python是一门面向对象的编程语言，诞生于1991年。\</span></span><br><span class="line"><span class="string">一般情况下Python是Java的20%，所以说人生苦短，我用Python。&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">re.sub(pattern, repl, string)</span><br></pre></td></tr></table></figure><pre><code>&#39;Python是一门面向对象的编程语言，诞生于NUM年。一般情况下Python是Java的NUM%，所以说人生苦短，我用Python。&#39;</code></pre><h3 id="4-4-统一表达"><a href="#4-4-统一表达" class="headerlink" title="4.4 . 统一表达"></a>4.4 . 统一表达</h3><p>将指代同一个主体的不同表达词语统一为同一个词</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">text = <span class="string">&#x27;中国铁路工程集团有限公司成立于1950年3月，总部位于北京。目前中国中铁已经发展成中国和亚洲最大的多功能综合型建设集团。&#x27;</span></span><br><span class="line"></span><br><span class="line">pattern = <span class="string">&#x27;中国铁路工程集团有限公司|中国中铁&#x27;</span></span><br><span class="line"></span><br><span class="line">repl = <span class="string">&#x27;中铁&#x27;</span></span><br><span class="line"></span><br><span class="line">re.sub(pattern, repl, text)</span><br></pre></td></tr></table></figure><pre><code>&#39;中铁成立于1950年3月，总部位于北京。目前中铁已经发展成中国和亚洲最大的多功能综合型建设集团。&#39;</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">text = <span class="string">&#x27;中国铁路工程集团有限公司成立于1950年3月，总部位于北京。目前中国中铁已经发展成中国和亚洲最大的多功能综合型建设集团。&#x27;</span></span><br><span class="line"></span><br><span class="line">pattern = <span class="string">&#x27;[中国铁路工程集团有限公司|中国中铁]+&#x27;</span></span><br><span class="line"></span><br><span class="line">repl = <span class="string">&#x27;中铁&#x27;</span></span><br><span class="line"></span><br><span class="line">re.sub(pattern, repl, text)</span><br></pre></td></tr></table></figure><pre><code>&#39;中铁成立于1950年3月，总部位于北京。目前中铁已经发展成中铁和亚洲最大的多功能综合型建设中铁。&#39;</code></pre><h3 id="4-5-分割文本数据的章节"><a href="#4-5-分割文本数据的章节" class="headerlink" title="4.5 分割文本数据的章节"></a>4.5 分割文本数据的章节</h3><p>一二三四五六七八九十零百</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">text = <span class="string">&quot;&quot;&quot; 第一篇 Python简介 第二篇 Python入门语法 第三篇 Python网络爬虫 第四篇 文本数据编码 第五篇 数据分析 第六篇 可视化&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">pattern = <span class="string">&#x27;第[一二三四五六七八九十零百]+篇&#x27;</span></span><br><span class="line"></span><br><span class="line">res = re.split(pattern, text)</span><br><span class="line">res = [r.replace(<span class="string">&#x27; &#x27;</span>, <span class="string">&#x27;&#x27;</span>) <span class="keyword">for</span> r <span class="keyword">in</span> res <span class="keyword">if</span> <span class="string">&#x27; &#x27;</span>!=r]</span><br><span class="line">res</span><br></pre></td></tr></table></figure><pre><code>[&#39;Python简介&#39;, &#39;Python入门语法&#39;, &#39;Python网络爬虫&#39;, &#39;文本数据编码&#39;, &#39;数据分析&#39;, &#39;可视化&#39;]</code></pre><h3 id="4-6-抽取出数字"><a href="#4-6-抽取出数字" class="headerlink" title="4.6 抽取出数字"></a>4.6 抽取出数字</h3><p>比如日期数据</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">text = <span class="string">&#x27;中国铁路工程集团有限公司成立于1950年3月，总部位于北京。目前中国中铁已经发展成中国和亚洲最大的多功能综合型建设集团。&#x27;</span></span><br><span class="line"></span><br><span class="line">pattern = <span class="string">&#x27;\d+&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;-&#x27;</span>.join(re.findall(pattern, text))</span><br></pre></td></tr></table></figure><pre><code>&#39;1950-3&#39;</code></pre><h2 id="初学python常出错误汇总"><a href="#初学python常出错误汇总" class="headerlink" title="初学python常出错误汇总"></a>初学python常出错误汇总</h2><h1>Table of Contents<span class="tocSkip"></span></h1><div class="toc"><ul class="toc-item"><li><span><a href="#1.-忘记写冒号" data-toc-modified-id="1.-忘记写冒号-1">1. 忘记写冒号</a></span></li><li><span><a href="#2.-误用-=" data-toc-modified-id="2.-误用-=-2">2. 误用 <code>=</code></a></span></li><li><span><a href="#3.-错误的缩进" data-toc-modified-id="3.-错误的缩进-3">3. 错误的缩进</a></span></li><li><span><a href="#4.-变量没有定义" data-toc-modified-id="4.-变量没有定义-4">4. 变量没有定义</a></span></li><li><span><a href="#5.-中英文输入法导致的错误" data-toc-modified-id="5.-中英文输入法导致的错误-5">5. 中英文输入法导致的错误</a></span></li><li><span><a href="#6.-不同数据类型的拼接" data-toc-modified-id="6.-不同数据类型的拼接-6">6. 不同数据类型的拼接</a></span></li><li><span><a href="#7.-索引位置问题" data-toc-modified-id="7.-索引位置问题-7">7. 索引位置问题</a></span></li><li><span><a href="#8.-使用字典中不存在的键" data-toc-modified-id="8.-使用字典中不存在的键-8">8. 使用字典中不存在的键</a></span></li><li><span><a href="#9.-忘了括号" data-toc-modified-id="9.-忘了括号-9">9. 忘了括号</a></span></li><li><span><a href="#10.-漏传参数" data-toc-modified-id="10.-漏传参数-10">10. 漏传参数</a></span></li><li><span><a href="#11.-缺失依赖库" data-toc-modified-id="11.-缺失依赖库-11">11. 缺失依赖库</a></span></li><li><span><a href="#12.-使用了python中的关键词" data-toc-modified-id="12.-使用了python中的关键词-12">12. 使用了python中的关键词</a></span></li><li><span><a href="#13.-文件编码问题" data-toc-modified-id="13.-文件编码问题-13">13. 文件编码问题</a></span></li></ul></div><h3 id="1-忘记写冒号"><a href="#1-忘记写冒号" class="headerlink" title="1. 忘记写冒号"></a>1. 忘记写冒号</h3><p>在 if、elif、else、for、while、def语句后面忘记添加 <code>:</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">age = <span class="number">42</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> age == <span class="number">42</span></span><br><span class="line">    print(<span class="string">&#x27;Hello!&#x27;</span>)</span><br></pre></td></tr></table></figure><pre><code>  File &quot;C:\Users\K\AppData\Local\Temp/ipykernel_10664/3345814400.py&quot;, line 2    在 if、elif、else、for、while、def语句后面忘记添加 ``:``        ^SyntaxError: invalid character &#39;、&#39; (U+3001)</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">age = <span class="number">42</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> age == <span class="number">42</span>:</span><br><span class="line">    print(<span class="string">&#x27;Hello!&#x27;</span>)</span><br></pre></td></tr></table></figure><pre><code>Hello!</code></pre><h3 id="2-误用"><a href="#2-误用" class="headerlink" title="2. 误用 ="></a>2. 误用 <code>=</code></h3><p><code>=</code> 是赋值操作，而判断两个值是否相等是 <code>==</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">gender = <span class="string">&#x27;男&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> gender = <span class="string">&#x27;男&#x27;</span>:</span><br><span class="line">    print(<span class="string">&#x27;Man&#x27;</span>)</span><br></pre></td></tr></table></figure><pre><code>  File &quot;C:\Users\K\AppData\Local\Temp/ipykernel_10664/3521952266.py&quot;, line 3    if gender = &#39;男&#39;:              ^SyntaxError: invalid syntax</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">gender = <span class="string">&#x27;男&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> gender == <span class="string">&#x27;男&#x27;</span>:</span><br><span class="line">    print(<span class="string">&#x27;Man&#x27;</span>)</span><br></pre></td></tr></table></figure><pre><code>Man</code></pre><h3 id="3-错误的缩进"><a href="#3-错误的缩进" class="headerlink" title="3. 错误的缩进"></a>3. 错误的缩进</h3><p>Python用缩进区分代码块，常见的错误用法：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">&#x27;Hello!&#x27;</span>)</span><br><span class="line"> print(<span class="string">&#x27;Howdy!&#x27;</span>)</span><br></pre></td></tr></table></figure><pre><code>  File &quot;C:\Users\K\AppData\Local\Temp/ipykernel_10664/1063544861.py&quot;, line 2    print(&#39;Howdy!&#39;)    ^IndentationError: unexpected indent</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">&#x27;Hello!&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;Howdy!&#x27;</span>)</span><br></pre></td></tr></table></figure><pre><code>Hello!Howdy!</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">num = <span class="number">25</span></span><br><span class="line"><span class="keyword">if</span> num == <span class="number">25</span>:</span><br><span class="line">print(<span class="string">&#x27;Hello!&#x27;</span>)</span><br></pre></td></tr></table></figure><pre><code>  File &quot;C:\Users\K\AppData\Local\Temp/ipykernel_10664/496658320.py&quot;, line 3    print(&#39;Hello!&#39;)    ^IndentationError: expected an indented block</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">num = <span class="number">25</span></span><br><span class="line"><span class="keyword">if</span> num == <span class="number">25</span>:</span><br><span class="line">    print(<span class="string">&#x27;Hello!&#x27;</span>)</span><br></pre></td></tr></table></figure><pre><code>Hello!</code></pre><h3 id="4-变量没有定义"><a href="#4-变量没有定义" class="headerlink" title="4. 变量没有定义"></a>4. 变量没有定义</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> ct <span class="keyword">in</span> [<span class="string">&#x27;New York&#x27;</span>, <span class="string">&#x27;Bei Jing&#x27;</span>, <span class="string">&#x27;Tokyo&#x27;</span>]:</span><br><span class="line">    print(<span class="string">&#x27;This is a mega city&#x27;</span>)</span><br></pre></td></tr></table></figure><pre><code>---------------------------------------------------------------------------NameError                                 Traceback (most recent call last)~\AppData\Local\Temp/ipykernel_10664/3754049698.py in &lt;module&gt;----&gt; 1 if ct in [&#39;New York&#39;, &#39;Bei Jing&#39;, &#39;Tokyo&#39;]:      2     print(&#39;This is a mega city&#39;)NameError: name &#39;ct&#39; is not defined</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">city =<span class="string">&#x27;New York&#x27;</span></span><br><span class="line"><span class="keyword">if</span> city <span class="keyword">in</span> [<span class="string">&#x27;New York&#x27;</span>, <span class="string">&#x27;Bei Jing&#x27;</span>, <span class="string">&#x27;Tokyo&#x27;</span>]:</span><br><span class="line">    print(<span class="string">&#x27;This is a mega city&#x27;</span>)</span><br></pre></td></tr></table></figure><pre><code>This is a mega city</code></pre><h3 id="5-中英文输入法导致的错误"><a href="#5-中英文输入法导致的错误" class="headerlink" title="5. 中英文输入法导致的错误"></a>5. 中英文输入法导致的错误</h3><ul><li>英文冒号</li><li>英文括号</li><li>英文逗号</li><li>英文单双引号</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> <span class="number">5</span>&gt;<span class="number">3</span>：</span><br><span class="line">    print(<span class="string">&#x27;5比3大&#x27;</span>)</span><br></pre></td></tr></table></figure><pre><code>  File &quot;C:\Users\K\AppData\Local\Temp/ipykernel_10664/2342601262.py&quot;, line 1    if 5&gt;3：          ^SyntaxError: invalid character &#39;：&#39; (U+FF1A)</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> <span class="number">5</span>&gt;<span class="number">3</span>:</span><br><span class="line">    print(<span class="string">&#x27;5比3大&#x27;</span>)</span><br></pre></td></tr></table></figure><pre><code>5比3大</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">spam = [<span class="number">1</span>, <span class="number">2</span>， <span class="number">3</span>]</span><br></pre></td></tr></table></figure><pre><code>  File &quot;C:\Users\K\AppData\Local\Temp/ipykernel_10664/4140657451.py&quot;, line 1    spam = [1, 2， 3]                ^SyntaxError: invalid character &#39;，&#39; (U+FF0C)</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> <span class="number">5</span>&gt;<span class="number">3</span>:</span><br><span class="line">    print(<span class="string">&#x27;5比3大&#x27;</span>)</span><br></pre></td></tr></table></figure><pre><code>5比3大</code></pre><h3 id="6-不同数据类型的拼接"><a href="#6-不同数据类型的拼接" class="headerlink" title="6. 不同数据类型的拼接"></a>6. 不同数据类型的拼接</h3><p>同种数据类型  <strong>字符串/列表/元组</strong>   支持拼接</p><p><strong>字典/集合</strong>不支持拼接</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;I have &#x27;</span> + <span class="number">12</span> + <span class="string">&#x27; eggs.&#x27;</span></span><br></pre></td></tr></table></figure><pre><code>---------------------------------------------------------------------------TypeError                                 Traceback (most recent call last)~\AppData\Local\Temp/ipykernel_10664/4139271858.py in &lt;module&gt;----&gt; 1 &#39;I have &#39; + 12 + &#39; eggs.&#39;TypeError: can only concatenate str (not &quot;int&quot;) to str</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;I have &#123;&#125; eggs.&#x27;</span>.<span class="built_in">format</span>(<span class="number">12</span>)</span><br></pre></td></tr></table></figure><pre><code>&#39;I have 12 eggs.&#39;</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>]+<span class="string">&#x27;def&#x27;</span></span><br></pre></td></tr></table></figure><pre><code>---------------------------------------------------------------------------TypeError                                 Traceback (most recent call last)~\AppData\Local\Temp/ipykernel_10664/1228898207.py in &lt;module&gt;----&gt; 1 [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;]+&#39;def&#39;TypeError: can only concatenate list (not &quot;str&quot;) to list</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>)+[<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>]</span><br></pre></td></tr></table></figure><pre><code>---------------------------------------------------------------------------TypeError                                 Traceback (most recent call last)~\AppData\Local\Temp/ipykernel_10664/3323286593.py in &lt;module&gt;----&gt; 1 (&#39;a&#39;, &#39;b&#39;, &#39;c&#39;)+[&#39;a&#39;, &#39;b&#39;, &#39;c&#39;]TypeError: can only concatenate tuple (not &quot;list&quot;) to tuple</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">set</span>([<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>])+<span class="built_in">set</span>([<span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;e&#x27;</span>])</span><br></pre></td></tr></table></figure><pre><code>---------------------------------------------------------------------------TypeError                                 Traceback (most recent call last)~\AppData\Local\Temp/ipykernel_10664/2208283358.py in &lt;module&gt;----&gt; 1 set([&#39;a&#39;, &#39;b&#39;, &#39;c&#39;])+set([&#39;d&#39;, &#39;e&#39;])TypeError: unsupported operand type(s) for +: &#39;set&#39; and &#39;set&#39;</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">grades1 = &#123;<span class="string">&#x27;Mary&#x27;</span>:<span class="number">99</span>, <span class="string">&#x27;Henry&#x27;</span>:<span class="number">77</span>&#125;</span><br><span class="line">grades2 = &#123;<span class="string">&#x27;David&#x27;</span>:<span class="number">88</span>, <span class="string">&#x27;Unique&#x27;</span>:<span class="number">89</span>&#125;</span><br><span class="line"></span><br><span class="line">grades1+grades2</span><br></pre></td></tr></table></figure><pre><code>---------------------------------------------------------------------------TypeError                                 Traceback (most recent call last)~\AppData\Local\Temp/ipykernel_10664/2891193890.py in &lt;module&gt;      2 grades2 = &#123;&#39;David&#39;:88, &#39;Unique&#39;:89&#125;      3 ----&gt; 4 grades1+grades2TypeError: unsupported operand type(s) for +: &#39;dict&#39; and &#39;dict&#39;</code></pre><h3 id="7-索引位置问题"><a href="#7-索引位置问题" class="headerlink" title="7. 索引位置问题"></a>7. 索引位置问题</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">spam = [<span class="string">&#x27;cat&#x27;</span>, <span class="string">&#x27;dog&#x27;</span>, <span class="string">&#x27;mouse&#x27;</span>]</span><br><span class="line">print(spam[<span class="number">5</span>])</span><br></pre></td></tr></table></figure><pre><code>---------------------------------------------------------------------------IndexError                                Traceback (most recent call last)~\AppData\Local\Temp/ipykernel_10664/1565169658.py in &lt;module&gt;      1 spam = [&#39;cat&#39;, &#39;dog&#39;, &#39;mouse&#39;]----&gt; 2 print(spam[5])IndexError: list index out of range</code></pre><h3 id="8-使用字典中不存在的键"><a href="#8-使用字典中不存在的键" class="headerlink" title="8. 使用字典中不存在的键"></a>8. 使用字典中不存在的键</h3><p>在字典对象中访问 key 可以使用 <code>[]</code>，</p><p>但是如果该 key 不存在，就会导致：KeyError: ‘zebra’</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">spam = &#123;<span class="string">&#x27;cat&#x27;</span>: <span class="string">&#x27;Zophie&#x27;</span>, </span><br><span class="line">        <span class="string">&#x27;dog&#x27;</span>: <span class="string">&#x27;Basil&#x27;</span>, </span><br><span class="line">        <span class="string">&#x27;mouse&#x27;</span>: <span class="string">&#x27;Whiskers&#x27;</span>&#125;</span><br><span class="line"></span><br><span class="line">print(spam[<span class="string">&#x27;zebra&#x27;</span>])</span><br></pre></td></tr></table></figure><pre><code>---------------------------------------------------------------------------KeyError                                  Traceback (most recent call last)~\AppData\Local\Temp/ipykernel_10664/538569725.py in &lt;module&gt;      3         &#39;mouse&#39;: &#39;Whiskers&#39;&#125;      4 ----&gt; 5 print(spam[&#39;zebra&#39;])KeyError: &#39;zebra&#39;</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">spam = &#123;<span class="string">&#x27;cat&#x27;</span>: <span class="string">&#x27;Zophie&#x27;</span>, </span><br><span class="line">        <span class="string">&#x27;dog&#x27;</span>: <span class="string">&#x27;Basil&#x27;</span>, </span><br><span class="line">        <span class="string">&#x27;mouse&#x27;</span>: <span class="string">&#x27;Whiskers&#x27;</span>&#125;</span><br><span class="line"><span class="comment"># 为了避免这种情况，可以使用 get 方法，key 不存在时，get 默认返回 None</span></span><br><span class="line">print(spam.get(<span class="string">&#x27;zebra&#x27;</span>))</span><br></pre></td></tr></table></figure><pre><code>None</code></pre><h3 id="9-忘了括号"><a href="#9-忘了括号" class="headerlink" title="9. 忘了括号"></a>9. 忘了括号</h3><p>当函数中传入的是函数或者方法时，容易漏写括号</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">spam = &#123;<span class="string">&#x27;cat&#x27;</span>: <span class="string">&#x27;Zophie&#x27;</span>, </span><br><span class="line">        <span class="string">&#x27;dog&#x27;</span>: <span class="string">&#x27;Basil&#x27;</span>, </span><br><span class="line">        <span class="string">&#x27;mouse&#x27;</span>: <span class="string">&#x27;Whiskers&#x27;</span>&#125;</span><br><span class="line"></span><br><span class="line">print(spam.get(<span class="string">&#x27;zebra&#x27;</span>)  <span class="comment">#end of funtion</span></span><br></pre></td></tr></table></figure><pre><code>  File &quot;C:\Users\K\AppData\Local\Temp/ipykernel_10664/2572607692.py&quot;, line 5    print(spam.get(&#39;zebra&#39;)  #end of funtion                                            ^SyntaxError: unexpected EOF while parsing</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">spam = &#123;<span class="string">&#x27;cat&#x27;</span>: <span class="string">&#x27;Zophie&#x27;</span>, </span><br><span class="line">        <span class="string">&#x27;dog&#x27;</span>: <span class="string">&#x27;Basil&#x27;</span>, </span><br><span class="line">        <span class="string">&#x27;mouse&#x27;</span>: <span class="string">&#x27;Whiskers&#x27;</span>&#125;</span><br><span class="line"></span><br><span class="line">print(spam.get(<span class="string">&#x27;zebra&#x27;</span>)) </span><br></pre></td></tr></table></figure><pre><code>None</code></pre><h3 id="10-漏传参数"><a href="#10-漏传参数" class="headerlink" title="10. 漏传参数"></a>10. 漏传参数</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">diyadd</span>(<span class="params">x, y, z</span>):</span></span><br><span class="line">    <span class="keyword">return</span> x+y+z</span><br><span class="line"></span><br><span class="line">diyadd(<span class="number">1</span>, <span class="number">2</span>)</span><br></pre></td></tr></table></figure><pre><code>---------------------------------------------------------------------------TypeError                                 Traceback (most recent call last)~\AppData\Local\Temp/ipykernel_10664/2098564533.py in &lt;module&gt;      2     return x+y+z      3 ----&gt; 4 diyadd(1, 2)TypeError: diyadd() missing 1 required positional argument: &#39;z&#39;</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">diyadd(<span class="number">1</span>, <span class="number">2</span>, <span class="number">4</span>)</span><br></pre></td></tr></table></figure><pre><code>7</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">### 11. 缺失依赖库</span></span><br><span class="line">电脑中没有相关的库</span><br></pre></td></tr></table></figure><pre><code>---------------------------------------------------------------------------NameError                                 Traceback (most recent call last)~\AppData\Local\Temp/ipykernel_10664/4132064636.py in &lt;module&gt;      1 ### 11. 缺失依赖库----&gt; 2 电脑中没有相关的库NameError: name &#39;电脑中没有相关的库&#39; is not defined</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">!pip install packagename</span><br></pre></td></tr></table></figure><h3 id="12-使用了python中的关键词"><a href="#12-使用了python中的关键词" class="headerlink" title="12. 使用了python中的关键词"></a>12. 使用了python中的关键词</h3><p>如try、except、def、class、object、None、True、False等</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> = <span class="number">5</span></span><br><span class="line">print(<span class="keyword">try</span>)</span><br></pre></td></tr></table></figure><pre><code>  File &quot;C:\Users\K\AppData\Local\Temp/ipykernel_10664/3569836141.py&quot;, line 1    try = 5        ^SyntaxError: invalid syntax</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">5</span></span><br><span class="line">print(a)</span><br></pre></td></tr></table></figure><pre><code>5</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">def = 6</span><br><span class="line">print(<span class="function"><span class="keyword">def</span>)</span></span><br></pre></td></tr></table></figure><pre><code>  File &quot;C:\Users\K\AppData\Local\Temp/ipykernel_10664/723079031.py&quot;, line 1    def = 6        ^SyntaxError: invalid syntax</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">d = <span class="number">6</span></span><br><span class="line">print(d)</span><br></pre></td></tr></table></figure><pre><code>6</code></pre><h3 id="13-文件编码问题"><a href="#13-文件编码问题" class="headerlink" title="13. 文件编码问题"></a>13. 文件编码问题</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">df = pd.read_csv(<span class="string">&#x27;data/twitter_sentiment.csv&#x27;</span>)</span><br><span class="line">df.head()</span><br></pre></td></tr></table></figure><pre><code>---------------------------------------------------------------------------UnicodeDecodeError                        Traceback (most recent call last)~\AppData\Local\Temp/ipykernel_10664/2402417499.py in &lt;module&gt;      1 import pandas as pd      2 ----&gt; 3 df = pd.read_csv(&#39;data/twitter_sentiment.csv&#39;)      4 df.head()~\anaconda3\lib\site-packages\pandas\util\_decorators.py in wrapper(*args, **kwargs)    309                     stacklevel=stacklevel,    310                 )--&gt; 311             return func(*args, **kwargs)    312     313         return wrapper~\anaconda3\lib\site-packages\pandas\io\parsers\readers.py in read_csv(filepath_or_buffer, sep, delimiter, header, names, index_col, usecols, squeeze, prefix, mangle_dupe_cols, dtype, engine, converters, true_values, false_values, skipinitialspace, skiprows, skipfooter, nrows, na_values, keep_default_na, na_filter, verbose, skip_blank_lines, parse_dates, infer_datetime_format, keep_date_col, date_parser, dayfirst, cache_dates, iterator, chunksize, compression, thousands, decimal, lineterminator, quotechar, quoting, doublequote, escapechar, comment, encoding, encoding_errors, dialect, error_bad_lines, warn_bad_lines, on_bad_lines, delim_whitespace, low_memory, memory_map, float_precision, storage_options)    584     kwds.update(kwds_defaults)    585 --&gt; 586     return _read(filepath_or_buffer, kwds)    587     588 ~\anaconda3\lib\site-packages\pandas\io\parsers\readers.py in _read(filepath_or_buffer, kwds)    480     481     # Create the parser.--&gt; 482     parser = TextFileReader(filepath_or_buffer, **kwds)    483     484     if chunksize or iterator:~\anaconda3\lib\site-packages\pandas\io\parsers\readers.py in __init__(self, f, engine, **kwds)    809             self.options[&quot;has_index_names&quot;] = kwds[&quot;has_index_names&quot;]    810 --&gt; 811         self._engine = self._make_engine(self.engine)    812     813     def close(self):~\anaconda3\lib\site-packages\pandas\io\parsers\readers.py in _make_engine(self, engine)   1038             )   1039         # error: Too many arguments for &quot;ParserBase&quot;-&gt; 1040         return mapping[engine](self.f, **self.options)  # type: ignore[call-arg]   1041    1042     def _failover_to_python(self):~\anaconda3\lib\site-packages\pandas\io\parsers\c_parser_wrapper.py in __init__(self, src, **kwds)     67         kwds[&quot;dtype&quot;] = ensure_dtype_objs(kwds.get(&quot;dtype&quot;, None))     68         try:---&gt; 69             self._reader = parsers.TextReader(self.handles.handle, **kwds)     70         except Exception:     71             self.handles.close()~\anaconda3\lib\site-packages\pandas\_libs\parsers.pyx in pandas._libs.parsers.TextReader.__cinit__()~\anaconda3\lib\site-packages\pandas\_libs\parsers.pyx in pandas._libs.parsers.TextReader._get_header()~\anaconda3\lib\site-packages\pandas\_libs\parsers.pyx in pandas._libs.parsers.TextReader._tokenize_rows()~\anaconda3\lib\site-packages\pandas\_libs\parsers.pyx in pandas._libs.parsers.raise_parser_error()UnicodeDecodeError: &#39;utf-8&#39; codec can&#39;t decode bytes in position 31589-31590: invalid continuation byte</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line"><span class="comment">#gbk/utf-8只能解决大部分编码问题，但不能解决全部问题</span></span><br><span class="line">df = pd.read_csv(<span class="string">&#x27;data/twitter_sentiment.csv&#x27;</span>, encoding=<span class="string">&#x27;gbk&#x27;</span>)</span><br><span class="line">df.head()</span><br></pre></td></tr></table></figure><pre><code>---------------------------------------------------------------------------UnicodeDecodeError                        Traceback (most recent call last)~\AppData\Local\Temp/ipykernel_10664/1498823136.py in &lt;module&gt;      2       3 #gbk/utf-8只能解决大部分编码问题，但不能解决全部问题----&gt; 4 df = pd.read_csv(&#39;data/twitter_sentiment.csv&#39;, encoding=&#39;gbk&#39;)      5 df.head()~\anaconda3\lib\site-packages\pandas\util\_decorators.py in wrapper(*args, **kwargs)    309                     stacklevel=stacklevel,    310                 )--&gt; 311             return func(*args, **kwargs)    312     313         return wrapper~\anaconda3\lib\site-packages\pandas\io\parsers\readers.py in read_csv(filepath_or_buffer, sep, delimiter, header, names, index_col, usecols, squeeze, prefix, mangle_dupe_cols, dtype, engine, converters, true_values, false_values, skipinitialspace, skiprows, skipfooter, nrows, na_values, keep_default_na, na_filter, verbose, skip_blank_lines, parse_dates, infer_datetime_format, keep_date_col, date_parser, dayfirst, cache_dates, iterator, chunksize, compression, thousands, decimal, lineterminator, quotechar, quoting, doublequote, escapechar, comment, encoding, encoding_errors, dialect, error_bad_lines, warn_bad_lines, on_bad_lines, delim_whitespace, low_memory, memory_map, float_precision, storage_options)    584     kwds.update(kwds_defaults)    585 --&gt; 586     return _read(filepath_or_buffer, kwds)    587     588 ~\anaconda3\lib\site-packages\pandas\io\parsers\readers.py in _read(filepath_or_buffer, kwds)    480     481     # Create the parser.--&gt; 482     parser = TextFileReader(filepath_or_buffer, **kwds)    483     484     if chunksize or iterator:~\anaconda3\lib\site-packages\pandas\io\parsers\readers.py in __init__(self, f, engine, **kwds)    809             self.options[&quot;has_index_names&quot;] = kwds[&quot;has_index_names&quot;]    810 --&gt; 811         self._engine = self._make_engine(self.engine)    812     813     def close(self):~\anaconda3\lib\site-packages\pandas\io\parsers\readers.py in _make_engine(self, engine)   1038             )   1039         # error: Too many arguments for &quot;ParserBase&quot;-&gt; 1040         return mapping[engine](self.f, **self.options)  # type: ignore[call-arg]   1041    1042     def _failover_to_python(self):~\anaconda3\lib\site-packages\pandas\io\parsers\c_parser_wrapper.py in __init__(self, src, **kwds)     67         kwds[&quot;dtype&quot;] = ensure_dtype_objs(kwds.get(&quot;dtype&quot;, None))     68         try:---&gt; 69             self._reader = parsers.TextReader(self.handles.handle, **kwds)     70         except Exception:     71             self.handles.close()~\anaconda3\lib\site-packages\pandas\_libs\parsers.pyx in pandas._libs.parsers.TextReader.__cinit__()~\anaconda3\lib\site-packages\pandas\_libs\parsers.pyx in pandas._libs.parsers.TextReader._get_header()~\anaconda3\lib\site-packages\pandas\_libs\parsers.pyx in pandas._libs.parsers.TextReader._tokenize_rows()~\anaconda3\lib\site-packages\pandas\_libs\parsers.pyx in pandas._libs.parsers.raise_parser_error()UnicodeDecodeError: &#39;gbk&#39; codec can&#39;t decode byte 0xbd in position 10864: illegal multibyte sequence</code></pre><h3 id="那怎么找到正确的编码参数呢？"><a href="#那怎么找到正确的编码参数呢？" class="headerlink" title="那怎么找到正确的编码参数呢？"></a>那怎么找到正确的编码参数呢？</h3><p>上面的程序会提示编码错误， 尝试encoding编码参数传入utf-8、gbk，也没有解决问题。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> chardet</span><br><span class="line"></span><br><span class="line"><span class="comment">#读取为二进制数据</span></span><br><span class="line">binary_data = <span class="built_in">open</span>(<span class="string">&#x27;data/twitter_sentiment.csv&#x27;</span>, <span class="string">&#x27;rb&#x27;</span>).read()</span><br><span class="line"></span><br><span class="line"><span class="comment">#传给chardet.detect，稍等片刻</span></span><br><span class="line">chardet.detect(binary_data)</span><br></pre></td></tr></table></figure><pre><code>&#123;&#39;encoding&#39;: &#39;Windows-1252&#39;, &#39;confidence&#39;: 0.7291192008535122, &#39;language&#39;: &#39;&#39;&#125;</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">df = pd.read_csv(<span class="string">&#x27;data/twitter_sentiment.csv&#x27;</span>, encoding=<span class="string">&#x27;Windows-1252&#x27;</span>)</span><br><span class="line">df.head()</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>ItemID</th>      <th>Sentiment</th>      <th>SentimentText</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>1</td>      <td>0</td>      <td>is so sad for my APL frie...</td>    </tr>    <tr>      <th>1</th>      <td>2</td>      <td>0</td>      <td>I missed the New Moon trail...</td>    </tr>    <tr>      <th>2</th>      <td>3</td>      <td>1</td>      <td>omg its already 7:30 :O</td>    </tr>    <tr>      <th>3</th>      <td>4</td>      <td>0</td>      <td>.. Omgaga. Im sooo  im gunna CRy. I'...</td>    </tr>    <tr>      <th>4</th>      <td>5</td>      <td>0</td>      <td>i think mi bf is cheating on me!!!   ...</td>    </tr>  </tbody></table></div><h3 id="14-路径字符串写法"><a href="#14-路径字符串写法" class="headerlink" title="14. 路径字符串写法"></a>14. 路径字符串写法</h3><ul><li>Mac&amp;Win 推荐使用 <code>/</code> 写法</li><li>如果使用<code>\</code> 写法，安全起见，请换成<code>\\</code>  （Mac不支持<code>\\</code> ）</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">\n</span><br><span class="line">\t</span><br><span class="line">\d</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">open</span>(<span class="string">&#x27;data/test.txt&#x27;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>).read()</span><br></pre></td></tr></table></figure><pre><code>&#39;章节设计\n\n第一部分  环境配置\n第二部分  快速入门python\n第三部分  网络爬虫\n第四部分  简单的文本分析\n第五部分  进阶文本分析&#39;</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">open</span>(<span class="string">&#x27;data\test.txt&#x27;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>).read()</span><br></pre></td></tr></table></figure><pre><code>---------------------------------------------------------------------------OSError                                   Traceback (most recent call last)~\AppData\Local\Temp/ipykernel_10664/2396048479.py in &lt;module&gt;----&gt; 1 open(&#39;data\test.txt&#39;, encoding=&#39;utf-8&#39;).read()OSError: [Errno 22] Invalid argument: &#39;data\test.txt&#39;</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">open</span>(<span class="string">&#x27;data\\test.txt&#x27;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>).read()</span><br></pre></td></tr></table></figure><pre><code>&#39;章节设计\n\n第一部分  环境配置\n第二部分  快速入门python\n第三部分  网络爬虫\n第四部分  简单的文本分析\n第五部分  进阶文本分析&#39;</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">open</span>(<span class="string">&#x27;data\Test.txt&#x27;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>).read()</span><br></pre></td></tr></table></figure><pre><code>&#39;章节设计\n\n第一部分  环境配置\n第二部分  快速入门python\n第三部分  网络爬虫\n第四部分  简单的文本分析\n第五部分  进阶文本分析&#39;</code></pre><p>参考文章：</p><ul><li><a href="https://gitee.com/zhangkaiheng/CIT_Teaching/tree/master/CIT20201122_Python"><strong>CIT20201122_Python</strong></a></li><li><a href="https://www.bilibili.com/video/BV1eb411h7sP">Python语法快速入门</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Anaconda+VScode简便舒适轻量级Python环境搭建</title>
      <link href="c6fb4f64.html"/>
      <url>c6fb4f64.html</url>
      
        <content type="html"><![CDATA[<h1 id="Anaconda-VScode简便舒适轻量级Python环境搭建"><a href="#Anaconda-VScode简便舒适轻量级Python环境搭建" class="headerlink" title="Anaconda+VScode简便舒适轻量级Python环境搭建"></a>Anaconda+VScode简便舒适轻量级Python环境搭建</h1><h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><p>工欲善其事，必先利其器。正确配置Python学习和开发环境，一次完全配置，后面学习无忧，对以后高效的学习效率、更少的报错有着巨大的帮助。</p><h2 id="准备"><a href="#准备" class="headerlink" title="准备"></a>准备</h2><ol><li><p>Python官网安装包（不推荐，了解就行）：<a href="https://www.python.org/downloads/">Python官网</a>最新的安装包不稳定可能出现不兼容问题类似小白鼠，还有就是太精简了；若要准备计算机等级考试Python二级，可到<a href="http://ncre.neea.edu.cn/html1/report/1807/2866-1.htm">全国计算机等级考试官网</a>下载对应版本并按照给的步骤安装说明进行安装。</p></li><li><p>Anaconda（一种Python集成开发环境软件，强烈推荐）：<a href="https://www.anaconda.com/products/individual">Anaconda官网</a>由于被dns污染或者被墙的缘故下载安装包比较慢，所以推荐到<a href="https://mirrors.tuna.tsinghua.edu.cn/anaconda/archive/?C=M&O=D">清华大学开源软件镜像站-Anaconda</a>快速下载相对最新的安装包：根据电脑系统选择相应版本，如Windows10的64位系统选择第一个，32位的选择第二个。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202201011254592.png" alt="1"></p></li><li><p>Visual Studio Code（强烈推荐，简称VScode轻量级代码编辑器）：<a href="https://code.visualstudio.com/Download">官网VScode</a>作为微软公司旗下的一款软件，对windows系统兼容性很好，软件打开快速高效，内存占用低，可配合丰富扩展插件，自由度高。下载安装包选择对应系统版本就行。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202201011301879.png" alt="8"></p></li><li><p>Pycharm（代码编辑器，不推荐）：可能好多视频和文章教程建议小白安装使用编辑代码，但是每次打开软件右下角都要长时间加载，内存占用高，插件商店有被墙而安装增加了门槛，个人觉得减少个人学习效率以及等待加载期间浪费了时间。</p></li><li><p>Jupyter Notebook（代码编辑器，推荐除了爬虫以外的数据分析等领域用）：因为Anaconda自带jupyternotebook的缘故不必下载，优点是可以代码一步一步运行并看到结果，演示效果好，缺点也有代码提示功能比较弱。</p></li></ol><p>总的来说，您只用按照要求下载第二项和第三项，下面的安装演示以win11环境为例，其他系统环境大差不差。</p><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><h3 id="Anaconda的安装"><a href="#Anaconda的安装" class="headerlink" title="Anaconda的安装"></a>Anaconda的安装</h3><p>双击下载好的Anaconda安装软件包，简单来说就是傻瓜式的Next一直按照默认安装，但是要注意以下两点：</p><ol><li><p>到下图界面要勾选上Add Anaconda3 to my Path environment variable，简单翻译就是加入环境变量</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202201011321489.png" alt="3xx"></p></li><li><p>最后安装好的时候，取消勾选所有选项然后点击Finish，不然会使用浏览器打开网页</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202201011323062.png" alt="5"></p></li></ol><h3 id="VScode的安装"><a href="#VScode的安装" class="headerlink" title="VScode的安装"></a>VScode的安装</h3><p>双击下载好的VScode安装软件包，傻瓜式的Next一直按照默认安装就行。</p><h2 id="环境配置与优化"><a href="#环境配置与优化" class="headerlink" title="环境配置与优化"></a>环境配置与优化</h2><ol><li><p>第一次打开VScode后，默认界面语言是英文，右下角有安装语言包的提示，安装重启就行，重启后界面是中文便于理解，后面用过一段时间后是建议改为英文的。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202201011329255.png" alt="13"></p></li><li><p>个性化设置主题，重启后就可以按照提示自定义一些功能了，个人还是建议黑色主题，比较护眼。</p></li><li><p>创建工作文件夹并运行Python文件：在桌面或者你想要的位置创建一个以后用来存放Python的文件夹，本例新建一个test文件夹（名字自起），将文件夹拖拽到vscode界面</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202201011334927.png" alt="15"></p><p>然后点击信任（自己新建的文件夹还怕放病毒？）</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202201011335117.png" alt="16"></p><p>点击左侧第一个文件页图标可以看到资源管理器页面，在刚刚的test文件夹中新建helloworld.py文件，.py文件后缀代表了文件的类型，这里建议大家把电脑的显示文件后缀打开，可自行百度。然后打开文件用<strong>英文输入法</strong>输入print(‘hello world!’)然后Ctrl+S快捷键保存一下</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202201011336653.png" alt="17"></p><p>打开刚刚新建的文件后，右下角会有安装Python扩展插件的提示，安装即可，当然因为后面连接的是anaconda的python环境，还会安装其他和python有关的插件。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202201011340792.png" alt="20"></p><p>安装的插件可以点击左侧工具栏第5个也就是四个方块的图标查看<img src="https://gitee.com/cit_k/pictures/raw/master/picture/202201011346518.png" alt="32"></p><p>安装完之后会发现右下角会有选择Python环境的提示，我们select一下就发现有一个星星图标的选项，这得益于刚刚安装anaconda有勾选让其他软件检测到anaconda的python环境这一选项；我们选择它，这里的意思就是将VScode与anaconda进行连接。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202201011342069.png" alt="21"></p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202201011342855.png" alt="22"></p><p>用vscode自带的方式运行python文件：可以右键点击在终端运行Python文件，也可以点击右上角的开始按钮运行</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202201011351775.png" alt="34"></p><p>这样你就已经可以运行Python文件打印helloworld了，恭喜您进入到Python的世界。</p></li><li><p>一些优化：</p><p>优雅地运行：在插件商店搜索coderunner安装第一个插件，安装好后回到要运行的文件，右键就发现多了一个RunCode选项进行运行按钮；也可以利用快捷键Ctrl+Alt+N运行，要比上面的运行更快捷高效。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202201011353012.png" alt="33"></p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202201011356661.png" alt="35"></p><p>自动保存，你会发现运行文件前要把编辑的文件保存一下才能运行编辑后的代码，否则则是运行编辑钱的代码，类似于你编辑world文档没有养成手动保存的习惯然后突然没电了。。。方便起见点击文件点击自动保存即可。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202201011404411.png" alt="36"></p><p>CodeRunner插件的一些优化：</p><p>点击vscode左下角的齿轮图标点击设置即可进入设置页面，此时你可以点击右上角多出来的文件图标查看设置配置的setting.json文件（看一下就行，看完关掉）。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202201011407201.png" alt="44"></p><p>依次搜索runInTerminal（翻译：是否在终端运行，在输出运行界面好看但只输出不能输入且显示不限行数，在终端运行可输入输出但界面丑显示有最大行数限制，我个人是不开启平常在输出运行想要在终端运行时右键在终端运行即可）、saveFileBeforeRun、clearPreviousOutput、fileDirectoryAsCwd、executorMap，具体功能看英文名字也好了解，想具体了解的自行百度、必应与谷歌一下。其中executorMap打开json粘贴以下代码</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&quot;code-runner.executorMap&quot;: &#123;</span><br><span class="line">        &quot;python&quot;: &quot;set PYTHONIOENCODING=utf-8 &amp;&amp; python -u&quot;,</span><br><span class="line">        &#125;,</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202201011410177.png" alt="37"></p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202201011410541.png" alt="38"></p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202201011411951.png" alt="39"></p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202201011411866.png" alt="40"></p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202201011411500.png" alt="43"></p><p>自动编码识别：防止以后打开文件是乱码，开启自动识别编码</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202201011411101.png" alt="42"></p><p>Python插件设置以当前运行文件夹为运行工作位置，防止后面学习文件与文件之间相互找不到。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202201011411068.png" alt="41"></p><p>最后为了验证你设置的正不正确可以重新打开设置右上角的setting.json文件，你会发现你刚刚设置的其实都是编辑这个文件，编辑后的文件应该是以下内容，可自行对照，直接复制粘贴进去也行。</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;files.autoSave&quot;</span>: <span class="string">&quot;afterDelay&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;code-runner.saveFileBeforeRun&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">&quot;code-runner.clearPreviousOutput&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">&quot;code-runner.fileDirectoryAsCwd&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">&quot;python.terminal.executeInFileDir&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">&quot;files.autoGuessEncoding&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">&quot;code-runner.runInTerminal&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">&quot;code-runner.executorMap&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;python&quot;</span>: <span class="string">&quot;set PYTHONIOENCODING=utf-8 &amp;&amp; python -u&quot;</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>增强代码提示功能——安装aixcoder插件：经管院学子学编程不像信科院专业，vscode的代码提示功能有点差，还是推荐安装这款插件来提升你的码代码的效率。总的来说就是vscode插件商店搜索该插件安装，然后后台还会安装一个大数据+机器学习算法的软件来检测你的代码编辑习惯来精准提示你想要的代码，用得越多和你贴合度也就越多，具体安装教程可以看<a href="https://www.bilibili.com/video/BV1o44y1e77C/">miniconda+vscode+aixcoder+git配置</a>视频中的aixcode安装</p></li><li><p>Jupyter Notebook的使用，数据分析常常用到该编辑软件，你可以在开始界面的Anaconda文件下的Jupyter Notebook快捷方式打开，它会打开一个类似cmd的窗口（不能关闭，关闭意味着软件关闭），然后打开浏览器的<a href="http://localhost:8888/tree">http://localhost:8888/tree</a> 网口，其实就是用户文件目录的位置，我们找到刚刚桌面的test文件夹然后打开新建一个python文件，英文输入print(‘hello world’)点击工具栏的运行按钮即可运行。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202201011536668.png" alt="48"></p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202201011535096.png" alt="49"></p></li><li><p>Jupyter Lab的使用，就是Jupyter Notebook升级版，可以打开anaconda里选择Jupyter Lab打开，但是anaconda打开实在太慢了，我们直接Win+R快捷键打开cmd命令行，输入Jupyter Lab即可快速打开。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202201011535557.png" alt="50"></p></li></ol><h2 id="PIP换源、Python第三方扩展包和库的安装"><a href="#PIP换源、Python第三方扩展包和库的安装" class="headerlink" title="PIP换源、Python第三方扩展包和库的安装"></a>PIP换源、Python第三方扩展包和库的安装</h2><p>python之所以非常火的一个原因是它含有丰富的第三方扩展包，比如要爬虫就可以用ullib、requests包等，数据清晰与分析就有numpy、pandas，数据可视化就有matplotlib、pyecharts等，数据储存就有mysql、pymongo包等……那么，怎么安装呢？</p><p>百度一下你会发现要先安装pip（包管理器），然后命令安装pip install +包名，例如我要爬虫就要cmd输入如下命令，但是你会发现很慢因为是从国外网站下的。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install requests</span><br></pre></td></tr></table></figure><p>解决方法：Anaconda自带pip所以我们不用额外安装，接下来就是将国外的源换成国内就行了。打开<a href="https://mirror.tuna.tsinghua.edu.cn/help/pypi/">清华大学开源软件镜像站-PYPI</a>，然后Win+R快捷键打开cmd命令行，将代码一行一行复制然后在cmd右键粘贴回车运行，最后运行安装requests的命令发现有清华的网址即证明换源完成。你会发现Requirement already satisfied意思是已经安装了要安装的包，这是因为Anaconda不但自带PIP还自带一些常用的第三方扩展包，但是安装的方法我们还是要会的，因为毕竟咱不能保证学习只用到大众用的包吧？</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202201011506618.png" alt="47"></p><h2 id="END"><a href="#END" class="headerlink" title="END"></a>END</h2><p>经过以上的安装和配置，并且成功运行python文件打印hello world，配置好环境你就可以开始上手python学习了</p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python数据挖掘方法与应用</title>
      <link href="aa19c552.html"/>
      <url>aa19c552.html</url>
      
        <content type="html"><![CDATA[<h1 id="Python数据挖掘方法与应用"><a href="#Python数据挖掘方法与应用" class="headerlink" title="Python数据挖掘方法与应用"></a>Python数据挖掘方法与应用</h1><p><a href="http://rstat.leanote.com/cate/%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98%E5%BA%94%E7%94%A8">Python数据挖掘方法与应用</a></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 系统初始化</span></span><br><span class="line"><span class="comment"># run PyDm_fun.py</span></span><br><span class="line"><span class="keyword">from</span> PyDm_fun <span class="keyword">import</span> *</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">### 读数据csv（本地）</span></span><br><span class="line"><span class="comment">#BSdata=pd.read_csv(&#x27;BSdata.csv&#x27;,encoding=&#x27;utf-8&#x27;); BSdata[:6]</span></span><br><span class="line"><span class="comment">### 读数据csv（云端）</span></span><br><span class="line"><span class="comment">#url1=&#x27;http://leanote.com/api/file/getAttach?fileId=5abbb388ab6441507e002161&#x27;</span></span><br><span class="line"><span class="comment">#dat1=pd.read_csv(url1,encoding=&#x27;utf-8&#x27;); dat1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">### 读数据xlsx（本地）</span></span><br><span class="line">BSdata=pd.read_excel(<span class="string">&#x27;PyDm_data.xlsx&#x27;</span>,<span class="string">&#x27;BSdata&#x27;</span>); BSdata[:<span class="number">6</span>]</span><br><span class="line"><span class="comment">### 读数据csv（云端）</span></span><br><span class="line"><span class="comment">#url2=&#x27;http://leanote.com/api/file/getAttach?fileId=5abbb3aaab6441507e002167&#x27;</span></span><br><span class="line"><span class="comment">#dat2=pd.read_excel(url2,&#x27;BSdata&#x27;); dat2</span></span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>学号</th>      <th>性别</th>      <th>身高</th>      <th>体重</th>      <th>支出</th>      <th>开设</th>      <th>课程</th>      <th>软件</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>1510248008</td>      <td>女</td>      <td>167</td>      <td>71</td>      <td>46.0</td>      <td>不清楚</td>      <td>都未学过</td>      <td>No</td>    </tr>    <tr>      <th>1</th>      <td>1510229019</td>      <td>男</td>      <td>171</td>      <td>68</td>      <td>10.4</td>      <td>有必要</td>      <td>概率统计</td>      <td>Matlab</td>    </tr>    <tr>      <th>2</th>      <td>1512108019</td>      <td>女</td>      <td>175</td>      <td>73</td>      <td>21.0</td>      <td>有必要</td>      <td>统计方法</td>      <td>SPSS</td>    </tr>    <tr>      <th>3</th>      <td>1512332010</td>      <td>男</td>      <td>169</td>      <td>74</td>      <td>4.9</td>      <td>有必要</td>      <td>编程技术</td>      <td>Excel</td>    </tr>    <tr>      <th>4</th>      <td>1512331015</td>      <td>男</td>      <td>154</td>      <td>55</td>      <td>25.9</td>      <td>有必要</td>      <td>都学习过</td>      <td>Python</td>    </tr>    <tr>      <th>5</th>      <td>1516248014</td>      <td>男</td>      <td>183</td>      <td>76</td>      <td>85.6</td>      <td>不必要</td>      <td>编程技术</td>      <td>Excel</td>    </tr>  </tbody></table></div><h1 id="第1章-数据收集与软件应用"><a href="#第1章-数据收集与软件应用" class="headerlink" title="第1章 数据收集与软件应用"></a>第1章 数据收集与软件应用</h1><h2 id="1-3-Python编程基础"><a href="#1-3-Python编程基础" class="headerlink" title="1.3 Python编程基础"></a>1.3 Python编程基础</h2><h4 id="1-3-1-1-Python的工作目录"><a href="#1-3-1-1-Python的工作目录" class="headerlink" title="1.3.1.1 Python的工作目录"></a>1.3.1.1 Python的工作目录</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;&#x27;获得当前目录&#x27;&#x27;&#x27;</span></span><br><span class="line">%pwd</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;改变工作目录&#x27;&#x27;&#x27;</span></span><br><span class="line">%cd <span class="string">&quot;C:\Users\kit\Desktop\PyDmDC&quot;</span></span><br><span class="line">%pwd</span><br><span class="line"></span><br><span class="line">!<span class="built_in">dir</span></span><br></pre></td></tr></table></figure><pre><code>&#39;获得当前目录&#39;&#39;C:\\Users\\kit\\Desktop\\PyDmDC&#39;&#39;改变工作目录&#39;C:\Users\kit\Desktop\PyDmDC&#39;C:\\Users\\kit\\Desktop\\PyDmDC&#39; ������ C �еľ��� win10_ltsc �������к��� DA1F-F808 C:\Users\kit\Desktop\PyDmDC ��Ŀ¼2021/12/10  11:29    &lt;DIR&gt;          .2021/12/10  11:29    &lt;DIR&gt;          ..2021/12/08  18:16    &lt;DIR&gt;          .ipynb_checkpoints2021/12/08  19:04             3,102 BSdata1.csv2021/12/10  11:29         2,244,373 code.ipynb2021/12/10  11:18             7,243 LJdata.xlsx2021/12/09  18:20            41,788 PyDm_code.py2018/06/11  19:02         1,310,252 PyDm_data.xlsx2019/02/15  10:49           788,384 PyDm_exer.xlsx2021/12/10  11:17             8,322 PyDm_fun.py2021/12/10  14:30    &lt;DIR&gt;          __pycache__               7 ���ļ�      4,403,464 �ֽ�               4 ��Ŀ¼ 28,721,434,624 �����ֽ�</code></pre><h3 id="1-3-2-Python基本数据类型"><a href="#1-3-2-Python基本数据类型" class="headerlink" title="1.3.2 Python基本数据类型"></a>1.3.2 Python基本数据类型</h3><h4 id="1-3-2-1-数据对象及类型"><a href="#1-3-2-1-数据对象及类型" class="headerlink" title="1.3.2.1 数据对象及类型"></a>1.3.2.1 数据对象及类型</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 列举当前环境中的对象名</span></span><br><span class="line"><span class="comment"># who</span></span><br><span class="line">x=<span class="number">10</span>   <span class="comment">#创建对象x</span></span><br><span class="line"><span class="comment"># whos</span></span><br><span class="line"><span class="keyword">del</span> x   <span class="comment">#删除对象x</span></span><br><span class="line"><span class="comment"># who_ls</span></span><br></pre></td></tr></table></figure><h4 id="1-3-2-2-数据基本类型"><a href="#1-3-2-2-数据基本类型" class="headerlink" title="1.3.2.2 数据基本类型"></a>1.3.2.2 数据基本类型</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#数字</span></span><br><span class="line">n=<span class="number">10</span>       <span class="comment">#整数</span></span><br><span class="line">n</span><br><span class="line">print(<span class="string">&quot;n=&quot;</span>,n)</span><br></pre></td></tr></table></figure><pre><code>10n= 10</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">x=<span class="number">10.234</span>   <span class="comment">#实数</span></span><br><span class="line">x</span><br><span class="line">print(<span class="string">&quot;x=%10.5f&quot;</span>%x)</span><br></pre></td></tr></table></figure><pre><code>10.234x=  10.23400</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a=<span class="literal">True</span>;a</span><br><span class="line">b=<span class="literal">False</span>;b</span><br><span class="line"><span class="number">10</span>&gt;<span class="number">3</span></span><br><span class="line"><span class="number">10</span>&lt;<span class="number">3</span></span><br></pre></td></tr></table></figure><pre><code>TrueFalseTrueFalse</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 字符串</span></span><br><span class="line">s = <span class="string">&#x27;I love Python&#x27;</span>;s</span><br><span class="line">s[<span class="number">7</span>]</span><br><span class="line">s[<span class="number">2</span>:<span class="number">6</span>]</span><br><span class="line">s+s</span><br><span class="line">s*<span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">float</span>(<span class="string">&#x27;nan&#x27;</span>)</span><br></pre></td></tr></table></figure><pre><code>&#39;I love Python&#39;&#39;P&#39;&#39;love&#39;&#39;I love PythonI love Python&#39;&#39;I love PythonI love Python&#39;nan</code></pre><h4 id="1-3-3-3-标准数据类型"><a href="#1-3-3-3-标准数据类型" class="headerlink" title="1.3.3.3 标准数据类型"></a>1.3.3.3 标准数据类型</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#（1）List（列表）</span></span><br><span class="line">list1 =[] <span class="comment"># 空列表</span></span><br><span class="line">list1</span><br><span class="line">list1 = [<span class="string">&#x27;Python&#x27;</span>, <span class="number">786</span> , <span class="number">2.23</span>, <span class="string">&#x27;R&#x27;</span>, <span class="number">70.2</span>]</span><br><span class="line">list1 <span class="comment"># 输出完整列表</span></span><br><span class="line">list1[<span class="number">0</span>] <span class="comment"># 输出列表的第一个元素</span></span><br><span class="line">list1[<span class="number">1</span>:<span class="number">3</span>] <span class="comment"># 输出第二个至第三个元素</span></span><br><span class="line">list1[<span class="number">2</span>:] <span class="comment"># 输出从第三个开始至列表末尾的所有元素</span></span><br><span class="line">list1 * <span class="number">2</span> <span class="comment"># 输出列表两次</span></span><br><span class="line">list1 + list1[<span class="number">2</span>:<span class="number">4</span>] <span class="comment"># 打印组合的列表</span></span><br><span class="line"></span><br><span class="line">X=[<span class="number">1</span>,<span class="number">3</span>,<span class="number">6</span>,<span class="number">4</span>,<span class="number">9</span>]; X</span><br><span class="line">sex=[<span class="string">&#x27;女&#x27;</span>,<span class="string">&#x27;男&#x27;</span>,<span class="string">&#x27;男&#x27;</span>,<span class="string">&#x27;女&#x27;</span>,<span class="string">&#x27;男&#x27;</span>]</span><br><span class="line">sex</span><br><span class="line">weight=[<span class="number">67</span>,<span class="number">66</span>,<span class="number">83</span>,<span class="number">68</span>,<span class="number">70</span>];</span><br><span class="line">weight</span><br></pre></td></tr></table></figure><pre><code>[][&#39;Python&#39;, 786, 2.23, &#39;R&#39;, 70.2]&#39;Python&#39;[786, 2.23][2.23, &#39;R&#39;, 70.2][&#39;Python&#39;, 786, 2.23, &#39;R&#39;, 70.2, &#39;Python&#39;, 786, 2.23, &#39;R&#39;, 70.2][&#39;Python&#39;, 786, 2.23, &#39;R&#39;, 70.2, 2.23, &#39;R&#39;][1, 3, 6, 4, 9][&#39;女&#39;, &#39;男&#39;, &#39;男&#39;, &#39;女&#39;, &#39;男&#39;][67, 66, 83, 68, 70]</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#（2）Tuple（元组）</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#（3）Dictionary（字典）</span></span><br><span class="line"><span class="comment">#字典</span></span><br><span class="line">&#123;&#125;            <span class="comment">#空字典</span></span><br><span class="line">dict1=&#123;<span class="string">&#x27;name&#x27;</span>:<span class="string">&#x27;john&#x27;</span>,<span class="string">&#x27;code&#x27;</span>:<span class="number">6734</span>,<span class="string">&#x27;dept&#x27;</span>:<span class="string">&#x27;sales&#x27;</span>&#125;;dict1 <span class="comment">#定义字典</span></span><br><span class="line">dict1[<span class="string">&#x27;code&#x27;</span>]  <span class="comment"># 输出键为&#x27;code&#x27; 的值</span></span><br><span class="line">dict1.keys()   <span class="comment"># 输出所有键</span></span><br><span class="line">dict1.values() <span class="comment"># 输出所有值</span></span><br><span class="line"></span><br><span class="line">dict2=&#123;<span class="string">&#x27;sex&#x27;</span>: sex,<span class="string">&#x27;weight&#x27;</span>:weight&#125;; dict2 <span class="comment">#根据列表构成字典</span></span><br></pre></td></tr></table></figure><pre><code>&#123;&#125;&#123;&#39;name&#39;: &#39;john&#39;, &#39;code&#39;: 6734, &#39;dept&#39;: &#39;sales&#39;&#125;6734dict_keys([&#39;name&#39;, &#39;code&#39;, &#39;dept&#39;])dict_values([&#39;john&#39;, 6734, &#39;sales&#39;])&#123;&#39;sex&#39;: [&#39;女&#39;, &#39;男&#39;, &#39;男&#39;, &#39;女&#39;, &#39;男&#39;], &#39;weight&#39;: [67, 66, 83, 68, 70]&#125;</code></pre><h3 id="1-3-3-数值分析库numpy"><a href="#1-3-3-数值分析库numpy" class="headerlink" title="1.3.3 数值分析库numpy"></a>1.3.3 数值分析库numpy</h3><h4 id="1-3-3-1-一维数组"><a href="#1-3-3-1-一维数组" class="headerlink" title="1.3.3.1 一维数组"></a>1.3.3.1 一维数组</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np       <span class="comment">#加载数组包</span></span><br><span class="line">np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>])         <span class="comment">#一维数组</span></span><br><span class="line">np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,np.nan,<span class="number">5</span>])    <span class="comment">#包含缺失值的数组</span></span><br><span class="line"></span><br><span class="line">np.arange(<span class="number">9</span>)             <span class="comment">#数组序列</span></span><br><span class="line">np.arange(<span class="number">1</span>,<span class="number">9</span>,<span class="number">0.5</span>)       <span class="comment">#等差数列</span></span><br><span class="line">np.linspace(<span class="number">1</span>,<span class="number">9</span>,<span class="number">5</span>)       <span class="comment">#等距数列</span></span><br><span class="line"></span><br><span class="line">np.random.randint(<span class="number">1</span>,<span class="number">9</span>)   <span class="comment">#1~9随机数</span></span><br><span class="line">np.random.rand(<span class="number">10</span>)       <span class="comment">#10个均匀随机数</span></span><br><span class="line">np.random.randn(<span class="number">10</span>)      <span class="comment">#10个正态随机数</span></span><br></pre></td></tr></table></figure><pre><code>array([1, 2, 3, 4, 5])array([ 1.,  2.,  3., nan,  5.])array([0, 1, 2, 3, 4, 5, 6, 7, 8])array([1. , 1.5, 2. , 2.5, 3. , 3.5, 4. , 4.5, 5. , 5.5, 6. , 6.5, 7. ,       7.5, 8. , 8.5])array([1., 3., 5., 7., 9.])6array([0.583 , 0.5229, 0.9432, 0.8141, 0.8852, 0.591 , 0.3953, 0.5766,       0.5802, 0.5793])array([-0.226 ,  0.3343, -0.064 , -1.2475,  0.2884,  0.6884,  1.5187,        0.2326, -0.6825,  0.0741])</code></pre><h4 id="1-3-3-2-二维数组"><a href="#1-3-3-2-二维数组" class="headerlink" title="1.3.3.2 二维数组"></a>1.3.3.2 二维数组</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.array([[<span class="number">1</span>,<span class="number">2</span>],[<span class="number">3</span>,<span class="number">4</span>],[<span class="number">5</span>,<span class="number">6</span>]])   <span class="comment">#二维数组</span></span><br></pre></td></tr></table></figure><pre><code>array([[1, 2],       [3, 4],       [5, 6]])</code></pre><h4 id="1-3-3-3-数组的基本操作"><a href="#1-3-3-3-数组的基本操作" class="headerlink" title="1.3.3.3. 数组的基本操作"></a>1.3.3.3. 数组的基本操作</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">A=np.arange(<span class="number">9</span>).reshape(<span class="number">3</span>,<span class="number">3</span>);A        <span class="comment">#形成矩阵</span></span><br><span class="line">A.shape</span><br><span class="line">np.empty([<span class="number">3</span>,<span class="number">3</span>]) <span class="comment">#空数组</span></span><br><span class="line">np.zeros((<span class="number">3</span>,<span class="number">3</span>)) <span class="comment">#零矩阵</span></span><br><span class="line">np.ones((<span class="number">3</span>,<span class="number">3</span>))  <span class="comment">#1矩阵</span></span><br><span class="line">np.eye(<span class="number">3</span>) <span class="comment">#单位阵</span></span><br></pre></td></tr></table></figure><pre><code>array([[0, 1, 2],       [3, 4, 5],       [6, 7, 8]])(3, 3)array([[0.0000e+000, 0.0000e+000, 0.0000e+000],       [0.0000e+000, 0.0000e+000, 1.7391e-320],       [8.3445e-308, 2.1432e-312, 3.6248e+228]])array([[0., 0., 0.],       [0., 0., 0.],       [0., 0., 0.]])array([[1., 1., 1.],       [1., 1., 1.],       [1., 1., 1.]])array([[1., 0., 0.],       [0., 1., 0.],       [0., 0., 1.]])</code></pre><h3 id="1-3-4-数据分析库pandas"><a href="#1-3-4-数据分析库pandas" class="headerlink" title="1.3.4 数据分析库pandas"></a>1.3.4 数据分析库pandas</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd   <span class="comment">#加载数据分析包</span></span><br></pre></td></tr></table></figure><h4 id="1-3-4-1-序列-Seriers"><a href="#1-3-4-1-序列-Seriers" class="headerlink" title="1.3.4.1 序列: Seriers"></a>1.3.4.1 序列: Seriers</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#（1）创建序列（向量、一维数组）</span></span><br><span class="line">pd.Series()           <span class="comment">#生成空序列</span></span><br><span class="line">X=[<span class="number">1</span>,<span class="number">3</span>,<span class="number">6</span>,<span class="number">4</span>,<span class="number">9</span>]</span><br><span class="line">S1=pd.Series(X);S1</span><br><span class="line">S2=pd.Series(weight);S2</span><br><span class="line">S3=pd.Series(sex);S3</span><br></pre></td></tr></table></figure><pre><code>C:\Users\kit\AppData\Local\Temp/ipykernel_2184/269180152.py:2: DeprecationWarning: The default dtype for empty Series will be &#39;object&#39; instead of &#39;float64&#39; in a future version. Specify a dtype explicitly to silence this warning.  pd.Series()           #生成空序列Series([], dtype: float64)0    11    32    63    44    9dtype: int640    671    662    833    684    70dtype: int640    女1    男2    男3    女4    男dtype: object</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pd.concat([S2,S3],axis=<span class="number">0</span>)    <span class="comment">#按行并序列</span></span><br><span class="line">pd.concat([S2,S3],axis=<span class="number">1</span>)    <span class="comment">#按列并序列</span></span><br></pre></td></tr></table></figure><pre><code>0    671    662    833    684    700     女1     男2     男3     女4     男dtype: object</code></pre><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>0</th>      <th>1</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>67</td>      <td>女</td>    </tr>    <tr>      <th>1</th>      <td>66</td>      <td>男</td>    </tr>    <tr>      <th>2</th>      <td>83</td>      <td>男</td>    </tr>    <tr>      <th>3</th>      <td>68</td>      <td>女</td>    </tr>    <tr>      <th>4</th>      <td>70</td>      <td>男</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">S1[<span class="number">2</span>]</span><br><span class="line">S3[<span class="number">1</span>:<span class="number">4</span>]</span><br></pre></td></tr></table></figure><pre><code>61    男2    男3    女dtype: object</code></pre><h4 id="1-3-4-2-数据框-DataFrame"><a href="#1-3-4-2-数据框-DataFrame" class="headerlink" title="1.3.4.2 数据框: DataFrame"></a>1.3.4.2 数据框: DataFrame</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#（1）根据列表创建数据框</span></span><br><span class="line">pd.DataFrame()      <span class="comment">#生成空数据框</span></span><br><span class="line">pd.DataFrame(X, columns=[<span class="string">&#x27;X&#x27;</span>], index=<span class="built_in">range</span>(<span class="number">5</span>))</span><br><span class="line">pd.DataFrame(weight,columns=[<span class="string">&#x27;weight&#x27;</span>], index=[<span class="string">&#x27;A&#x27;</span>,<span class="string">&#x27;B&#x27;</span>,<span class="string">&#x27;C&#x27;</span>,<span class="string">&#x27;D&#x27;</span>,<span class="string">&#x27;E&#x27;</span>])</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>    </tr>  </thead>  <tbody>  </tbody></table></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>X</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>1</td>    </tr>    <tr>      <th>1</th>      <td>3</td>    </tr>    <tr>      <th>2</th>      <td>6</td>    </tr>    <tr>      <th>3</th>      <td>4</td>    </tr>    <tr>      <th>4</th>      <td>9</td>    </tr>  </tbody></table></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>weight</th>    </tr>  </thead>  <tbody>    <tr>      <th>A</th>      <td>67</td>    </tr>    <tr>      <th>B</th>      <td>66</td>    </tr>    <tr>      <th>C</th>      <td>83</td>    </tr>    <tr>      <th>D</th>      <td>68</td>    </tr>    <tr>      <th>E</th>      <td>70</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#（2）根据字典创建数据框</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;通过字典列表生成数据框是Python较快捷的方式 &#x27;&#x27;&#x27;</span></span><br><span class="line">df1=pd.DataFrame(&#123;<span class="string">&#x27;S1&#x27;</span>:S1,<span class="string">&#x27;S2&#x27;</span>:S2,<span class="string">&#x27;S3&#x27;</span>:S3&#125;);df1</span><br><span class="line">df2=pd.DataFrame(&#123;<span class="string">&#x27;sex&#x27;</span>:sex,<span class="string">&#x27;weight&#x27;</span>:weight&#125;,index=X);df2</span><br></pre></td></tr></table></figure><pre><code>&#39;通过字典列表生成数据框是Python较快捷的方式 &#39;</code></pre><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>S1</th>      <th>S2</th>      <th>S3</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>1</td>      <td>67</td>      <td>女</td>    </tr>    <tr>      <th>1</th>      <td>3</td>      <td>66</td>      <td>男</td>    </tr>    <tr>      <th>2</th>      <td>6</td>      <td>83</td>      <td>男</td>    </tr>    <tr>      <th>3</th>      <td>4</td>      <td>68</td>      <td>女</td>    </tr>    <tr>      <th>4</th>      <td>9</td>      <td>70</td>      <td>男</td>    </tr>  </tbody></table></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>sex</th>      <th>weight</th>    </tr>  </thead>  <tbody>    <tr>      <th>1</th>      <td>女</td>      <td>67</td>    </tr>    <tr>      <th>3</th>      <td>男</td>      <td>66</td>    </tr>    <tr>      <th>6</th>      <td>男</td>      <td>83</td>    </tr>    <tr>      <th>4</th>      <td>女</td>      <td>68</td>    </tr>    <tr>      <th>9</th>      <td>男</td>      <td>70</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#（3）增加数据框列</span></span><br><span class="line">df2[<span class="string">&#x27;weight2&#x27;</span>]=df2.weight**<span class="number">2</span>; df2   <span class="comment"># 生成新列</span></span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>sex</th>      <th>weight</th>      <th>weight2</th>    </tr>  </thead>  <tbody>    <tr>      <th>1</th>      <td>女</td>      <td>67</td>      <td>4489</td>    </tr>    <tr>      <th>3</th>      <td>男</td>      <td>66</td>      <td>4356</td>    </tr>    <tr>      <th>6</th>      <td>男</td>      <td>83</td>      <td>6889</td>    </tr>    <tr>      <th>4</th>      <td>女</td>      <td>68</td>      <td>4624</td>    </tr>    <tr>      <th>9</th>      <td>男</td>      <td>70</td>      <td>4900</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#（4）删除数据框列</span></span><br><span class="line"><span class="keyword">del</span> df2[<span class="string">&#x27;weight2&#x27;</span>]; df2   <span class="comment">#删除数据列</span></span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>sex</th>      <th>weight</th>    </tr>  </thead>  <tbody>    <tr>      <th>1</th>      <td>女</td>      <td>67</td>    </tr>    <tr>      <th>3</th>      <td>男</td>      <td>66</td>    </tr>    <tr>      <th>6</th>      <td>男</td>      <td>83</td>    </tr>    <tr>      <th>4</th>      <td>女</td>      <td>68</td>    </tr>    <tr>      <th>9</th>      <td>男</td>      <td>70</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">df3=pd.DataFrame(&#123;<span class="string">&#x27;S2&#x27;</span>:S2,<span class="string">&#x27;S3&#x27;</span>:S3&#125;,index=S1);df3</span><br><span class="line"></span><br><span class="line">df3.isnull()<span class="comment">#是缺失值返回True，否则范围False</span></span><br><span class="line">df3.isnull().<span class="built_in">sum</span>()<span class="comment">#返回每列包含的缺失值的个数</span></span><br><span class="line">df3.dropna()   <span class="comment">#直接删除含有缺失值的行，多变量谨慎使用</span></span><br><span class="line"><span class="comment">#df3.dropna(how = &#x27;all&#x27;)#只删除全是缺失值的行</span></span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>S2</th>      <th>S3</th>    </tr>  </thead>  <tbody>    <tr>      <th>1</th>      <td>66.0</td>      <td>男</td>    </tr>    <tr>      <th>3</th>      <td>68.0</td>      <td>女</td>    </tr>    <tr>      <th>6</th>      <td>NaN</td>      <td>NaN</td>    </tr>    <tr>      <th>4</th>      <td>70.0</td>      <td>男</td>    </tr>    <tr>      <th>9</th>      <td>NaN</td>      <td>NaN</td>    </tr>  </tbody></table></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>S2</th>      <th>S3</th>    </tr>  </thead>  <tbody>    <tr>      <th>1</th>      <td>False</td>      <td>False</td>    </tr>    <tr>      <th>3</th>      <td>False</td>      <td>False</td>    </tr>    <tr>      <th>6</th>      <td>True</td>      <td>True</td>    </tr>    <tr>      <th>4</th>      <td>False</td>      <td>False</td>    </tr>    <tr>      <th>9</th>      <td>True</td>      <td>True</td>    </tr>  </tbody></table></div><pre><code>S2    2S3    2dtype: int64</code></pre><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>S2</th>      <th>S3</th>    </tr>  </thead>  <tbody>    <tr>      <th>1</th>      <td>66.0</td>      <td>男</td>    </tr>    <tr>      <th>3</th>      <td>68.0</td>      <td>女</td>    </tr>    <tr>      <th>4</th>      <td>70.0</td>      <td>男</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#（5）数据框排序</span></span><br><span class="line">df3.sort_index()         <span class="comment">#按index排序</span></span><br><span class="line">df3.sort_values(by=<span class="string">&#x27;S3&#x27;</span>) <span class="comment">#按列值排序</span></span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>S2</th>      <th>S3</th>    </tr>  </thead>  <tbody>    <tr>      <th>1</th>      <td>66.0</td>      <td>男</td>    </tr>    <tr>      <th>3</th>      <td>68.0</td>      <td>女</td>    </tr>    <tr>      <th>4</th>      <td>70.0</td>      <td>男</td>    </tr>    <tr>      <th>6</th>      <td>NaN</td>      <td>NaN</td>    </tr>    <tr>      <th>9</th>      <td>NaN</td>      <td>NaN</td>    </tr>  </tbody></table></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>S2</th>      <th>S3</th>    </tr>  </thead>  <tbody>    <tr>      <th>3</th>      <td>68.0</td>      <td>女</td>    </tr>    <tr>      <th>1</th>      <td>66.0</td>      <td>男</td>    </tr>    <tr>      <th>4</th>      <td>70.0</td>      <td>男</td>    </tr>    <tr>      <th>6</th>      <td>NaN</td>      <td>NaN</td>    </tr>    <tr>      <th>9</th>      <td>NaN</td>      <td>NaN</td>    </tr>  </tbody></table></div><h4 id="1-3-4-3-数据框的读和写"><a href="#1-3-4-3-数据框的读和写" class="headerlink" title="1.3.4.3 数据框的读和写"></a>1.3.4.3 数据框的读和写</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#（1）pandas读取数据集</span></span><br><span class="line"><span class="comment">#BSdata=pd.read_clipboard();BSdata[:5]  #从剪切板上复制数据</span></span><br><span class="line"><span class="comment"># BSdata=pd.read_csv(&quot;BSdata.csv&quot;,encoding=&#x27;utf-8&#x27;);BSdata[6:9]</span></span><br><span class="line">BSdata=pd.read_excel(<span class="string">&#x27;PyDm_data.xlsx&#x27;</span>,<span class="string">&#x27;BSdata&#x27;</span>);BSdata[-<span class="number">5</span>:]</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>学号</th>      <th>性别</th>      <th>身高</th>      <th>体重</th>      <th>支出</th>      <th>开设</th>      <th>课程</th>      <th>软件</th>    </tr>  </thead>  <tbody>    <tr>      <th>47</th>      <td>1538319004</td>      <td>男</td>      <td>175</td>      <td>68</td>      <td>44.4</td>      <td>不清楚</td>      <td>统计方法</td>      <td>SAS</td>    </tr>    <tr>      <th>48</th>      <td>1538254010</td>      <td>女</td>      <td>166</td>      <td>65</td>      <td>5.3</td>      <td>不清楚</td>      <td>编程技术</td>      <td>Python</td>    </tr>    <tr>      <th>49</th>      <td>1540294017</td>      <td>女</td>      <td>159</td>      <td>58</td>      <td>71.4</td>      <td>不清楚</td>      <td>都学习过</td>      <td>SPSS</td>    </tr>    <tr>      <th>50</th>      <td>1540365026</td>      <td>女</td>      <td>169</td>      <td>73</td>      <td>5.5</td>      <td>有必要</td>      <td>统计方法</td>      <td>Excel</td>    </tr>    <tr>      <th>51</th>      <td>1540388036</td>      <td>女</td>      <td>165</td>      <td>67</td>      <td>56.8</td>      <td>不必要</td>      <td>概率统计</td>      <td>SAS</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#（2）pandas数据集的保存</span></span><br><span class="line">BSdata.to_csv(<span class="string">&#x27;BSdata1.csv&#x27;</span>) <span class="comment"># 将数据框BSdata存 保存到 到BSdata.csv</span></span><br></pre></td></tr></table></figure><h4 id="1-3-4-4-数据框的操作"><a href="#1-3-4-4-数据框的操作" class="headerlink" title="1.3.4.4 数据框的操作"></a>1.3.4.4 数据框的操作</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#（1）获取数据框的基本信息</span></span><br><span class="line">BSdata.info()            <span class="comment">#数据框信息</span></span><br><span class="line"></span><br><span class="line">BSdata.head()            <span class="comment">#显示前5行</span></span><br><span class="line">BSdata.tail()            <span class="comment">#显示后5行</span></span><br><span class="line">BSdata.columns           <span class="comment">#查看列名称</span></span><br><span class="line"></span><br><span class="line">BSdata.index             <span class="comment">#数据框行名</span></span><br><span class="line">BSdata.values            <span class="comment">#数据框值数组</span></span><br><span class="line">BSdata.shape             <span class="comment">#显示数据框的行数和列数</span></span><br><span class="line">BSdata.shape[<span class="number">0</span>]          <span class="comment">#数据框行数</span></span><br><span class="line">BSdata.shape[<span class="number">1</span>]          <span class="comment">#数据框列数</span></span><br></pre></td></tr></table></figure><pre><code>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;RangeIndex: 52 entries, 0 to 51Data columns (total 8 columns): #   Column  Non-Null Count  Dtype  ---  ------  --------------  -----   0   学号      52 non-null     int64   1   性别      52 non-null     object  2   身高      52 non-null     int64   3   体重      52 non-null     int64   4   支出      52 non-null     float64 5   开设      52 non-null     object  6   课程      52 non-null     object  7   软件      52 non-null     object dtypes: float64(1), int64(3), object(4)memory usage: 3.4+ KB</code></pre><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>学号</th>      <th>性别</th>      <th>身高</th>      <th>体重</th>      <th>支出</th>      <th>开设</th>      <th>课程</th>      <th>软件</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>1510248008</td>      <td>女</td>      <td>167</td>      <td>71</td>      <td>46.0</td>      <td>不清楚</td>      <td>都未学过</td>      <td>No</td>    </tr>    <tr>      <th>1</th>      <td>1510229019</td>      <td>男</td>      <td>171</td>      <td>68</td>      <td>10.4</td>      <td>有必要</td>      <td>概率统计</td>      <td>Matlab</td>    </tr>    <tr>      <th>2</th>      <td>1512108019</td>      <td>女</td>      <td>175</td>      <td>73</td>      <td>21.0</td>      <td>有必要</td>      <td>统计方法</td>      <td>SPSS</td>    </tr>    <tr>      <th>3</th>      <td>1512332010</td>      <td>男</td>      <td>169</td>      <td>74</td>      <td>4.9</td>      <td>有必要</td>      <td>编程技术</td>      <td>Excel</td>    </tr>    <tr>      <th>4</th>      <td>1512331015</td>      <td>男</td>      <td>154</td>      <td>55</td>      <td>25.9</td>      <td>有必要</td>      <td>都学习过</td>      <td>Python</td>    </tr>  </tbody></table></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>学号</th>      <th>性别</th>      <th>身高</th>      <th>体重</th>      <th>支出</th>      <th>开设</th>      <th>课程</th>      <th>软件</th>    </tr>  </thead>  <tbody>    <tr>      <th>47</th>      <td>1538319004</td>      <td>男</td>      <td>175</td>      <td>68</td>      <td>44.4</td>      <td>不清楚</td>      <td>统计方法</td>      <td>SAS</td>    </tr>    <tr>      <th>48</th>      <td>1538254010</td>      <td>女</td>      <td>166</td>      <td>65</td>      <td>5.3</td>      <td>不清楚</td>      <td>编程技术</td>      <td>Python</td>    </tr>    <tr>      <th>49</th>      <td>1540294017</td>      <td>女</td>      <td>159</td>      <td>58</td>      <td>71.4</td>      <td>不清楚</td>      <td>都学习过</td>      <td>SPSS</td>    </tr>    <tr>      <th>50</th>      <td>1540365026</td>      <td>女</td>      <td>169</td>      <td>73</td>      <td>5.5</td>      <td>有必要</td>      <td>统计方法</td>      <td>Excel</td>    </tr>    <tr>      <th>51</th>      <td>1540388036</td>      <td>女</td>      <td>165</td>      <td>67</td>      <td>56.8</td>      <td>不必要</td>      <td>概率统计</td>      <td>SAS</td>    </tr>  </tbody></table></div><pre><code>Index([&#39;学号&#39;, &#39;性别&#39;, &#39;身高&#39;, &#39;体重&#39;, &#39;支出&#39;, &#39;开设&#39;, &#39;课程&#39;, &#39;软件&#39;], dtype=&#39;object&#39;)RangeIndex(start=0, stop=52, step=1)array([[1510248008, &#39;女&#39;, 167, 71, 46.0, &#39;不清楚&#39;, &#39;都未学过&#39;, &#39;No&#39;],       [1510229019, &#39;男&#39;, 171, 68, 10.4, &#39;有必要&#39;, &#39;概率统计&#39;, &#39;Matlab&#39;],       [1512108019, &#39;女&#39;, 175, 73, 21.0, &#39;有必要&#39;, &#39;统计方法&#39;, &#39;SPSS&#39;],       [1512332010, &#39;男&#39;, 169, 74, 4.9, &#39;有必要&#39;, &#39;编程技术&#39;, &#39;Excel&#39;],       [1512331015, &#39;男&#39;, 154, 55, 25.9, &#39;有必要&#39;, &#39;都学习过&#39;, &#39;Python&#39;],       [1516248014, &#39;男&#39;, 183, 76, 85.6, &#39;不必要&#39;, &#39;编程技术&#39;, &#39;Excel&#39;],       [1516352030, &#39;女&#39;, 169, 71, 9.1, &#39;有必要&#39;, &#39;编程技术&#39;, &#39;Excel&#39;],       [1516171019, &#39;女&#39;, 166, 66, 2.5, &#39;不必要&#39;, &#39;都未学过&#39;, &#39;Excel&#39;],       [1516391008, &#39;女&#39;, 165, 69, 35.6, &#39;不必要&#39;, &#39;都未学过&#39;, &#39;Excel&#39;],       [1520395019, &#39;男&#39;, 173, 63, 22.8, &#39;有必要&#39;, &#39;统计方法&#39;, &#39;R&#39;],       [1520100029, &#39;男&#39;, 184, 82, 10.3, &#39;有必要&#39;, &#39;都学习过&#39;, &#39;SAS&#39;],       [1520324035, &#39;男&#39;, 163, 66, 13.0, &#39;有必要&#39;, &#39;概率统计&#39;, &#39;Matlab&#39;],       [1522186005, &#39;男&#39;, 162, 63, 9.8, &#39;有必要&#39;, &#39;都学习过&#39;, &#39;SPSS&#39;],       [1522160006, &#39;女&#39;, 168, 72, 35.3, &#39;不必要&#39;, &#39;统计方法&#39;, &#39;SPSS&#39;],       [1522274026, &#39;女&#39;, 164, 66, 50.5, &#39;有必要&#39;, &#39;统计方法&#39;, &#39;SPSS&#39;],       [1523376027, &#39;男&#39;, 180, 81, 64.1, &#39;有必要&#39;, &#39;统计方法&#39;, &#39;Excel&#39;],       [1523368030, &#39;女&#39;, 158, 63, 20.6, &#39;不清楚&#39;, &#39;都学习过&#39;, &#39;Excel&#39;],       [1524225006, &#39;男&#39;, 179, 75, 5.8, &#39;有必要&#39;, &#39;编程技术&#39;, &#39;Python&#39;],       [1524105026, &#39;女&#39;, 163, 65, 69.4, &#39;有必要&#39;, &#39;编程技术&#39;, &#39;Python&#39;],       [1524286013, &#39;男&#39;, 160, 62, 4.8, &#39;有必要&#39;, &#39;都未学过&#39;, &#39;R&#39;],       [1525235027, &#39;女&#39;, 168, 70, 8.2, &#39;有必要&#39;, &#39;都学习过&#39;, &#39;R&#39;],       [1525352033, &#39;男&#39;, 185, 83, 5.1, &#39;有必要&#39;, &#39;都学习过&#39;, &#39;SPSS&#39;],       [1526177005, &#39;男&#39;, 174, 76, 15.8, &#39;有必要&#39;, &#39;概率统计&#39;, &#39;Excel&#39;],       [1526196010, &#39;男&#39;, 167, 72, 9.8, &#39;不清楚&#39;, &#39;统计方法&#39;, &#39;SPSS&#39;],       [1527173011, &#39;女&#39;, 160, 62, 11.5, &#39;不必要&#39;, &#39;都学习过&#39;, &#39;Matlab&#39;],       [1527237032, &#39;女&#39;, 163, 65, 19.4, &#39;有必要&#39;, &#39;统计方法&#39;, &#39;R&#39;],       [1527289024, &#39;男&#39;, 155, 50, 10.8, &#39;有必要&#39;, &#39;概率统计&#39;, &#39;SPSS&#39;],       [1529107020, &#39;男&#39;, 178, 78, 8.9, &#39;不清楚&#39;, &#39;概率统计&#39;, &#39;Matlab&#39;],       [1529314037, &#39;男&#39;, 170, 70, 15.1, &#39;有必要&#39;, &#39;概率统计&#39;, &#39;SAS&#39;],       [1529245023, &#39;男&#39;, 164, 58, 21.9, &#39;有必要&#39;, &#39;统计方法&#39;, &#39;Excel&#39;],       [1529365032, &#39;男&#39;, 172, 71, 10.4, &#39;有必要&#39;, &#39;都学习过&#39;, &#39;SPSS&#39;],       [1530273031, &#39;男&#39;, 178, 77, 35.6, &#39;不必要&#39;, &#39;统计方法&#39;, &#39;R&#39;],       [1530243029, &#39;男&#39;, 186, 87, 9.5, &#39;不必要&#39;, &#39;都未学过&#39;, &#39;No&#39;],       [1531364037, &#39;女&#39;, 171, 69, 7.3, &#39;有必要&#39;, &#39;都学习过&#39;, &#39;Excel&#39;],       [1531316038, &#39;女&#39;, 156, 56, 52.8, &#39;有必要&#39;, &#39;统计方法&#39;, &#39;Excel&#39;],       [1532304031, &#39;女&#39;, 166, 68, 47.9, &#39;不清楚&#39;, &#39;统计方法&#39;, &#39;SAS&#39;],       [1532208040, &#39;男&#39;, 176, 78, 75.5, &#39;不必要&#39;, &#39;概率统计&#39;, &#39;Excel&#39;],       [1532292012, &#39;男&#39;, 178, 78, 28.4, &#39;不必要&#39;, &#39;概率统计&#39;, &#39;No&#39;],       [1532185004, &#39;女&#39;, 155, 54, 13.4, &#39;不清楚&#39;, &#39;编程技术&#39;, &#39;Excel&#39;],       [1533219013, &#39;女&#39;, 163, 62, 11.1, &#39;不清楚&#39;, &#39;概率统计&#39;, &#39;Matlab&#39;],       [1533384028, &#39;男&#39;, 158, 60, 6.1, &#39;有必要&#39;, &#39;编程技术&#39;, &#39;R&#39;],       [1533172017, &#39;女&#39;, 167, 68, 27.2, &#39;不必要&#39;, &#39;都未学过&#39;, &#39;Excel&#39;],       [1537288004, &#39;女&#39;, 173, 70, 19.1, &#39;不清楚&#39;, &#39;编程技术&#39;, &#39;Python&#39;],       [1537359035, &#39;女&#39;, 174, 71, 17.6, &#39;不清楚&#39;, &#39;概率统计&#39;, &#39;No&#39;],       [1438391022, &#39;女&#39;, 164, 62, 10.3, &#39;有必要&#39;, &#39;编程技术&#39;, &#39;Python&#39;],       [1538399025, &#39;男&#39;, 169, 65, 9.5, &#39;有必要&#39;, &#39;统计方法&#39;, &#39;SAS&#39;],       [1438120022, &#39;男&#39;, 166, 70, 35.6, &#39;有必要&#39;, &#39;统计方法&#39;, &#39;R&#39;],       [1538319004, &#39;男&#39;, 175, 68, 44.4, &#39;不清楚&#39;, &#39;统计方法&#39;, &#39;SAS&#39;],       [1538254010, &#39;女&#39;, 166, 65, 5.3, &#39;不清楚&#39;, &#39;编程技术&#39;, &#39;Python&#39;],       [1540294017, &#39;女&#39;, 159, 58, 71.4, &#39;不清楚&#39;, &#39;都学习过&#39;, &#39;SPSS&#39;],       [1540365026, &#39;女&#39;, 169, 73, 5.5, &#39;有必要&#39;, &#39;统计方法&#39;, &#39;Excel&#39;],       [1540388036, &#39;女&#39;, 165, 67, 56.8, &#39;不必要&#39;, &#39;概率统计&#39;, &#39;SAS&#39;]],      dtype=object)(52, 8)528</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#（2）选取变量</span></span><br><span class="line">BSdata.性别              <span class="comment">#取一列数据，BSdata[&#x27;性别&#x27;]</span></span><br><span class="line">BSdata[[<span class="string">&#x27;身高&#x27;</span>,<span class="string">&#x27;体重&#x27;</span>]]  <span class="comment">#取两列数据</span></span><br><span class="line">BSdata[:<span class="number">3</span>]               <span class="comment">#BSdata.head(3)</span></span><br><span class="line">BSdata.loc[:<span class="number">3</span>,[<span class="string">&#x27;身高&#x27;</span>,<span class="string">&#x27;体重&#x27;</span>]]</span><br><span class="line">BSdata.iloc[:<span class="number">3</span>,:<span class="number">5</span>]       <span class="comment">#0到2行和1:5列数据</span></span><br></pre></td></tr></table></figure><pre><code>0     女1     男2     女3     男4     男5     男6     女7     女8     女9     男10    男11    男12    男13    女14    女15    男16    女17    男18    女19    男20    女21    男22    男23    男24    女25    女26    男27    男28    男29    男30    男31    男32    男33    女34    女35    女36    男37    男38    女39    女40    男41    女42    女43    女44    女45    男46    男47    男48    女49    女50    女51    女Name: 性别, dtype: object</code></pre><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>身高</th>      <th>体重</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>167</td>      <td>71</td>    </tr>    <tr>      <th>1</th>      <td>171</td>      <td>68</td>    </tr>    <tr>      <th>2</th>      <td>175</td>      <td>73</td>    </tr>    <tr>      <th>3</th>      <td>169</td>      <td>74</td>    </tr>    <tr>      <th>4</th>      <td>154</td>      <td>55</td>    </tr>    <tr>      <th>5</th>      <td>183</td>      <td>76</td>    </tr>    <tr>      <th>6</th>      <td>169</td>      <td>71</td>    </tr>    <tr>      <th>7</th>      <td>166</td>      <td>66</td>    </tr>    <tr>      <th>8</th>      <td>165</td>      <td>69</td>    </tr>    <tr>      <th>9</th>      <td>173</td>      <td>63</td>    </tr>    <tr>      <th>10</th>      <td>184</td>      <td>82</td>    </tr>    <tr>      <th>11</th>      <td>163</td>      <td>66</td>    </tr>    <tr>      <th>12</th>      <td>162</td>      <td>63</td>    </tr>    <tr>      <th>13</th>      <td>168</td>      <td>72</td>    </tr>    <tr>      <th>14</th>      <td>164</td>      <td>66</td>    </tr>    <tr>      <th>15</th>      <td>180</td>      <td>81</td>    </tr>    <tr>      <th>16</th>      <td>158</td>      <td>63</td>    </tr>    <tr>      <th>17</th>      <td>179</td>      <td>75</td>    </tr>    <tr>      <th>18</th>      <td>163</td>      <td>65</td>    </tr>    <tr>      <th>19</th>      <td>160</td>      <td>62</td>    </tr>    <tr>      <th>20</th>      <td>168</td>      <td>70</td>    </tr>    <tr>      <th>21</th>      <td>185</td>      <td>83</td>    </tr>    <tr>      <th>22</th>      <td>174</td>      <td>76</td>    </tr>    <tr>      <th>23</th>      <td>167</td>      <td>72</td>    </tr>    <tr>      <th>24</th>      <td>160</td>      <td>62</td>    </tr>    <tr>      <th>25</th>      <td>163</td>      <td>65</td>    </tr>    <tr>      <th>26</th>      <td>155</td>      <td>50</td>    </tr>    <tr>      <th>27</th>      <td>178</td>      <td>78</td>    </tr>    <tr>      <th>28</th>      <td>170</td>      <td>70</td>    </tr>    <tr>      <th>29</th>      <td>164</td>      <td>58</td>    </tr>    <tr>      <th>30</th>      <td>172</td>      <td>71</td>    </tr>    <tr>      <th>31</th>      <td>178</td>      <td>77</td>    </tr>    <tr>      <th>32</th>      <td>186</td>      <td>87</td>    </tr>    <tr>      <th>33</th>      <td>171</td>      <td>69</td>    </tr>    <tr>      <th>34</th>      <td>156</td>      <td>56</td>    </tr>    <tr>      <th>35</th>      <td>166</td>      <td>68</td>    </tr>    <tr>      <th>36</th>      <td>176</td>      <td>78</td>    </tr>    <tr>      <th>37</th>      <td>178</td>      <td>78</td>    </tr>    <tr>      <th>38</th>      <td>155</td>      <td>54</td>    </tr>    <tr>      <th>39</th>      <td>163</td>      <td>62</td>    </tr>    <tr>      <th>40</th>      <td>158</td>      <td>60</td>    </tr>    <tr>      <th>41</th>      <td>167</td>      <td>68</td>    </tr>    <tr>      <th>42</th>      <td>173</td>      <td>70</td>    </tr>    <tr>      <th>43</th>      <td>174</td>      <td>71</td>    </tr>    <tr>      <th>44</th>      <td>164</td>      <td>62</td>    </tr>    <tr>      <th>45</th>      <td>169</td>      <td>65</td>    </tr>    <tr>      <th>46</th>      <td>166</td>      <td>70</td>    </tr>    <tr>      <th>47</th>      <td>175</td>      <td>68</td>    </tr>    <tr>      <th>48</th>      <td>166</td>      <td>65</td>    </tr>    <tr>      <th>49</th>      <td>159</td>      <td>58</td>    </tr>    <tr>      <th>50</th>      <td>169</td>      <td>73</td>    </tr>    <tr>      <th>51</th>      <td>165</td>      <td>67</td>    </tr>  </tbody></table></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>学号</th>      <th>性别</th>      <th>身高</th>      <th>体重</th>      <th>支出</th>      <th>开设</th>      <th>课程</th>      <th>软件</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>1510248008</td>      <td>女</td>      <td>167</td>      <td>71</td>      <td>46.0</td>      <td>不清楚</td>      <td>都未学过</td>      <td>No</td>    </tr>    <tr>      <th>1</th>      <td>1510229019</td>      <td>男</td>      <td>171</td>      <td>68</td>      <td>10.4</td>      <td>有必要</td>      <td>概率统计</td>      <td>Matlab</td>    </tr>    <tr>      <th>2</th>      <td>1512108019</td>      <td>女</td>      <td>175</td>      <td>73</td>      <td>21.0</td>      <td>有必要</td>      <td>统计方法</td>      <td>SPSS</td>    </tr>  </tbody></table></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>身高</th>      <th>体重</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>167</td>      <td>71</td>    </tr>    <tr>      <th>1</th>      <td>171</td>      <td>68</td>    </tr>    <tr>      <th>2</th>      <td>175</td>      <td>73</td>    </tr>    <tr>      <th>3</th>      <td>169</td>      <td>74</td>    </tr>  </tbody></table></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>学号</th>      <th>性别</th>      <th>身高</th>      <th>体重</th>      <th>支出</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>1510248008</td>      <td>女</td>      <td>167</td>      <td>71</td>      <td>46.0</td>    </tr>    <tr>      <th>1</th>      <td>1510229019</td>      <td>男</td>      <td>171</td>      <td>68</td>      <td>10.4</td>    </tr>    <tr>      <th>2</th>      <td>1512108019</td>      <td>女</td>      <td>175</td>      <td>73</td>      <td>21.0</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#（3）选取观测与变量</span></span><br><span class="line">BSdata.loc[:<span class="number">3</span>,[<span class="string">&#x27;身高&#x27;</span>,<span class="string">&#x27;体重&#x27;</span>]]</span><br><span class="line">BSdata.iloc[:<span class="number">3</span>,:<span class="number">5</span>]       <span class="comment">#0到2行和1:5列数据</span></span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>身高</th>      <th>体重</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>167</td>      <td>71</td>    </tr>    <tr>      <th>1</th>      <td>171</td>      <td>68</td>    </tr>    <tr>      <th>2</th>      <td>175</td>      <td>73</td>    </tr>    <tr>      <th>3</th>      <td>169</td>      <td>74</td>    </tr>  </tbody></table></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>学号</th>      <th>性别</th>      <th>身高</th>      <th>体重</th>      <th>支出</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>1510248008</td>      <td>女</td>      <td>167</td>      <td>71</td>      <td>46.0</td>    </tr>    <tr>      <th>1</th>      <td>1510229019</td>      <td>男</td>      <td>171</td>      <td>68</td>      <td>10.4</td>    </tr>    <tr>      <th>2</th>      <td>1512108019</td>      <td>女</td>      <td>175</td>      <td>73</td>      <td>21.0</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#（4）根据条件选取样品与变量</span></span><br><span class="line">BSdata[BSdata[<span class="string">&#x27;身高&#x27;</span>]&gt;<span class="number">180</span>]</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>学号</th>      <th>性别</th>      <th>身高</th>      <th>体重</th>      <th>支出</th>      <th>开设</th>      <th>课程</th>      <th>软件</th>    </tr>  </thead>  <tbody>    <tr>      <th>5</th>      <td>1516248014</td>      <td>男</td>      <td>183</td>      <td>76</td>      <td>85.6</td>      <td>不必要</td>      <td>编程技术</td>      <td>Excel</td>    </tr>    <tr>      <th>10</th>      <td>1520100029</td>      <td>男</td>      <td>184</td>      <td>82</td>      <td>10.3</td>      <td>有必要</td>      <td>都学习过</td>      <td>SAS</td>    </tr>    <tr>      <th>21</th>      <td>1525352033</td>      <td>男</td>      <td>185</td>      <td>83</td>      <td>5.1</td>      <td>有必要</td>      <td>都学习过</td>      <td>SPSS</td>    </tr>    <tr>      <th>32</th>      <td>1530243029</td>      <td>男</td>      <td>186</td>      <td>87</td>      <td>9.5</td>      <td>不必要</td>      <td>都未学过</td>      <td>No</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># (5) query法</span></span><br><span class="line">BSdata.query(<span class="string">&#x27;身高&gt;180&#x27;</span>)</span><br><span class="line">BSdata.query(<span class="string">&#x27;身高&gt;180 and 体重&gt;80&#x27;</span>)</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>学号</th>      <th>性别</th>      <th>身高</th>      <th>体重</th>      <th>支出</th>      <th>开设</th>      <th>课程</th>      <th>软件</th>    </tr>  </thead>  <tbody>    <tr>      <th>5</th>      <td>1516248014</td>      <td>男</td>      <td>183</td>      <td>76</td>      <td>85.6</td>      <td>不必要</td>      <td>编程技术</td>      <td>Excel</td>    </tr>    <tr>      <th>10</th>      <td>1520100029</td>      <td>男</td>      <td>184</td>      <td>82</td>      <td>10.3</td>      <td>有必要</td>      <td>都学习过</td>      <td>SAS</td>    </tr>    <tr>      <th>21</th>      <td>1525352033</td>      <td>男</td>      <td>185</td>      <td>83</td>      <td>5.1</td>      <td>有必要</td>      <td>都学习过</td>      <td>SPSS</td>    </tr>    <tr>      <th>32</th>      <td>1530243029</td>      <td>男</td>      <td>186</td>      <td>87</td>      <td>9.5</td>      <td>不必要</td>      <td>都未学过</td>      <td>No</td>    </tr>  </tbody></table></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>学号</th>      <th>性别</th>      <th>身高</th>      <th>体重</th>      <th>支出</th>      <th>开设</th>      <th>课程</th>      <th>软件</th>    </tr>  </thead>  <tbody>    <tr>      <th>10</th>      <td>1520100029</td>      <td>男</td>      <td>184</td>      <td>82</td>      <td>10.3</td>      <td>有必要</td>      <td>都学习过</td>      <td>SAS</td>    </tr>    <tr>      <th>21</th>      <td>1525352033</td>      <td>男</td>      <td>185</td>      <td>83</td>      <td>5.1</td>      <td>有必要</td>      <td>都学习过</td>      <td>SPSS</td>    </tr>    <tr>      <th>32</th>      <td>1530243029</td>      <td>男</td>      <td>186</td>      <td>87</td>      <td>9.5</td>      <td>不必要</td>      <td>都未学过</td>      <td>No</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#（6）数据框的运算</span></span><br><span class="line">BSdata[<span class="string">&#x27;体重指数&#x27;</span>]=BSdata[<span class="string">&#x27;体重&#x27;</span>]/(BSdata[<span class="string">&#x27;身高&#x27;</span>]/<span class="number">100</span>)**<span class="number">2</span></span><br><span class="line"><span class="built_in">round</span>(BSdata[:<span class="number">5</span>],<span class="number">2</span>)</span><br><span class="line"><span class="keyword">del</span> BSdata[<span class="string">&#x27;体重指数&#x27;</span>]   <span class="comment">#删除数据列</span></span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>学号</th>      <th>性别</th>      <th>身高</th>      <th>体重</th>      <th>支出</th>      <th>开设</th>      <th>课程</th>      <th>软件</th>      <th>体重指数</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>1510248008</td>      <td>女</td>      <td>167</td>      <td>71</td>      <td>46.0</td>      <td>不清楚</td>      <td>都未学过</td>      <td>No</td>      <td>25.46</td>    </tr>    <tr>      <th>1</th>      <td>1510229019</td>      <td>男</td>      <td>171</td>      <td>68</td>      <td>10.4</td>      <td>有必要</td>      <td>概率统计</td>      <td>Matlab</td>      <td>23.26</td>    </tr>    <tr>      <th>2</th>      <td>1512108019</td>      <td>女</td>      <td>175</td>      <td>73</td>      <td>21.0</td>      <td>有必要</td>      <td>统计方法</td>      <td>SPSS</td>      <td>23.84</td>    </tr>    <tr>      <th>3</th>      <td>1512332010</td>      <td>男</td>      <td>169</td>      <td>74</td>      <td>4.9</td>      <td>有必要</td>      <td>编程技术</td>      <td>Excel</td>      <td>25.91</td>    </tr>    <tr>      <th>4</th>      <td>1512331015</td>      <td>男</td>      <td>154</td>      <td>55</td>      <td>25.9</td>      <td>有必要</td>      <td>都学习过</td>      <td>Python</td>      <td>23.19</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pd.concat([BSdata.身高, BSdata.体重],axis=<span class="number">0</span>)</span><br><span class="line">pd.concat([BSdata.身高, BSdata.体重],axis=<span class="number">1</span>)</span><br></pre></td></tr></table></figure><pre><code>0     1671     1712     1753     1694     154     ... 47     6848     6549     5850     7351     67Length: 104, dtype: int64</code></pre><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>身高</th>      <th>体重</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>167</td>      <td>71</td>    </tr>    <tr>      <th>1</th>      <td>171</td>      <td>68</td>    </tr>    <tr>      <th>2</th>      <td>175</td>      <td>73</td>    </tr>    <tr>      <th>3</th>      <td>169</td>      <td>74</td>    </tr>    <tr>      <th>4</th>      <td>154</td>      <td>55</td>    </tr>    <tr>      <th>5</th>      <td>183</td>      <td>76</td>    </tr>    <tr>      <th>6</th>      <td>169</td>      <td>71</td>    </tr>    <tr>      <th>7</th>      <td>166</td>      <td>66</td>    </tr>    <tr>      <th>8</th>      <td>165</td>      <td>69</td>    </tr>    <tr>      <th>9</th>      <td>173</td>      <td>63</td>    </tr>    <tr>      <th>10</th>      <td>184</td>      <td>82</td>    </tr>    <tr>      <th>11</th>      <td>163</td>      <td>66</td>    </tr>    <tr>      <th>12</th>      <td>162</td>      <td>63</td>    </tr>    <tr>      <th>13</th>      <td>168</td>      <td>72</td>    </tr>    <tr>      <th>14</th>      <td>164</td>      <td>66</td>    </tr>    <tr>      <th>15</th>      <td>180</td>      <td>81</td>    </tr>    <tr>      <th>16</th>      <td>158</td>      <td>63</td>    </tr>    <tr>      <th>17</th>      <td>179</td>      <td>75</td>    </tr>    <tr>      <th>18</th>      <td>163</td>      <td>65</td>    </tr>    <tr>      <th>19</th>      <td>160</td>      <td>62</td>    </tr>    <tr>      <th>20</th>      <td>168</td>      <td>70</td>    </tr>    <tr>      <th>21</th>      <td>185</td>      <td>83</td>    </tr>    <tr>      <th>22</th>      <td>174</td>      <td>76</td>    </tr>    <tr>      <th>23</th>      <td>167</td>      <td>72</td>    </tr>    <tr>      <th>24</th>      <td>160</td>      <td>62</td>    </tr>    <tr>      <th>25</th>      <td>163</td>      <td>65</td>    </tr>    <tr>      <th>26</th>      <td>155</td>      <td>50</td>    </tr>    <tr>      <th>27</th>      <td>178</td>      <td>78</td>    </tr>    <tr>      <th>28</th>      <td>170</td>      <td>70</td>    </tr>    <tr>      <th>29</th>      <td>164</td>      <td>58</td>    </tr>    <tr>      <th>30</th>      <td>172</td>      <td>71</td>    </tr>    <tr>      <th>31</th>      <td>178</td>      <td>77</td>    </tr>    <tr>      <th>32</th>      <td>186</td>      <td>87</td>    </tr>    <tr>      <th>33</th>      <td>171</td>      <td>69</td>    </tr>    <tr>      <th>34</th>      <td>156</td>      <td>56</td>    </tr>    <tr>      <th>35</th>      <td>166</td>      <td>68</td>    </tr>    <tr>      <th>36</th>      <td>176</td>      <td>78</td>    </tr>    <tr>      <th>37</th>      <td>178</td>      <td>78</td>    </tr>    <tr>      <th>38</th>      <td>155</td>      <td>54</td>    </tr>    <tr>      <th>39</th>      <td>163</td>      <td>62</td>    </tr>    <tr>      <th>40</th>      <td>158</td>      <td>60</td>    </tr>    <tr>      <th>41</th>      <td>167</td>      <td>68</td>    </tr>    <tr>      <th>42</th>      <td>173</td>      <td>70</td>    </tr>    <tr>      <th>43</th>      <td>174</td>      <td>71</td>    </tr>    <tr>      <th>44</th>      <td>164</td>      <td>62</td>    </tr>    <tr>      <th>45</th>      <td>169</td>      <td>65</td>    </tr>    <tr>      <th>46</th>      <td>166</td>      <td>70</td>    </tr>    <tr>      <th>47</th>      <td>175</td>      <td>68</td>    </tr>    <tr>      <th>48</th>      <td>166</td>      <td>65</td>    </tr>    <tr>      <th>49</th>      <td>159</td>      <td>58</td>    </tr>    <tr>      <th>50</th>      <td>169</td>      <td>73</td>    </tr>    <tr>      <th>51</th>      <td>165</td>      <td>67</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BSdata.iloc[:<span class="number">3</span>,:<span class="number">5</span>].T</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>0</th>      <th>1</th>      <th>2</th>    </tr>  </thead>  <tbody>    <tr>      <th>学号</th>      <td>1510248008</td>      <td>1510229019</td>      <td>1512108019</td>    </tr>    <tr>      <th>性别</th>      <td>女</td>      <td>男</td>      <td>女</td>    </tr>    <tr>      <th>身高</th>      <td>167</td>      <td>171</td>      <td>175</td>    </tr>    <tr>      <th>体重</th>      <td>71</td>      <td>68</td>      <td>73</td>    </tr>    <tr>      <th>支出</th>      <td>46.0</td>      <td>10.4</td>      <td>21.0</td>    </tr>  </tbody></table></div><h3 id="1-3-3-Python编程运算"><a href="#1-3-3-Python编程运算" class="headerlink" title="1.3.3 Python编程运算"></a>1.3.3 Python编程运算</h3><h4 id="1-3-3-1-基本运算"><a href="#1-3-3-1-基本运算" class="headerlink" title="1.3.3.1 基本运算"></a>1.3.3.1 基本运算</h4><h4 id="1-3-3-2-控制语句"><a href="#1-3-3-2-控制语句" class="headerlink" title="1.3.3.2 控制语句"></a>1.3.3.2 控制语句</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#（1）循环语句for</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">5</span>):</span><br><span class="line">     print(i)</span><br><span class="line"></span><br><span class="line">fruits = [<span class="string">&#x27;banana&#x27;</span>, <span class="string">&#x27;apple&#x27;</span>,  <span class="string">&#x27;mango&#x27;</span>]</span><br><span class="line"><span class="keyword">for</span> fruit <span class="keyword">in</span> fruits:</span><br><span class="line">   print(<span class="string">&#x27;当前水果 :&#x27;</span>, fruit)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> num <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>,<span class="number">15</span>):</span><br><span class="line">    print(num)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> var <span class="keyword">in</span> BSdata.columns:</span><br><span class="line">    print(var)</span><br></pre></td></tr></table></figure><pre><code>1234当前水果 : banana当前水果 : apple当前水果 : mango1011121314学号性别身高体重支出开设课程软件</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#（2）条件语句if/else</span></span><br><span class="line">a = -<span class="number">100</span></span><br><span class="line"><span class="keyword">if</span> a &lt; <span class="number">100</span>:</span><br><span class="line">    print(<span class="string">&quot;数值小于100&quot;</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    print(<span class="string">&quot;数值大于100&quot;</span>)</span><br><span class="line"></span><br><span class="line">-a <span class="keyword">if</span> a&lt;<span class="number">0</span> <span class="keyword">else</span> a</span><br></pre></td></tr></table></figure><pre><code>数值小于100100</code></pre><h4 id="1-3-3-3-函数定义"><a href="#1-3-3-3-函数定义" class="headerlink" title="1.3.3.3 函数定义"></a>1.3.3.3 函数定义</h4><h4 id="1-3-3-4-面向对象"><a href="#1-3-3-4-面向对象" class="headerlink" title="1.3.3.4 面向对象"></a>1.3.3.4 面向对象</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">x=[<span class="number">1</span>,<span class="number">3</span>,<span class="number">6</span>,<span class="number">4</span>,<span class="number">9</span>,<span class="number">7</span>,<span class="number">5</span>,<span class="number">8</span>,<span class="number">2</span>]; x</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">xbar</span>(<span class="params">x</span>):</span></span><br><span class="line">    n=<span class="built_in">len</span>(x)</span><br><span class="line">    xm=<span class="built_in">sum</span>(x)/n</span><br><span class="line">    <span class="keyword">return</span>(xm)</span><br><span class="line">xbar(x)</span><br></pre></td></tr></table></figure><pre><code>[1, 3, 6, 4, 9, 7, 5, 8, 2]5.0</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">np.mean(x)</span><br><span class="line"></span><br><span class="line">X=np.array([<span class="number">1</span>,<span class="number">3</span>,<span class="number">6</span>,<span class="number">4</span>,<span class="number">9</span>,<span class="number">7</span>,<span class="number">5</span>,<span class="number">8</span>,<span class="number">2</span>]);X <span class="comment"># 列表数组</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">SS1</span>(<span class="params">x</span>):</span></span><br><span class="line">    n=<span class="built_in">len</span>(x)</span><br><span class="line">    ss=<span class="built_in">sum</span>(x**<span class="number">2</span>)-<span class="built_in">sum</span>(x)**<span class="number">2</span>/n</span><br><span class="line">    <span class="keyword">return</span>(ss)</span><br><span class="line">SS1(X) <span class="comment">#SS1(BSdata. 身高)</span></span><br></pre></td></tr></table></figure><pre><code>5.0array([1, 3, 6, 4, 9, 7, 5, 8, 2])60.0</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">SS2</span>(<span class="params">x</span>):</span> <span class="comment"># 返回多个值</span></span><br><span class="line">    n=<span class="built_in">len</span>(x)</span><br><span class="line">    xm=<span class="built_in">sum</span>(x)/n</span><br><span class="line">    ss=<span class="built_in">sum</span>(x**<span class="number">2</span>)-<span class="built_in">sum</span>(x)**<span class="number">2</span>/n</span><br><span class="line">    <span class="keyword">return</span>[x**<span class="number">2</span>,n,xm,ss] <span class="comment">#return(x**2,n,xm,ss)</span></span><br><span class="line">SS2(X) <span class="comment">#SS2(BSdata. 身高)</span></span><br><span class="line">SS2(X)[<span class="number">0</span>] <span class="comment"># 取第1 个对象</span></span><br><span class="line">SS2(X)[<span class="number">1</span>] <span class="comment"># 取第2 个对象</span></span><br><span class="line">SS2(X)[<span class="number">2</span>] <span class="comment"># 取第3 个对象</span></span><br><span class="line">SS2(X)[<span class="number">3</span>] <span class="comment"># 取第4 个对象</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">type</span>(SS2(X))</span><br><span class="line"><span class="built_in">type</span>(SS2(X)[<span class="number">3</span>])</span><br></pre></td></tr></table></figure><pre><code>[array([ 1,  9, 36, 16, 81, 49, 25, 64,  4], dtype=int32), 9, 5.0, 60.0]array([ 1,  9, 36, 16, 81, 49, 25, 64,  4], dtype=int32)95.060.0listnumpy.float64</code></pre><h1 id="第2章-探索性数据分析"><a href="#第2章-探索性数据分析" class="headerlink" title="第2章 探索性数据分析"></a>第2章 探索性数据分析</h1><h2 id="2-1-数据的描述统计"><a href="#2-1-数据的描述统计" class="headerlink" title="2.1 数据的描述统计"></a>2.1 数据的描述统计</h2><h3 id="2-1-1-基本统计量"><a href="#2-1-1-基本统计量" class="headerlink" title="2.1.1 基本统计量"></a>2.1.1 基本统计量</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">BSdata.describe()</span><br><span class="line">BSdata[[<span class="string">&#x27;性别&#x27;</span>,<span class="string">&#x27;开设&#x27;</span>,<span class="string">&#x27;课程&#x27;</span>,<span class="string">&#x27;软件&#x27;</span>]].describe()</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>学号</th>      <th>身高</th>      <th>体重</th>      <th>支出</th>    </tr>  </thead>  <tbody>    <tr>      <th>count</th>      <td>5.2000e+01</td>      <td>52.0000</td>      <td>52.0000</td>      <td>52.0000</td>    </tr>    <tr>      <th>mean</th>      <td>1.5233e+09</td>      <td>168.5192</td>      <td>68.5000</td>      <td>24.5115</td>    </tr>    <tr>      <th>std</th>      <td>1.8995e+07</td>      <td>8.0183</td>      <td>7.7117</td>      <td>21.4321</td>    </tr>    <tr>      <th>min</th>      <td>1.4381e+09</td>      <td>154.0000</td>      <td>50.0000</td>      <td>2.5000</td>    </tr>    <tr>      <th>25%</th>      <td>1.5204e+09</td>      <td>163.0000</td>      <td>63.0000</td>      <td>9.5000</td>    </tr>    <tr>      <th>50%</th>      <td>1.5267e+09</td>      <td>167.5000</td>      <td>68.5000</td>      <td>15.4500</td>    </tr>    <tr>      <th>75%</th>      <td>1.5322e+09</td>      <td>174.0000</td>      <td>73.0000</td>      <td>35.6000</td>    </tr>    <tr>      <th>max</th>      <td>1.5404e+09</td>      <td>186.0000</td>      <td>87.0000</td>      <td>85.6000</td>    </tr>  </tbody></table></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>性别</th>      <th>开设</th>      <th>课程</th>      <th>软件</th>    </tr>  </thead>  <tbody>    <tr>      <th>count</th>      <td>52</td>      <td>52</td>      <td>52</td>      <td>52</td>    </tr>    <tr>      <th>unique</th>      <td>2</td>      <td>3</td>      <td>5</td>      <td>7</td>    </tr>    <tr>      <th>top</th>      <td>男</td>      <td>有必要</td>      <td>统计方法</td>      <td>Excel</td>    </tr>    <tr>      <th>freq</th>      <td>27</td>      <td>29</td>      <td>15</td>      <td>15</td>    </tr>  </tbody></table></div><h4 id="2-1-1-1-计数数据的汇总分析"><a href="#2-1-1-1-计数数据的汇总分析" class="headerlink" title="2.1.1.1 计数数据的汇总分析"></a>2.1.1.1 计数数据的汇总分析</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#（1）频数：绝对数</span></span><br><span class="line">T1=BSdata.性别.value_counts();T1</span><br></pre></td></tr></table></figure><pre><code>男    27女    25Name: 性别, dtype: int64</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#（2）频率：相对数</span></span><br><span class="line">T1/<span class="built_in">sum</span>(T1)*<span class="number">100</span></span><br></pre></td></tr></table></figure><pre><code>男    51.9231女    48.0769Name: 性别, dtype: float64</code></pre><h4 id="2-1-1-2-计量数据的汇总分析"><a href="#2-1-1-2-计量数据的汇总分析" class="headerlink" title="2.1.1.2 计量数据的汇总分析"></a>2.1.1.2 计量数据的汇总分析</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#（1）均数（算术平均数）</span></span><br><span class="line">BSdata.身高.mean()</span><br><span class="line"><span class="comment">#（2）中位数</span></span><br><span class="line">BSdata.身高.median()</span><br><span class="line"><span class="comment">#（3）极差</span></span><br><span class="line">BSdata.身高.<span class="built_in">max</span>()-BSdata.身高.<span class="built_in">min</span>()</span><br><span class="line"><span class="comment">#（4）方差</span></span><br><span class="line">BSdata.身高.var()</span><br><span class="line"><span class="comment">#（5）标准差</span></span><br><span class="line">BSdata.身高.std()</span><br><span class="line"><span class="comment">#（6）四分位数间距</span></span><br><span class="line">BSdata.身高.quantile(<span class="number">0.75</span>)-BSdata.身高.quantile(<span class="number">0.25</span>)</span><br><span class="line"><span class="comment">#（7）偏度</span></span><br><span class="line">BSdata.身高.skew()</span><br><span class="line"><span class="comment">#（8）峰度</span></span><br><span class="line">BSdata.身高.kurt()</span><br></pre></td></tr></table></figure><pre><code>168.51923076923077167.53264.293740573152358.0183377687119411.00.29880755120910174-0.42072371559816935</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#（9）自定义计算基本统计量函数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">stats</span>(<span class="params">x</span>):</span></span><br><span class="line">    stat=[x.count(),x.<span class="built_in">min</span>(),x.quantile(<span class="number">.25</span>),x.mean(),x.median(),</span><br><span class="line">         x.quantile(<span class="number">.75</span>),x.<span class="built_in">max</span>(),x.<span class="built_in">max</span>()-x.<span class="built_in">min</span>(),x.var(),x.std(),x.skew(),x.kurt()]</span><br><span class="line">    stat=pd.Series(stat,index=[<span class="string">&#x27;Count&#x27;</span>,<span class="string">&#x27;Min&#x27;</span>, <span class="string">&#x27;Q1(25%)&#x27;</span>,<span class="string">&#x27;Mean&#x27;</span>,<span class="string">&#x27;Median&#x27;</span>,</span><br><span class="line">                   <span class="string">&#x27;Q3(75%)&#x27;</span>,<span class="string">&#x27;Max&#x27;</span>,<span class="string">&#x27;Range&#x27;</span>,<span class="string">&#x27;Var&#x27;</span>,<span class="string">&#x27;Std&#x27;</span>,<span class="string">&#x27;Skew&#x27;</span>,<span class="string">&#x27;Kurt&#x27;</span>])</span><br><span class="line">    <span class="keyword">return</span>(stat)</span><br><span class="line">stats(BSdata.身高)</span><br></pre></td></tr></table></figure><pre><code>Count       52.0000Min        154.0000Q1(25%)    163.0000Mean       168.5192Median     167.5000Q3(75%)    174.0000Max        186.0000Range       32.0000Var         64.2937Std          8.0183Skew         0.2988Kurt        -0.4207dtype: float64</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#加载自定义函数库</span></span><br><span class="line"><span class="keyword">import</span> PyDm_fun <span class="keyword">as</span> da</span><br><span class="line">da.stats(BSdata.身高)</span><br><span class="line">da.stats(BSdata.支出)</span><br></pre></td></tr></table></figure><pre><code>Count       52.0000Min        154.0000Q1(25%)    163.0000Mean       168.5192Median     167.5000Q3(75%)    174.0000Max        186.0000Range       32.0000Var         64.2937Std          8.0183Skew         0.2988Kurt        -0.4207dtype: float64Count       52.0000Min          2.5000Q1(25%)      9.5000Mean        24.5115Median      15.4500Q3(75%)     35.6000Max         85.6000Range       83.1000Var        459.3332Std         21.4321Skew         1.2684Kurt         0.6731dtype: float64</code></pre><h3 id="2-1-2-基本统计图"><a href="#2-1-2-基本统计图" class="headerlink" title="2.1.2 基本统计图"></a>2.1.2 基本统计图</h3><h4 id="2-1-2-1-matlibplot绘图函数"><a href="#2-1-2-1-matlibplot绘图函数" class="headerlink" title="2.1.2.1 matlibplot绘图函数"></a>2.1.2.1 matlibplot绘图函数</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt              <span class="comment">#基本绘图包</span></span><br><span class="line">plt.rcParams[<span class="string">&#x27;font.sans-serif&#x27;</span>]=[<span class="string">&#x27;KaiTi&#x27;</span>];   <span class="comment">#SimHei黑体</span></span><br><span class="line">plt.rcParams[<span class="string">&#x27;axes.unicode_minus&#x27;</span>]=<span class="literal">False</span>;    <span class="comment">#正常显示图中负号</span></span><br><span class="line">plt.figure(figsize=(<span class="number">5</span>,<span class="number">4</span>));                   <span class="comment">#图形大小</span></span><br><span class="line"><span class="comment"># &#x27;&#x27;&#x27;本地直接显示图形&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># %matplotlib inline</span></span><br><span class="line"><span class="comment"># plt.render_notebook()</span></span><br></pre></td></tr></table></figure><pre><code>&lt;Figure size 360x288 with 0 Axes&gt;</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#（1）常用的统计图函数</span></span><br><span class="line"><span class="comment">#（2）图形参数设置</span></span><br><span class="line"><span class="comment">####二、计数数据的基本统计图</span></span><br><span class="line">X=[<span class="string">&#x27;A&#x27;</span>,<span class="string">&#x27;B&#x27;</span>,<span class="string">&#x27;C&#x27;</span>,<span class="string">&#x27;D&#x27;</span>,<span class="string">&#x27;E&#x27;</span>,<span class="string">&#x27;F&#x27;</span>,<span class="string">&#x27;G&#x27;</span>]</span><br><span class="line">Y=[<span class="number">1</span>,<span class="number">4</span>,<span class="number">7</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">5</span>,<span class="number">6</span>]</span><br><span class="line">plt.bar(X,Y); <span class="comment"># 条图</span></span><br><span class="line">plt.pie(Y,labels=X);  <span class="comment"># 饼图</span></span><br></pre></td></tr></table></figure><pre><code>C:\Users\kit\AppData\Local\Temp/ipykernel_2184/3246744030.py:7: MatplotlibDeprecationWarning: Support for passing numbers through unit converters is deprecated since 3.5 and support will be removed two minor releases later; use Axis.convert_units instead.  plt.pie(Y,labels=X);  # 饼图</code></pre><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112101454277.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">####三、计量数据的基本统计图</span></span><br><span class="line">plt.plot(X,Y);  <span class="comment">#线图 plot</span></span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112101441373.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plt.hist(BSdata.身高)  <span class="comment"># 频数直方图</span></span><br></pre></td></tr></table></figure><pre><code>(array([4., 5., 5., 9., 9., 6., 5., 4., 1., 4.]), array([154. , 157.2, 160.4, 163.6, 166.8, 170. , 173.2, 176.4, 179.6,        182.8, 186. ]), &lt;BarContainer object of 10 artists&gt;)</code></pre><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112101441377.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plt.hist(BSdata.身高,density=<span class="literal">True</span>) <span class="comment"># 频率直方图</span></span><br></pre></td></tr></table></figure><pre><code>(array([0.024 , 0.03  , 0.03  , 0.0541, 0.0541, 0.0361, 0.03  , 0.024 ,        0.006 , 0.024 ]), array([154. , 157.2, 160.4, 163.6, 166.8, 170. , 173.2, 176.4, 179.6,        182.8, 186. ]), &lt;BarContainer object of 10 artists&gt;)</code></pre><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112101454403.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">plt.scatter(BSdata.身高, BSdata.体重);  <span class="comment"># 散点图</span></span><br><span class="line">plt.xlabel(<span class="string">u&#x27;身高&#x27;</span>);plt.ylabel(<span class="string">u&#x27;体重&#x27;</span>);</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112101454827.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#（3）图形参数设置</span></span><br><span class="line">plt.plot(X,Y,c=<span class="string">&#x27;red&#x27;</span>);</span><br><span class="line">plt.ylim(<span class="number">0</span>,<span class="number">8</span>);</span><br><span class="line">plt.xlabel(<span class="string">&#x27;names&#x27;</span>);plt.ylabel(<span class="string">&#x27;values&#x27;</span>);</span><br><span class="line">plt.xticks(<span class="built_in">range</span>(<span class="built_in">len</span>(X)), X);</span><br><span class="line">plt.plot(X,Y,linestyle=<span class="string">&#x27;--&#x27;</span>,marker=<span class="string">&#x27;o&#x27;</span>);</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112101453371.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">plt.plot(X,Y,<span class="string">&#x27;o--&#x27;</span>); plt.axvline(x=<span class="number">1</span>);plt.axhline(y=<span class="number">4</span>);</span><br><span class="line"><span class="comment">#plt.vlines(1,0,6,colors=&#x27;r&#x27;);plt.hlines(4,0,6);</span></span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112101453620.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">plt.plot(X,Y,label=<span class="string">u&#x27;折线&#x27;</span>);</span><br><span class="line">plt.legend();</span><br></pre></td></tr></table></figure><p>​<br><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112101453541.png" alt="png"><br>​    </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#误差条图</span></span><br><span class="line">s=[<span class="number">0.1</span>,<span class="number">0.4</span>,<span class="number">0.7</span>,<span class="number">0.3</span>,<span class="number">0.2</span>,<span class="number">0.5</span>,<span class="number">0.6</span>]</span><br><span class="line">plt.bar(X,Y,yerr=s,error_kw=&#123;<span class="string">&#x27;capsize&#x27;</span>:<span class="number">5</span>&#125;)</span><br></pre></td></tr></table></figure><pre><code>&lt;BarContainer object of 7 artists&gt;</code></pre><p>​<br><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112101441254.png" alt="png"><br>​    </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#（4）多图</span></span><br><span class="line">plt.figure(figsize=(<span class="number">5</span>,<span class="number">4</span>));</span><br><span class="line">plt.subplot(<span class="number">121</span>); plt.bar(X,Y);</span><br><span class="line">plt.subplot(<span class="number">122</span>); plt.plot(Y);</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112101453767.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">plt.subplot(<span class="number">211</span>); plt.bar(X,Y);</span><br><span class="line">plt.subplot(<span class="number">212</span>); plt.plot(Y);</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112101441345.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fig,ax = plt.subplots(<span class="number">1</span>,<span class="number">2</span>,figsize=(<span class="number">15</span>,<span class="number">6</span>))</span><br><span class="line">ax[<span class="number">0</span>].bar(X,Y)</span><br><span class="line">ax[<span class="number">1</span>].plot(X,Y)</span><br></pre></td></tr></table></figure><pre><code>&lt;BarContainer object of 7 artists&gt;[&lt;matplotlib.lines.Line2D at 0xd0cd430&gt;]</code></pre><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112101441654.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fig,ax=plt.subplots(<span class="number">2</span>,<span class="number">2</span>,figsize=(<span class="number">15</span>,<span class="number">12</span>))</span><br><span class="line">ax[<span class="number">0</span>,<span class="number">0</span>].bar(X,Y); ax[<span class="number">0</span>,<span class="number">1</span>].pie(Y,labels=X)</span><br><span class="line">ax[<span class="number">1</span>,<span class="number">0</span>].plot(Y); ax[<span class="number">1</span>,<span class="number">1</span>].plot(Y,<span class="string">&#x27;.-&#x27;</span>,linewidth=<span class="number">3</span>);</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112101453509.png" alt="png"></p><h4 id="2-1-2-2-pandas绘图函数"><a href="#2-1-2-2-pandas绘图函数" class="headerlink" title="2.1.2.2 pandas绘图函数"></a>2.1.2.2 pandas绘图函数</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BSdata[<span class="string">&#x27;体重&#x27;</span>].plot(kind=<span class="string">&#x27;line&#x27;</span>);</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112101441120.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BSdata[<span class="string">&#x27;体重&#x27;</span>].plot(kind=<span class="string">&#x27;hist&#x27;</span>);</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112101441183.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BSdata[<span class="string">&#x27;体重&#x27;</span>].plot(kind=<span class="string">&#x27;box&#x27;</span>);</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112101452338.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BSdata[<span class="string">&#x27;体重&#x27;</span>].plot(kind=<span class="string">&#x27;density&#x27;</span>);</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112101441207.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BSdata[[<span class="string">&#x27;身高&#x27;</span>,<span class="string">&#x27;体重&#x27;</span>,<span class="string">&#x27;支出&#x27;</span>]].plot(subplots=<span class="literal">True</span>,layout=(<span class="number">1</span>,<span class="number">3</span>),kind=<span class="string">&#x27;box&#x27;</span>)</span><br></pre></td></tr></table></figure><pre><code>身高       AxesSubplot(0.125,0.125;0.227941x0.755)体重    AxesSubplot(0.398529,0.125;0.227941x0.755)支出    AxesSubplot(0.672059,0.125;0.227941x0.755)dtype: object</code></pre><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112101441619.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BSdata[[<span class="string">&#x27;身高&#x27;</span>,<span class="string">&#x27;体重&#x27;</span>,<span class="string">&#x27;支出&#x27;</span>]].plot(subplots=<span class="literal">True</span>,layout=(<span class="number">1</span>,<span class="number">3</span>),kind=<span class="string">&#x27;density&#x27;</span>)</span><br></pre></td></tr></table></figure><pre><code>array([[&lt;AxesSubplot:ylabel=&#39;Density&#39;&gt;, &lt;AxesSubplot:ylabel=&#39;Density&#39;&gt;,        &lt;AxesSubplot:ylabel=&#39;Density&#39;&gt;]], dtype=object)</code></pre><p>​<br><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112101452048.png" alt="png"><br>​    </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BSdata[[<span class="string">&#x27;身高&#x27;</span>,<span class="string">&#x27;体重&#x27;</span>,<span class="string">&#x27;支出&#x27;</span>]].plot(subplots=<span class="literal">True</span>,layout=(<span class="number">3</span>,<span class="number">1</span>),kind=<span class="string">&#x27;density&#x27;</span>)</span><br></pre></td></tr></table></figure><pre><code>array([[&lt;AxesSubplot:ylabel=&#39;Density&#39;&gt;],       [&lt;AxesSubplot:ylabel=&#39;Density&#39;&gt;],       [&lt;AxesSubplot:ylabel=&#39;Density&#39;&gt;]], dtype=object)</code></pre><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112101452488.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plt.xlabel(<span class="string">u&#x27;身高&#x27;</span>);plt.ylabel(<span class="string">u&#x27;体重&#x27;</span>);</span><br></pre></td></tr></table></figure><p>​<br><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112101441079.png" alt="png"><br>​    </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">T1=BSdata[<span class="string">&#x27;开设&#x27;</span>].value_counts();T1</span><br><span class="line">pd.DataFrame(&#123;<span class="string">&#x27;频数&#x27;</span>:T1,<span class="string">&#x27;频率&#x27;</span>:T1/T1.<span class="built_in">sum</span>()*<span class="number">100</span>&#125;)</span><br><span class="line">T1.plot(kind=<span class="string">&#x27;bar&#x27;</span>); <span class="comment">#T1.sort_values().plot(kind=&#x27;bar&#x27;);</span></span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112101452014.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">T1.plot(kind=<span class="string">&#x27;pie&#x27;</span>);</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112101452471.png" alt="png"></p><h2 id="2-2-数据的分组分析"><a href="#2-2-数据的分组分析" class="headerlink" title="2.2 数据的分组分析"></a>2.2 数据的分组分析</h2><h3 id="2-2-1-频数分析"><a href="#2-2-1-频数分析" class="headerlink" title="2.2.1 频数分析"></a>2.2.1 频数分析</h3><h4 id="2-2-1-1-计数数据的频数分析"><a href="#2-2-1-1-计数数据的频数分析" class="headerlink" title="2.2.1.1 计数数据的频数分析"></a>2.2.1.1 计数数据的频数分析</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#（1）pivot_table</span></span><br><span class="line">BSdata[<span class="string">&#x27;开设&#x27;</span>].value_counts()</span><br><span class="line">BSdata[<span class="string">&#x27;开设&#x27;</span>].value_counts().plot(kind=<span class="string">&#x27;bar&#x27;</span>)</span><br></pre></td></tr></table></figure><pre><code>有必要    29不清楚    12不必要    11Name: 开设, dtype: int64&lt;AxesSubplot:&gt;</code></pre><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112101441319.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">BSdata.pivot_table(values=<span class="string">&#x27;学号&#x27;</span>,index=<span class="string">&#x27;开设&#x27;</span>,aggfunc=<span class="built_in">len</span>)</span><br><span class="line">T1=BSdata[<span class="string">&#x27;开设&#x27;</span>].value_counts();T1</span><br><span class="line">pd.DataFrame(&#123;<span class="string">&#x27;频数&#x27;</span>:T1,<span class="string">&#x27;频率&#x27;</span>:T1/T1.<span class="built_in">sum</span>()*<span class="number">100</span>&#125;)</span><br><span class="line">T1.plot(kind=<span class="string">&#x27;bar&#x27;</span>);</span><br><span class="line">T1.plot(kind=<span class="string">&#x27;pie&#x27;</span>);</span><br><span class="line">pd.pivot_table(BSdata,values=<span class="string">&#x27;学号&#x27;</span>,index=<span class="string">&#x27;开设&#x27;</span>,aggfunc=<span class="built_in">len</span>)</span><br><span class="line"><span class="comment">#BSdata.pivot_table(values=&#x27;学号&#x27;,index=&#x27;开设&#x27;,aggfunc=len)</span></span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>学号</th>    </tr>    <tr>      <th>开设</th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>不必要</th>      <td>11</td>    </tr>    <tr>      <th>不清楚</th>      <td>12</td>    </tr>    <tr>      <th>有必要</th>      <td>29</td>    </tr>  </tbody></table></div><pre><code>有必要    29不清楚    12不必要    11Name: 开设, dtype: int64</code></pre><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>频数</th>      <th>频率</th>    </tr>  </thead>  <tbody>    <tr>      <th>有必要</th>      <td>29</td>      <td>55.7692</td>    </tr>    <tr>      <th>不清楚</th>      <td>12</td>      <td>23.0769</td>    </tr>    <tr>      <th>不必要</th>      <td>11</td>      <td>21.1538</td>    </tr>  </tbody></table></div><pre><code>&lt;AxesSubplot:&gt;&lt;AxesSubplot:ylabel=&#39;开设&#39;&gt;</code></pre><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>学号</th>    </tr>    <tr>      <th>开设</th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>不必要</th>      <td>11</td>    </tr>    <tr>      <th>不清楚</th>      <td>12</td>    </tr>    <tr>      <th>有必要</th>      <td>29</td>    </tr>  </tbody></table></div><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112101452872.png" alt="png"></p><h4 id="2-2-1-2-计量数据的频数分析"><a href="#2-2-1-2-计量数据的频数分析" class="headerlink" title="2.2.1.2 计量数据的频数分析"></a>2.2.1.2 计量数据的频数分析</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#（1）身高频数表</span></span><br><span class="line">pd.cut(BSdata.身高,bins=<span class="number">10</span>).value_counts()</span><br><span class="line">pd.cut(BSdata.身高,bins=<span class="number">10</span>).value_counts().plot(kind=<span class="string">&#x27;bar&#x27;</span>);</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112101451739.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#（2）支出频数表</span></span><br><span class="line">pd.cut(BSdata.支出,bins=[<span class="number">0</span>,<span class="number">10</span>,<span class="number">30</span>,<span class="number">100</span>]).value_counts()</span><br><span class="line">pd.cut(BSdata.支出,bins=[<span class="number">0</span>,<span class="number">10</span>,<span class="number">30</span>,<span class="number">100</span>]).value_counts().plot(kind=<span class="string">&#x27;bar&#x27;</span>);</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112101451636.png" alt="png"></p><h3 id="2-2-2-列联表分析"><a href="#2-2-2-列联表分析" class="headerlink" title="2.2.2 列联表分析"></a>2.2.2 列联表分析</h3><h4 id="2-2-2-1-计数数据的列联表"><a href="#2-2-2-1-计数数据的列联表" class="headerlink" title="2.2.2.1 计数数据的列联表"></a>2.2.2.1 计数数据的列联表</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#（1）二维列联表</span></span><br><span class="line">pd.crosstab(BSdata.开设,BSdata.课程)</span><br><span class="line">pd.crosstab(BSdata.开设,BSdata.课程,margins=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th>课程</th>      <th>概率统计</th>      <th>统计方法</th>      <th>编程技术</th>      <th>都学习过</th>      <th>都未学过</th>    </tr>    <tr>      <th>开设</th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>不必要</th>      <td>3</td>      <td>2</td>      <td>1</td>      <td>1</td>      <td>4</td>    </tr>    <tr>      <th>不清楚</th>      <td>3</td>      <td>3</td>      <td>3</td>      <td>2</td>      <td>1</td>    </tr>    <tr>      <th>有必要</th>      <td>5</td>      <td>10</td>      <td>6</td>      <td>7</td>      <td>1</td>    </tr>  </tbody></table></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th>课程</th>      <th>概率统计</th>      <th>统计方法</th>      <th>编程技术</th>      <th>都学习过</th>      <th>都未学过</th>      <th>All</th>    </tr>    <tr>      <th>开设</th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>不必要</th>      <td>3</td>      <td>2</td>      <td>1</td>      <td>1</td>      <td>4</td>      <td>11</td>    </tr>    <tr>      <th>不清楚</th>      <td>3</td>      <td>3</td>      <td>3</td>      <td>2</td>      <td>1</td>      <td>12</td>    </tr>    <tr>      <th>有必要</th>      <td>5</td>      <td>10</td>      <td>6</td>      <td>7</td>      <td>1</td>      <td>29</td>    </tr>    <tr>      <th>All</th>      <td>11</td>      <td>15</td>      <td>10</td>      <td>10</td>      <td>6</td>      <td>52</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pd.crosstab(BSdata.开设,BSdata.课程,margins=<span class="literal">True</span>,normalize=<span class="string">&#x27;index&#x27;</span>)</span><br><span class="line">pd.crosstab(BSdata.开设,BSdata.课程,margins=<span class="literal">True</span>,normalize=<span class="string">&#x27;columns&#x27;</span>)</span><br><span class="line">pd.crosstab(BSdata.开设,BSdata.课程,margins=<span class="literal">True</span>,normalize=<span class="string">&#x27;all&#x27;</span>)</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th>课程</th>      <th>概率统计</th>      <th>统计方法</th>      <th>编程技术</th>      <th>都学习过</th>      <th>都未学过</th>    </tr>    <tr>      <th>开设</th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>不必要</th>      <td>0.2727</td>      <td>0.1818</td>      <td>0.0909</td>      <td>0.0909</td>      <td>0.3636</td>    </tr>    <tr>      <th>不清楚</th>      <td>0.2500</td>      <td>0.2500</td>      <td>0.2500</td>      <td>0.1667</td>      <td>0.0833</td>    </tr>    <tr>      <th>有必要</th>      <td>0.1724</td>      <td>0.3448</td>      <td>0.2069</td>      <td>0.2414</td>      <td>0.0345</td>    </tr>    <tr>      <th>All</th>      <td>0.2115</td>      <td>0.2885</td>      <td>0.1923</td>      <td>0.1923</td>      <td>0.1154</td>    </tr>  </tbody></table></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th>课程</th>      <th>概率统计</th>      <th>统计方法</th>      <th>编程技术</th>      <th>都学习过</th>      <th>都未学过</th>      <th>All</th>    </tr>    <tr>      <th>开设</th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>不必要</th>      <td>0.2727</td>      <td>0.1333</td>      <td>0.1</td>      <td>0.1</td>      <td>0.6667</td>      <td>0.2115</td>    </tr>    <tr>      <th>不清楚</th>      <td>0.2727</td>      <td>0.2000</td>      <td>0.3</td>      <td>0.2</td>      <td>0.1667</td>      <td>0.2308</td>    </tr>    <tr>      <th>有必要</th>      <td>0.4545</td>      <td>0.6667</td>      <td>0.6</td>      <td>0.7</td>      <td>0.1667</td>      <td>0.5577</td>    </tr>  </tbody></table></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th>课程</th>      <th>概率统计</th>      <th>统计方法</th>      <th>编程技术</th>      <th>都学习过</th>      <th>都未学过</th>      <th>All</th>    </tr>    <tr>      <th>开设</th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>不必要</th>      <td>0.0577</td>      <td>0.0385</td>      <td>0.0192</td>      <td>0.0192</td>      <td>0.0769</td>      <td>0.2115</td>    </tr>    <tr>      <th>不清楚</th>      <td>0.0577</td>      <td>0.0577</td>      <td>0.0577</td>      <td>0.0385</td>      <td>0.0192</td>      <td>0.2308</td>    </tr>    <tr>      <th>有必要</th>      <td>0.0962</td>      <td>0.1923</td>      <td>0.1154</td>      <td>0.1346</td>      <td>0.0192</td>      <td>0.5577</td>    </tr>    <tr>      <th>All</th>      <td>0.2115</td>      <td>0.2885</td>      <td>0.1923</td>      <td>0.1923</td>      <td>0.1154</td>      <td>1.0000</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">BSdata.pivot_table(<span class="string">&#x27;学号&#x27;</span>,<span class="string">&#x27;开设&#x27;</span>,<span class="string">&#x27;课程&#x27;</span>,aggfunc=<span class="built_in">len</span>)</span><br><span class="line">BSdata.pivot_table(<span class="string">&#x27;学号&#x27;</span>,index=<span class="string">&#x27;开设&#x27;</span>,columns=<span class="string">&#x27;课程&#x27;</span>,aggfunc=<span class="built_in">len</span>)</span><br><span class="line">pd.pivot_table(BSdata,values=<span class="string">&#x27;学号&#x27;</span>,index=<span class="string">&#x27;开设&#x27;</span>,columns=<span class="string">&#x27;课程&#x27;</span>,aggfunc=<span class="built_in">len</span>)</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th>课程</th>      <th>概率统计</th>      <th>统计方法</th>      <th>编程技术</th>      <th>都学习过</th>      <th>都未学过</th>    </tr>    <tr>      <th>开设</th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>不必要</th>      <td>3</td>      <td>2</td>      <td>1</td>      <td>1</td>      <td>4</td>    </tr>    <tr>      <th>不清楚</th>      <td>3</td>      <td>3</td>      <td>3</td>      <td>2</td>      <td>1</td>    </tr>    <tr>      <th>有必要</th>      <td>5</td>      <td>10</td>      <td>6</td>      <td>7</td>      <td>1</td>    </tr>  </tbody></table></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th>课程</th>      <th>概率统计</th>      <th>统计方法</th>      <th>编程技术</th>      <th>都学习过</th>      <th>都未学过</th>    </tr>    <tr>      <th>开设</th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>不必要</th>      <td>3</td>      <td>2</td>      <td>1</td>      <td>1</td>      <td>4</td>    </tr>    <tr>      <th>不清楚</th>      <td>3</td>      <td>3</td>      <td>3</td>      <td>2</td>      <td>1</td>    </tr>    <tr>      <th>有必要</th>      <td>5</td>      <td>10</td>      <td>6</td>      <td>7</td>      <td>1</td>    </tr>  </tbody></table></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th>课程</th>      <th>概率统计</th>      <th>统计方法</th>      <th>编程技术</th>      <th>都学习过</th>      <th>都未学过</th>    </tr>    <tr>      <th>开设</th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>不必要</th>      <td>3</td>      <td>2</td>      <td>1</td>      <td>1</td>      <td>4</td>    </tr>    <tr>      <th>不清楚</th>      <td>3</td>      <td>3</td>      <td>3</td>      <td>2</td>      <td>1</td>    </tr>    <tr>      <th>有必要</th>      <td>5</td>      <td>10</td>      <td>6</td>      <td>7</td>      <td>1</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#（2）复式条图</span></span><br><span class="line">T2=pd.crosstab(BSdata.开设,BSdata.课程);T2</span><br><span class="line">T2.plot(kind=<span class="string">&#x27;bar&#x27;</span>);</span><br><span class="line">T2.plot(kind=<span class="string">&#x27;barh&#x27;</span>);</span><br><span class="line">T2.plot(kind=<span class="string">&#x27;bar&#x27;</span>,stacked=<span class="literal">True</span>);</span><br></pre></td></tr></table></figure><p>​<br><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112101441124.png" alt="png"><br>​    </p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112101451639.png" alt="png"></p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112101441168.png" alt="png"></p><h4 id="2-2-2-2-计量数据的列联表"><a href="#2-2-2-2-计量数据的列联表" class="headerlink" title="2.2.2.2 计量数据的列联表"></a>2.2.2.2 计量数据的列联表</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#（1）groupby函数</span></span><br><span class="line">BSdata1=BSdata.iloc[:,<span class="number">2</span>:<span class="number">5</span>];BSdata1.head()</span><br><span class="line">BSdata1.mean()             <span class="comment">#对计量数据求均值</span></span><br><span class="line">BSdata.groupby([<span class="string">&#x27;性别&#x27;</span>])</span><br><span class="line"><span class="built_in">type</span>(BSdata.groupby([<span class="string">&#x27;性别&#x27;</span>]))</span><br><span class="line">BSdata.groupby([<span class="string">&#x27;性别&#x27;</span>])[<span class="string">&#x27;身高&#x27;</span>].mean()</span><br><span class="line">BSdata.groupby([<span class="string">&#x27;性别&#x27;</span>])[<span class="string">&#x27;身高&#x27;</span>].size()</span><br><span class="line">BSdata.groupby([<span class="string">&#x27;性别&#x27;</span>,<span class="string">&#x27;开设&#x27;</span>])[<span class="string">&#x27;身高&#x27;</span>].mean()</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>身高</th>      <th>体重</th>      <th>支出</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>167</td>      <td>71</td>      <td>46.0</td>    </tr>    <tr>      <th>1</th>      <td>171</td>      <td>68</td>      <td>10.4</td>    </tr>    <tr>      <th>2</th>      <td>175</td>      <td>73</td>      <td>21.0</td>    </tr>    <tr>      <th>3</th>      <td>169</td>      <td>74</td>      <td>4.9</td>    </tr>    <tr>      <th>4</th>      <td>154</td>      <td>55</td>      <td>25.9</td>    </tr>  </tbody></table></div><pre><code>身高    168.5192体重     68.5000支出     24.5115dtype: float64&lt;pandas.core.groupby.generic.DataFrameGroupBy object at 0x000000000D894790&gt;pandas.core.groupby.generic.DataFrameGroupBy性别女    165.3600男    171.4444Name: 身高, dtype: float64性别女    25男    27Name: 身高, dtype: int64性别  开设 女   不必要    165.1667    不清楚    164.5556    有必要    166.2000男   不必要    180.2000    不清楚    173.3333    有必要    168.8421Name: 身高, dtype: float64</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#（2）agg函数</span></span><br><span class="line">BSdata.groupby([<span class="string">&#x27;性别&#x27;</span>])[<span class="string">&#x27;身高&#x27;</span>].agg([np.mean, np.std])</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>mean</th>      <th>std</th>    </tr>    <tr>      <th>性别</th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>女</th>      <td>165.3600</td>      <td>5.1791</td>    </tr>    <tr>      <th>男</th>      <td>171.4444</td>      <td>9.1034</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#（3）应用apply()</span></span><br><span class="line">BSdata.groupby([<span class="string">&#x27;性别&#x27;</span>])[<span class="string">&#x27;身高&#x27;</span>,<span class="string">&#x27;体重&#x27;</span>].apply(np.mean)</span><br><span class="line">BSdata.groupby([<span class="string">&#x27;性别&#x27;</span>,<span class="string">&#x27;开设&#x27;</span>])[<span class="string">&#x27;身高&#x27;</span>,<span class="string">&#x27;体重&#x27;</span>].apply(np.mean)</span><br></pre></td></tr></table></figure><pre><code>C:\Users\kit\AppData\Local\Temp/ipykernel_2184/1879082383.py:2: FutureWarning: Indexing with multiple keys (implicitly converted to a tuple of keys) will be deprecated, use a list instead.  BSdata.groupby([&#39;性别&#39;])[&#39;身高&#39;,&#39;体重&#39;].apply(np.mean)</code></pre><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>身高</th>      <th>体重</th>    </tr>    <tr>      <th>性别</th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>女</th>      <td>165.3600</td>      <td>66.2400</td>    </tr>    <tr>      <th>男</th>      <td>171.4444</td>      <td>70.5926</td>    </tr>  </tbody></table></div><pre><code>C:\Users\kit\AppData\Local\Temp/ipykernel_2184/1879082383.py:3: FutureWarning: Indexing with multiple keys (implicitly converted to a tuple of keys) will be deprecated, use a list instead.  BSdata.groupby([&#39;性别&#39;,&#39;开设&#39;])[&#39;身高&#39;,&#39;体重&#39;].apply(np.mean)</code></pre><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th></th>      <th>身高</th>      <th>体重</th>    </tr>    <tr>      <th>性别</th>      <th>开设</th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th rowspan="3" valign="top">女</th>      <th>不必要</th>      <td>165.1667</td>      <td>67.3333</td>    </tr>    <tr>      <th>不清楚</th>      <td>164.5556</td>      <td>64.6667</td>    </tr>    <tr>      <th>有必要</th>      <td>166.2000</td>      <td>67.0000</td>    </tr>    <tr>      <th rowspan="3" valign="top">男</th>      <th>不必要</th>      <td>180.2000</td>      <td>79.2000</td>    </tr>    <tr>      <th>不清楚</th>      <td>173.3333</td>      <td>72.6667</td>    </tr>    <tr>      <th>有必要</th>      <td>168.8421</td>      <td>68.0000</td>    </tr>  </tbody></table></div><h3 id="2-2-3-透视表分析"><a href="#2-2-3-透视表分析" class="headerlink" title="2.2.3 透视表分析"></a>2.2.3 透视表分析</h3><h4 id="2-2-3-1-计数数据的透视分析"><a href="#2-2-3-1-计数数据的透视分析" class="headerlink" title="2.2.3.1 计数数据的透视分析"></a>2.2.3.1 计数数据的透视分析</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#（1）pivot_table</span></span><br><span class="line">BSdata.pivot_table(index=[<span class="string">&#x27;性别&#x27;</span>],values=[<span class="string">&#x27;学号&#x27;</span>],aggfunc=<span class="built_in">len</span>)</span><br><span class="line">BSdata.pivot_table(values=[<span class="string">&#x27;学号&#x27;</span>],index=[<span class="string">&#x27;性别&#x27;</span>,<span class="string">&#x27;开设&#x27;</span>],aggfunc=<span class="built_in">len</span>)</span><br><span class="line">BSdata.pivot_table(values=[<span class="string">&#x27;学号&#x27;</span>],index=[<span class="string">&#x27;开设&#x27;</span>],columns=[<span class="string">&#x27;性别&#x27;</span>],aggfunc=<span class="built_in">len</span>)</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>学号</th>    </tr>    <tr>      <th>性别</th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>女</th>      <td>25</td>    </tr>    <tr>      <th>男</th>      <td>27</td>    </tr>  </tbody></table></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th></th>      <th>学号</th>    </tr>    <tr>      <th>性别</th>      <th>开设</th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th rowspan="3" valign="top">女</th>      <th>不必要</th>      <td>6</td>    </tr>    <tr>      <th>不清楚</th>      <td>9</td>    </tr>    <tr>      <th>有必要</th>      <td>10</td>    </tr>    <tr>      <th rowspan="3" valign="top">男</th>      <th>不必要</th>      <td>5</td>    </tr>    <tr>      <th>不清楚</th>      <td>3</td>    </tr>    <tr>      <th>有必要</th>      <td>19</td>    </tr>  </tbody></table></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead tr th &#123;    text-align: left;&#125;.dataframe thead tr:last-of-type th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr>      <th></th>      <th colspan="2" halign="left">学号</th>    </tr>    <tr>      <th>性别</th>      <th>女</th>      <th>男</th>    </tr>    <tr>      <th>开设</th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>不必要</th>      <td>6</td>      <td>5</td>    </tr>    <tr>      <th>不清楚</th>      <td>9</td>      <td>3</td>    </tr>    <tr>      <th>有必要</th>      <td>10</td>      <td>19</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">####2.2.3.2 计量数据的透视分析</span></span><br><span class="line"><span class="comment">#pd.pivot_table(BSdata,index=[&quot;性别&quot;],aggfunc=len)</span></span><br><span class="line">BSdata.pivot_table(index=[<span class="string">&#x27;性别&#x27;</span>],values=[<span class="string">&quot;身高&quot;</span>],aggfunc=np.mean)</span><br><span class="line">BSdata.pivot_table(index=[<span class="string">&#x27;性别&#x27;</span>],values=[<span class="string">&quot;身高&quot;</span>],aggfunc=[np.mean,np.std])</span><br><span class="line">BSdata.pivot_table(index=[<span class="string">&quot;性别&quot;</span>],values=[<span class="string">&quot;身高&quot;</span>,<span class="string">&quot;体重&quot;</span>])</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>身高</th>    </tr>    <tr>      <th>性别</th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>女</th>      <td>165.3600</td>    </tr>    <tr>      <th>男</th>      <td>171.4444</td>    </tr>  </tbody></table></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead tr th &#123;    text-align: left;&#125;.dataframe thead tr:last-of-type th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr>      <th></th>      <th>mean</th>      <th>std</th>    </tr>    <tr>      <th></th>      <th>身高</th>      <th>身高</th>    </tr>    <tr>      <th>性别</th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>女</th>      <td>165.3600</td>      <td>5.1791</td>    </tr>    <tr>      <th>男</th>      <td>171.4444</td>      <td>9.1034</td>    </tr>  </tbody></table></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>体重</th>      <th>身高</th>    </tr>    <tr>      <th>性别</th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>女</th>      <td>66.2400</td>      <td>165.3600</td>    </tr>    <tr>      <th>男</th>      <td>70.5926</td>      <td>171.4444</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#2.2.3.3 复合数据的透视分析</span></span><br><span class="line"><span class="comment">#pd.pivot_table(BSdata,index=[&quot;性别&quot;,&quot;开设&quot;],aggfunc=len,margins=True)</span></span><br><span class="line"><span class="comment">#pd.pivot_table(BSdata,index=[&quot;性别&quot;],aggfunc=np.mean)</span></span><br><span class="line">BSdata.pivot_table(<span class="string">&#x27;学号&#x27;</span>,[<span class="string">&#x27;性别&#x27;</span>,<span class="string">&#x27;开设&#x27;</span>],<span class="string">&#x27;课程&#x27;</span>,aggfunc=<span class="built_in">len</span>,margins=<span class="literal">True</span>,margins_name=<span class="string">&#x27;合计&#x27;</span>)</span><br><span class="line">BSdata.pivot_table([<span class="string">&#x27;身高&#x27;</span>,<span class="string">&#x27;体重&#x27;</span>],[<span class="string">&#x27;性别&#x27;</span>,<span class="string">&quot;开设&quot;</span>],aggfunc=[<span class="built_in">len</span>,np.mean,np.std] )</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>课程</th>      <th>概率统计</th>      <th>统计方法</th>      <th>编程技术</th>      <th>都学习过</th>      <th>都未学过</th>      <th>合计</th>    </tr>    <tr>      <th>性别</th>      <th>开设</th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th rowspan="3" valign="top">女</th>      <th>不必要</th>      <td>1.0</td>      <td>1.0</td>      <td>NaN</td>      <td>1.0</td>      <td>3.0</td>      <td>6</td>    </tr>    <tr>      <th>不清楚</th>      <td>2.0</td>      <td>1.0</td>      <td>3.0</td>      <td>2.0</td>      <td>1.0</td>      <td>9</td>    </tr>    <tr>      <th>有必要</th>      <td>NaN</td>      <td>5.0</td>      <td>3.0</td>      <td>2.0</td>      <td>NaN</td>      <td>10</td>    </tr>    <tr>      <th rowspan="3" valign="top">男</th>      <th>不必要</th>      <td>2.0</td>      <td>1.0</td>      <td>1.0</td>      <td>NaN</td>      <td>1.0</td>      <td>5</td>    </tr>    <tr>      <th>不清楚</th>      <td>1.0</td>      <td>2.0</td>      <td>NaN</td>      <td>NaN</td>      <td>NaN</td>      <td>3</td>    </tr>    <tr>      <th>有必要</th>      <td>5.0</td>      <td>5.0</td>      <td>3.0</td>      <td>5.0</td>      <td>1.0</td>      <td>19</td>    </tr>    <tr>      <th>合计</th>      <th></th>      <td>11.0</td>      <td>15.0</td>      <td>10.0</td>      <td>10.0</td>      <td>6.0</td>      <td>52</td>    </tr>  </tbody></table></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead tr th &#123;    text-align: left;&#125;.dataframe thead tr:last-of-type th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr>      <th></th>      <th></th>      <th colspan="2" halign="left">len</th>      <th colspan="2" halign="left">mean</th>      <th colspan="2" halign="left">std</th>    </tr>    <tr>      <th></th>      <th></th>      <th>体重</th>      <th>身高</th>      <th>体重</th>      <th>身高</th>      <th>体重</th>      <th>身高</th>    </tr>    <tr>      <th>性别</th>      <th>开设</th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th rowspan="3" valign="top">女</th>      <th>不必要</th>      <td>6</td>      <td>6</td>      <td>67.3333</td>      <td>165.1667</td>      <td>3.3267</td>      <td>2.7869</td>    </tr>    <tr>      <th>不清楚</th>      <td>9</td>      <td>9</td>      <td>64.6667</td>      <td>164.5556</td>      <td>6.0000</td>      <td>6.5021</td>    </tr>    <tr>      <th>有必要</th>      <td>10</td>      <td>10</td>      <td>67.0000</td>      <td>166.2000</td>      <td>5.3333</td>      <td>5.3083</td>    </tr>    <tr>      <th rowspan="3" valign="top">男</th>      <th>不必要</th>      <td>5</td>      <td>5</td>      <td>79.2000</td>      <td>180.2000</td>      <td>4.4385</td>      <td>4.1473</td>    </tr>    <tr>      <th>不清楚</th>      <td>3</td>      <td>3</td>      <td>72.6667</td>      <td>173.3333</td>      <td>5.0332</td>      <td>5.6862</td>    </tr>    <tr>      <th>有必要</th>      <td>19</td>      <td>19</td>      <td>68.0000</td>      <td>168.8421</td>      <td>9.1652</td>      <td>9.1242</td>    </tr>  </tbody></table></div><h1 id="第3章-简单数据的统计分析"><a href="#第3章-简单数据的统计分析" class="headerlink" title="第3章 简单数据的统计分析"></a>第3章 简单数据的统计分析</h1><h2 id="3-1-随机变量及其分布"><a href="#3-1-随机变量及其分布" class="headerlink" title="3.1 随机变量及其分布"></a>3.1 随机变量及其分布</h2><h3 id="3-1-1-随机变量及其分布"><a href="#3-1-1-随机变量及其分布" class="headerlink" title="3.1.1 随机变量及其分布"></a>3.1.1 随机变量及其分布</h3><h4 id="3-1-1-1-均匀分布"><a href="#3-1-1-1-均匀分布" class="headerlink" title="3.1.1.1 均匀分布"></a>3.1.1.1 均匀分布</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a=<span class="number">0</span>;b=<span class="number">1</span>;y=<span class="number">1</span>/(b-a)</span><br><span class="line">plt.plot(a,y); <span class="comment">#plt.axhlines(y=0,a,b);</span></span><br><span class="line">plt.vlines(<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>);plt.vlines(<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>);</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112101451844.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#####（1）整数随机数</span></span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line">random.randint(<span class="number">10</span>,<span class="number">20</span>)  <span class="comment">#[10,20]上的随机整数</span></span><br></pre></td></tr></table></figure><pre><code>17</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#####（2）实数随机数</span></span><br><span class="line">random.uniform(<span class="number">0</span>,<span class="number">1</span>)    <span class="comment">#[0,1]上的随机实数</span></span><br></pre></td></tr></table></figure><pre><code>0.24207888908268027</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#####（3）整数随机数列</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">np.random.randint(<span class="number">10</span>,<span class="number">21</span>,<span class="number">9</span>)  <span class="comment">#[10,20]上的随机整数</span></span><br></pre></td></tr></table></figure><pre><code>array([10, 16, 11, 17, 13, 20, 17, 14, 18])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#####（4）实数随机数列</span></span><br><span class="line">np.random.uniform(<span class="number">0</span>,<span class="number">1</span>,<span class="number">10</span>)   <span class="comment">#[0,1]上的10个随机实数=np.random.rand(10)</span></span><br></pre></td></tr></table></figure><pre><code>array([0.0165, 0.446 , 0.3757, 0.0783, 0.6474, 0.1734, 0.7809, 0.3352,       0.1861, 0.6524])</code></pre><h4 id="3-1-1-2-正态分布"><a href="#3-1-1-2-正态分布" class="headerlink" title="3.1.1.2 正态分布"></a>3.1.1.2 正态分布</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#####（2）标准正态分布</span></span><br><span class="line"><span class="keyword">from</span> math <span class="keyword">import</span> sqrt,pi   <span class="comment">#调用数学函数，import math as *</span></span><br><span class="line">x=np.linspace(-<span class="number">4</span>,<span class="number">4</span>,<span class="number">50</span>);</span><br><span class="line">y=<span class="number">1</span>/sqrt(<span class="number">2</span>*pi)*np.exp(-x**<span class="number">2</span>/<span class="number">2</span>);</span><br><span class="line">plt.plot(x,y);</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112101441953.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> scipy.stats <span class="keyword">as</span> st  <span class="comment">#加载统计方法包</span></span><br><span class="line">P=st.norm.cdf(<span class="number">2</span>);P</span><br></pre></td></tr></table></figure><pre><code>0.9772498680518208</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;&#x27;加载自定义库,在当前目录下建立PyDm1func.py函数库即可&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">import</span> PyDm_fun <span class="keyword">as</span> da</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;标准正态曲线面积（概率） &#x27;&#x27;&#x27;</span></span><br><span class="line">da.norm_p(-<span class="number">1</span>,<span class="number">1</span>)         <span class="comment">#68.27%</span></span><br><span class="line">da.norm_p(-<span class="number">2</span>,<span class="number">2</span>)         <span class="comment">#94.45%</span></span><br><span class="line">da.norm_p(-<span class="number">1.96</span>,<span class="number">1.96</span>)   <span class="comment">#95%</span></span><br><span class="line">da.norm_p(-<span class="number">3</span>,<span class="number">3</span>)         <span class="comment">#99.73%</span></span><br><span class="line">da.norm_p(-<span class="number">2.58</span>,<span class="number">2.58</span>)   <span class="comment">#99%</span></span><br></pre></td></tr></table></figure><pre><code>&#39;加载自定义库,在当前目录下建立PyDm1func.py函数库即可&#39;&#39;标准正态曲线面积（概率） &#39;</code></pre><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112101449160.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">za=st.norm.ppf(<span class="number">0.95</span>);za   <span class="comment">#单侧</span></span><br><span class="line">[st.norm.ppf(<span class="number">0.025</span>),st.norm.ppf(<span class="number">0.975</span>)]  <span class="comment">#双侧</span></span><br></pre></td></tr></table></figure><pre><code>1.6448536269514722[-1.9599639845400545, 1.959963984540054]</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#####（3）正态随机数</span></span><br><span class="line">np.random.normal(<span class="number">10</span>,<span class="number">4</span>,<span class="number">5</span>)  <span class="comment">#产生5个均值为10标准差为4的正态随机数</span></span><br><span class="line">np.random.normal(<span class="number">0</span>,<span class="number">1</span>,<span class="number">5</span>)   <span class="comment">#生成5个标准正态分布随机数</span></span><br></pre></td></tr></table></figure><pre><code>array([ 6.7104, 12.4924,  9.1123, 12.172 ,  6.8497])array([ 0.1288, -0.3154,  0.2946,  0.5009,  0.279 ])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;&#x27;一页绘制四个正态随机图 &#x27;&#x27;&#x27;</span></span><br><span class="line">fig,ax = plt.subplots(<span class="number">2</span>,<span class="number">2</span>)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>):</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>):</span><br><span class="line">        ax[i,j].hist(np.random.normal(<span class="number">0</span>,<span class="number">1</span>,<span class="number">500</span>),bins = <span class="number">50</span>)</span><br><span class="line">plt.subplots_adjust(wspace = <span class="number">0</span>,hspace=<span class="number">0</span>)</span><br></pre></td></tr></table></figure><pre><code>&#39;一页绘制四个正态随机图 &#39;(array([ 1.,  0.,  0.,  0.,  1.,  0.,  0.,  2.,  2.,  2.,  2.,  6.,  5.,         3.,  3.,  6., 11., 14.,  9.,  8., 12., 10., 28., 19., 14., 20.,        22., 32., 30., 18., 27., 31., 13., 21., 21., 22., 14., 13., 11.,         9.,  7.,  9.,  8.,  5.,  4.,  0.,  2.,  1.,  1.,  1.]), array([-3.406 , -3.2871, -3.1683, -3.0494, -2.9305, -2.8117, -2.6928,        -2.5739, -2.4551, -2.3362, -2.2173, -2.0984, -1.9796, -1.8607,        -1.7418, -1.623 , -1.5041, -1.3852, -1.2664, -1.1475, -1.0286,        -0.9098, -0.7909, -0.672 , -0.5532, -0.4343, -0.3154, -0.1966,        -0.0777,  0.0412,  0.16  ,  0.2789,  0.3978,  0.5166,  0.6355,         0.7544,  0.8732,  0.9921,  1.111 ,  1.2298,  1.3487,  1.4676,         1.5864,  1.7053,  1.8242,  1.943 ,  2.0619,  2.1808,  2.2997,         2.4185,  2.5374]), &lt;BarContainer object of 50 artists&gt;)(array([ 1.,  2.,  1.,  2.,  0.,  2.,  2.,  4.,  1.,  3.,  8.,  7.,  7.,        10., 15.,  6., 10., 15., 13., 18., 24., 23., 22., 20., 13., 17.,        19., 23., 15., 15., 23., 24., 20., 14., 15., 22., 12.,  7.,  7.,        10.,  6.,  4.,  7.,  2.,  0.,  1.,  4.,  1.,  1.,  2.]), array([-2.8522, -2.7429, -2.6336, -2.5244, -2.4151, -2.3058, -2.1965,        -2.0872, -1.9779, -1.8687, -1.7594, -1.6501, -1.5408, -1.4315,        -1.3222, -1.213 , -1.1037, -0.9944, -0.8851, -0.7758, -0.6665,        -0.5573, -0.448 , -0.3387, -0.2294, -0.1201, -0.0108,  0.0985,         0.2077,  0.317 ,  0.4263,  0.5356,  0.6449,  0.7542,  0.8634,         0.9727,  1.082 ,  1.1913,  1.3006,  1.4099,  1.5191,  1.6284,         1.7377,  1.847 ,  1.9563,  2.0656,  2.1748,  2.2841,  2.3934,         2.5027,  2.612 ]), &lt;BarContainer object of 50 artists&gt;)(array([ 1.,  0.,  0.,  1.,  1.,  1.,  0.,  1.,  1.,  3.,  4.,  6.,  1.,         6.,  8., 12., 12.,  9., 14., 12., 16., 26., 24., 23., 19., 25.,        24., 20., 31., 29., 36., 24., 21., 17., 17.,  9., 10.,  5., 10.,         6.,  2.,  3.,  4.,  2.,  1.,  1.,  1.,  0.,  0.,  1.]), array([-3.4763, -3.3441, -3.212 , -3.0798, -2.9477, -2.8155, -2.6834,        -2.5513, -2.4191, -2.287 , -2.1548, -2.0227, -1.8905, -1.7584,        -1.6262, -1.4941, -1.3619, -1.2298, -1.0976, -0.9655, -0.8333,        -0.7012, -0.569 , -0.4369, -0.3047, -0.1726, -0.0404,  0.0917,         0.2239,  0.356 ,  0.4882,  0.6203,  0.7525,  0.8846,  1.0168,         1.1489,  1.281 ,  1.4132,  1.5453,  1.6775,  1.8096,  1.9418,         2.0739,  2.2061,  2.3382,  2.4704,  2.6025,  2.7347,  2.8668,         2.999 ,  3.1311]), &lt;BarContainer object of 50 artists&gt;)(array([ 1.,  1.,  0.,  0.,  3.,  3.,  3.,  4.,  2.,  4.,  5.,  2.,  4.,        13.,  9., 11., 25.,  7., 14., 15., 13., 21., 11., 27., 22., 26.,        25., 25., 28., 20., 23., 19., 13., 15., 19., 15., 12.,  5.,  7.,         8.,  9.,  3.,  2.,  2.,  1.,  1.,  1.,  0.,  0.,  1.]), array([-2.8851, -2.7704, -2.6556, -2.5408, -2.426 , -2.3113, -2.1965,        -2.0817, -1.9669, -1.8522, -1.7374, -1.6226, -1.5078, -1.3931,        -1.2783, -1.1635, -1.0488, -0.934 , -0.8192, -0.7044, -0.5897,        -0.4749, -0.3601, -0.2453, -0.1306, -0.0158,  0.099 ,  0.2138,         0.3285,  0.4433,  0.5581,  0.6729,  0.7876,  0.9024,  1.0172,         1.1319,  1.2467,  1.3615,  1.4763,  1.591 ,  1.7058,  1.8206,         1.9354,  2.0501,  2.1649,  2.2797,  2.3945,  2.5092,  2.624 ,         2.7388,  2.8536]), &lt;BarContainer object of 50 artists&gt;)</code></pre><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112101441972.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">z=np.random.normal(<span class="number">0</span>,<span class="number">1</span>,<span class="number">100</span>)</span><br><span class="line">plt.hist(z)</span><br></pre></td></tr></table></figure><pre><code>(array([ 4.,  8., 13., 19., 18., 17., 12.,  5.,  3.,  1.]), array([-2.068 , -1.5828, -1.0977, -0.6125, -0.1274,  0.3577,  0.8429,         1.328 ,  1.8132,  2.2983,  2.7835]), &lt;BarContainer object of 10 artists&gt;)</code></pre><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112101449002.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">st.probplot(BSdata.身高, dist=<span class="string">&quot;norm&quot;</span>, plot=plt); <span class="comment">#正态概率图</span></span><br><span class="line">st.probplot(BSdata[<span class="string">&#x27;支出&#x27;</span>], dist=<span class="string">&quot;norm&quot;</span>, plot=plt);</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112101441052.png" alt="png"></p><h3 id="3-1-2-正态分布"><a href="#3-1-2-正态分布" class="headerlink" title="3.1.2 正态分布"></a>3.1.2 正态分布</h3><h4 id="3-1-2-1-基本概念"><a href="#3-1-2-1-基本概念" class="headerlink" title="3.1.2.1 基本概念"></a>3.1.2.1 基本概念</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#####（1）简单随机抽样</span></span><br><span class="line">np.random.randint(<span class="number">0</span>,<span class="number">2</span>,<span class="number">10</span>)  <span class="comment">#[0,2)上的10个随机整数</span></span><br><span class="line">i=np.random.randint(<span class="number">1</span>,<span class="number">53</span>,<span class="number">6</span>);i <span class="comment">#抽取10个学生，[1,52]上的6个整数</span></span><br><span class="line">BSdata.iloc[i]       <span class="comment">#随机抽取的6个学生信息</span></span><br><span class="line">BSdata.sample(<span class="number">6</span>)    <span class="comment">#直接抽取6个学生的信息</span></span><br></pre></td></tr></table></figure><pre><code>array([0, 0, 0, 1, 0, 1, 1, 0, 0, 0])array([30,  4, 23, 48,  3,  6])</code></pre><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>学号</th>      <th>性别</th>      <th>身高</th>      <th>体重</th>      <th>支出</th>      <th>开设</th>      <th>课程</th>      <th>软件</th>    </tr>  </thead>  <tbody>    <tr>      <th>30</th>      <td>1529365032</td>      <td>男</td>      <td>172</td>      <td>71</td>      <td>10.4</td>      <td>有必要</td>      <td>都学习过</td>      <td>SPSS</td>    </tr>    <tr>      <th>4</th>      <td>1512331015</td>      <td>男</td>      <td>154</td>      <td>55</td>      <td>25.9</td>      <td>有必要</td>      <td>都学习过</td>      <td>Python</td>    </tr>    <tr>      <th>23</th>      <td>1526196010</td>      <td>男</td>      <td>167</td>      <td>72</td>      <td>9.8</td>      <td>不清楚</td>      <td>统计方法</td>      <td>SPSS</td>    </tr>    <tr>      <th>48</th>      <td>1538254010</td>      <td>女</td>      <td>166</td>      <td>65</td>      <td>5.3</td>      <td>不清楚</td>      <td>编程技术</td>      <td>Python</td>    </tr>    <tr>      <th>3</th>      <td>1512332010</td>      <td>男</td>      <td>169</td>      <td>74</td>      <td>4.9</td>      <td>有必要</td>      <td>编程技术</td>      <td>Excel</td>    </tr>    <tr>      <th>6</th>      <td>1516352030</td>      <td>女</td>      <td>169</td>      <td>71</td>      <td>9.1</td>      <td>有必要</td>      <td>编程技术</td>      <td>Excel</td>    </tr>  </tbody></table></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>学号</th>      <th>性别</th>      <th>身高</th>      <th>体重</th>      <th>支出</th>      <th>开设</th>      <th>课程</th>      <th>软件</th>    </tr>  </thead>  <tbody>    <tr>      <th>14</th>      <td>1522274026</td>      <td>女</td>      <td>164</td>      <td>66</td>      <td>50.5</td>      <td>有必要</td>      <td>统计方法</td>      <td>SPSS</td>    </tr>    <tr>      <th>51</th>      <td>1540388036</td>      <td>女</td>      <td>165</td>      <td>67</td>      <td>56.8</td>      <td>不必要</td>      <td>概率统计</td>      <td>SAS</td>    </tr>    <tr>      <th>19</th>      <td>1524286013</td>      <td>男</td>      <td>160</td>      <td>62</td>      <td>4.8</td>      <td>有必要</td>      <td>都未学过</td>      <td>R</td>    </tr>    <tr>      <th>29</th>      <td>1529245023</td>      <td>男</td>      <td>164</td>      <td>58</td>      <td>21.9</td>      <td>有必要</td>      <td>统计方法</td>      <td>Excel</td>    </tr>    <tr>      <th>12</th>      <td>1522186005</td>      <td>男</td>      <td>162</td>      <td>63</td>      <td>9.8</td>      <td>有必要</td>      <td>都学习过</td>      <td>SPSS</td>    </tr>    <tr>      <th>24</th>      <td>1527173011</td>      <td>女</td>      <td>160</td>      <td>62</td>      <td>11.5</td>      <td>不必要</td>      <td>都学习过</td>      <td>Matlab</td>    </tr>  </tbody></table></div><h4 id="3-1-2-2-统计量及其分布"><a href="#3-1-2-2-统计量及其分布" class="headerlink" title="3.1.2.2 统计量及其分布"></a>3.1.2.2 统计量及其分布</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#####（1）正态分布模拟</span></span><br><span class="line"><span class="keyword">import</span> seaborn <span class="keyword">as</span> sns </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">norm_sim1</span>(<span class="params">N=<span class="number">1000</span>,n=<span class="number">10</span></span>):</span>    <span class="comment"># n样本个数, N模拟次数（即抽样次数）</span></span><br><span class="line">    xbar=np.zeros(N)            <span class="comment">#模拟样本均值</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(N):          <span class="comment">#[0,1]上的标准正态随机数及均值</span></span><br><span class="line">       xbar[i]=np.random.normal(<span class="number">0</span>,<span class="number">1</span>,n).mean()</span><br><span class="line">    sns.distplot(xbar,bins=<span class="number">50</span>)  <span class="comment">#plt.hist(xbar,bins=50)</span></span><br><span class="line">    print(pd.DataFrame(xbar).describe().T)</span><br><span class="line">norm_sim1()</span><br><span class="line">norm_sim1(<span class="number">10000</span>,<span class="number">30</span>)</span><br><span class="line"><span class="comment">#sns.distplot(norm_sim1())  #plt.hist(norm_sim1())</span></span><br><span class="line"><span class="comment">#sns.distplot(norm_sim1(n=30,N=10000)) #plt.hist(norm_sim1(n=30,N=10000))</span></span><br></pre></td></tr></table></figure><pre><code>C:\Users\kit\miniconda3\lib\site-packages\seaborn\distributions.py:2619: FutureWarning: `distplot` is a deprecated function and will be removed in a future version. Please adapt your code to use either `displot` (a figure-level function with similar flexibility) or `histplot` (an axes-level function for histograms).  warnings.warn(msg, FutureWarning)    count    mean     std     min     25%     50%     75%     max0  1000.0  0.0085  0.3239 -0.9102 -0.2089  0.0061  0.2184  1.0639C:\Users\kit\miniconda3\lib\site-packages\seaborn\distributions.py:2619: FutureWarning: `distplot` is a deprecated function and will be removed in a future version. Please adapt your code to use either `displot` (a figure-level function with similar flexibility) or `histplot` (an axes-level function for histograms).  warnings.warn(msg, FutureWarning)     count    mean     std     min     25%     50%    75%     max0  10000.0 -0.0032  0.1807 -0.6541 -0.1249 -0.0013  0.118  0.6659</code></pre><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112101449349.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">norm_sim2</span>(<span class="params">N=<span class="number">1000</span>,n=<span class="number">10</span></span>):</span></span><br><span class="line">    xbar=np.zeros(N)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(N):</span><br><span class="line">       xbar[i]=np.random.uniform(<span class="number">0</span>,<span class="number">1</span>,n).mean()  <span class="comment">#[0,1]上的均匀随机数及均值</span></span><br><span class="line">    sns.distplot(xbar,bins=<span class="number">50</span>)</span><br><span class="line">    print(pd.DataFrame(xbar).describe().T)</span><br><span class="line">norm_sim2()</span><br><span class="line">norm_sim2(<span class="number">10000</span>,<span class="number">30</span>)</span><br></pre></td></tr></table></figure><pre><code>C:\Users\kit\miniconda3\lib\site-packages\seaborn\distributions.py:2619: FutureWarning: `distplot` is a deprecated function and will be removed in a future version. Please adapt your code to use either `displot` (a figure-level function with similar flexibility) or `histplot` (an axes-level function for histograms).  warnings.warn(msg, FutureWarning)    count    mean     std     min     25%     50%     75%     max0  1000.0  0.5019  0.0912  0.2292  0.4364  0.4976  0.5667  0.7753C:\Users\kit\miniconda3\lib\site-packages\seaborn\distributions.py:2619: FutureWarning: `distplot` is a deprecated function and will be removed in a future version. Please adapt your code to use either `displot` (a figure-level function with similar flexibility) or `histplot` (an axes-level function for histograms).  warnings.warn(msg, FutureWarning)     count    mean     std     min     25%     50%     75%     max0  10000.0  0.4998  0.0521  0.3241  0.4638  0.4995  0.5353  0.7193</code></pre><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112101441860.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#sns.distplot(norm_sim2())             #plt.hist(norm_sim2())</span></span><br><span class="line"><span class="comment">#sns.distplot(norm_sim1(n=30,N=10000)) #plt.hist(norm_sim2(n=30,N=10000))</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#####（3）t分布曲线</span></span><br><span class="line">x=np.linspace(-<span class="number">4</span>,<span class="number">4</span>,<span class="number">50</span>);x</span><br><span class="line">yn=st.norm.pdf(x,<span class="number">0</span>,<span class="number">1</span>)</span><br><span class="line">yt2=st.t.pdf(x,<span class="number">2</span>)</span><br><span class="line">yt10=st.t.pdf(x,<span class="number">10</span>)</span><br><span class="line">plt.plot(x,yn,<span class="string">&#x27;r-&#x27;</span>,x,yt2,<span class="string">&#x27;b.&#x27;</span>,x,yt10,<span class="string">&#x27;g-.&#x27;</span>);</span><br><span class="line">plt.legend([<span class="string">&quot;N(0,1)&quot;</span>,<span class="string">&quot;t(2)&quot;</span>,<span class="string">&quot;t(10)&quot;</span>]);</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112101449318.png" alt="png"></p><h3 id="3-1-3-随机模拟及其应用"><a href="#3-1-3-随机模拟及其应用" class="headerlink" title="3.1.3 随机模拟及其应用"></a>3.1.3 随机模拟及其应用</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#3.1.3.1 模拟大数定律</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">Bernoulli</span>(<span class="params">N=<span class="number">100</span></span>):</span></span><br><span class="line">    p=np.zeros(N)</span><br><span class="line">    <span class="keyword">for</span> n <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,N):</span><br><span class="line">       f=np.random.randint(<span class="number">0</span>,<span class="number">2</span>,n)  <span class="comment">#[0,1]</span></span><br><span class="line">       m=<span class="built_in">sum</span>(f)</span><br><span class="line">       p[n]=m/n</span><br><span class="line">    plt.plot(p);plt.hlines(<span class="number">0.5</span>,<span class="number">1</span>,N)</span><br><span class="line">Bernoulli()</span><br><span class="line">Bernoulli(<span class="number">1000</span>)</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112101449976.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#3.1.3.2 模拟方法求积分</span></span><br><span class="line"><span class="keyword">from</span> math <span class="keyword">import</span> sqrt,pi,exp</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">g</span>(<span class="params">x</span>):</span></span><br><span class="line">    <span class="keyword">return</span> (<span class="number">1</span>/sqrt(<span class="number">2</span>*pi))*exp(-x**<span class="number">2</span>/<span class="number">2</span>)</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">I</span>(<span class="params">n,a,b,g</span>):</span></span><br><span class="line">    x=np.random.uniform(<span class="number">0</span>,<span class="number">1</span>,n)</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">sum</span>([(b-a)*g(a+(b-a)*y) <span class="keyword">for</span> y <span class="keyword">in</span> x])/n</span><br><span class="line">I(<span class="number">10000</span>,-<span class="number">1</span>,<span class="number">1</span>,g)</span><br></pre></td></tr></table></figure><pre><code>0.6827788509034309</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> scipy.integrate <span class="keyword">import</span> quad</span><br><span class="line">quad(g,-<span class="number">1</span>,<span class="number">1</span>)</span><br></pre></td></tr></table></figure><pre><code>(0.682689492137086, 7.579375928402476e-15)</code></pre><h2 id="3-2-随机模拟及其应用"><a href="#3-2-随机模拟及其应用" class="headerlink" title="3.2 随机模拟及其应用"></a>3.2 随机模拟及其应用</h2><h3 id="3-2-1-随机模拟方法"><a href="#3-2-1-随机模拟方法" class="headerlink" title="3.2.1 随机模拟方法"></a>3.2.1 随机模拟方法</h3><h3 id="3-2-2-模拟大数定律"><a href="#3-2-2-模拟大数定律" class="headerlink" title="3.2.2 模拟大数定律"></a>3.2.2 模拟大数定律</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">Bernoulli</span>(<span class="params">N=<span class="number">100</span></span>):</span></span><br><span class="line">    p=np.zeros(N)</span><br><span class="line">    <span class="keyword">for</span> n <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,N):</span><br><span class="line">        f=np.random.randint(<span class="number">0</span>,<span class="number">2</span>,n) <span class="comment">#[0,1]</span></span><br><span class="line">        m=<span class="built_in">sum</span>(f)</span><br><span class="line">        p[n]=m/n</span><br><span class="line">    plt.plot(p);plt.hlines(<span class="number">0.5</span>,<span class="number">1</span>,N)</span><br><span class="line">Bernoulli()</span><br><span class="line">Bernoulli(<span class="number">1000</span>)</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112101448195.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">###3.2.3 模拟方法求积分</span></span><br><span class="line"><span class="keyword">from</span> math <span class="keyword">import</span> sqrt,pi,exp</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">g</span>(<span class="params">x</span>):</span></span><br><span class="line">    <span class="keyword">return</span> (<span class="number">1</span>/sqrt(<span class="number">2</span>*pi))*exp(-x**<span class="number">2</span>/<span class="number">2</span>)</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">I</span>(<span class="params">n,a,b,g</span>):</span></span><br><span class="line">    x=np.random.uniform(<span class="number">0</span>,<span class="number">1</span>,n)</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">sum</span>([(b-a)*g(a+(b-a)*y) <span class="keyword">for</span> y <span class="keyword">in</span> x])/n</span><br><span class="line">I(<span class="number">10000</span>,-<span class="number">1</span>,<span class="number">1</span>,g)</span><br></pre></td></tr></table></figure><pre><code>0.6830694013847906</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> scipy.integrate <span class="keyword">import</span> quad</span><br><span class="line">quad(g,-<span class="number">1</span>,<span class="number">1</span>)</span><br></pre></td></tr></table></figure><pre><code>(0.682689492137086, 7.579375928402476e-15)</code></pre><h2 id="3-3-单变量统计分析模型"><a href="#3-3-单变量统计分析模型" class="headerlink" title="3.3 单变量统计分析模型"></a>3.3 单变量统计分析模型</h2><h3 id="3-3-1-简单线性相关分析"><a href="#3-3-1-简单线性相关分析" class="headerlink" title="3.3.1 简单线性相关分析"></a>3.3.1 简单线性相关分析</h3><h4 id="3-3-1-1-线性相关的概念"><a href="#3-3-1-1-线性相关的概念" class="headerlink" title="3.3.1.1 线性相关的概念"></a>3.3.1.1 线性相关的概念</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">x=np.linspace(-<span class="number">4</span>,<span class="number">4</span>,<span class="number">20</span>); e=np.random.randn(<span class="number">20</span>) <span class="comment">#随机误差</span></span><br><span class="line">fig,ax=plt.subplots(<span class="number">2</span>,<span class="number">2</span>,figsize=(<span class="number">15</span>,<span class="number">12</span>))</span><br><span class="line">ax[<span class="number">0</span>,<span class="number">0</span>].plot(x,x,<span class="string">&#x27;o&#x27;</span>)</span><br><span class="line">ax[<span class="number">0</span>,<span class="number">1</span>].plot(x,-x,<span class="string">&#x27;o&#x27;</span>)</span><br><span class="line">ax[<span class="number">1</span>,<span class="number">0</span>].plot(x,x+e,<span class="string">&#x27;o&#x27;</span>);</span><br><span class="line">ax[<span class="number">1</span>,<span class="number">1</span>].plot(x,-x+e,<span class="string">&#x27;o&#x27;</span>);</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112101441497.png" alt="png"></p><h4 id="3-3-1-2-相关系数的计算"><a href="#3-3-1-2-相关系数的计算" class="headerlink" title="3.3.1.2 相关系数的计算"></a>3.3.1.2 相关系数的计算</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#####（1）散点图</span></span><br><span class="line">x=BSdata.身高;y=BSdata.体重</span><br><span class="line">plt.plot(x, y,<span class="string">&#x27;o&#x27;</span>); <span class="comment">#plt.scatter(x,y);</span></span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112101448605.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#####（2）相关系数</span></span><br><span class="line">x.cov(y)</span><br><span class="line"></span><br><span class="line">x.corr(y)</span><br><span class="line">y.corr(x)</span><br></pre></td></tr></table></figure><pre><code>56.382352941176450.91181709870105210.9118170987010521</code></pre><h4 id="3-3-1-3-相关系数的检验"><a href="#3-3-1-3-相关系数的检验" class="headerlink" title="3.3.1.3 相关系数的检验"></a>3.3.1.3 相关系数的检验</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#####(3) 计算值和值，作结论。</span></span><br><span class="line">st.pearsonr(x,y)  <span class="comment">#pearson相关及检验</span></span><br></pre></td></tr></table></figure><pre><code>(0.9118170987010525, 5.7473293164451325e-21)</code></pre><h3 id="3-3-2-简单线性回归分析"><a href="#3-3-2-简单线性回归分析" class="headerlink" title="3.3.2 简单线性回归分析"></a>3.3.2 简单线性回归分析</h3><h4 id="3-3-2-1一元线性回归模型的估计"><a href="#3-3-2-1一元线性回归模型的估计" class="headerlink" title="3.3.2.1一元线性回归模型的估计"></a>3.3.2.1一元线性回归模型的估计</h4><h5 id="（1）模拟直线回归模型"><a href="#（1）模拟直线回归模型" class="headerlink" title="（1）模拟直线回归模型"></a>（1）模拟直线回归模型</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">da.reglinedemo()</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112101448904.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> statsmodels.api <span class="keyword">as</span> sm             <span class="comment">#简单线性回归模型</span></span><br><span class="line">fm1=sm.OLS(y,sm.add_constant(x)).fit()   <span class="comment">#普通最小二乘，家常数项</span></span><br><span class="line">fm1.params                               <span class="comment">#系数估计</span></span><br><span class="line">yfit=fm1.fittedvalues;</span><br><span class="line">plt.plot(x, y,<span class="string">&#x27;.&#x27;</span>,x,yfit, <span class="string">&#x27;r-&#x27;</span>);</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112101441511.png" alt="png"></p><h4 id="3-3-2-2-一元线性回归模型的检验"><a href="#3-3-2-2-一元线性回归模型的检验" class="headerlink" title="3.3.2.2 一元线性回归模型的检验"></a>3.3.2.2 一元线性回归模型的检验</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fm1.tvalues                            <span class="comment">#系数t检验值</span></span><br><span class="line">fm1.pvalues                            <span class="comment">#系数t检验概率</span></span><br><span class="line">pd.DataFrame(&#123;<span class="string">&#x27;b估计值&#x27;</span>:fm1.params,<span class="string">&#x27;t值&#x27;</span>:fm1.tvalues,<span class="string">&#x27;概率p&#x27;</span>:fm1.pvalues&#125;)</span><br></pre></td></tr></table></figure><pre><code>const    -8.4149身高       15.7028dtype: float64const    3.8207e-11身高       5.7473e-21dtype: float64</code></pre><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>b估计值</th>      <th>t值</th>      <th>概率p</th>    </tr>  </thead>  <tbody>    <tr>      <th>const</th>      <td>-79.2828</td>      <td>-8.4149</td>      <td>3.8207e-11</td>    </tr>    <tr>      <th>身高</th>      <td>0.8769</td>      <td>15.7028</td>      <td>5.7473e-21</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> statsmodels.formula.api <span class="keyword">as</span> smf  <span class="comment">#根据公式建回归模型</span></span><br><span class="line">fm2=smf.ols(<span class="string">&#x27;体重~身高&#x27;</span>, BSdata).fit()</span><br><span class="line">pd.DataFrame(&#123;<span class="string">&#x27;b估计值&#x27;</span>:fm2.params,<span class="string">&#x27;t值&#x27;</span>:fm2.tvalues,<span class="string">&#x27;概率p&#x27;</span>:fm2.pvalues&#125;)</span><br><span class="line">fm2.summary2().tables[<span class="number">1</span>]           <span class="comment">#回归系数检验表</span></span><br><span class="line">plt.plot(BSdata.身高,BSdata.体重,<span class="string">&#x27;.&#x27;</span>,BSdata.身高,fm2.fittedvalues,<span class="string">&#x27;r-&#x27;</span>);</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112101448315.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">####3.3.2.3 一元线性回归模型的预测</span></span><br><span class="line">fm2.predict(pd.DataFrame(&#123;<span class="string">&#x27;身高&#x27;</span>: [<span class="number">178</span>,<span class="number">188</span>,<span class="number">190</span>]&#125;))   <span class="comment">#预测</span></span><br></pre></td></tr></table></figure><pre><code>0    76.81421    85.58362    87.3375dtype: float64</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">####3.3.2.4 分组拟合一元线性模型</span></span><br><span class="line">smf.ols(<span class="string">&#x27;体重~身高&#x27;</span>,BSdata[BSdata.性别==<span class="string">&#x27;男&#x27;</span>]).fit().summary2().tables[<span class="number">1</span>]</span><br><span class="line">smf.ols(<span class="string">&#x27;体重~身高&#x27;</span>,BSdata[BSdata.性别==<span class="string">&#x27;女&#x27;</span>]).fit().summary2().tables[<span class="number">1</span>]</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>Coef.</th>      <th>Std.Err.</th>      <th>t</th>      <th>P&gt;|t|</th>      <th>[0.025</th>      <th>0.975]</th>    </tr>  </thead>  <tbody>    <tr>      <th>Intercept</th>      <td>-85.4332</td>      <td>14.1894</td>      <td>-6.0209</td>      <td>2.7373e-06</td>      <td>-114.6568</td>      <td>-56.2095</td>    </tr>    <tr>      <th>身高</th>      <td>0.9101</td>      <td>0.0827</td>      <td>11.0108</td>      <td>4.4366e-11</td>      <td>0.7398</td>      <td>1.0803</td>    </tr>  </tbody></table></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>Coef.</th>      <th>Std.Err.</th>      <th>t</th>      <th>P&gt;|t|</th>      <th>[0.025</th>      <th>0.975]</th>    </tr>  </thead>  <tbody>    <tr>      <th>Intercept</th>      <td>-80.3893</td>      <td>15.4049</td>      <td>-5.2184</td>      <td>2.7178e-05</td>      <td>-112.2567</td>      <td>-48.5219</td>    </tr>    <tr>      <th>身高</th>      <td>0.8867</td>      <td>0.0931</td>      <td>9.5229</td>      <td>1.9073e-09</td>      <td>0.6941</td>      <td>1.0794</td>    </tr>  </tbody></table></div><h1 id="第4章-复杂数据的综合分析"><a href="#第4章-复杂数据的综合分析" class="headerlink" title="第4章 复杂数据的综合分析"></a>第4章 复杂数据的综合分析</h1><h2 id="4-1-多变量线性相关与回归"><a href="#4-1-多变量线性相关与回归" class="headerlink" title="4.1 多变量线性相关与回归"></a>4.1 多变量线性相关与回归</h2><h3 id="4-1-1-多变量间线性相关"><a href="#4-1-1-多变量间线性相关" class="headerlink" title="4.1.1 多变量间线性相关"></a>4.1.1 多变量间线性相关</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">####4.1.1.1 相关系数阵</span></span><br><span class="line"><span class="comment">#####（1）读取无标签数据</span></span><br><span class="line">pd.read_excel(<span class="string">&#x27;PyDm_data.xlsx&#x27;</span>,<span class="string">&#x27;MVdata&#x27;</span>)[:<span class="number">5</span>]</span><br><span class="line">MVdata=pd.read_excel(<span class="string">&#x27;PyDm_data.xlsx&#x27;</span>,<span class="string">&#x27;MVdata&#x27;</span>,index_col=<span class="number">0</span>);<span class="built_in">round</span>(MVdata,<span class="number">3</span>)</span><br><span class="line">YXdata=pd.read_excel(<span class="string">&#x27;PyDm_data.xlsx&#x27;</span>,<span class="string">&#x27;MVdata&#x27;</span>,index_col=<span class="number">0</span>);</span><br><span class="line">YXdata.columns=[<span class="string">&#x27;Y&#x27;</span>,<span class="string">&#x27;X1&#x27;</span>,<span class="string">&#x27;X2&#x27;</span>,<span class="string">&#x27;X3&#x27;</span>,<span class="string">&#x27;X4&#x27;</span>,<span class="string">&#x27;X5&#x27;</span>,<span class="string">&#x27;X6&#x27;</span>,<span class="string">&#x27;X7&#x27;</span>];<span class="built_in">round</span>(YXdata,<span class="number">3</span>)</span><br><span class="line"><span class="built_in">round</span>(YXdata.cov(),<span class="number">2</span>)</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>地区</th>      <th>生产总值</th>      <th>从业人员</th>      <th>固定资产</th>      <th>利用外资</th>      <th>进出口额</th>      <th>新品出口</th>      <th>市场占有</th>      <th>对外依存</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>北京</td>      <td>162.5193</td>      <td>1069.70</td>      <td>55.7893</td>      <td>196.906</td>      <td>3894.9</td>      <td>6470.514</td>      <td>2.6347</td>      <td>1.5479</td>    </tr>    <tr>      <th>1</th>      <td>天津</td>      <td>113.0728</td>      <td>763.16</td>      <td>70.6767</td>      <td>61.947</td>      <td>1033.9</td>      <td>7490.317</td>      <td>1.9862</td>      <td>0.5906</td>    </tr>    <tr>      <th>2</th>      <td>河北</td>      <td>245.1576</td>      <td>3962.42</td>      <td>163.8933</td>      <td>178.782</td>      <td>536.0</td>      <td>2288.188</td>      <td>1.2756</td>      <td>0.1412</td>    </tr>    <tr>      <th>3</th>      <td>山西</td>      <td>112.3755</td>      <td>1738.90</td>      <td>70.7306</td>      <td>104.945</td>      <td>147.6</td>      <td>1522.788</td>      <td>0.2424</td>      <td>0.0848</td>    </tr>    <tr>      <th>4</th>      <td>内蒙古</td>      <td>143.5988</td>      <td>1249.30</td>      <td>103.6517</td>      <td>54.426</td>      <td>119.4</td>      <td>342.358</td>      <td>0.2093</td>      <td>0.0537</td>    </tr>  </tbody></table></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>生产总值</th>      <th>从业人员</th>      <th>固定资产</th>      <th>利用外资</th>      <th>进出口额</th>      <th>新品出口</th>      <th>市场占有</th>      <th>对外依存</th>    </tr>    <tr>      <th>地区</th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>北京</th>      <td>162.519</td>      <td>1069.700</td>      <td>55.789</td>      <td>196.906</td>      <td>3894.9</td>      <td>6470.514</td>      <td>2.635</td>      <td>1.548</td>    </tr>    <tr>      <th>天津</th>      <td>113.073</td>      <td>763.160</td>      <td>70.677</td>      <td>61.947</td>      <td>1033.9</td>      <td>7490.317</td>      <td>1.986</td>      <td>0.591</td>    </tr>    <tr>      <th>河北</th>      <td>245.158</td>      <td>3962.420</td>      <td>163.893</td>      <td>178.782</td>      <td>536.0</td>      <td>2288.188</td>      <td>1.276</td>      <td>0.141</td>    </tr>    <tr>      <th>山西</th>      <td>112.376</td>      <td>1738.900</td>      <td>70.731</td>      <td>104.945</td>      <td>147.6</td>      <td>1522.788</td>      <td>0.242</td>      <td>0.085</td>    </tr>    <tr>      <th>内蒙古</th>      <td>143.599</td>      <td>1249.300</td>      <td>103.652</td>      <td>54.426</td>      <td>119.4</td>      <td>342.358</td>      <td>0.209</td>      <td>0.054</td>    </tr>    <tr>      <th>辽宁</th>      <td>222.267</td>      <td>2364.900</td>      <td>177.263</td>      <td>155.296</td>      <td>959.6</td>      <td>4150.239</td>      <td>2.278</td>      <td>0.279</td>    </tr>    <tr>      <th>吉林</th>      <td>105.688</td>      <td>1337.800</td>      <td>74.417</td>      <td>58.843</td>      <td>220.5</td>      <td>746.941</td>      <td>0.223</td>      <td>0.135</td>    </tr>    <tr>      <th>黑龙江</th>      <td>125.820</td>      <td>1977.800</td>      <td>74.754</td>      <td>81.979</td>      <td>385.1</td>      <td>318.892</td>      <td>0.789</td>      <td>0.198</td>    </tr>    <tr>      <th>上海</th>      <td>191.957</td>      <td>1104.330</td>      <td>49.621</td>      <td>179.582</td>      <td>4373.1</td>      <td>10326.436</td>      <td>9.359</td>      <td>1.471</td>    </tr>    <tr>      <th>江苏</th>      <td>491.103</td>      <td>4758.230</td>      <td>266.926</td>      <td>261.118</td>      <td>5397.6</td>      <td>43928.942</td>      <td>13.953</td>      <td>0.710</td>    </tr>    <tr>      <th>浙江</th>      <td>323.188</td>      <td>3680.000</td>      <td>141.853</td>      <td>239.452</td>      <td>3094.0</td>      <td>25355.077</td>      <td>9.657</td>      <td>0.618</td>    </tr>    <tr>      <th>安徽</th>      <td>153.006</td>      <td>4120.900</td>      <td>124.557</td>      <td>92.613</td>      <td>313.4</td>      <td>2344.049</td>      <td>0.762</td>      <td>0.132</td>    </tr>    <tr>      <th>福建</th>      <td>175.602</td>      <td>2459.990</td>      <td>99.109</td>      <td>92.158</td>      <td>1435.6</td>      <td>7957.495</td>      <td>4.144</td>      <td>0.528</td>    </tr>    <tr>      <th>江西</th>      <td>117.028</td>      <td>2532.600</td>      <td>90.876</td>      <td>71.531</td>      <td>315.6</td>      <td>1301.037</td>      <td>0.977</td>      <td>0.174</td>    </tr>    <tr>      <th>山东</th>      <td>453.618</td>      <td>6485.600</td>      <td>267.497</td>      <td>223.057</td>      <td>2359.9</td>      <td>17688.021</td>      <td>5.614</td>      <td>0.336</td>    </tr>    <tr>      <th>河南</th>      <td>269.310</td>      <td>6198.000</td>      <td>177.690</td>      <td>147.022</td>      <td>326.4</td>      <td>2176.170</td>      <td>0.859</td>      <td>0.078</td>    </tr>    <tr>      <th>湖北</th>      <td>196.323</td>      <td>3672.000</td>      <td>125.573</td>      <td>113.434</td>      <td>335.2</td>      <td>1614.369</td>      <td>0.872</td>      <td>0.110</td>    </tr>    <tr>      <th>湖南</th>      <td>196.696</td>      <td>4005.030</td>      <td>118.809</td>      <td>106.234</td>      <td>190.0</td>      <td>1814.498</td>      <td>0.442</td>      <td>0.062</td>    </tr>    <tr>      <th>广东</th>      <td>532.103</td>      <td>5960.743</td>      <td>170.692</td>      <td>410.616</td>      <td>9134.8</td>      <td>56849.072</td>      <td>23.742</td>      <td>1.109</td>    </tr>    <tr>      <th>广西</th>      <td>117.209</td>      <td>2936.000</td>      <td>79.907</td>      <td>66.822</td>      <td>233.5</td>      <td>641.547</td>      <td>0.556</td>      <td>0.129</td>    </tr>    <tr>      <th>海南</th>      <td>25.227</td>      <td>459.222</td>      <td>16.572</td>      <td>18.885</td>      <td>127.6</td>      <td>185.490</td>      <td>0.113</td>      <td>0.327</td>    </tr>    <tr>      <th>重庆</th>      <td>100.114</td>      <td>1590.160</td>      <td>74.734</td>      <td>70.117</td>      <td>292.2</td>      <td>3928.448</td>      <td>0.886</td>      <td>0.188</td>    </tr>    <tr>      <th>四川</th>      <td>210.267</td>      <td>4785.500</td>      <td>142.222</td>      <td>162.007</td>      <td>477.8</td>      <td>1233.514</td>      <td>1.297</td>      <td>0.147</td>    </tr>    <tr>      <th>贵州</th>      <td>57.018</td>      <td>1792.800</td>      <td>42.359</td>      <td>39.441</td>      <td>48.8</td>      <td>308.647</td>      <td>0.134</td>      <td>0.055</td>    </tr>    <tr>      <th>云南</th>      <td>88.931</td>      <td>2857.240</td>      <td>61.910</td>      <td>66.849</td>      <td>160.5</td>      <td>257.761</td>      <td>0.423</td>      <td>0.117</td>    </tr>    <tr>      <th>陕西</th>      <td>125.123</td>      <td>2059.020</td>      <td>94.311</td>      <td>92.209</td>      <td>146.2</td>      <td>408.447</td>      <td>0.313</td>      <td>0.076</td>    </tr>    <tr>      <th>甘肃</th>      <td>50.204</td>      <td>1500.300</td>      <td>39.658</td>      <td>42.500</td>      <td>87.4</td>      <td>300.885</td>      <td>0.096</td>      <td>0.112</td>    </tr>    <tr>      <th>青海</th>      <td>16.704</td>      <td>309.180</td>      <td>14.356</td>      <td>10.488</td>      <td>9.2</td>      <td>0.296</td>      <td>0.030</td>      <td>0.036</td>    </tr>    <tr>      <th>宁夏</th>      <td>21.022</td>      <td>339.600</td>      <td>16.447</td>      <td>13.563</td>      <td>22.9</td>      <td>196.998</td>      <td>0.071</td>      <td>0.070</td>    </tr>    <tr>      <th>新疆</th>      <td>66.100</td>      <td>953.340</td>      <td>46.321</td>      <td>44.409</td>      <td>228.2</td>      <td>83.385</td>      <td>0.751</td>      <td>0.223</td>    </tr>  </tbody></table></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>Y</th>      <th>X1</th>      <th>X2</th>      <th>X3</th>      <th>X4</th>      <th>X5</th>      <th>X6</th>      <th>X7</th>    </tr>    <tr>      <th>地区</th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>北京</th>      <td>162.519</td>      <td>1069.700</td>      <td>55.789</td>      <td>196.906</td>      <td>3894.9</td>      <td>6470.514</td>      <td>2.635</td>      <td>1.548</td>    </tr>    <tr>      <th>天津</th>      <td>113.073</td>      <td>763.160</td>      <td>70.677</td>      <td>61.947</td>      <td>1033.9</td>      <td>7490.317</td>      <td>1.986</td>      <td>0.591</td>    </tr>    <tr>      <th>河北</th>      <td>245.158</td>      <td>3962.420</td>      <td>163.893</td>      <td>178.782</td>      <td>536.0</td>      <td>2288.188</td>      <td>1.276</td>      <td>0.141</td>    </tr>    <tr>      <th>山西</th>      <td>112.376</td>      <td>1738.900</td>      <td>70.731</td>      <td>104.945</td>      <td>147.6</td>      <td>1522.788</td>      <td>0.242</td>      <td>0.085</td>    </tr>    <tr>      <th>内蒙古</th>      <td>143.599</td>      <td>1249.300</td>      <td>103.652</td>      <td>54.426</td>      <td>119.4</td>      <td>342.358</td>      <td>0.209</td>      <td>0.054</td>    </tr>    <tr>      <th>辽宁</th>      <td>222.267</td>      <td>2364.900</td>      <td>177.263</td>      <td>155.296</td>      <td>959.6</td>      <td>4150.239</td>      <td>2.278</td>      <td>0.279</td>    </tr>    <tr>      <th>吉林</th>      <td>105.688</td>      <td>1337.800</td>      <td>74.417</td>      <td>58.843</td>      <td>220.5</td>      <td>746.941</td>      <td>0.223</td>      <td>0.135</td>    </tr>    <tr>      <th>黑龙江</th>      <td>125.820</td>      <td>1977.800</td>      <td>74.754</td>      <td>81.979</td>      <td>385.1</td>      <td>318.892</td>      <td>0.789</td>      <td>0.198</td>    </tr>    <tr>      <th>上海</th>      <td>191.957</td>      <td>1104.330</td>      <td>49.621</td>      <td>179.582</td>      <td>4373.1</td>      <td>10326.436</td>      <td>9.359</td>      <td>1.471</td>    </tr>    <tr>      <th>江苏</th>      <td>491.103</td>      <td>4758.230</td>      <td>266.926</td>      <td>261.118</td>      <td>5397.6</td>      <td>43928.942</td>      <td>13.953</td>      <td>0.710</td>    </tr>    <tr>      <th>浙江</th>      <td>323.188</td>      <td>3680.000</td>      <td>141.853</td>      <td>239.452</td>      <td>3094.0</td>      <td>25355.077</td>      <td>9.657</td>      <td>0.618</td>    </tr>    <tr>      <th>安徽</th>      <td>153.006</td>      <td>4120.900</td>      <td>124.557</td>      <td>92.613</td>      <td>313.4</td>      <td>2344.049</td>      <td>0.762</td>      <td>0.132</td>    </tr>    <tr>      <th>福建</th>      <td>175.602</td>      <td>2459.990</td>      <td>99.109</td>      <td>92.158</td>      <td>1435.6</td>      <td>7957.495</td>      <td>4.144</td>      <td>0.528</td>    </tr>    <tr>      <th>江西</th>      <td>117.028</td>      <td>2532.600</td>      <td>90.876</td>      <td>71.531</td>      <td>315.6</td>      <td>1301.037</td>      <td>0.977</td>      <td>0.174</td>    </tr>    <tr>      <th>山东</th>      <td>453.618</td>      <td>6485.600</td>      <td>267.497</td>      <td>223.057</td>      <td>2359.9</td>      <td>17688.021</td>      <td>5.614</td>      <td>0.336</td>    </tr>    <tr>      <th>河南</th>      <td>269.310</td>      <td>6198.000</td>      <td>177.690</td>      <td>147.022</td>      <td>326.4</td>      <td>2176.170</td>      <td>0.859</td>      <td>0.078</td>    </tr>    <tr>      <th>湖北</th>      <td>196.323</td>      <td>3672.000</td>      <td>125.573</td>      <td>113.434</td>      <td>335.2</td>      <td>1614.369</td>      <td>0.872</td>      <td>0.110</td>    </tr>    <tr>      <th>湖南</th>      <td>196.696</td>      <td>4005.030</td>      <td>118.809</td>      <td>106.234</td>      <td>190.0</td>      <td>1814.498</td>      <td>0.442</td>      <td>0.062</td>    </tr>    <tr>      <th>广东</th>      <td>532.103</td>      <td>5960.743</td>      <td>170.692</td>      <td>410.616</td>      <td>9134.8</td>      <td>56849.072</td>      <td>23.742</td>      <td>1.109</td>    </tr>    <tr>      <th>广西</th>      <td>117.209</td>      <td>2936.000</td>      <td>79.907</td>      <td>66.822</td>      <td>233.5</td>      <td>641.547</td>      <td>0.556</td>      <td>0.129</td>    </tr>    <tr>      <th>海南</th>      <td>25.227</td>      <td>459.222</td>      <td>16.572</td>      <td>18.885</td>      <td>127.6</td>      <td>185.490</td>      <td>0.113</td>      <td>0.327</td>    </tr>    <tr>      <th>重庆</th>      <td>100.114</td>      <td>1590.160</td>      <td>74.734</td>      <td>70.117</td>      <td>292.2</td>      <td>3928.448</td>      <td>0.886</td>      <td>0.188</td>    </tr>    <tr>      <th>四川</th>      <td>210.267</td>      <td>4785.500</td>      <td>142.222</td>      <td>162.007</td>      <td>477.8</td>      <td>1233.514</td>      <td>1.297</td>      <td>0.147</td>    </tr>    <tr>      <th>贵州</th>      <td>57.018</td>      <td>1792.800</td>      <td>42.359</td>      <td>39.441</td>      <td>48.8</td>      <td>308.647</td>      <td>0.134</td>      <td>0.055</td>    </tr>    <tr>      <th>云南</th>      <td>88.931</td>      <td>2857.240</td>      <td>61.910</td>      <td>66.849</td>      <td>160.5</td>      <td>257.761</td>      <td>0.423</td>      <td>0.117</td>    </tr>    <tr>      <th>陕西</th>      <td>125.123</td>      <td>2059.020</td>      <td>94.311</td>      <td>92.209</td>      <td>146.2</td>      <td>408.447</td>      <td>0.313</td>      <td>0.076</td>    </tr>    <tr>      <th>甘肃</th>      <td>50.204</td>      <td>1500.300</td>      <td>39.658</td>      <td>42.500</td>      <td>87.4</td>      <td>300.885</td>      <td>0.096</td>      <td>0.112</td>    </tr>    <tr>      <th>青海</th>      <td>16.704</td>      <td>309.180</td>      <td>14.356</td>      <td>10.488</td>      <td>9.2</td>      <td>0.296</td>      <td>0.030</td>      <td>0.036</td>    </tr>    <tr>      <th>宁夏</th>      <td>21.022</td>      <td>339.600</td>      <td>16.447</td>      <td>13.563</td>      <td>22.9</td>      <td>196.998</td>      <td>0.071</td>      <td>0.070</td>    </tr>    <tr>      <th>新疆</th>      <td>66.100</td>      <td>953.340</td>      <td>46.321</td>      <td>44.409</td>      <td>228.2</td>      <td>83.385</td>      <td>0.751</td>      <td>0.223</td>    </tr>  </tbody></table></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>Y</th>      <th>X1</th>      <th>X2</th>      <th>X3</th>      <th>X4</th>      <th>X5</th>      <th>X6</th>      <th>X7</th>    </tr>  </thead>  <tbody>    <tr>      <th>Y</th>      <td>1.7132e+04</td>      <td>1.8886e+05</td>      <td>7613.87</td>      <td>10661.58</td>      <td>2.0843e+05</td>      <td>1.4708e+06</td>      <td>548.87</td>      <td>22.18</td>    </tr>    <tr>      <th>X1</th>      <td>1.8886e+05</td>      <td>3.1303e+06</td>      <td>98854.82</td>      <td>108077.77</td>      <td>1.4105e+06</td>      <td>1.1962e+07</td>      <td>4235.21</td>      <td>7.60</td>    </tr>    <tr>      <th>X2</th>      <td>7.6139e+03</td>      <td>9.8855e+04</td>      <td>4251.74</td>      <td>4102.12</td>      <td>5.7994e+04</td>      <td>5.0090e+05</td>      <td>166.08</td>      <td>2.37</td>    </tr>    <tr>      <th>X3</th>      <td>1.0662e+04</td>      <td>1.0808e+05</td>      <td>4102.12</td>      <td>7693.16</td>      <td>1.5883e+05</td>      <td>9.9197e+05</td>      <td>393.91</td>      <td>21.68</td>    </tr>    <tr>      <th>X4</th>      <td>2.0843e+05</td>      <td>1.4105e+06</td>      <td>57993.81</td>      <td>158830.29</td>      <td>4.2535e+06</td>      <td>2.5217e+07</td>      <td>10260.32</td>      <td>672.04</td>    </tr>    <tr>      <th>X5</th>      <td>1.4708e+06</td>      <td>1.1962e+07</td>      <td>500896.61</td>      <td>991970.35</td>      <td>2.5217e+07</td>      <td>1.7528e+08</td>      <td>66333.86</td>      <td>3012.05</td>    </tr>    <tr>      <th>X6</th>      <td>5.4887e+02</td>      <td>4.2352e+03</td>      <td>166.08</td>      <td>393.91</td>      <td>1.0260e+04</td>      <td>6.6334e+04</td>      <td>26.70</td>      <td>1.37</td>    </tr>    <tr>      <th>X7</th>      <td>2.2180e+01</td>      <td>7.6000e+00</td>      <td>2.37</td>      <td>21.68</td>      <td>6.7204e+02</td>      <td>3.0121e+03</td>      <td>1.37</td>      <td>0.16</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">round</span>(YXdata.corr(),<span class="number">4</span>)</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>Y</th>      <th>X1</th>      <th>X2</th>      <th>X3</th>      <th>X4</th>      <th>X5</th>      <th>X6</th>      <th>X7</th>    </tr>  </thead>  <tbody>    <tr>      <th>Y</th>      <td>1.0000</td>      <td>0.8155</td>      <td>0.8921</td>      <td>0.9287</td>      <td>0.7721</td>      <td>0.8487</td>      <td>0.8116</td>      <td>0.4211</td>    </tr>    <tr>      <th>X1</th>      <td>0.8155</td>      <td>1.0000</td>      <td>0.8569</td>      <td>0.6965</td>      <td>0.3865</td>      <td>0.5107</td>      <td>0.4633</td>      <td>0.0107</td>    </tr>    <tr>      <th>X2</th>      <td>0.8921</td>      <td>0.8569</td>      <td>1.0000</td>      <td>0.7173</td>      <td>0.4312</td>      <td>0.5802</td>      <td>0.4929</td>      <td>0.0902</td>    </tr>    <tr>      <th>X3</th>      <td>0.9287</td>      <td>0.6965</td>      <td>0.7173</td>      <td>1.0000</td>      <td>0.8780</td>      <td>0.8542</td>      <td>0.8692</td>      <td>0.6141</td>    </tr>    <tr>      <th>X4</th>      <td>0.7721</td>      <td>0.3865</td>      <td>0.4312</td>      <td>0.8780</td>      <td>1.0000</td>      <td>0.9235</td>      <td>0.9628</td>      <td>0.8097</td>    </tr>    <tr>      <th>X5</th>      <td>0.8487</td>      <td>0.5107</td>      <td>0.5802</td>      <td>0.8542</td>      <td>0.9235</td>      <td>1.0000</td>      <td>0.9697</td>      <td>0.5653</td>    </tr>    <tr>      <th>X6</th>      <td>0.8116</td>      <td>0.4633</td>      <td>0.4929</td>      <td>0.8692</td>      <td>0.9628</td>      <td>0.9697</td>      <td>1.0000</td>      <td>0.6592</td>    </tr>    <tr>      <th>X7</th>      <td>0.4211</td>      <td>0.0107</td>      <td>0.0902</td>      <td>0.6141</td>      <td>0.8097</td>      <td>0.5653</td>      <td>0.6592</td>      <td>1.0000</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#4.1.1.2 矩阵散点图</span></span><br><span class="line">pd.plotting.scatter_matrix(YXdata);</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112101441556.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#4.1.1.3 相关检验矩阵</span></span><br><span class="line">da.mcor_test(YXdata)</span><br></pre></td></tr></table></figure><pre><code>         Y      X1      X2      X3      X4      X5      X6      X7Y   1.0000  0.0000  0.0000  0.0000  0.0000  0.0000  0.0000  0.0205X1  0.8155  1.0000  0.0000  0.0000  0.0349  0.0039  0.0099  0.9554X2  0.8921  0.8569  1.0000  0.0000  0.0173  0.0008  0.0056  0.6353X3  0.9287  0.6965  0.7173  1.0000  0.0000  0.0000  0.0000  0.0003X4  0.7721  0.3865  0.4312  0.8780  1.0000  0.0000  0.0000  0.0000X5  0.8487  0.5107  0.5802  0.8542  0.9235  1.0000  0.0000  0.0011X6  0.8116  0.4633  0.4929  0.8692  0.9628  0.9697  1.0000  0.0001X7  0.4211  0.0107  0.0902  0.6141  0.8097  0.5653  0.6592  1.0000下三角为相关系数，上三角为概率</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#4.1.2 多变量线性回归模型</span></span><br><span class="line"><span class="comment">#4.1.2.2 多元线性回归参数估计</span></span><br><span class="line"><span class="keyword">import</span> statsmodels.formula.api <span class="keyword">as</span> smf  <span class="comment">#根据公式建回归模型</span></span><br><span class="line">M1=smf.ols(<span class="string">&#x27;Y~X1&#x27;</span>,YXdata).fit(); M1.params</span><br><span class="line">M2=smf.ols(<span class="string">&#x27;Y~X1+X2&#x27;</span>,YXdata).fit(); M2.params</span><br><span class="line">M3=smf.ols(<span class="string">&#x27;Y~X1+X2+X3&#x27;</span>,YXdata).fit(); M3.params</span><br><span class="line">Ms=smf.ols(<span class="string">&#x27;Y~X1+X2+X3+X4+X5+X6+X7&#x27;</span>,YXdata).fit(); Ms.params</span><br></pre></td></tr></table></figure><pre><code>Intercept    14.6842X1            0.0603dtype: float64Intercept   -12.4511X1            0.0142X2            1.4599dtype: float64Intercept   -23.9232X1            0.0007X2            0.9201X3            0.8852dtype: float64Intercept    -7.1381X1            0.0085X2            0.9983X3            0.2384X4            0.0069X5            0.0009X6            4.0465X7           10.2607dtype: float64</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#3.1.2.3 多元线性回归模型检验</span></span><br><span class="line">M1.summary()</span><br><span class="line">M2.summary()</span><br><span class="line">M3.summary()</span><br><span class="line">Ms.summary()</span><br></pre></td></tr></table></figure><table class="simpletable"><caption>OLS Regression Results</caption><tr>  <th>Dep. Variable:</th>            <td>Y</td>        <th>  R-squared:         </th> <td>   0.665</td></tr><tr>  <th>Model:</th>                   <td>OLS</td>       <th>  Adj. R-squared:    </th> <td>   0.653</td></tr><tr>  <th>Method:</th>             <td>Least Squares</td>  <th>  F-statistic:       </th> <td>   55.61</td></tr><tr>  <th>Date:</th>             <td>Fri, 10 Dec 2021</td> <th>  Prob (F-statistic):</th> <td>4.02e-08</td></tr><tr>  <th>Time:</th>                 <td>14:34:00</td>     <th>  Log-Likelihood:    </th> <td> -171.88</td></tr><tr>  <th>No. Observations:</th>      <td>    30</td>      <th>  AIC:               </th> <td>   347.8</td></tr><tr>  <th>Df Residuals:</th>          <td>    28</td>      <th>  BIC:               </th> <td>   350.6</td></tr><tr>  <th>Df Model:</th>              <td>     1</td>      <th>                     </th>     <td> </td>   </tr><tr>  <th>Covariance Type:</th>      <td>nonrobust</td>    <th>                     </th>     <td> </td>   </tr></table><table class="simpletable"><tr>      <td></td>         <th>coef</th>     <th>std err</th>      <th>t</th>      <th>P>|t|</th>  <th>[0.025</th>    <th>0.975]</th>  </tr><tr>  <th>Intercept</th> <td>   14.6842</td> <td>   25.540</td> <td>    0.575</td> <td> 0.570</td> <td>  -37.632</td> <td>   67.000</td></tr><tr>  <th>X1</th>        <td>    0.0603</td> <td>    0.008</td> <td>    7.457</td> <td> 0.000</td> <td>    0.044</td> <td>    0.077</td></tr></table><table class="simpletable"><tr>  <th>Omnibus:</th>       <td> 2.833</td> <th>  Durbin-Watson:     </th> <td>   1.612</td></tr><tr>  <th>Prob(Omnibus):</th> <td> 0.243</td> <th>  Jarque-Bera (JB):  </th> <td>   2.029</td></tr><tr>  <th>Skew:</th>          <td> 0.637</td> <th>  Prob(JB):          </th> <td>   0.363</td></tr><tr>  <th>Kurtosis:</th>      <td> 3.031</td> <th>  Cond. No.          </th> <td>5.73e+03</td></tr></table><br/><br/>Notes:<br/>[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.<br/>[2] The condition number is large, 5.73e+03. This might indicate that there are<br/>strong multicollinearity or other numerical problems.<table class="simpletable"><caption>OLS Regression Results</caption><tr>  <th>Dep. Variable:</th>            <td>Y</td>        <th>  R-squared:         </th> <td>   0.806</td></tr><tr>  <th>Model:</th>                   <td>OLS</td>       <th>  Adj. R-squared:    </th> <td>   0.791</td></tr><tr>  <th>Method:</th>             <td>Least Squares</td>  <th>  F-statistic:       </th> <td>   55.97</td></tr><tr>  <th>Date:</th>             <td>Fri, 10 Dec 2021</td> <th>  Prob (F-statistic):</th> <td>2.48e-10</td></tr><tr>  <th>Time:</th>                 <td>14:34:00</td>     <th>  Log-Likelihood:    </th> <td> -163.72</td></tr><tr>  <th>No. Observations:</th>      <td>    30</td>      <th>  AIC:               </th> <td>   333.4</td></tr><tr>  <th>Df Residuals:</th>          <td>    27</td>      <th>  BIC:               </th> <td>   337.6</td></tr><tr>  <th>Df Model:</th>              <td>     2</td>      <th>                     </th>     <td> </td>   </tr><tr>  <th>Covariance Type:</th>      <td>nonrobust</td>    <th>                     </th>     <td> </td>   </tr></table><table class="simpletable"><tr>      <td></td>         <th>coef</th>     <th>std err</th>      <th>t</th>      <th>P>|t|</th>  <th>[0.025</th>    <th>0.975]</th>  </tr><tr>  <th>Intercept</th> <td>  -12.4511</td> <td>   20.742</td> <td>   -0.600</td> <td> 0.553</td> <td>  -55.010</td> <td>   30.108</td></tr><tr>  <th>X1</th>        <td>    0.0142</td> <td>    0.012</td> <td>    1.169</td> <td> 0.253</td> <td>   -0.011</td> <td>    0.039</td></tr><tr>  <th>X2</th>        <td>    1.4599</td> <td>    0.330</td> <td>    4.419</td> <td> 0.000</td> <td>    0.782</td> <td>    2.138</td></tr></table><table class="simpletable"><tr>  <th>Omnibus:</th>       <td>25.116</td> <th>  Durbin-Watson:     </th> <td>   1.910</td></tr><tr>  <th>Prob(Omnibus):</th> <td> 0.000</td> <th>  Jarque-Bera (JB):  </th> <td>  43.075</td></tr><tr>  <th>Skew:</th>          <td> 1.941</td> <th>  Prob(JB):          </th> <td>4.43e-10</td></tr><tr>  <th>Kurtosis:</th>      <td> 7.403</td> <th>  Cond. No.          </th> <td>6.00e+03</td></tr></table><br/><br/>Notes:<br/>[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.<br/>[2] The condition number is large,  6e+03. This might indicate that there are<br/>strong multicollinearity or other numerical problems.<table class="simpletable"><caption>OLS Regression Results</caption><tr>  <th>Dep. Variable:</th>            <td>Y</td>        <th>  R-squared:         </th> <td>   0.968</td></tr><tr>  <th>Model:</th>                   <td>OLS</td>       <th>  Adj. R-squared:    </th> <td>   0.964</td></tr><tr>  <th>Method:</th>             <td>Least Squares</td>  <th>  F-statistic:       </th> <td>   259.2</td></tr><tr>  <th>Date:</th>             <td>Fri, 10 Dec 2021</td> <th>  Prob (F-statistic):</th> <td>1.76e-19</td></tr><tr>  <th>Time:</th>                 <td>14:34:00</td>     <th>  Log-Likelihood:    </th> <td> -136.83</td></tr><tr>  <th>No. Observations:</th>      <td>    30</td>      <th>  AIC:               </th> <td>   281.7</td></tr><tr>  <th>Df Residuals:</th>          <td>    26</td>      <th>  BIC:               </th> <td>   287.3</td></tr><tr>  <th>Df Model:</th>              <td>     3</td>      <th>                     </th>     <td> </td>   </tr><tr>  <th>Covariance Type:</th>      <td>nonrobust</td>    <th>                     </th>     <td> </td>   </tr></table><table class="simpletable"><tr>      <td></td>         <th>coef</th>     <th>std err</th>      <th>t</th>      <th>P>|t|</th>  <th>[0.025</th>    <th>0.975]</th>  </tr><tr>  <th>Intercept</th> <td>  -23.9232</td> <td>    8.684</td> <td>   -2.755</td> <td> 0.011</td> <td>  -41.772</td> <td>   -6.074</td></tr><tr>  <th>X1</th>        <td>    0.0007</td> <td>    0.005</td> <td>    0.138</td> <td> 0.892</td> <td>   -0.010</td> <td>    0.011</td></tr><tr>  <th>X2</th>        <td>    0.9201</td> <td>    0.145</td> <td>    6.333</td> <td> 0.000</td> <td>    0.621</td> <td>    1.219</td></tr><tr>  <th>X3</th>        <td>    0.8852</td> <td>    0.078</td> <td>   11.408</td> <td> 0.000</td> <td>    0.726</td> <td>    1.045</td></tr></table><table class="simpletable"><tr>  <th>Omnibus:</th>       <td> 3.524</td> <th>  Durbin-Watson:     </th> <td>   2.149</td></tr><tr>  <th>Prob(Omnibus):</th> <td> 0.172</td> <th>  Jarque-Bera (JB):  </th> <td>   2.910</td></tr><tr>  <th>Skew:</th>          <td>-0.758</td> <th>  Prob(JB):          </th> <td>   0.233</td></tr><tr>  <th>Kurtosis:</th>      <td> 2.829</td> <th>  Cond. No.          </th> <td>6.05e+03</td></tr></table><br/><br/>Notes:<br/>[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.<br/>[2] The condition number is large, 6.05e+03. This might indicate that there are<br/>strong multicollinearity or other numerical problems.<table class="simpletable"><caption>OLS Regression Results</caption><tr>  <th>Dep. Variable:</th>            <td>Y</td>        <th>  R-squared:         </th> <td>   0.991</td></tr><tr>  <th>Model:</th>                   <td>OLS</td>       <th>  Adj. R-squared:    </th> <td>   0.988</td></tr><tr>  <th>Method:</th>             <td>Least Squares</td>  <th>  F-statistic:       </th> <td>   329.6</td></tr><tr>  <th>Date:</th>             <td>Fri, 10 Dec 2021</td> <th>  Prob (F-statistic):</th> <td>9.08e-21</td></tr><tr>  <th>Time:</th>                 <td>14:34:01</td>     <th>  Log-Likelihood:    </th> <td> -118.36</td></tr><tr>  <th>No. Observations:</th>      <td>    30</td>      <th>  AIC:               </th> <td>   252.7</td></tr><tr>  <th>Df Residuals:</th>          <td>    22</td>      <th>  BIC:               </th> <td>   263.9</td></tr><tr>  <th>Df Model:</th>              <td>     7</td>      <th>                     </th>     <td> </td>   </tr><tr>  <th>Covariance Type:</th>      <td>nonrobust</td>    <th>                     </th>     <td> </td>   </tr></table><table class="simpletable"><tr>      <td></td>         <th>coef</th>     <th>std err</th>      <th>t</th>      <th>P>|t|</th>  <th>[0.025</th>    <th>0.975]</th>  </tr><tr>  <th>Intercept</th> <td>   -7.1381</td> <td>    7.243</td> <td>   -0.985</td> <td> 0.335</td> <td>  -22.159</td> <td>    7.883</td></tr><tr>  <th>X1</th>        <td>    0.0085</td> <td>    0.004</td> <td>    2.277</td> <td> 0.033</td> <td>    0.001</td> <td>    0.016</td></tr><tr>  <th>X2</th>        <td>    0.9983</td> <td>    0.107</td> <td>    9.354</td> <td> 0.000</td> <td>    0.777</td> <td>    1.220</td></tr><tr>  <th>X3</th>        <td>    0.2384</td> <td>    0.127</td> <td>    1.879</td> <td> 0.074</td> <td>   -0.025</td> <td>    0.502</td></tr><tr>  <th>X4</th>        <td>    0.0069</td> <td>    0.012</td> <td>    0.566</td> <td> 0.577</td> <td>   -0.018</td> <td>    0.032</td></tr><tr>  <th>X5</th>        <td>    0.0009</td> <td>    0.001</td> <td>    0.748</td> <td> 0.462</td> <td>   -0.002</td> <td>    0.003</td></tr><tr>  <th>X6</th>        <td>    4.0465</td> <td>    3.436</td> <td>    1.178</td> <td> 0.251</td> <td>   -3.079</td> <td>   11.172</td></tr><tr>  <th>X7</th>        <td>   10.2607</td> <td>   23.487</td> <td>    0.437</td> <td> 0.666</td> <td>  -38.449</td> <td>   58.970</td></tr></table><table class="simpletable"><tr>  <th>Omnibus:</th>       <td> 1.261</td> <th>  Durbin-Watson:     </th> <td>   2.370</td></tr><tr>  <th>Prob(Omnibus):</th> <td> 0.532</td> <th>  Jarque-Bera (JB):  </th> <td>   0.425</td></tr><tr>  <th>Skew:</th>          <td>-0.231</td> <th>  Prob(JB):          </th> <td>   0.809</td></tr><tr>  <th>Kurtosis:</th>      <td> 3.355</td> <th>  Cond. No.          </th> <td>1.34e+05</td></tr></table><br/><br/>Notes:<br/>[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.<br/>[2] The condition number is large, 1.34e+05. This might indicate that there are<br/>strong multicollinearity or other numerical problems.<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt          <span class="comment">#加载基本绘图包</span></span><br><span class="line">plt.rcParams[<span class="string">&#x27;font.sans-serif&#x27;</span>]=[<span class="string">&#x27;SimHei&#x27;</span>];   <span class="comment">#KaiTi SimHei黑体</span></span><br><span class="line">plt.rcParams[<span class="string">&#x27;axes.unicode_minus&#x27;</span>]=<span class="literal">False</span>;<span class="comment">#正常显示图中负号</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#4.1.2.4 多元线性回归模型评判</span></span><br><span class="line">et=Ms.resid                    <span class="comment">#模型Ms的残差et</span></span><br><span class="line">plt.plot(et.values,<span class="string">&#x27;.&#x27;</span>);              <span class="comment">#残差图</span></span><br><span class="line">ro=et.corr(et.shift(<span class="number">1</span>));ro <span class="comment">#et.shift(1) =et-1</span></span><br></pre></td></tr></table></figure><pre><code>[&lt;matplotlib.lines.Line2D at 0x132aa1c0&gt;]-0.18553688673391783</code></pre><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112101442240.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DW=<span class="number">2</span>*(<span class="number">1</span>-ro);DW</span><br></pre></td></tr></table></figure><pre><code>2.3710737734678355</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Ms.summary()                        <span class="comment">#回归模型简表</span></span><br><span class="line">Ms.summary2().tables[<span class="number">0</span>]             <span class="comment">#回归模型统计量</span></span><br><span class="line">Ms.summary2().tables[<span class="number">1</span>]             <span class="comment">#回归系数检验表</span></span><br><span class="line">Ms.summary2().tables[<span class="number">2</span>]             <span class="comment">#模型残差分析表</span></span><br><span class="line">Ms.summary2().tables[<span class="number">2</span>][<span class="number">3</span>][<span class="number">0</span>]       <span class="comment">#DW值</span></span><br><span class="line">Ms.summary2().tables[<span class="number">2</span>][<span class="number">3</span>][<span class="number">1</span>]       <span class="comment">#JB值</span></span><br><span class="line">Ms.summary2().tables[<span class="number">2</span>][<span class="number">3</span>][<span class="number">2</span>]       <span class="comment">#JB概率</span></span><br><span class="line">R2=Ms.summary2().tables[<span class="number">0</span>][<span class="number">1</span>][<span class="number">6</span>];R2 <span class="comment">#模型的决定系数R2</span></span><br><span class="line">Ms.summary2().tables[<span class="number">0</span>][<span class="number">3</span>][<span class="number">0</span>]       <span class="comment">#adj.R2</span></span><br><span class="line"><span class="keyword">from</span> math <span class="keyword">import</span> sqrt</span><br><span class="line">R=sqrt(<span class="built_in">float</span>(R2));R</span><br><span class="line"><span class="keyword">from</span> statsmodels.iolib.summary2 <span class="keyword">import</span> summary_col</span><br><span class="line">summary_col([M1,M2,M3,Ms])        <span class="comment">#模型结果比较</span></span><br></pre></td></tr></table></figure><table class="simpletable"><caption>OLS Regression Results</caption><tr>  <th>Dep. Variable:</th>            <td>Y</td>        <th>  R-squared:         </th> <td>   0.991</td></tr><tr>  <th>Model:</th>                   <td>OLS</td>       <th>  Adj. R-squared:    </th> <td>   0.988</td></tr><tr>  <th>Method:</th>             <td>Least Squares</td>  <th>  F-statistic:       </th> <td>   329.6</td></tr><tr>  <th>Date:</th>             <td>Fri, 10 Dec 2021</td> <th>  Prob (F-statistic):</th> <td>9.08e-21</td></tr><tr>  <th>Time:</th>                 <td>14:34:01</td>     <th>  Log-Likelihood:    </th> <td> -118.36</td></tr><tr>  <th>No. Observations:</th>      <td>    30</td>      <th>  AIC:               </th> <td>   252.7</td></tr><tr>  <th>Df Residuals:</th>          <td>    22</td>      <th>  BIC:               </th> <td>   263.9</td></tr><tr>  <th>Df Model:</th>              <td>     7</td>      <th>                     </th>     <td> </td>   </tr><tr>  <th>Covariance Type:</th>      <td>nonrobust</td>    <th>                     </th>     <td> </td>   </tr></table><table class="simpletable"><tr>      <td></td>         <th>coef</th>     <th>std err</th>      <th>t</th>      <th>P>|t|</th>  <th>[0.025</th>    <th>0.975]</th>  </tr><tr>  <th>Intercept</th> <td>   -7.1381</td> <td>    7.243</td> <td>   -0.985</td> <td> 0.335</td> <td>  -22.159</td> <td>    7.883</td></tr><tr>  <th>X1</th>        <td>    0.0085</td> <td>    0.004</td> <td>    2.277</td> <td> 0.033</td> <td>    0.001</td> <td>    0.016</td></tr><tr>  <th>X2</th>        <td>    0.9983</td> <td>    0.107</td> <td>    9.354</td> <td> 0.000</td> <td>    0.777</td> <td>    1.220</td></tr><tr>  <th>X3</th>        <td>    0.2384</td> <td>    0.127</td> <td>    1.879</td> <td> 0.074</td> <td>   -0.025</td> <td>    0.502</td></tr><tr>  <th>X4</th>        <td>    0.0069</td> <td>    0.012</td> <td>    0.566</td> <td> 0.577</td> <td>   -0.018</td> <td>    0.032</td></tr><tr>  <th>X5</th>        <td>    0.0009</td> <td>    0.001</td> <td>    0.748</td> <td> 0.462</td> <td>   -0.002</td> <td>    0.003</td></tr><tr>  <th>X6</th>        <td>    4.0465</td> <td>    3.436</td> <td>    1.178</td> <td> 0.251</td> <td>   -3.079</td> <td>   11.172</td></tr><tr>  <th>X7</th>        <td>   10.2607</td> <td>   23.487</td> <td>    0.437</td> <td> 0.666</td> <td>  -38.449</td> <td>   58.970</td></tr></table><table class="simpletable"><tr>  <th>Omnibus:</th>       <td> 1.261</td> <th>  Durbin-Watson:     </th> <td>   2.370</td></tr><tr>  <th>Prob(Omnibus):</th> <td> 0.532</td> <th>  Jarque-Bera (JB):  </th> <td>   0.425</td></tr><tr>  <th>Skew:</th>          <td>-0.231</td> <th>  Prob(JB):          </th> <td>   0.809</td></tr><tr>  <th>Kurtosis:</th>      <td> 3.355</td> <th>  Cond. No.          </th> <td>1.34e+05</td></tr></table><br/><br/>Notes:<br/>[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.<br/>[2] The condition number is large, 1.34e+05. This might indicate that there are<br/>strong multicollinearity or other numerical problems.<div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>0</th>      <th>1</th>      <th>2</th>      <th>3</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>Model:</td>      <td>OLS</td>      <td>Adj. R-squared:</td>      <td>0.988</td>    </tr>    <tr>      <th>1</th>      <td>Dependent Variable:</td>      <td>Y</td>      <td>AIC:</td>      <td>252.7118</td>    </tr>    <tr>      <th>2</th>      <td>Date:</td>      <td>2021-12-10 14:34</td>      <td>BIC:</td>      <td>263.9214</td>    </tr>    <tr>      <th>3</th>      <td>No. Observations:</td>      <td>30</td>      <td>Log-Likelihood:</td>      <td>-118.36</td>    </tr>    <tr>      <th>4</th>      <td>Df Model:</td>      <td>7</td>      <td>F-statistic:</td>      <td>329.6</td>    </tr>    <tr>      <th>5</th>      <td>Df Residuals:</td>      <td>22</td>      <td>Prob (F-statistic):</td>      <td>9.08e-21</td>    </tr>    <tr>      <th>6</th>      <td>R-squared:</td>      <td>0.991</td>      <td>Scale:</td>      <td>213.29</td>    </tr>  </tbody></table></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>Coef.</th>      <th>Std.Err.</th>      <th>t</th>      <th>P&gt;|t|</th>      <th>[0.025</th>      <th>0.975]</th>    </tr>  </thead>  <tbody>    <tr>      <th>Intercept</th>      <td>-7.1381</td>      <td>7.2431</td>      <td>-0.9855</td>      <td>3.3510e-01</td>      <td>-22.1594</td>      <td>7.8833</td>    </tr>    <tr>      <th>X1</th>      <td>0.0085</td>      <td>0.0037</td>      <td>2.2767</td>      <td>3.2889e-02</td>      <td>0.0008</td>      <td>0.0162</td>    </tr>    <tr>      <th>X2</th>      <td>0.9983</td>      <td>0.1067</td>      <td>9.3544</td>      <td>4.0080e-09</td>      <td>0.7770</td>      <td>1.2196</td>    </tr>    <tr>      <th>X3</th>      <td>0.2384</td>      <td>0.1269</td>      <td>1.8786</td>      <td>7.3612e-02</td>      <td>-0.0248</td>      <td>0.5017</td>    </tr>    <tr>      <th>X4</th>      <td>0.0069</td>      <td>0.0122</td>      <td>0.5657</td>      <td>5.7729e-01</td>      <td>-0.0184</td>      <td>0.0323</td>    </tr>    <tr>      <th>X5</th>      <td>0.0009</td>      <td>0.0012</td>      <td>0.7479</td>      <td>4.6243e-01</td>      <td>-0.0016</td>      <td>0.0034</td>    </tr>    <tr>      <th>X6</th>      <td>4.0465</td>      <td>3.4358</td>      <td>1.1777</td>      <td>2.5148e-01</td>      <td>-3.0789</td>      <td>11.1719</td>    </tr>    <tr>      <th>X7</th>      <td>10.2607</td>      <td>23.4872</td>      <td>0.4369</td>      <td>6.6647e-01</td>      <td>-38.4488</td>      <td>58.9702</td>    </tr>  </tbody></table></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>0</th>      <th>1</th>      <th>2</th>      <th>3</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>Omnibus:</td>      <td>1.261</td>      <td>Durbin-Watson:</td>      <td>2.370</td>    </tr>    <tr>      <th>1</th>      <td>Prob(Omnibus):</td>      <td>0.532</td>      <td>Jarque-Bera (JB):</td>      <td>0.425</td>    </tr>    <tr>      <th>2</th>      <td>Skew:</td>      <td>-0.231</td>      <td>Prob(JB):</td>      <td>0.809</td>    </tr>    <tr>      <th>3</th>      <td>Kurtosis:</td>      <td>3.355</td>      <td>Condition No.:</td>      <td>134156</td>    </tr>  </tbody></table></div><pre><code>&#39;2.370&#39;&#39;0.425&#39;&#39;0.809&#39;&#39;0.991&#39;&#39;0.988&#39;0.9954898291795853</code></pre><table class="simpletable"><tr>         <td></td>           <th>Y I</th>      <th>Y II</th>      <th>Y III</th>   <th>Y IIII</th>  </tr><tr>  <th>Intercept</th>       <td>14.6842</td>  <td>-12.4511</td>  <td>-23.9232</td>  <td>-7.1381</td> </tr><tr>  <th></th>               <td>(25.5399)</td> <td>(20.7420)</td> <td>(8.6835)</td> <td>(7.2431)</td> </tr><tr>  <th>R-squared</th>       <td>0.6651</td>    <td>0.8057</td>    <td>0.9676</td>   <td>0.9906</td>  </tr><tr>  <th>R-squared Adj.</th>  <td>0.6531</td>    <td>0.7913</td>    <td>0.9639</td>   <td>0.9876</td>  </tr><tr>  <th>X1</th>              <td>0.0603</td>    <td>0.0142</td>    <td>0.0007</td>   <td>0.0085</td>  </tr><tr>  <th></th>               <td>(0.0081)</td>  <td>(0.0122)</td>  <td>(0.0052)</td> <td>(0.0037)</td> </tr><tr>  <th>X2</th>                 <td></td>       <td>1.4599</td>    <td>0.9201</td>   <td>0.9983</td>  </tr><tr>  <th></th>                   <td></td>      <td>(0.3304)</td>  <td>(0.1453)</td> <td>(0.1067)</td> </tr><tr>  <th>X3</th>                 <td></td>          <td></td>       <td>0.8852</td>   <td>0.2384</td>  </tr><tr>  <th></th>                   <td></td>          <td></td>      <td>(0.0776)</td> <td>(0.1269)</td> </tr><tr>  <th>X4</th>                 <td></td>          <td></td>          <td></td>      <td>0.0069</td>  </tr><tr>  <th></th>                   <td></td>          <td></td>          <td></td>     <td>(0.0122)</td> </tr><tr>  <th>X5</th>                 <td></td>          <td></td>          <td></td>      <td>0.0009</td>  </tr><tr>  <th></th>                   <td></td>          <td></td>          <td></td>     <td>(0.0012)</td> </tr><tr>  <th>X6</th>                 <td></td>          <td></td>          <td></td>      <td>4.0465</td>  </tr><tr>  <th></th>                   <td></td>          <td></td>          <td></td>     <td>(3.4358)</td> </tr><tr>  <th>X7</th>                 <td></td>          <td></td>          <td></td>      <td>10.2607</td> </tr><tr>  <th></th>                   <td></td>          <td></td>          <td></td>     <td>(23.4872)</td></tr></table><h2 id="4-2-综合评价方法"><a href="#4-2-综合评价方法" class="headerlink" title="4.2 综合评价方法"></a>4.2 综合评价方法</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#4.2.1 综合评价指标体系</span></span><br><span class="line"><span class="comment">#4.2.1.1 评价指标体系的构建</span></span><br><span class="line"><span class="comment">#4.2.1.2 评价指标的基本分析</span></span><br><span class="line"><span class="comment">#### 单变量排名</span></span><br><span class="line">MVdata</span><br><span class="line">GDP=pd.DataFrame(MVdata.生产总值);GDP</span><br><span class="line">GDP[<span class="string">&#x27;排序&#x27;</span>]=(-GDP).rank(); GDP <span class="comment">#GDP[&#x27;排序&#x27;]=GDP.rank(ascending=False);</span></span><br><span class="line"><span class="comment">#### 单多量排名</span></span><br><span class="line">(-MVdata).rank()  <span class="comment">#MVdata.rank(ascending=False)</span></span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>生产总值</th>      <th>从业人员</th>      <th>固定资产</th>      <th>利用外资</th>      <th>进出口额</th>      <th>新品出口</th>      <th>市场占有</th>      <th>对外依存</th>    </tr>    <tr>      <th>地区</th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>北京</th>      <td>162.5193</td>      <td>1069.7000</td>      <td>55.7893</td>      <td>196.906</td>      <td>3894.9</td>      <td>6470.514</td>      <td>2.6347</td>      <td>1.5479</td>    </tr>    <tr>      <th>天津</th>      <td>113.0728</td>      <td>763.1600</td>      <td>70.6767</td>      <td>61.947</td>      <td>1033.9</td>      <td>7490.317</td>      <td>1.9862</td>      <td>0.5906</td>    </tr>    <tr>      <th>河北</th>      <td>245.1576</td>      <td>3962.4200</td>      <td>163.8933</td>      <td>178.782</td>      <td>536.0</td>      <td>2288.188</td>      <td>1.2756</td>      <td>0.1412</td>    </tr>    <tr>      <th>山西</th>      <td>112.3755</td>      <td>1738.9000</td>      <td>70.7306</td>      <td>104.945</td>      <td>147.6</td>      <td>1522.788</td>      <td>0.2424</td>      <td>0.0848</td>    </tr>    <tr>      <th>内蒙古</th>      <td>143.5988</td>      <td>1249.3000</td>      <td>103.6517</td>      <td>54.426</td>      <td>119.4</td>      <td>342.358</td>      <td>0.2093</td>      <td>0.0537</td>    </tr>    <tr>      <th>辽宁</th>      <td>222.2670</td>      <td>2364.9000</td>      <td>177.2629</td>      <td>155.296</td>      <td>959.6</td>      <td>4150.239</td>      <td>2.2781</td>      <td>0.2788</td>    </tr>    <tr>      <th>吉林</th>      <td>105.6883</td>      <td>1337.8000</td>      <td>74.4171</td>      <td>58.843</td>      <td>220.5</td>      <td>746.941</td>      <td>0.2232</td>      <td>0.1348</td>    </tr>    <tr>      <th>黑龙江</th>      <td>125.8200</td>      <td>1977.8000</td>      <td>74.7538</td>      <td>81.979</td>      <td>385.1</td>      <td>318.892</td>      <td>0.7887</td>      <td>0.1977</td>    </tr>    <tr>      <th>上海</th>      <td>191.9569</td>      <td>1104.3300</td>      <td>49.6207</td>      <td>179.582</td>      <td>4373.1</td>      <td>10326.436</td>      <td>9.3591</td>      <td>1.4714</td>    </tr>    <tr>      <th>江苏</th>      <td>491.1027</td>      <td>4758.2300</td>      <td>266.9262</td>      <td>261.118</td>      <td>5397.6</td>      <td>43928.942</td>      <td>13.9531</td>      <td>0.7099</td>    </tr>    <tr>      <th>浙江</th>      <td>323.1885</td>      <td>3680.0000</td>      <td>141.8528</td>      <td>239.452</td>      <td>3094.0</td>      <td>25355.077</td>      <td>9.6568</td>      <td>0.6183</td>    </tr>    <tr>      <th>安徽</th>      <td>153.0065</td>      <td>4120.9000</td>      <td>124.5569</td>      <td>92.613</td>      <td>313.4</td>      <td>2344.049</td>      <td>0.7623</td>      <td>0.1323</td>    </tr>    <tr>      <th>福建</th>      <td>175.6018</td>      <td>2459.9900</td>      <td>99.1089</td>      <td>92.158</td>      <td>1435.6</td>      <td>7957.495</td>      <td>4.1437</td>      <td>0.5280</td>    </tr>    <tr>      <th>江西</th>      <td>117.0282</td>      <td>2532.6000</td>      <td>90.8760</td>      <td>71.531</td>      <td>315.6</td>      <td>1301.037</td>      <td>0.9766</td>      <td>0.1742</td>    </tr>    <tr>      <th>山东</th>      <td>453.6185</td>      <td>6485.6000</td>      <td>267.4968</td>      <td>223.057</td>      <td>2359.9</td>      <td>17688.021</td>      <td>5.6144</td>      <td>0.3360</td>    </tr>    <tr>      <th>河南</th>      <td>269.3103</td>      <td>6198.0000</td>      <td>177.6895</td>      <td>147.022</td>      <td>326.4</td>      <td>2176.170</td>      <td>0.8587</td>      <td>0.0783</td>    </tr>    <tr>      <th>湖北</th>      <td>196.3226</td>      <td>3672.0000</td>      <td>125.5734</td>      <td>113.434</td>      <td>335.2</td>      <td>1614.369</td>      <td>0.8717</td>      <td>0.1103</td>    </tr>    <tr>      <th>湖南</th>      <td>196.6956</td>      <td>4005.0300</td>      <td>118.8092</td>      <td>106.234</td>      <td>190.0</td>      <td>1814.498</td>      <td>0.4419</td>      <td>0.0624</td>    </tr>    <tr>      <th>广东</th>      <td>532.1028</td>      <td>5960.7434</td>      <td>170.6920</td>      <td>410.616</td>      <td>9134.8</td>      <td>56849.072</td>      <td>23.7420</td>      <td>1.1088</td>    </tr>    <tr>      <th>广西</th>      <td>117.2087</td>      <td>2936.0000</td>      <td>79.9066</td>      <td>66.822</td>      <td>233.5</td>      <td>641.547</td>      <td>0.5561</td>      <td>0.1287</td>    </tr>    <tr>      <th>海南</th>      <td>25.2266</td>      <td>459.2222</td>      <td>16.5723</td>      <td>18.885</td>      <td>127.6</td>      <td>185.490</td>      <td>0.1134</td>      <td>0.3267</td>    </tr>    <tr>      <th>重庆</th>      <td>100.1137</td>      <td>1590.1600</td>      <td>74.7338</td>      <td>70.117</td>      <td>292.2</td>      <td>3928.448</td>      <td>0.8855</td>      <td>0.1885</td>    </tr>    <tr>      <th>四川</th>      <td>210.2668</td>      <td>4785.5000</td>      <td>142.2222</td>      <td>162.007</td>      <td>477.8</td>      <td>1233.514</td>      <td>1.2966</td>      <td>0.1468</td>    </tr>    <tr>      <th>贵州</th>      <td>57.0184</td>      <td>1792.8000</td>      <td>42.3592</td>      <td>39.441</td>      <td>48.8</td>      <td>308.647</td>      <td>0.1335</td>      <td>0.0553</td>    </tr>    <tr>      <th>云南</th>      <td>88.9312</td>      <td>2857.2400</td>      <td>61.9100</td>      <td>66.849</td>      <td>160.5</td>      <td>257.761</td>      <td>0.4227</td>      <td>0.1166</td>    </tr>    <tr>      <th>陕西</th>      <td>125.1230</td>      <td>2059.0200</td>      <td>94.3108</td>      <td>92.209</td>      <td>146.2</td>      <td>408.447</td>      <td>0.3129</td>      <td>0.0755</td>    </tr>    <tr>      <th>甘肃</th>      <td>50.2037</td>      <td>1500.3000</td>      <td>39.6579</td>      <td>42.500</td>      <td>87.4</td>      <td>300.885</td>      <td>0.0964</td>      <td>0.1124</td>    </tr>    <tr>      <th>青海</th>      <td>16.7044</td>      <td>309.1800</td>      <td>14.3558</td>      <td>10.488</td>      <td>9.2</td>      <td>0.296</td>      <td>0.0295</td>      <td>0.0356</td>    </tr>    <tr>      <th>宁夏</th>      <td>21.0221</td>      <td>339.6000</td>      <td>16.4474</td>      <td>13.563</td>      <td>22.9</td>      <td>196.998</td>      <td>0.0714</td>      <td>0.0704</td>    </tr>    <tr>      <th>新疆</th>      <td>66.1005</td>      <td>953.3400</td>      <td>46.3214</td>      <td>44.409</td>      <td>228.2</td>      <td>83.385</td>      <td>0.7512</td>      <td>0.2230</td>    </tr>  </tbody></table></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>生产总值</th>    </tr>    <tr>      <th>地区</th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>北京</th>      <td>162.5193</td>    </tr>    <tr>      <th>天津</th>      <td>113.0728</td>    </tr>    <tr>      <th>河北</th>      <td>245.1576</td>    </tr>    <tr>      <th>山西</th>      <td>112.3755</td>    </tr>    <tr>      <th>内蒙古</th>      <td>143.5988</td>    </tr>    <tr>      <th>辽宁</th>      <td>222.2670</td>    </tr>    <tr>      <th>吉林</th>      <td>105.6883</td>    </tr>    <tr>      <th>黑龙江</th>      <td>125.8200</td>    </tr>    <tr>      <th>上海</th>      <td>191.9569</td>    </tr>    <tr>      <th>江苏</th>      <td>491.1027</td>    </tr>    <tr>      <th>浙江</th>      <td>323.1885</td>    </tr>    <tr>      <th>安徽</th>      <td>153.0065</td>    </tr>    <tr>      <th>福建</th>      <td>175.6018</td>    </tr>    <tr>      <th>江西</th>      <td>117.0282</td>    </tr>    <tr>      <th>山东</th>      <td>453.6185</td>    </tr>    <tr>      <th>河南</th>      <td>269.3103</td>    </tr>    <tr>      <th>湖北</th>      <td>196.3226</td>    </tr>    <tr>      <th>湖南</th>      <td>196.6956</td>    </tr>    <tr>      <th>广东</th>      <td>532.1028</td>    </tr>    <tr>      <th>广西</th>      <td>117.2087</td>    </tr>    <tr>      <th>海南</th>      <td>25.2266</td>    </tr>    <tr>      <th>重庆</th>      <td>100.1137</td>    </tr>    <tr>      <th>四川</th>      <td>210.2668</td>    </tr>    <tr>      <th>贵州</th>      <td>57.0184</td>    </tr>    <tr>      <th>云南</th>      <td>88.9312</td>    </tr>    <tr>      <th>陕西</th>      <td>125.1230</td>    </tr>    <tr>      <th>甘肃</th>      <td>50.2037</td>    </tr>    <tr>      <th>青海</th>      <td>16.7044</td>    </tr>    <tr>      <th>宁夏</th>      <td>21.0221</td>    </tr>    <tr>      <th>新疆</th>      <td>66.1005</td>    </tr>  </tbody></table></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>生产总值</th>      <th>排序</th>    </tr>    <tr>      <th>地区</th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>北京</th>      <td>162.5193</td>      <td>13.0</td>    </tr>    <tr>      <th>天津</th>      <td>113.0728</td>      <td>20.0</td>    </tr>    <tr>      <th>河北</th>      <td>245.1576</td>      <td>6.0</td>    </tr>    <tr>      <th>山西</th>      <td>112.3755</td>      <td>21.0</td>    </tr>    <tr>      <th>内蒙古</th>      <td>143.5988</td>      <td>15.0</td>    </tr>    <tr>      <th>辽宁</th>      <td>222.2670</td>      <td>7.0</td>    </tr>    <tr>      <th>吉林</th>      <td>105.6883</td>      <td>22.0</td>    </tr>    <tr>      <th>黑龙江</th>      <td>125.8200</td>      <td>16.0</td>    </tr>    <tr>      <th>上海</th>      <td>191.9569</td>      <td>11.0</td>    </tr>    <tr>      <th>江苏</th>      <td>491.1027</td>      <td>2.0</td>    </tr>    <tr>      <th>浙江</th>      <td>323.1885</td>      <td>4.0</td>    </tr>    <tr>      <th>安徽</th>      <td>153.0065</td>      <td>14.0</td>    </tr>    <tr>      <th>福建</th>      <td>175.6018</td>      <td>12.0</td>    </tr>    <tr>      <th>江西</th>      <td>117.0282</td>      <td>19.0</td>    </tr>    <tr>      <th>山东</th>      <td>453.6185</td>      <td>3.0</td>    </tr>    <tr>      <th>河南</th>      <td>269.3103</td>      <td>5.0</td>    </tr>    <tr>      <th>湖北</th>      <td>196.3226</td>      <td>10.0</td>    </tr>    <tr>      <th>湖南</th>      <td>196.6956</td>      <td>9.0</td>    </tr>    <tr>      <th>广东</th>      <td>532.1028</td>      <td>1.0</td>    </tr>    <tr>      <th>广西</th>      <td>117.2087</td>      <td>18.0</td>    </tr>    <tr>      <th>海南</th>      <td>25.2266</td>      <td>28.0</td>    </tr>    <tr>      <th>重庆</th>      <td>100.1137</td>      <td>23.0</td>    </tr>    <tr>      <th>四川</th>      <td>210.2668</td>      <td>8.0</td>    </tr>    <tr>      <th>贵州</th>      <td>57.0184</td>      <td>26.0</td>    </tr>    <tr>      <th>云南</th>      <td>88.9312</td>      <td>24.0</td>    </tr>    <tr>      <th>陕西</th>      <td>125.1230</td>      <td>17.0</td>    </tr>    <tr>      <th>甘肃</th>      <td>50.2037</td>      <td>27.0</td>    </tr>    <tr>      <th>青海</th>      <td>16.7044</td>      <td>30.0</td>    </tr>    <tr>      <th>宁夏</th>      <td>21.0221</td>      <td>29.0</td>    </tr>    <tr>      <th>新疆</th>      <td>66.1005</td>      <td>25.0</td>    </tr>  </tbody></table></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>生产总值</th>      <th>从业人员</th>      <th>固定资产</th>      <th>利用外资</th>      <th>进出口额</th>      <th>新品出口</th>      <th>市场占有</th>      <th>对外依存</th>    </tr>    <tr>      <th>地区</th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>北京</th>      <td>13.0</td>      <td>25.0</td>      <td>23.0</td>      <td>5.0</td>      <td>4.0</td>      <td>8.0</td>      <td>7.0</td>      <td>1.0</td>    </tr>    <tr>      <th>天津</th>      <td>20.0</td>      <td>27.0</td>      <td>21.0</td>      <td>22.0</td>      <td>8.0</td>      <td>7.0</td>      <td>9.0</td>      <td>6.0</td>    </tr>    <tr>      <th>河北</th>      <td>6.0</td>      <td>8.0</td>      <td>6.0</td>      <td>7.0</td>      <td>10.0</td>      <td>12.0</td>      <td>11.0</td>      <td>16.0</td>    </tr>    <tr>      <th>山西</th>      <td>21.0</td>      <td>19.0</td>      <td>20.0</td>      <td>13.0</td>      <td>23.0</td>      <td>16.0</td>      <td>23.0</td>      <td>23.0</td>    </tr>    <tr>      <th>内蒙古</th>      <td>15.0</td>      <td>23.0</td>      <td>12.0</td>      <td>24.0</td>      <td>26.0</td>      <td>22.0</td>      <td>25.0</td>      <td>29.0</td>    </tr>    <tr>      <th>辽宁</th>      <td>7.0</td>      <td>15.0</td>      <td>4.0</td>      <td>9.0</td>      <td>9.0</td>      <td>9.0</td>      <td>8.0</td>      <td>10.0</td>    </tr>    <tr>      <th>吉林</th>      <td>22.0</td>      <td>22.0</td>      <td>19.0</td>      <td>23.0</td>      <td>20.0</td>      <td>19.0</td>      <td>24.0</td>      <td>17.0</td>    </tr>    <tr>      <th>黑龙江</th>      <td>16.0</td>      <td>17.0</td>      <td>17.0</td>      <td>17.0</td>      <td>12.0</td>      <td>23.0</td>      <td>16.0</td>      <td>12.0</td>    </tr>    <tr>      <th>上海</th>      <td>11.0</td>      <td>24.0</td>      <td>24.0</td>      <td>6.0</td>      <td>3.0</td>      <td>5.0</td>      <td>4.0</td>      <td>2.0</td>    </tr>    <tr>      <th>江苏</th>      <td>2.0</td>      <td>5.0</td>      <td>2.0</td>      <td>2.0</td>      <td>2.0</td>      <td>2.0</td>      <td>2.0</td>      <td>4.0</td>    </tr>    <tr>      <th>浙江</th>      <td>4.0</td>      <td>9.0</td>      <td>8.0</td>      <td>3.0</td>      <td>5.0</td>      <td>3.0</td>      <td>3.0</td>      <td>5.0</td>    </tr>    <tr>      <th>安徽</th>      <td>14.0</td>      <td>6.0</td>      <td>10.0</td>      <td>14.0</td>      <td>16.0</td>      <td>11.0</td>      <td>17.0</td>      <td>18.0</td>    </tr>    <tr>      <th>福建</th>      <td>12.0</td>      <td>14.0</td>      <td>13.0</td>      <td>16.0</td>      <td>7.0</td>      <td>6.0</td>      <td>6.0</td>      <td>7.0</td>    </tr>    <tr>      <th>江西</th>      <td>19.0</td>      <td>13.0</td>      <td>15.0</td>      <td>18.0</td>      <td>15.0</td>      <td>17.0</td>      <td>12.0</td>      <td>14.0</td>    </tr>    <tr>      <th>山东</th>      <td>3.0</td>      <td>1.0</td>      <td>1.0</td>      <td>4.0</td>      <td>6.0</td>      <td>4.0</td>      <td>5.0</td>      <td>8.0</td>    </tr>    <tr>      <th>河南</th>      <td>5.0</td>      <td>2.0</td>      <td>3.0</td>      <td>10.0</td>      <td>14.0</td>      <td>13.0</td>      <td>15.0</td>      <td>24.0</td>    </tr>    <tr>      <th>湖北</th>      <td>10.0</td>      <td>10.0</td>      <td>9.0</td>      <td>11.0</td>      <td>13.0</td>      <td>15.0</td>      <td>14.0</td>      <td>22.0</td>    </tr>    <tr>      <th>湖南</th>      <td>9.0</td>      <td>7.0</td>      <td>11.0</td>      <td>12.0</td>      <td>21.0</td>      <td>14.0</td>      <td>20.0</td>      <td>27.0</td>    </tr>    <tr>      <th>广东</th>      <td>1.0</td>      <td>3.0</td>      <td>5.0</td>      <td>1.0</td>      <td>1.0</td>      <td>1.0</td>      <td>1.0</td>      <td>3.0</td>    </tr>    <tr>      <th>广西</th>      <td>18.0</td>      <td>11.0</td>      <td>16.0</td>      <td>21.0</td>      <td>18.0</td>      <td>20.0</td>      <td>19.0</td>      <td>19.0</td>    </tr>    <tr>      <th>海南</th>      <td>28.0</td>      <td>28.0</td>      <td>28.0</td>      <td>28.0</td>      <td>25.0</td>      <td>28.0</td>      <td>27.0</td>      <td>9.0</td>    </tr>    <tr>      <th>重庆</th>      <td>23.0</td>      <td>20.0</td>      <td>18.0</td>      <td>19.0</td>      <td>17.0</td>      <td>10.0</td>      <td>13.0</td>      <td>13.0</td>    </tr>    <tr>      <th>四川</th>      <td>8.0</td>      <td>4.0</td>      <td>7.0</td>      <td>8.0</td>      <td>11.0</td>      <td>18.0</td>      <td>10.0</td>      <td>15.0</td>    </tr>    <tr>      <th>贵州</th>      <td>26.0</td>      <td>18.0</td>      <td>26.0</td>      <td>27.0</td>      <td>28.0</td>      <td>24.0</td>      <td>26.0</td>      <td>28.0</td>    </tr>    <tr>      <th>云南</th>      <td>24.0</td>      <td>12.0</td>      <td>22.0</td>      <td>20.0</td>      <td>22.0</td>      <td>26.0</td>      <td>21.0</td>      <td>20.0</td>    </tr>    <tr>      <th>陕西</th>      <td>17.0</td>      <td>16.0</td>      <td>14.0</td>      <td>15.0</td>      <td>24.0</td>      <td>21.0</td>      <td>22.0</td>      <td>25.0</td>    </tr>    <tr>      <th>甘肃</th>      <td>27.0</td>      <td>21.0</td>      <td>27.0</td>      <td>26.0</td>      <td>27.0</td>      <td>25.0</td>      <td>28.0</td>      <td>21.0</td>    </tr>    <tr>      <th>青海</th>      <td>30.0</td>      <td>30.0</td>      <td>30.0</td>      <td>30.0</td>      <td>30.0</td>      <td>30.0</td>      <td>30.0</td>      <td>30.0</td>    </tr>    <tr>      <th>宁夏</th>      <td>29.0</td>      <td>29.0</td>      <td>29.0</td>      <td>29.0</td>      <td>29.0</td>      <td>27.0</td>      <td>29.0</td>      <td>26.0</td>    </tr>    <tr>      <th>新疆</th>      <td>25.0</td>      <td>26.0</td>      <td>25.0</td>      <td>25.0</td>      <td>19.0</td>      <td>29.0</td>      <td>18.0</td>      <td>11.0</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#4.2.2 综合评价分析方法</span></span><br><span class="line"><span class="comment">#4.2.2.1 指标的无量纲化</span></span><br><span class="line"><span class="comment">#标准化法</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">bz</span>(<span class="params">x</span>):</span> <span class="keyword">return</span> (x-x.mean())/x.std() <span class="comment">#bz=lambda x: (x-x.mean())/x.std()</span></span><br><span class="line">BZ=MVdata.apply(bz,<span class="number">0</span>);  <span class="comment">#BZ=(MVdata-MVdata.mean())/MVdata.std()</span></span><br><span class="line"><span class="built_in">round</span>(BZ,<span class="number">3</span>)</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>生产总值</th>      <th>从业人员</th>      <th>固定资产</th>      <th>利用外资</th>      <th>进出口额</th>      <th>新品出口</th>      <th>市场占有</th>      <th>对外依存</th>    </tr>    <tr>      <th>地区</th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>北京</th>      <td>-0.085</td>      <td>-0.884</td>      <td>-0.705</td>      <td>0.931</td>      <td>1.300</td>      <td>-0.020</td>      <td>-0.036</td>      <td>3.031</td>    </tr>    <tr>      <th>天津</th>      <td>-0.463</td>      <td>-1.057</td>      <td>-0.477</td>      <td>-0.608</td>      <td>-0.087</td>      <td>0.057</td>      <td>-0.162</td>      <td>0.653</td>    </tr>    <tr>      <th>河北</th>      <td>0.547</td>      <td>0.751</td>      <td>0.953</td>      <td>0.724</td>      <td>-0.329</td>      <td>-0.336</td>      <td>-0.299</td>      <td>-0.464</td>    </tr>    <tr>      <th>山西</th>      <td>-0.468</td>      <td>-0.506</td>      <td>-0.476</td>      <td>-0.117</td>      <td>-0.517</td>      <td>-0.394</td>      <td>-0.499</td>      <td>-0.604</td>    </tr>    <tr>      <th>内蒙古</th>      <td>-0.229</td>      <td>-0.783</td>      <td>0.029</td>      <td>-0.693</td>      <td>-0.531</td>      <td>-0.483</td>      <td>-0.506</td>      <td>-0.682</td>    </tr>    <tr>      <th>辽宁</th>      <td>0.372</td>      <td>-0.152</td>      <td>1.158</td>      <td>0.457</td>      <td>-0.123</td>      <td>-0.196</td>      <td>-0.105</td>      <td>-0.122</td>    </tr>    <tr>      <th>吉林</th>      <td>-0.519</td>      <td>-0.733</td>      <td>-0.420</td>      <td>-0.643</td>      <td>-0.482</td>      <td>-0.453</td>      <td>-0.503</td>      <td>-0.480</td>    </tr>    <tr>      <th>黑龙江</th>      <td>-0.365</td>      <td>-0.371</td>      <td>-0.414</td>      <td>-0.379</td>      <td>-0.402</td>      <td>-0.485</td>      <td>-0.394</td>      <td>-0.324</td>    </tr>    <tr>      <th>上海</th>      <td>0.140</td>      <td>-0.865</td>      <td>-0.800</td>      <td>0.734</td>      <td>1.532</td>      <td>0.271</td>      <td>1.265</td>      <td>2.841</td>    </tr>    <tr>      <th>江苏</th>      <td>2.426</td>      <td>1.201</td>      <td>2.533</td>      <td>1.663</td>      <td>2.029</td>      <td>2.809</td>      <td>2.154</td>      <td>0.949</td>    </tr>    <tr>      <th>浙江</th>      <td>1.143</td>      <td>0.591</td>      <td>0.615</td>      <td>1.416</td>      <td>0.912</td>      <td>1.406</td>      <td>1.323</td>      <td>0.721</td>    </tr>    <tr>      <th>安徽</th>      <td>-0.157</td>      <td>0.840</td>      <td>0.349</td>      <td>-0.258</td>      <td>-0.436</td>      <td>-0.332</td>      <td>-0.399</td>      <td>-0.486</td>    </tr>    <tr>      <th>福建</th>      <td>0.015</td>      <td>-0.098</td>      <td>-0.041</td>      <td>-0.263</td>      <td>0.108</td>      <td>0.092</td>      <td>0.256</td>      <td>0.497</td>    </tr>    <tr>      <th>江西</th>      <td>-0.432</td>      <td>-0.057</td>      <td>-0.167</td>      <td>-0.498</td>      <td>-0.435</td>      <td>-0.411</td>      <td>-0.357</td>      <td>-0.382</td>    </tr>    <tr>      <th>山东</th>      <td>2.139</td>      <td>2.177</td>      <td>2.542</td>      <td>1.229</td>      <td>0.556</td>      <td>0.827</td>      <td>0.540</td>      <td>0.020</td>    </tr>    <tr>      <th>河南</th>      <td>0.731</td>      <td>2.014</td>      <td>1.164</td>      <td>0.362</td>      <td>-0.430</td>      <td>-0.345</td>      <td>-0.380</td>      <td>-0.620</td>    </tr>    <tr>      <th>湖北</th>      <td>0.174</td>      <td>0.587</td>      <td>0.365</td>      <td>-0.021</td>      <td>-0.426</td>      <td>-0.387</td>      <td>-0.378</td>      <td>-0.541</td>    </tr>    <tr>      <th>湖南</th>      <td>0.176</td>      <td>0.775</td>      <td>0.261</td>      <td>-0.103</td>      <td>-0.496</td>      <td>-0.372</td>      <td>-0.461</td>      <td>-0.660</td>    </tr>    <tr>      <th>广东</th>      <td>2.739</td>      <td>1.880</td>      <td>1.057</td>      <td>3.368</td>      <td>3.841</td>      <td>3.785</td>      <td>4.049</td>      <td>1.940</td>    </tr>    <tr>      <th>广西</th>      <td>-0.431</td>      <td>0.171</td>      <td>-0.335</td>      <td>-0.552</td>      <td>-0.475</td>      <td>-0.461</td>      <td>-0.439</td>      <td>-0.495</td>    </tr>    <tr>      <th>海南</th>      <td>-1.134</td>      <td>-1.229</td>      <td>-1.307</td>      <td>-1.099</td>      <td>-0.527</td>      <td>-0.495</td>      <td>-0.524</td>      <td>-0.003</td>    </tr>    <tr>      <th>重庆</th>      <td>-0.562</td>      <td>-0.590</td>      <td>-0.415</td>      <td>-0.514</td>      <td>-0.447</td>      <td>-0.212</td>      <td>-0.375</td>      <td>-0.347</td>    </tr>    <tr>      <th>四川</th>      <td>0.280</td>      <td>1.216</td>      <td>0.620</td>      <td>0.533</td>      <td>-0.357</td>      <td>-0.416</td>      <td>-0.295</td>      <td>-0.450</td>    </tr>    <tr>      <th>贵州</th>      <td>-0.891</td>      <td>-0.476</td>      <td>-0.911</td>      <td>-0.864</td>      <td>-0.565</td>      <td>-0.486</td>      <td>-0.521</td>      <td>-0.678</td>    </tr>    <tr>      <th>云南</th>      <td>-0.647</td>      <td>0.126</td>      <td>-0.611</td>      <td>-0.552</td>      <td>-0.511</td>      <td>-0.490</td>      <td>-0.465</td>      <td>-0.525</td>    </tr>    <tr>      <th>陕西</th>      <td>-0.370</td>      <td>-0.325</td>      <td>-0.114</td>      <td>-0.263</td>      <td>-0.518</td>      <td>-0.478</td>      <td>-0.486</td>      <td>-0.627</td>    </tr>    <tr>      <th>甘肃</th>      <td>-0.943</td>      <td>-0.641</td>      <td>-0.953</td>      <td>-0.829</td>      <td>-0.546</td>      <td>-0.486</td>      <td>-0.528</td>      <td>-0.536</td>    </tr>    <tr>      <th>青海</th>      <td>-1.199</td>      <td>-1.314</td>      <td>-1.341</td>      <td>-1.194</td>      <td>-0.584</td>      <td>-0.509</td>      <td>-0.541</td>      <td>-0.726</td>    </tr>    <tr>      <th>宁夏</th>      <td>-1.166</td>      <td>-1.297</td>      <td>-1.309</td>      <td>-1.159</td>      <td>-0.577</td>      <td>-0.494</td>      <td>-0.533</td>      <td>-0.640</td>    </tr>    <tr>      <th>新疆</th>      <td>-0.821</td>      <td>-0.950</td>      <td>-0.850</td>      <td>-0.808</td>      <td>-0.478</td>      <td>-0.503</td>      <td>-0.401</td>      <td>-0.261</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#规范化法</span></span><br><span class="line"><span class="comment">#gf=lambda x: (x-x.min())/(x.max()-x.min())</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">gf</span>(<span class="params">x</span>):</span> <span class="keyword">return</span> (x-x.<span class="built_in">min</span>())/(x.<span class="built_in">max</span>()-x.<span class="built_in">min</span>())</span><br><span class="line">GF=MVdata.apply(gf,<span class="number">0</span>); <span class="comment">#GF=(MVdata-MVdata.min())/(MVdata.max()-MVdata.min())</span></span><br><span class="line"><span class="built_in">round</span>(GF,<span class="number">3</span>)</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>生产总值</th>      <th>从业人员</th>      <th>固定资产</th>      <th>利用外资</th>      <th>进出口额</th>      <th>新品出口</th>      <th>市场占有</th>      <th>对外依存</th>    </tr>    <tr>      <th>地区</th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>北京</th>      <td>0.283</td>      <td>0.123</td>      <td>0.164</td>      <td>0.466</td>      <td>0.426</td>      <td>0.114</td>      <td>0.110</td>      <td>1.000</td>    </tr>    <tr>      <th>天津</th>      <td>0.187</td>      <td>0.074</td>      <td>0.222</td>      <td>0.129</td>      <td>0.112</td>      <td>0.132</td>      <td>0.083</td>      <td>0.367</td>    </tr>    <tr>      <th>河北</th>      <td>0.443</td>      <td>0.591</td>      <td>0.591</td>      <td>0.421</td>      <td>0.058</td>      <td>0.040</td>      <td>0.053</td>      <td>0.070</td>    </tr>    <tr>      <th>山西</th>      <td>0.186</td>      <td>0.231</td>      <td>0.223</td>      <td>0.236</td>      <td>0.015</td>      <td>0.027</td>      <td>0.009</td>      <td>0.033</td>    </tr>    <tr>      <th>内蒙古</th>      <td>0.246</td>      <td>0.152</td>      <td>0.353</td>      <td>0.110</td>      <td>0.012</td>      <td>0.006</td>      <td>0.008</td>      <td>0.012</td>    </tr>    <tr>      <th>辽宁</th>      <td>0.399</td>      <td>0.333</td>      <td>0.644</td>      <td>0.362</td>      <td>0.104</td>      <td>0.073</td>      <td>0.095</td>      <td>0.161</td>    </tr>    <tr>      <th>吉林</th>      <td>0.173</td>      <td>0.167</td>      <td>0.237</td>      <td>0.121</td>      <td>0.023</td>      <td>0.013</td>      <td>0.008</td>      <td>0.066</td>    </tr>    <tr>      <th>黑龙江</th>      <td>0.212</td>      <td>0.270</td>      <td>0.239</td>      <td>0.179</td>      <td>0.041</td>      <td>0.006</td>      <td>0.032</td>      <td>0.107</td>    </tr>    <tr>      <th>上海</th>      <td>0.340</td>      <td>0.129</td>      <td>0.139</td>      <td>0.423</td>      <td>0.478</td>      <td>0.182</td>      <td>0.393</td>      <td>0.949</td>    </tr>    <tr>      <th>江苏</th>      <td>0.920</td>      <td>0.720</td>      <td>0.998</td>      <td>0.626</td>      <td>0.590</td>      <td>0.773</td>      <td>0.587</td>      <td>0.446</td>    </tr>    <tr>      <th>浙江</th>      <td>0.595</td>      <td>0.546</td>      <td>0.504</td>      <td>0.572</td>      <td>0.338</td>      <td>0.446</td>      <td>0.406</td>      <td>0.385</td>    </tr>    <tr>      <th>安徽</th>      <td>0.264</td>      <td>0.617</td>      <td>0.435</td>      <td>0.205</td>      <td>0.033</td>      <td>0.041</td>      <td>0.031</td>      <td>0.064</td>    </tr>    <tr>      <th>福建</th>      <td>0.308</td>      <td>0.348</td>      <td>0.335</td>      <td>0.204</td>      <td>0.156</td>      <td>0.140</td>      <td>0.174</td>      <td>0.326</td>    </tr>    <tr>      <th>江西</th>      <td>0.195</td>      <td>0.360</td>      <td>0.302</td>      <td>0.153</td>      <td>0.034</td>      <td>0.023</td>      <td>0.040</td>      <td>0.092</td>    </tr>    <tr>      <th>山东</th>      <td>0.848</td>      <td>1.000</td>      <td>1.000</td>      <td>0.531</td>      <td>0.258</td>      <td>0.311</td>      <td>0.236</td>      <td>0.199</td>    </tr>    <tr>      <th>河南</th>      <td>0.490</td>      <td>0.953</td>      <td>0.645</td>      <td>0.341</td>      <td>0.035</td>      <td>0.038</td>      <td>0.035</td>      <td>0.028</td>    </tr>    <tr>      <th>湖北</th>      <td>0.349</td>      <td>0.544</td>      <td>0.439</td>      <td>0.257</td>      <td>0.036</td>      <td>0.028</td>      <td>0.036</td>      <td>0.049</td>    </tr>    <tr>      <th>湖南</th>      <td>0.349</td>      <td>0.598</td>      <td>0.413</td>      <td>0.239</td>      <td>0.020</td>      <td>0.032</td>      <td>0.017</td>      <td>0.018</td>    </tr>    <tr>      <th>广东</th>      <td>1.000</td>      <td>0.915</td>      <td>0.618</td>      <td>1.000</td>      <td>1.000</td>      <td>1.000</td>      <td>1.000</td>      <td>0.710</td>    </tr>    <tr>      <th>广西</th>      <td>0.195</td>      <td>0.425</td>      <td>0.259</td>      <td>0.141</td>      <td>0.025</td>      <td>0.011</td>      <td>0.022</td>      <td>0.062</td>    </tr>    <tr>      <th>海南</th>      <td>0.017</td>      <td>0.024</td>      <td>0.009</td>      <td>0.021</td>      <td>0.013</td>      <td>0.003</td>      <td>0.004</td>      <td>0.192</td>    </tr>    <tr>      <th>重庆</th>      <td>0.162</td>      <td>0.207</td>      <td>0.239</td>      <td>0.149</td>      <td>0.031</td>      <td>0.069</td>      <td>0.036</td>      <td>0.101</td>    </tr>    <tr>      <th>四川</th>      <td>0.376</td>      <td>0.725</td>      <td>0.505</td>      <td>0.379</td>      <td>0.051</td>      <td>0.022</td>      <td>0.053</td>      <td>0.074</td>    </tr>    <tr>      <th>贵州</th>      <td>0.078</td>      <td>0.240</td>      <td>0.111</td>      <td>0.072</td>      <td>0.004</td>      <td>0.005</td>      <td>0.004</td>      <td>0.013</td>    </tr>    <tr>      <th>云南</th>      <td>0.140</td>      <td>0.413</td>      <td>0.188</td>      <td>0.141</td>      <td>0.017</td>      <td>0.005</td>      <td>0.017</td>      <td>0.054</td>    </tr>    <tr>      <th>陕西</th>      <td>0.210</td>      <td>0.283</td>      <td>0.316</td>      <td>0.204</td>      <td>0.015</td>      <td>0.007</td>      <td>0.012</td>      <td>0.026</td>    </tr>    <tr>      <th>甘肃</th>      <td>0.065</td>      <td>0.193</td>      <td>0.100</td>      <td>0.080</td>      <td>0.009</td>      <td>0.005</td>      <td>0.003</td>      <td>0.051</td>    </tr>    <tr>      <th>青海</th>      <td>0.000</td>      <td>0.000</td>      <td>0.000</td>      <td>0.000</td>      <td>0.000</td>      <td>0.000</td>      <td>0.000</td>      <td>0.000</td>    </tr>    <tr>      <th>宁夏</th>      <td>0.008</td>      <td>0.005</td>      <td>0.008</td>      <td>0.008</td>      <td>0.002</td>      <td>0.003</td>      <td>0.002</td>      <td>0.023</td>    </tr>    <tr>      <th>新疆</th>      <td>0.096</td>      <td>0.104</td>      <td>0.126</td>      <td>0.085</td>      <td>0.024</td>      <td>0.001</td>      <td>0.030</td>      <td>0.124</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#4.2.2.2 简单平均评价法</span></span><br><span class="line"><span class="comment">#建立得分与排名数据框</span></span><br><span class="line">SR=pd.DataFrame();SR</span><br><span class="line">SR[<span class="string">&#x27;BZscore&#x27;</span>]=BZ.mean(axis=<span class="number">1</span>);</span><br><span class="line">SR[<span class="string">&#x27;BZrank&#x27;</span>]=(-SR.BZscore).rank(); SR</span><br><span class="line">SR[<span class="string">&#x27;GFscore&#x27;</span>]=GF.mean(<span class="number">1</span>); <span class="comment">#SR[&#x27;GFscore&#x27;]=GF.apply(np.mean,1)</span></span><br><span class="line">SR[<span class="string">&#x27;GFrank&#x27;</span>]=(-SR.GFscore).rank(); SR</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>    </tr>  </thead>  <tbody>  </tbody></table></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>BZscore</th>      <th>BZrank</th>    </tr>    <tr>      <th>地区</th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>北京</th>      <td>0.4414</td>      <td>6.0</td>    </tr>    <tr>      <th>天津</th>      <td>-0.2680</td>      <td>15.0</td>    </tr>    <tr>      <th>河北</th>      <td>0.1933</td>      <td>8.0</td>    </tr>    <tr>      <th>山西</th>      <td>-0.4477</td>      <td>21.0</td>    </tr>    <tr>      <th>内蒙古</th>      <td>-0.4847</td>      <td>23.0</td>    </tr>    <tr>      <th>辽宁</th>      <td>0.1609</td>      <td>9.0</td>    </tr>    <tr>      <th>吉林</th>      <td>-0.5289</td>      <td>24.0</td>    </tr>    <tr>      <th>黑龙江</th>      <td>-0.3917</td>      <td>18.0</td>    </tr>    <tr>      <th>上海</th>      <td>0.6398</td>      <td>5.0</td>    </tr>    <tr>      <th>江苏</th>      <td>1.9704</td>      <td>2.0</td>    </tr>    <tr>      <th>浙江</th>      <td>1.0158</td>      <td>4.0</td>    </tr>    <tr>      <th>安徽</th>      <td>-0.1099</td>      <td>13.0</td>    </tr>    <tr>      <th>福建</th>      <td>0.0706</td>      <td>11.0</td>    </tr>    <tr>      <th>江西</th>      <td>-0.3426</td>      <td>16.0</td>    </tr>    <tr>      <th>山东</th>      <td>1.2537</td>      <td>3.0</td>    </tr>    <tr>      <th>河南</th>      <td>0.3121</td>      <td>7.0</td>    </tr>    <tr>      <th>湖北</th>      <td>-0.0784</td>      <td>12.0</td>    </tr>    <tr>      <th>湖南</th>      <td>-0.1099</td>      <td>14.0</td>    </tr>    <tr>      <th>广东</th>      <td>2.8323</td>      <td>1.0</td>    </tr>    <tr>      <th>广西</th>      <td>-0.3772</td>      <td>17.0</td>    </tr>    <tr>      <th>海南</th>      <td>-0.7897</td>      <td>28.0</td>    </tr>    <tr>      <th>重庆</th>      <td>-0.4327</td>      <td>20.0</td>    </tr>    <tr>      <th>四川</th>      <td>0.1414</td>      <td>10.0</td>    </tr>    <tr>      <th>贵州</th>      <td>-0.6738</td>      <td>26.0</td>    </tr>    <tr>      <th>云南</th>      <td>-0.4592</td>      <td>22.0</td>    </tr>    <tr>      <th>陕西</th>      <td>-0.3977</td>      <td>19.0</td>    </tr>    <tr>      <th>甘肃</th>      <td>-0.6827</td>      <td>27.0</td>    </tr>    <tr>      <th>青海</th>      <td>-0.9260</td>      <td>30.0</td>    </tr>    <tr>      <th>宁夏</th>      <td>-0.8968</td>      <td>29.0</td>    </tr>    <tr>      <th>新疆</th>      <td>-0.6340</td>      <td>25.0</td>    </tr>  </tbody></table></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>BZscore</th>      <th>BZrank</th>      <th>GFscore</th>      <th>GFrank</th>    </tr>    <tr>      <th>地区</th>      <th></th>      <th></th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>北京</th>      <td>0.4414</td>      <td>6.0</td>      <td>0.3356</td>      <td>6.0</td>    </tr>    <tr>      <th>天津</th>      <td>-0.2680</td>      <td>15.0</td>      <td>0.1631</td>      <td>15.0</td>    </tr>    <tr>      <th>河北</th>      <td>0.1933</td>      <td>8.0</td>      <td>0.2833</td>      <td>8.0</td>    </tr>    <tr>      <th>山西</th>      <td>-0.4477</td>      <td>21.0</td>      <td>0.1199</td>      <td>22.0</td>    </tr>    <tr>      <th>内蒙古</th>      <td>-0.4847</td>      <td>23.0</td>      <td>0.1123</td>      <td>23.0</td>    </tr>    <tr>      <th>辽宁</th>      <td>0.1609</td>      <td>9.0</td>      <td>0.2712</td>      <td>10.0</td>    </tr>    <tr>      <th>吉林</th>      <td>-0.5289</td>      <td>24.0</td>      <td>0.1009</td>      <td>24.0</td>    </tr>    <tr>      <th>黑龙江</th>      <td>-0.3917</td>      <td>18.0</td>      <td>0.1356</td>      <td>18.0</td>    </tr>    <tr>      <th>上海</th>      <td>0.6398</td>      <td>5.0</td>      <td>0.3792</td>      <td>5.0</td>    </tr>    <tr>      <th>江苏</th>      <td>1.9704</td>      <td>2.0</td>      <td>0.7076</td>      <td>2.0</td>    </tr>    <tr>      <th>浙江</th>      <td>1.0158</td>      <td>4.0</td>      <td>0.4740</td>      <td>4.0</td>    </tr>    <tr>      <th>安徽</th>      <td>-0.1099</td>      <td>13.0</td>      <td>0.2114</td>      <td>13.0</td>    </tr>    <tr>      <th>福建</th>      <td>0.0706</td>      <td>11.0</td>      <td>0.2489</td>      <td>11.0</td>    </tr>    <tr>      <th>江西</th>      <td>-0.3426</td>      <td>16.0</td>      <td>0.1497</td>      <td>16.0</td>    </tr>    <tr>      <th>山东</th>      <td>1.2537</td>      <td>3.0</td>      <td>0.5477</td>      <td>3.0</td>    </tr>    <tr>      <th>河南</th>      <td>0.3121</td>      <td>7.0</td>      <td>0.3208</td>      <td>7.0</td>    </tr>    <tr>      <th>湖北</th>      <td>-0.0784</td>      <td>12.0</td>      <td>0.2173</td>      <td>12.0</td>    </tr>    <tr>      <th>湖南</th>      <td>-0.1099</td>      <td>14.0</td>      <td>0.2108</td>      <td>14.0</td>    </tr>    <tr>      <th>广东</th>      <td>2.8323</td>      <td>1.0</td>      <td>0.9053</td>      <td>1.0</td>    </tr>    <tr>      <th>广西</th>      <td>-0.3772</td>      <td>17.0</td>      <td>0.1425</td>      <td>17.0</td>    </tr>    <tr>      <th>海南</th>      <td>-0.7897</td>      <td>28.0</td>      <td>0.0354</td>      <td>28.0</td>    </tr>    <tr>      <th>重庆</th>      <td>-0.4327</td>      <td>20.0</td>      <td>0.1243</td>      <td>20.0</td>    </tr>    <tr>      <th>四川</th>      <td>0.1414</td>      <td>10.0</td>      <td>0.2730</td>      <td>9.0</td>    </tr>    <tr>      <th>贵州</th>      <td>-0.6738</td>      <td>26.0</td>      <td>0.0661</td>      <td>26.0</td>    </tr>    <tr>      <th>云南</th>      <td>-0.4592</td>      <td>22.0</td>      <td>0.1216</td>      <td>21.0</td>    </tr>    <tr>      <th>陕西</th>      <td>-0.3977</td>      <td>19.0</td>      <td>0.1343</td>      <td>19.0</td>    </tr>    <tr>      <th>甘肃</th>      <td>-0.6827</td>      <td>27.0</td>      <td>0.0632</td>      <td>27.0</td>    </tr>    <tr>      <th>青海</th>      <td>-0.9260</td>      <td>30.0</td>      <td>0.0000</td>      <td>30.0</td>    </tr>    <tr>      <th>宁夏</th>      <td>-0.8968</td>      <td>29.0</td>      <td>0.0074</td>      <td>29.0</td>    </tr>    <tr>      <th>新疆</th>      <td>-0.6340</td>      <td>25.0</td>      <td>0.0739</td>      <td>25.0</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#4.2.2.3 加权综合分析法</span></span><br><span class="line"><span class="comment">#变异系数法</span></span><br><span class="line">CV=MVdata.std()/MVdata.mean();CV.T  <span class="comment">#变异系数</span></span><br><span class="line">W=CV/<span class="built_in">sum</span>(CV);W                   <span class="comment">#权重</span></span><br><span class="line">SR[<span class="string">&#x27;CVscore&#x27;</span>]=np.dot(BZ,W)</span><br><span class="line">SR[<span class="string">&#x27;CVrank&#x27;</span>]=SR.CVscore.rank(ascending=<span class="literal">False</span>); SR</span><br></pre></td></tr></table></figure><pre><code>生产总值    0.7539从业人员    0.6717固定资产    0.6407利用外资    0.7611进出口额    1.6995新品出口    1.9640市场占有    1.8303对外依存    1.2271dtype: float64生产总值    0.0790从业人员    0.0703固定资产    0.0671利用外资    0.0797进出口额    0.1780新品出口    0.2057市场占有    0.1917对外依存    0.1285dtype: float64</code></pre><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>BZscore</th>      <th>BZrank</th>      <th>GFscore</th>      <th>GFrank</th>      <th>CVscore</th>      <th>CVrank</th>    </tr>    <tr>      <th>地区</th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>北京</th>      <td>0.4414</td>      <td>6.0</td>      <td>0.3356</td>      <td>6.0</td>      <td>0.5678</td>      <td>6.0</td>    </tr>    <tr>      <th>天津</th>      <td>-0.2680</td>      <td>15.0</td>      <td>0.1631</td>      <td>15.0</td>      <td>-0.1424</td>      <td>12.0</td>    </tr>    <tr>      <th>河北</th>      <td>0.1933</td>      <td>8.0</td>      <td>0.2833</td>      <td>8.0</td>      <td>-0.0271</td>      <td>10.0</td>    </tr>    <tr>      <th>山西</th>      <td>-0.4477</td>      <td>21.0</td>      <td>0.1199</td>      <td>22.0</td>      <td>-0.4603</td>      <td>21.0</td>    </tr>    <tr>      <th>内蒙古</th>      <td>-0.4847</td>      <td>23.0</td>      <td>0.1123</td>      <td>23.0</td>      <td>-0.5049</td>      <td>23.0</td>    </tr>    <tr>      <th>辽宁</th>      <td>0.1609</td>      <td>9.0</td>      <td>0.2712</td>      <td>10.0</td>      <td>0.0347</td>      <td>8.0</td>    </tr>    <tr>      <th>吉林</th>      <td>-0.5289</td>      <td>24.0</td>      <td>0.1009</td>      <td>24.0</td>      <td>-0.5089</td>      <td>24.0</td>    </tr>    <tr>      <th>黑龙江</th>      <td>-0.3917</td>      <td>18.0</td>      <td>0.1356</td>      <td>18.0</td>      <td>-0.4013</td>      <td>18.0</td>    </tr>    <tr>      <th>上海</th>      <td>0.6398</td>      <td>5.0</td>      <td>0.3792</td>      <td>5.0</td>      <td>0.8911</td>      <td>5.0</td>    </tr>    <tr>      <th>江苏</th>      <td>1.9704</td>      <td>2.0</td>      <td>0.7076</td>      <td>2.0</td>      <td>2.0522</td>      <td>2.0</td>    </tr>    <tr>      <th>浙江</th>      <td>1.0158</td>      <td>4.0</td>      <td>0.4740</td>      <td>4.0</td>      <td>1.0837</td>      <td>3.0</td>    </tr>    <tr>      <th>安徽</th>      <td>-0.1099</td>      <td>13.0</td>      <td>0.2114</td>      <td>13.0</td>      <td>-0.2354</td>      <td>14.0</td>    </tr>    <tr>      <th>福建</th>      <td>0.0706</td>      <td>11.0</td>      <td>0.2489</td>      <td>11.0</td>      <td>0.1215</td>      <td>7.0</td>    </tr>    <tr>      <th>江西</th>      <td>-0.3426</td>      <td>16.0</td>      <td>0.1497</td>      <td>16.0</td>      <td>-0.3687</td>      <td>16.0</td>    </tr>    <tr>      <th>山东</th>      <td>1.2537</td>      <td>3.0</td>      <td>0.5477</td>      <td>3.0</td>      <td>0.9657</td>      <td>4.0</td>    </tr>    <tr>      <th>河南</th>      <td>0.3121</td>      <td>7.0</td>      <td>0.3208</td>      <td>7.0</td>      <td>0.0063</td>      <td>9.0</td>    </tr>    <tr>      <th>湖北</th>      <td>-0.0784</td>      <td>12.0</td>      <td>0.2173</td>      <td>12.0</td>      <td>-0.2195</td>      <td>13.0</td>    </tr>    <tr>      <th>湖南</th>      <td>-0.1099</td>      <td>14.0</td>      <td>0.2108</td>      <td>14.0</td>      <td>-0.2602</td>      <td>15.0</td>    </tr>    <tr>      <th>广东</th>      <td>2.8323</td>      <td>1.0</td>      <td>0.9053</td>      <td>1.0</td>      <td>3.1754</td>      <td>1.0</td>    </tr>    <tr>      <th>广西</th>      <td>-0.3772</td>      <td>17.0</td>      <td>0.1425</td>      <td>17.0</td>      <td>-0.4156</td>      <td>19.0</td>    </tr>    <tr>      <th>海南</th>      <td>-0.7897</td>      <td>28.0</td>      <td>0.0354</td>      <td>28.0</td>      <td>-0.6477</td>      <td>28.0</td>    </tr>    <tr>      <th>重庆</th>      <td>-0.4327</td>      <td>20.0</td>      <td>0.1243</td>      <td>20.0</td>      <td>-0.3943</td>      <td>17.0</td>    </tr>    <tr>      <th>四川</th>      <td>0.1414</td>      <td>10.0</td>      <td>0.2730</td>      <td>9.0</td>      <td>-0.0718</td>      <td>11.0</td>    </tr>    <tr>      <th>贵州</th>      <td>-0.6738</td>      <td>26.0</td>      <td>0.0661</td>      <td>26.0</td>      <td>-0.6211</td>      <td>27.0</td>    </tr>    <tr>      <th>云南</th>      <td>-0.4592</td>      <td>22.0</td>      <td>0.1216</td>      <td>21.0</td>      <td>-0.4754</td>      <td>22.0</td>    </tr>    <tr>      <th>陕西</th>      <td>-0.3977</td>      <td>19.0</td>      <td>0.1343</td>      <td>19.0</td>      <td>-0.4450</td>      <td>20.0</td>    </tr>    <tr>      <th>甘肃</th>      <td>-0.6827</td>      <td>27.0</td>      <td>0.0632</td>      <td>27.0</td>      <td>-0.6168</td>      <td>26.0</td>    </tr>    <tr>      <th>青海</th>      <td>-0.9260</td>      <td>30.0</td>      <td>0.0000</td>      <td>30.0</td>      <td>-0.7779</td>      <td>30.0</td>    </tr>    <tr>      <th>宁夏</th>      <td>-0.8968</td>      <td>29.0</td>      <td>0.0074</td>      <td>29.0</td>      <td>-0.7522</td>      <td>29.0</td>    </tr>    <tr>      <th>新疆</th>      <td>-0.6340</td>      <td>25.0</td>      <td>0.0739</td>      <td>25.0</td>      <td>-0.5520</td>      <td>25.0</td>    </tr>  </tbody></table></div><h2 id="4-3-数据压缩方法"><a href="#4-3-数据压缩方法" class="headerlink" title="4.3 数据压缩方法"></a>4.3 数据压缩方法</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#4.3.1 主成分的基本思想</span></span><br><span class="line"><span class="comment">#4.3.2主成分的基本分析</span></span><br><span class="line"><span class="comment">#4.3.2.1 主成分分析步骤</span></span><br><span class="line">Z=(MVdata-MVdata.mean())/MVdata.std()</span><br><span class="line"><span class="keyword">from</span> sklearn.decomposition <span class="keyword">import</span> PCA</span><br><span class="line">pca = PCA(n_components=<span class="number">2</span>).fit(Z)</span><br><span class="line">Vi=pca.explained_variance_;Vi        <span class="comment">#方差</span></span><br><span class="line">Wi=pca.explained_variance_ratio_;Wi  <span class="comment">#贡献率</span></span><br><span class="line">Wi.<span class="built_in">sum</span>()                             <span class="comment">#累计贡献率</span></span><br><span class="line">pd.DataFrame(pca.components_.T)      <span class="comment">#主成分负荷</span></span><br></pre></td></tr></table></figure><pre><code>array([5.84  , 1.5806])array([0.73  , 0.1976])0.9275700734499012</code></pre><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>0</th>      <th>1</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>0.3967</td>      <td>-0.2064</td>    </tr>    <tr>      <th>1</th>      <td>0.2874</td>      <td>-0.5209</td>    </tr>    <tr>      <th>2</th>      <td>0.3074</td>      <td>-0.4819</td>    </tr>    <tr>      <th>3</th>      <td>0.4011</td>      <td>-0.0094</td>    </tr>    <tr>      <th>4</th>      <td>0.3789</td>      <td>0.3104</td>    </tr>    <tr>      <th>5</th>      <td>0.3864</td>      <td>0.1216</td>    </tr>    <tr>      <th>6</th>      <td>0.3846</td>      <td>0.2104</td>    </tr>    <tr>      <th>7</th>      <td>0.2527</td>      <td>0.5461</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#4.3.2.2 主成分综合评价</span></span><br><span class="line"><span class="keyword">import</span> PyDm_fun <span class="keyword">as</span> da</span><br><span class="line">Si=pca.fit_transform(Z);Si           <span class="comment">#主成分得分</span></span><br><span class="line">Si=pd.DataFrame(Si,columns=[<span class="string">&#x27;Comp1&#x27;</span>,<span class="string">&#x27;Comp2&#x27;</span>],index=MVdata.index);Si</span><br><span class="line">plt.plot(Si.Comp1,Si.Comp2,<span class="string">&#x27;.&#x27;</span>)</span><br><span class="line">da.hvline(Si.Comp1,Si.Comp2,Si.index);</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112101442433.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Si[<span class="string">&#x27;Comp&#x27;</span>]=Si.dot(Wi);Si          <span class="comment">#综合得分</span></span><br><span class="line">Si[<span class="string">&#x27;Rank&#x27;</span>]=(-Si.Comp).rank();Si   <span class="comment">#综合排名</span></span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>Comp1</th>      <th>Comp2</th>      <th>Comp</th>    </tr>    <tr>      <th>地区</th>      <th></th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>北京</th>      <td>1.1056</td>      <td>2.8581</td>      <td>1.3718</td>    </tr>    <tr>      <th>天津</th>      <td>-0.7862</td>      <td>1.1840</td>      <td>-0.3400</td>    </tr>    <tr>      <th>河北</th>      <td>0.5292</td>      <td>-1.4292</td>      <td>0.1039</td>    </tr>    <tr>      <th>山西</th>      <td>-1.2173</td>      <td>-0.0527</td>      <td>-0.8991</td>    </tr>    <tr>      <th>内蒙古</th>      <td>-1.3397</td>      <td>-0.2544</td>      <td>-1.0282</td>    </tr>    <tr>      <th>辽宁</th>      <td>0.4491</td>      <td>-0.7106</td>      <td>0.1874</td>    </tr>    <tr>      <th>吉林</th>      <td>-1.4755</td>      <td>0.1245</td>      <td>-1.0525</td>    </tr>    <tr>      <th>黑龙江</th>      <td>-1.1038</td>      <td>0.0286</td>      <td>-0.8001</td>    </tr>    <tr>      <th>上海</th>      <td>1.7450</td>      <td>3.1264</td>      <td>1.8916</td>    </tr>    <tr>      <th>江苏</th>      <td>5.6754</td>      <td>-0.4195</td>      <td>4.0601</td>    </tr>    <tr>      <th>浙江</th>      <td>2.9599</td>      <td>0.2729</td>      <td>2.2146</td>    </tr>    <tr>      <th>安徽</th>      <td>-0.3869</td>      <td>-1.0965</td>      <td>-0.4991</td>    </tr>    <tr>      <th>福建</th>      <td>0.1598</td>      <td>0.4401</td>      <td>0.2036</td>    </tr>    <tr>      <th>江西</th>      <td>-0.9970</td>      <td>-0.2646</td>      <td>-0.7801</td>    </tr>    <tr>      <th>山东</th>      <td>3.4916</td>      <td>-2.4144</td>      <td>2.0718</td>    </tr>    <tr>      <th>河南</th>      <td>0.7730</td>      <td>-2.3590</td>      <td>0.0982</td>    </tr>    <tr>      <th>湖北</th>      <td>-0.2515</td>      <td>-1.0713</td>      <td>-0.3953</td>    </tr>    <tr>      <th>湖南</th>      <td>-0.3440</td>      <td>-1.2216</td>      <td>-0.4925</td>    </tr>    <tr>      <th>广东</th>      <td>8.2677</td>      <td>1.4782</td>      <td>6.3274</td>    </tr>    <tr>      <th>广西</th>      <td>-1.0983</td>      <td>-0.3994</td>      <td>-0.8807</td>    </tr>    <tr>      <th>海南</th>      <td>-2.2387</td>      <td>1.1787</td>      <td>-1.4013</td>    </tr>    <tr>      <th>重庆</th>      <td>-1.2093</td>      <td>0.1953</td>      <td>-0.8442</td>    </tr>    <tr>      <th>四川</th>      <td>0.3418</td>      <td>-1.4645</td>      <td>-0.0398</td>    </tr>    <tr>      <th>贵州</th>      <td>-1.8899</td>      <td>0.1649</td>      <td>-1.3470</td>    </tr>    <tr>      <th>云南</th>      <td>-1.3237</td>      <td>-0.2349</td>      <td>-1.0127</td>    </tr>    <tr>      <th>陕西</th>      <td>-1.1071</td>      <td>-0.3602</td>      <td>-0.8794</td>    </tr>    <tr>      <th>甘肃</th>      <td>-1.9169</td>      <td>0.3631</td>      <td>-1.3275</td>    </tr>    <tr>      <th>青海</th>      <td>-2.5539</td>      <td>0.8356</td>      <td>-1.6992</td>    </tr>    <tr>      <th>宁夏</th>      <td>-2.4787</td>      <td>0.8569</td>      <td>-1.6401</td>    </tr>    <tr>      <th>新疆</th>      <td>-1.7797</td>      <td>0.6456</td>      <td>-1.1716</td>    </tr>  </tbody></table></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>Comp1</th>      <th>Comp2</th>      <th>Comp</th>      <th>Rank</th>    </tr>    <tr>      <th>地区</th>      <th></th>      <th></th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>北京</th>      <td>1.1056</td>      <td>2.8581</td>      <td>1.3718</td>      <td>6.0</td>    </tr>    <tr>      <th>天津</th>      <td>-0.7862</td>      <td>1.1840</td>      <td>-0.3400</td>      <td>12.0</td>    </tr>    <tr>      <th>河北</th>      <td>0.5292</td>      <td>-1.4292</td>      <td>0.1039</td>      <td>9.0</td>    </tr>    <tr>      <th>山西</th>      <td>-1.2173</td>      <td>-0.0527</td>      <td>-0.8991</td>      <td>21.0</td>    </tr>    <tr>      <th>内蒙古</th>      <td>-1.3397</td>      <td>-0.2544</td>      <td>-1.0282</td>      <td>23.0</td>    </tr>    <tr>      <th>辽宁</th>      <td>0.4491</td>      <td>-0.7106</td>      <td>0.1874</td>      <td>8.0</td>    </tr>    <tr>      <th>吉林</th>      <td>-1.4755</td>      <td>0.1245</td>      <td>-1.0525</td>      <td>24.0</td>    </tr>    <tr>      <th>黑龙江</th>      <td>-1.1038</td>      <td>0.0286</td>      <td>-0.8001</td>      <td>17.0</td>    </tr>    <tr>      <th>上海</th>      <td>1.7450</td>      <td>3.1264</td>      <td>1.8916</td>      <td>5.0</td>    </tr>    <tr>      <th>江苏</th>      <td>5.6754</td>      <td>-0.4195</td>      <td>4.0601</td>      <td>2.0</td>    </tr>    <tr>      <th>浙江</th>      <td>2.9599</td>      <td>0.2729</td>      <td>2.2146</td>      <td>3.0</td>    </tr>    <tr>      <th>安徽</th>      <td>-0.3869</td>      <td>-1.0965</td>      <td>-0.4991</td>      <td>15.0</td>    </tr>    <tr>      <th>福建</th>      <td>0.1598</td>      <td>0.4401</td>      <td>0.2036</td>      <td>7.0</td>    </tr>    <tr>      <th>江西</th>      <td>-0.9970</td>      <td>-0.2646</td>      <td>-0.7801</td>      <td>16.0</td>    </tr>    <tr>      <th>山东</th>      <td>3.4916</td>      <td>-2.4144</td>      <td>2.0718</td>      <td>4.0</td>    </tr>    <tr>      <th>河南</th>      <td>0.7730</td>      <td>-2.3590</td>      <td>0.0982</td>      <td>10.0</td>    </tr>    <tr>      <th>湖北</th>      <td>-0.2515</td>      <td>-1.0713</td>      <td>-0.3953</td>      <td>13.0</td>    </tr>    <tr>      <th>湖南</th>      <td>-0.3440</td>      <td>-1.2216</td>      <td>-0.4925</td>      <td>14.0</td>    </tr>    <tr>      <th>广东</th>      <td>8.2677</td>      <td>1.4782</td>      <td>6.3274</td>      <td>1.0</td>    </tr>    <tr>      <th>广西</th>      <td>-1.0983</td>      <td>-0.3994</td>      <td>-0.8807</td>      <td>20.0</td>    </tr>    <tr>      <th>海南</th>      <td>-2.2387</td>      <td>1.1787</td>      <td>-1.4013</td>      <td>28.0</td>    </tr>    <tr>      <th>重庆</th>      <td>-1.2093</td>      <td>0.1953</td>      <td>-0.8442</td>      <td>18.0</td>    </tr>    <tr>      <th>四川</th>      <td>0.3418</td>      <td>-1.4645</td>      <td>-0.0398</td>      <td>11.0</td>    </tr>    <tr>      <th>贵州</th>      <td>-1.8899</td>      <td>0.1649</td>      <td>-1.3470</td>      <td>27.0</td>    </tr>    <tr>      <th>云南</th>      <td>-1.3237</td>      <td>-0.2349</td>      <td>-1.0127</td>      <td>22.0</td>    </tr>    <tr>      <th>陕西</th>      <td>-1.1071</td>      <td>-0.3602</td>      <td>-0.8794</td>      <td>19.0</td>    </tr>    <tr>      <th>甘肃</th>      <td>-1.9169</td>      <td>0.3631</td>      <td>-1.3275</td>      <td>26.0</td>    </tr>    <tr>      <th>青海</th>      <td>-2.5539</td>      <td>0.8356</td>      <td>-1.6992</td>      <td>30.0</td>    </tr>    <tr>      <th>宁夏</th>      <td>-2.4787</td>      <td>0.8569</td>      <td>-1.6401</td>      <td>29.0</td>    </tr>    <tr>      <th>新疆</th>      <td>-1.7797</td>      <td>0.6456</td>      <td>-1.1716</td>      <td>25.0</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#%run PyDm_fun.py</span></span><br><span class="line">da.PCrank(MVdata,m=<span class="number">2</span>)   <span class="comment">#自定义主成分综合评价函数</span></span><br></pre></td></tr></table></figure><pre><code>方差贡献:        Variances  Explained  CumulativeComp1     5.8400    72.9995     72.9995Comp2     1.5806    19.7575     92.7570Comp3     0.3338     4.1725     96.9295Comp4     0.1578     1.9722     98.9017Comp5     0.0555     0.6938     99.5956Comp6     0.0167     0.2093     99.8049Comp7     0.0086     0.1077     99.9125Comp8     0.0070     0.0875    100.0000主成分负荷:        Comp1   Comp2生产总值  0.3967 -0.2064从业人员  0.2874 -0.5209固定资产  0.3074 -0.4819利用外资  0.4011 -0.0094进出口额  0.3789  0.3104新品出口  0.3864  0.1216市场占有  0.3846  0.2104对外依存  0.2527  0.5461综合得分与排名:       Comp1   Comp2    Comp  Rank地区                               北京   1.1056  2.8581  1.3718   6.0天津  -0.7862  1.1840 -0.3400  12.0河北   0.5292 -1.4292  0.1039   9.0山西  -1.2173 -0.0527 -0.8991  21.0内蒙古 -1.3397 -0.2544 -1.0282  23.0辽宁   0.4491 -0.7106  0.1874   8.0吉林  -1.4755  0.1245 -1.0525  24.0黑龙江 -1.1038  0.0286 -0.8001  17.0上海   1.7450  3.1264  1.8916   5.0江苏   5.6754 -0.4195  4.0601   2.0浙江   2.9599  0.2729  2.2146   3.0安徽  -0.3869 -1.0965 -0.4991  15.0福建   0.1598  0.4401  0.2036   7.0江西  -0.9970 -0.2646 -0.7801  16.0山东   3.4916 -2.4144  2.0718   4.0河南   0.7730 -2.3590  0.0982  10.0湖北  -0.2515 -1.0713 -0.3953  13.0湖南  -0.3440 -1.2216 -0.4925  14.0广东   8.2677  1.4782  6.3274   1.0广西  -1.0983 -0.3994 -0.8807  20.0海南  -2.2387  1.1787 -1.4013  28.0重庆  -1.2093  0.1953 -0.8442  18.0四川   0.3418 -1.4645 -0.0398  11.0贵州  -1.8899  0.1649 -1.3470  27.0云南  -1.3237 -0.2349 -1.0127  22.0陕西  -1.1071 -0.3602 -0.8794  19.0甘肃  -1.9169  0.3631 -1.3275  26.0青海  -2.5539  0.8356 -1.6992  30.0宁夏  -2.4787  0.8569 -1.6401  29.0新疆  -1.7797  0.6456 -1.1716  25.0</code></pre><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112101446667.png" alt="png"></p><h2 id="4-4-聚类分析方法"><a href="#4-4-聚类分析方法" class="headerlink" title="4.4 聚类分析方法"></a>4.4 聚类分析方法</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#4.4.1 聚类分析概念</span></span><br><span class="line"><span class="comment">#4.4.1.1 聚类分析法的思想</span></span><br><span class="line"><span class="comment">#4.4.1.2 聚类分析法的类型</span></span><br><span class="line"><span class="comment">#4.4.1.3 聚类分析的统计量</span></span><br><span class="line">X12=YXdata[[<span class="string">&#x27;X1&#x27;</span>,<span class="string">&#x27;X2&#x27;</span>]][:<span class="number">11</span>];X12  <span class="comment">#取变量X1和X2前11个数据</span></span><br><span class="line">plt.plot(X12.X1,X12.X2,<span class="string">&#x27;.&#x27;</span>)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">11</span>):</span><br><span class="line">    plt.text(X12.X1[i],X12.X2[i],X12.index[i])</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>X1</th>      <th>X2</th>    </tr>    <tr>      <th>地区</th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>北京</th>      <td>1069.70</td>      <td>55.7893</td>    </tr>    <tr>      <th>天津</th>      <td>763.16</td>      <td>70.6767</td>    </tr>    <tr>      <th>河北</th>      <td>3962.42</td>      <td>163.8933</td>    </tr>    <tr>      <th>山西</th>      <td>1738.90</td>      <td>70.7306</td>    </tr>    <tr>      <th>内蒙古</th>      <td>1249.30</td>      <td>103.6517</td>    </tr>    <tr>      <th>辽宁</th>      <td>2364.90</td>      <td>177.2629</td>    </tr>    <tr>      <th>吉林</th>      <td>1337.80</td>      <td>74.4171</td>    </tr>    <tr>      <th>黑龙江</th>      <td>1977.80</td>      <td>74.7538</td>    </tr>    <tr>      <th>上海</th>      <td>1104.33</td>      <td>49.6207</td>    </tr>    <tr>      <th>江苏</th>      <td>4758.23</td>      <td>266.9262</td>    </tr>    <tr>      <th>浙江</th>      <td>3680.00</td>      <td>141.8528</td>    </tr>  </tbody></table></div><pre><code>[&lt;matplotlib.lines.Line2D at 0x137f9d00&gt;]Text(1069.7, 55.7893, &#39;北京&#39;)Text(763.16, 70.6767, &#39;天津&#39;)Text(3962.42, 163.8933, &#39;河北&#39;)Text(1738.9, 70.7306, &#39;山西&#39;)Text(1249.3, 103.6517, &#39;内蒙古&#39;)Text(2364.9, 177.2629, &#39;辽宁&#39;)Text(1337.8, 74.4171, &#39;吉林&#39;)Text(1977.8, 74.7538, &#39;黑龙江&#39;)Text(1104.33, 49.6207, &#39;上海&#39;)Text(4758.23, 266.9262, &#39;江苏&#39;)Text(3680.0, 141.8528, &#39;浙江&#39;)</code></pre><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112101446450.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Z12=(X12-X12.mean())/X12.std()         <span class="comment">#数据标准化</span></span><br><span class="line"><span class="keyword">import</span> scipy.cluster.hierarchy <span class="keyword">as</span> sch  <span class="comment">#加载系统聚类包</span></span><br><span class="line">D12=sch.distance.pdist(Z12);np.<span class="built_in">round</span>(D12,<span class="number">3</span>)        <span class="comment">#样品间距离</span></span><br><span class="line">Y12=pd.DataFrame(sch.distance.squareform(D12))  <span class="comment">#距离矩阵</span></span><br><span class="line">Y12.index=X12.index; Y12.columns=X12.index</span><br><span class="line"><span class="built_in">round</span>(Y12,<span class="number">3</span>)  <span class="comment">#输出距离阵</span></span><br></pre></td></tr></table></figure><pre><code>array([0.317, 2.675, 0.542, 0.725, 2.046, 0.341, 0.728, 0.095, 4.16 ,       2.315, 2.741, 0.721, 0.608, 1.979, 0.428, 0.9  , 0.402, 4.153,       2.401, 2.15 , 2.196, 1.197, 2.352, 1.977, 2.711, 1.642, 0.389,       0.609, 1.652, 0.301, 0.186, 0.564, 3.675, 1.783, 1.371, 0.44 ,       0.689, 0.811, 3.553, 1.884, 1.708, 1.552, 2.116, 2.215, 1.105,       0.473, 0.407, 3.82 , 2.001, 0.746, 3.521, 1.606, 4.213, 2.346,       2.025])</code></pre><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th>地区</th>      <th>北京</th>      <th>天津</th>      <th>河北</th>      <th>山西</th>      <th>内蒙古</th>      <th>辽宁</th>      <th>吉林</th>      <th>黑龙江</th>      <th>上海</th>      <th>江苏</th>      <th>浙江</th>    </tr>    <tr>      <th>地区</th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>北京</th>      <td>0.000</td>      <td>0.317</td>      <td>2.675</td>      <td>0.542</td>      <td>0.725</td>      <td>2.046</td>      <td>0.341</td>      <td>0.728</td>      <td>0.095</td>      <td>4.160</td>      <td>2.315</td>    </tr>    <tr>      <th>天津</th>      <td>0.317</td>      <td>0.000</td>      <td>2.741</td>      <td>0.721</td>      <td>0.608</td>      <td>1.979</td>      <td>0.428</td>      <td>0.900</td>      <td>0.402</td>      <td>4.153</td>      <td>2.401</td>    </tr>    <tr>      <th>河北</th>      <td>2.675</td>      <td>2.741</td>      <td>0.000</td>      <td>2.150</td>      <td>2.196</td>      <td>1.197</td>      <td>2.352</td>      <td>1.977</td>      <td>2.711</td>      <td>1.642</td>      <td>0.389</td>    </tr>    <tr>      <th>山西</th>      <td>0.542</td>      <td>0.721</td>      <td>2.150</td>      <td>0.000</td>      <td>0.609</td>      <td>1.652</td>      <td>0.301</td>      <td>0.186</td>      <td>0.564</td>      <td>3.675</td>      <td>1.783</td>    </tr>    <tr>      <th>内蒙古</th>      <td>0.725</td>      <td>0.608</td>      <td>2.196</td>      <td>0.609</td>      <td>0.000</td>      <td>1.371</td>      <td>0.440</td>      <td>0.689</td>      <td>0.811</td>      <td>3.553</td>      <td>1.884</td>    </tr>    <tr>      <th>辽宁</th>      <td>2.046</td>      <td>1.979</td>      <td>1.197</td>      <td>1.652</td>      <td>1.371</td>      <td>0.000</td>      <td>1.708</td>      <td>1.552</td>      <td>2.116</td>      <td>2.215</td>      <td>1.105</td>    </tr>    <tr>      <th>吉林</th>      <td>0.341</td>      <td>0.428</td>      <td>2.352</td>      <td>0.301</td>      <td>0.440</td>      <td>1.708</td>      <td>0.000</td>      <td>0.473</td>      <td>0.407</td>      <td>3.820</td>      <td>2.001</td>    </tr>    <tr>      <th>黑龙江</th>      <td>0.728</td>      <td>0.900</td>      <td>1.977</td>      <td>0.186</td>      <td>0.689</td>      <td>1.552</td>      <td>0.473</td>      <td>0.000</td>      <td>0.746</td>      <td>3.521</td>      <td>1.606</td>    </tr>    <tr>      <th>上海</th>      <td>0.095</td>      <td>0.402</td>      <td>2.711</td>      <td>0.564</td>      <td>0.811</td>      <td>2.116</td>      <td>0.407</td>      <td>0.746</td>      <td>0.000</td>      <td>4.213</td>      <td>2.346</td>    </tr>    <tr>      <th>江苏</th>      <td>4.160</td>      <td>4.153</td>      <td>1.642</td>      <td>3.675</td>      <td>3.553</td>      <td>2.215</td>      <td>3.820</td>      <td>3.521</td>      <td>4.213</td>      <td>0.000</td>      <td>2.025</td>    </tr>    <tr>      <th>浙江</th>      <td>2.315</td>      <td>2.401</td>      <td>0.389</td>      <td>1.783</td>      <td>1.884</td>      <td>1.105</td>      <td>2.001</td>      <td>1.606</td>      <td>2.346</td>      <td>2.025</td>      <td>0.000</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#4.4.2 系统聚类方法</span></span><br><span class="line"><span class="comment">#4.4.2.1 系统聚类的基本思想</span></span><br><span class="line">H1=sch.linkage(D12);H1   <span class="comment">#系统聚类过程，默认方法=&#x27;complete&#x27;</span></span><br><span class="line">sch.dendrogram(H1,labels=X12.index);  <span class="comment">#系统聚类图</span></span><br><span class="line">pd.DataFrame(sch.cut_tree(H1),index=X12.index)  <span class="comment">#聚类划分</span></span><br></pre></td></tr></table></figure><pre><code>array([[ 0.    ,  8.    ,  0.0953,  2.    ],       [ 3.    ,  7.    ,  0.1864,  2.    ],       [ 6.    , 12.    ,  0.3014,  3.    ],       [ 1.    , 11.    ,  0.3168,  3.    ],       [13.    , 14.    ,  0.3407,  6.    ],       [ 2.    , 10.    ,  0.3888,  2.    ],       [ 4.    , 15.    ,  0.44  ,  7.    ],       [ 5.    , 16.    ,  1.1054,  3.    ],       [17.    , 18.    ,  1.371 , 10.    ],       [ 9.    , 19.    ,  1.6423, 11.    ]])&#123;&#39;icoord&#39;: [[35.0, 35.0, 45.0, 45.0],  [25.0, 25.0, 40.0, 40.0],  [65.0, 65.0, 75.0, 75.0],  [55.0, 55.0, 70.0, 70.0],  [32.5, 32.5, 62.5, 62.5],  [15.0, 15.0, 47.5, 47.5],  [95.0, 95.0, 105.0, 105.0],  [85.0, 85.0, 100.0, 100.0],  [31.25, 31.25, 92.5, 92.5],  [5.0, 5.0, 61.875, 61.875]], &#39;dcoord&#39;: [[0.0, 0.1863982484785876, 0.1863982484785876, 0.0],  [0.0, 0.3014025493182192, 0.3014025493182192, 0.1863982484785876],  [0.0, 0.0953039349786894, 0.0953039349786894, 0.0],  [0.0, 0.3168462237387891, 0.3168462237387891, 0.0953039349786894],  [0.3014025493182192,   0.3407317939895567,   0.3407317939895567,   0.3168462237387891],  [0.0, 0.4399732129450085, 0.4399732129450085, 0.3407317939895567],  [0.0, 0.38877071105749833, 0.38877071105749833, 0.0],  [0.0, 1.1054137876139423, 1.1054137876139423, 0.38877071105749833],  [0.4399732129450085,   1.3710024193343529,   1.3710024193343529,   1.1054137876139423],  [0.0, 1.6422740653739492, 1.6422740653739492, 1.3710024193343529]], &#39;ivl&#39;: [&#39;江苏&#39;, &#39;内蒙古&#39;, &#39;吉林&#39;, &#39;山西&#39;, &#39;黑龙江&#39;, &#39;天津&#39;, &#39;北京&#39;, &#39;上海&#39;, &#39;辽宁&#39;, &#39;河北&#39;, &#39;浙江&#39;], &#39;leaves&#39;: [9, 4, 6, 3, 7, 1, 0, 8, 5, 2, 10], &#39;color_list&#39;: [&#39;C1&#39;, &#39;C1&#39;, &#39;C1&#39;, &#39;C1&#39;, &#39;C1&#39;, &#39;C1&#39;, &#39;C2&#39;, &#39;C2&#39;, &#39;C0&#39;, &#39;C0&#39;], &#39;leaves_color_list&#39;: [&#39;C0&#39;,  &#39;C1&#39;,  &#39;C1&#39;,  &#39;C1&#39;,  &#39;C1&#39;,  &#39;C1&#39;,  &#39;C1&#39;,  &#39;C1&#39;,  &#39;C2&#39;,  &#39;C2&#39;,  &#39;C2&#39;]&#125;</code></pre><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>0</th>      <th>1</th>      <th>2</th>      <th>3</th>      <th>4</th>      <th>5</th>      <th>6</th>      <th>7</th>      <th>8</th>      <th>9</th>      <th>10</th>    </tr>    <tr>      <th>地区</th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>北京</th>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>    </tr>    <tr>      <th>天津</th>      <td>1</td>      <td>1</td>      <td>1</td>      <td>1</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>    </tr>    <tr>      <th>河北</th>      <td>2</td>      <td>2</td>      <td>2</td>      <td>2</td>      <td>1</td>      <td>1</td>      <td>1</td>      <td>1</td>      <td>1</td>      <td>0</td>      <td>0</td>    </tr>    <tr>      <th>山西</th>      <td>3</td>      <td>3</td>      <td>3</td>      <td>3</td>      <td>2</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>    </tr>    <tr>      <th>内蒙古</th>      <td>4</td>      <td>4</td>      <td>4</td>      <td>4</td>      <td>3</td>      <td>2</td>      <td>2</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>    </tr>    <tr>      <th>辽宁</th>      <td>5</td>      <td>5</td>      <td>5</td>      <td>5</td>      <td>4</td>      <td>3</td>      <td>3</td>      <td>2</td>      <td>1</td>      <td>0</td>      <td>0</td>    </tr>    <tr>      <th>吉林</th>      <td>6</td>      <td>6</td>      <td>6</td>      <td>3</td>      <td>2</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>    </tr>    <tr>      <th>黑龙江</th>      <td>7</td>      <td>7</td>      <td>3</td>      <td>3</td>      <td>2</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>    </tr>    <tr>      <th>上海</th>      <td>8</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>    </tr>    <tr>      <th>江苏</th>      <td>9</td>      <td>8</td>      <td>7</td>      <td>6</td>      <td>5</td>      <td>4</td>      <td>4</td>      <td>3</td>      <td>2</td>      <td>1</td>      <td>0</td>    </tr>    <tr>      <th>浙江</th>      <td>10</td>      <td>9</td>      <td>8</td>      <td>7</td>      <td>6</td>      <td>5</td>      <td>1</td>      <td>1</td>      <td>1</td>      <td>0</td>      <td>0</td>    </tr>  </tbody></table></div><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112101442607.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">H2=sch.linkage(D12,method=<span class="string">&#x27;ward&#x27;</span>);H2 <span class="comment">#系统聚类过程，方法=&#x27;ward&#x27;</span></span><br><span class="line">sch.dendrogram(H2,labels=X12.index);</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112101442930.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pd.DataFrame(sch.cut_tree(H2),index=X12.index)  <span class="comment">#聚类划分</span></span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>0</th>      <th>1</th>      <th>2</th>      <th>3</th>      <th>4</th>      <th>5</th>      <th>6</th>      <th>7</th>      <th>8</th>      <th>9</th>      <th>10</th>    </tr>    <tr>      <th>地区</th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>北京</th>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>    </tr>    <tr>      <th>天津</th>      <td>1</td>      <td>1</td>      <td>1</td>      <td>1</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>    </tr>    <tr>      <th>河北</th>      <td>2</td>      <td>2</td>      <td>2</td>      <td>2</td>      <td>1</td>      <td>1</td>      <td>1</td>      <td>1</td>      <td>1</td>      <td>1</td>      <td>0</td>    </tr>    <tr>      <th>山西</th>      <td>3</td>      <td>3</td>      <td>3</td>      <td>3</td>      <td>2</td>      <td>2</td>      <td>2</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>    </tr>    <tr>      <th>内蒙古</th>      <td>4</td>      <td>4</td>      <td>4</td>      <td>4</td>      <td>3</td>      <td>3</td>      <td>2</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>    </tr>    <tr>      <th>辽宁</th>      <td>5</td>      <td>5</td>      <td>5</td>      <td>5</td>      <td>4</td>      <td>4</td>      <td>3</td>      <td>2</td>      <td>1</td>      <td>1</td>      <td>0</td>    </tr>    <tr>      <th>吉林</th>      <td>6</td>      <td>6</td>      <td>6</td>      <td>6</td>      <td>5</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>    </tr>    <tr>      <th>黑龙江</th>      <td>7</td>      <td>7</td>      <td>3</td>      <td>3</td>      <td>2</td>      <td>2</td>      <td>2</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>    </tr>    <tr>      <th>上海</th>      <td>8</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>    </tr>    <tr>      <th>江苏</th>      <td>9</td>      <td>8</td>      <td>7</td>      <td>7</td>      <td>6</td>      <td>5</td>      <td>4</td>      <td>3</td>      <td>2</td>      <td>1</td>      <td>0</td>    </tr>    <tr>      <th>浙江</th>      <td>10</td>      <td>9</td>      <td>8</td>      <td>2</td>      <td>1</td>      <td>1</td>      <td>1</td>      <td>1</td>      <td>1</td>      <td>1</td>      <td>0</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#4.4.2.2 系统聚类的基本步骤</span></span><br><span class="line">Z=(MVdata-MVdata.mean())/MVdata.std()</span><br><span class="line">D=sch.distance.pdist(Z);</span><br><span class="line">H=sch.linkage(D,method=<span class="string">&#x27;ward&#x27;</span>);</span><br><span class="line">plt.figure(figsize=(<span class="number">10</span>,<span class="number">6</span>));                   <span class="comment">#图形大小</span></span><br><span class="line">sch.dendrogram(H,labels=MVdata.index);</span><br><span class="line">pd.DataFrame(sch.cut_tree(H),index=MVdata.index).iloc[:,-<span class="number">5</span>:]+<span class="number">1</span>  <span class="comment">#分5到1类</span></span><br><span class="line">pd.DataFrame(sch.cut_tree(H),index=MVdata.index).iloc[:,<span class="number">27</span>]+<span class="number">1</span>   <span class="comment">#分三类</span></span><br></pre></td></tr></table></figure><pre><code>&lt;Figure size 720x432 with 0 Axes&gt;&#123;&#39;icoord&#39;: [[25.0, 25.0, 35.0, 35.0],  [15.0, 15.0, 30.0, 30.0],  [5.0, 5.0, 22.5, 22.5],  [45.0, 45.0, 55.0, 55.0],  [75.0, 75.0, 85.0, 85.0],  [65.0, 65.0, 80.0, 80.0],  [115.0, 115.0, 125.0, 125.0],  [105.0, 105.0, 120.0, 120.0],  [95.0, 95.0, 112.5, 112.5],  [72.5, 72.5, 103.75, 103.75],  [145.0, 145.0, 155.0, 155.0],  [135.0, 135.0, 150.0, 150.0],  [175.0, 175.0, 185.0, 185.0],  [165.0, 165.0, 180.0, 180.0],  [142.5, 142.5, 172.5, 172.5],  [195.0, 195.0, 205.0, 205.0],  [225.0, 225.0, 235.0, 235.0],  [215.0, 215.0, 230.0, 230.0],  [255.0, 255.0, 265.0, 265.0],  [285.0, 285.0, 295.0, 295.0],  [275.0, 275.0, 290.0, 290.0],  [260.0, 260.0, 282.5, 282.5],  [245.0, 245.0, 271.25, 271.25],  [222.5, 222.5, 258.125, 258.125],  [200.0, 200.0, 240.3125, 240.3125],  [157.5, 157.5, 220.15625, 220.15625],  [88.125, 88.125, 188.828125, 188.828125],  [50.0, 50.0, 138.4765625, 138.4765625],  [13.75, 13.75, 94.23828125, 94.23828125]], &#39;dcoord&#39;: [[0.0, 2.970122619104813, 2.970122619104813, 0.0],  [0.0, 3.2756411446232763, 3.2756411446232763, 2.970122619104813],  [0.0, 6.277098781128152, 6.277098781128152, 3.2756411446232763],  [0.0, 1.402634465983541, 1.402634465983541, 0.0],  [0.0, 0.6647282708879352, 0.6647282708879352, 0.0],  [0.0, 1.3758486029397825, 1.3758486029397825, 0.6647282708879352],  [0.0, 0.2814426665809937, 0.2814426665809937, 0.0],  [0.0, 0.5061254912708356, 0.5061254912708356, 0.2814426665809937],  [0.0, 1.8729245829666057, 1.8729245829666057, 0.5061254912708356],  [1.3758486029397825,   2.051463694651939,   2.051463694651939,   1.8729245829666057],  [0.0, 0.2313186337738123, 0.2313186337738123, 0.0],  [0.0, 0.6447905284742304, 0.6447905284742304, 0.2313186337738123],  [0.0, 0.10700450515432215, 0.10700450515432215, 0.0],  [0.0, 0.8002229043965104, 0.8002229043965104, 0.10700450515432215],  [0.6447905284742304,   1.4545405987341742,   1.4545405987341742,   0.8002229043965104],  [0.0, 1.3017337978583432, 1.3017337978583432, 0.0],  [0.0, 0.32656208270959297, 0.32656208270959297, 0.0],  [0.0, 0.515718721560233, 0.515718721560233, 0.32656208270959297],  [0.0, 0.36317256837584555, 0.36317256837584555, 0.0],  [0.0, 0.44931864635240115, 0.44931864635240115, 0.0],  [0.0, 0.47007774412546727, 0.47007774412546727, 0.44931864635240115],  [0.36317256837584555,   0.7367902177040542,   0.7367902177040542,   0.47007774412546727],  [0.0, 0.8533337616725754, 0.8533337616725754, 0.7367902177040542],  [0.515718721560233,   1.3035903881001951,   1.3035903881001951,   0.8533337616725754],  [1.3017337978583432,   2.556128913447564,   2.556128913447564,   1.3035903881001951],  [1.4545405987341742,   3.7012689339015274,   3.7012689339015274,   2.556128913447564],  [2.051463694651939,   7.367531530855342,   7.367531530855342,   3.7012689339015274],  [1.402634465983541, 8.189380246390717, 8.189380246390717, 7.367531530855342],  [6.277098781128152,   15.565473761404546,   15.565473761404546,   8.189380246390717]], &#39;ivl&#39;: [&#39;广东&#39;,  &#39;江苏&#39;,  &#39;浙江&#39;,  &#39;山东&#39;,  &#39;北京&#39;,  &#39;上海&#39;,  &#39;河南&#39;,  &#39;河北&#39;,  &#39;四川&#39;,  &#39;辽宁&#39;,  &#39;安徽&#39;,  &#39;湖北&#39;,  &#39;湖南&#39;,  &#39;新疆&#39;,  &#39;贵州&#39;,  &#39;甘肃&#39;,  &#39;海南&#39;,  &#39;青海&#39;,  &#39;宁夏&#39;,  &#39;天津&#39;,  &#39;福建&#39;,  &#39;云南&#39;,  &#39;江西&#39;,  &#39;广西&#39;,  &#39;内蒙古&#39;,  &#39;吉林&#39;,  &#39;重庆&#39;,  &#39;黑龙江&#39;,  &#39;山西&#39;,  &#39;陕西&#39;], &#39;leaves&#39;: [18,  9,  10,  14,  0,  8,  15,  2,  22,  5,  11,  16,  17,  29,  23,  26,  20,  27,  28,  1,  12,  24,  13,  19,  4,  6,  21,  7,  3,  25], &#39;color_list&#39;: [&#39;C1&#39;,  &#39;C1&#39;,  &#39;C1&#39;,  &#39;C2&#39;,  &#39;C2&#39;,  &#39;C2&#39;,  &#39;C2&#39;,  &#39;C2&#39;,  &#39;C2&#39;,  &#39;C2&#39;,  &#39;C2&#39;,  &#39;C2&#39;,  &#39;C2&#39;,  &#39;C2&#39;,  &#39;C2&#39;,  &#39;C2&#39;,  &#39;C2&#39;,  &#39;C2&#39;,  &#39;C2&#39;,  &#39;C2&#39;,  &#39;C2&#39;,  &#39;C2&#39;,  &#39;C2&#39;,  &#39;C2&#39;,  &#39;C2&#39;,  &#39;C2&#39;,  &#39;C2&#39;,  &#39;C2&#39;,  &#39;C0&#39;], &#39;leaves_color_list&#39;: [&#39;C1&#39;,  &#39;C1&#39;,  &#39;C1&#39;,  &#39;C1&#39;,  &#39;C2&#39;,  &#39;C2&#39;,  &#39;C2&#39;,  &#39;C2&#39;,  &#39;C2&#39;,  &#39;C2&#39;,  &#39;C2&#39;,  &#39;C2&#39;,  &#39;C2&#39;,  &#39;C2&#39;,  &#39;C2&#39;,  &#39;C2&#39;,  &#39;C2&#39;,  &#39;C2&#39;,  &#39;C2&#39;,  &#39;C2&#39;,  &#39;C2&#39;,  &#39;C2&#39;,  &#39;C2&#39;,  &#39;C2&#39;,  &#39;C2&#39;,  &#39;C2&#39;,  &#39;C2&#39;,  &#39;C2&#39;,  &#39;C2&#39;,  &#39;C2&#39;]&#125;</code></pre><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>25</th>      <th>26</th>      <th>27</th>      <th>28</th>      <th>29</th>    </tr>    <tr>      <th>地区</th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>北京</th>      <td>1</td>      <td>1</td>      <td>1</td>      <td>1</td>      <td>1</td>    </tr>    <tr>      <th>天津</th>      <td>2</td>      <td>2</td>      <td>2</td>      <td>1</td>      <td>1</td>    </tr>    <tr>      <th>河北</th>      <td>3</td>      <td>3</td>      <td>2</td>      <td>1</td>      <td>1</td>    </tr>    <tr>      <th>山西</th>      <td>2</td>      <td>2</td>      <td>2</td>      <td>1</td>      <td>1</td>    </tr>    <tr>      <th>内蒙古</th>      <td>2</td>      <td>2</td>      <td>2</td>      <td>1</td>      <td>1</td>    </tr>    <tr>      <th>辽宁</th>      <td>3</td>      <td>3</td>      <td>2</td>      <td>1</td>      <td>1</td>    </tr>    <tr>      <th>吉林</th>      <td>2</td>      <td>2</td>      <td>2</td>      <td>1</td>      <td>1</td>    </tr>    <tr>      <th>黑龙江</th>      <td>2</td>      <td>2</td>      <td>2</td>      <td>1</td>      <td>1</td>    </tr>    <tr>      <th>上海</th>      <td>1</td>      <td>1</td>      <td>1</td>      <td>1</td>      <td>1</td>    </tr>    <tr>      <th>江苏</th>      <td>4</td>      <td>4</td>      <td>3</td>      <td>2</td>      <td>1</td>    </tr>    <tr>      <th>浙江</th>      <td>4</td>      <td>4</td>      <td>3</td>      <td>2</td>      <td>1</td>    </tr>    <tr>      <th>安徽</th>      <td>3</td>      <td>3</td>      <td>2</td>      <td>1</td>      <td>1</td>    </tr>    <tr>      <th>福建</th>      <td>2</td>      <td>2</td>      <td>2</td>      <td>1</td>      <td>1</td>    </tr>    <tr>      <th>江西</th>      <td>2</td>      <td>2</td>      <td>2</td>      <td>1</td>      <td>1</td>    </tr>    <tr>      <th>山东</th>      <td>4</td>      <td>4</td>      <td>3</td>      <td>2</td>      <td>1</td>    </tr>    <tr>      <th>河南</th>      <td>3</td>      <td>3</td>      <td>2</td>      <td>1</td>      <td>1</td>    </tr>    <tr>      <th>湖北</th>      <td>3</td>      <td>3</td>      <td>2</td>      <td>1</td>      <td>1</td>    </tr>    <tr>      <th>湖南</th>      <td>3</td>      <td>3</td>      <td>2</td>      <td>1</td>      <td>1</td>    </tr>    <tr>      <th>广东</th>      <td>5</td>      <td>4</td>      <td>3</td>      <td>2</td>      <td>1</td>    </tr>    <tr>      <th>广西</th>      <td>2</td>      <td>2</td>      <td>2</td>      <td>1</td>      <td>1</td>    </tr>    <tr>      <th>海南</th>      <td>2</td>      <td>2</td>      <td>2</td>      <td>1</td>      <td>1</td>    </tr>    <tr>      <th>重庆</th>      <td>2</td>      <td>2</td>      <td>2</td>      <td>1</td>      <td>1</td>    </tr>    <tr>      <th>四川</th>      <td>3</td>      <td>3</td>      <td>2</td>      <td>1</td>      <td>1</td>    </tr>    <tr>      <th>贵州</th>      <td>2</td>      <td>2</td>      <td>2</td>      <td>1</td>      <td>1</td>    </tr>    <tr>      <th>云南</th>      <td>2</td>      <td>2</td>      <td>2</td>      <td>1</td>      <td>1</td>    </tr>    <tr>      <th>陕西</th>      <td>2</td>      <td>2</td>      <td>2</td>      <td>1</td>      <td>1</td>    </tr>    <tr>      <th>甘肃</th>      <td>2</td>      <td>2</td>      <td>2</td>      <td>1</td>      <td>1</td>    </tr>    <tr>      <th>青海</th>      <td>2</td>      <td>2</td>      <td>2</td>      <td>1</td>      <td>1</td>    </tr>    <tr>      <th>宁夏</th>      <td>2</td>      <td>2</td>      <td>2</td>      <td>1</td>      <td>1</td>    </tr>    <tr>      <th>新疆</th>      <td>2</td>      <td>2</td>      <td>2</td>      <td>1</td>      <td>1</td>    </tr>  </tbody></table></div><pre><code>地区北京     1天津     2河北     2山西     2内蒙古    2辽宁     2吉林     2黑龙江    2上海     1江苏     3浙江     3安徽     2福建     2江西     2山东     3河南     2湖北     2湖南     2广东     3广西     2海南     2重庆     2四川     2贵州     2云南     2陕西     2甘肃     2青海     2宁夏     2新疆     2Name: 27, dtype: int32</code></pre><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112101442242.png" alt="png"></p><h1 id="第5章-时序数据的模型分析"><a href="#第5章-时序数据的模型分析" class="headerlink" title="第5章 时序数据的模型分析"></a>第5章 时序数据的模型分析</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#5.1 时序数据的动态分析</span></span><br><span class="line"><span class="comment">#5.1.1 时间序列的介绍</span></span><br><span class="line"><span class="comment">#5.1.1.1 时间序列的概念</span></span><br><span class="line"><span class="comment">#####(1) 平稳序列模拟---随机游走</span></span><br><span class="line">n=<span class="number">1000</span></span><br><span class="line">rd=np.random.randn(n)</span><br><span class="line">plt.plot(rd);</span><br></pre></td></tr></table></figure><p>​<br><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112101442621.png" alt="png"><br>​    </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#####(2) 非平稳序列模拟---布朗运动</span></span><br><span class="line">plt.plot(rd.cumsum())</span><br></pre></td></tr></table></figure><pre><code>[&lt;matplotlib.lines.Line2D at 0x14a2ef70&gt;]</code></pre><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112101445524.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#####(3) 平稳时间序列</span></span><br><span class="line"><span class="comment">#rd_ts=pd.Series(rd,index=pd.period_range(&#x27;2001-01-01&#x27;,&#x27;2003-12-30&#x27;))</span></span><br><span class="line">rd_ts=pd.Series(rd,index=pd.period_range(<span class="string">&#x27;2001-01-01&#x27;</span>,periods=n));rd_ts</span><br><span class="line">rd_ts.plot(grid=<span class="literal">True</span>);</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112101445187.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#####(4) 非平稳时间序列</span></span><br><span class="line">rd_ts.cumsum().plot(grid=<span class="literal">True</span>);</span><br></pre></td></tr></table></figure><p>​<br><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112101442704.png" alt="png"><br>​    </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#5.1.3 时间序列的读取</span></span><br><span class="line">TSdata=pd.read_excel(<span class="string">&#x27;PyDm_data.xlsx&#x27;</span>,<span class="string">&#x27;TSdata&#x27;</span>,index_col=<span class="number">0</span>);TSdata.head()</span><br><span class="line">TSdata.plot();</span><br><span class="line"><span class="comment">#Close[&#x27;2016&#x27;].plot()</span></span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112101445201.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#5.3.1.3 股票收益率分析</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">Return</span>(<span class="params">Yt</span>):</span>   <span class="comment">#计算收益率</span></span><br><span class="line">    Rt=Yt/Yt.shift(<span class="number">1</span>)-<span class="number">1</span>  <span class="comment">#Yt.diff()/Yt.shift(1)</span></span><br><span class="line">    <span class="keyword">return</span>(Rt)</span><br><span class="line"></span><br><span class="line">Rt=Return(TSdata);Rt</span><br><span class="line">Rt.plot().axhline(y=<span class="number">0</span>);</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112101442282.png" alt="png"></p><h2 id="5-2-时间序列分析模型"><a href="#5-2-时间序列分析模型" class="headerlink" title="5.2 时间序列分析模型"></a>5.2 时间序列分析模型</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#5.2.1 AR模型</span></span><br><span class="line">np.random.seed(<span class="number">12</span>)   <span class="comment">#种子数，确保每次模拟结果一样</span></span><br><span class="line">n=<span class="number">100</span></span><br><span class="line">y1=np.zeros(n);y1</span><br><span class="line">u=np.random.randn(n);u</span><br><span class="line"><span class="keyword">for</span> t <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>,n):</span><br><span class="line">    y1[t]=<span class="number">0.8</span>*y1[t-<span class="number">1</span>]+u[t]</span><br><span class="line">plt.plot(y1,<span class="string">&#x27;o-&#x27;</span>)</span><br></pre></td></tr></table></figure><pre><code>array([0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0.,       0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0.,       0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0.,       0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0.,       0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0.,       0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0.])array([ 0.473 , -0.6814,  0.2424, -1.7007,  0.7531, -1.5347,  0.0051,       -0.1202, -0.807 ,  2.8718, -0.5978,  0.4725,  1.096 , -1.2152,        1.3424, -0.1221,  1.0125, -0.9139, -1.0295,  1.2098,  0.5019,        0.1388,  0.6408,  0.5273, -1.1544, -2.2133, -1.6818, -1.7881,       -2.2185, -0.6474, -0.5284, -0.0392,  0.215 , -0.3844, -0.2539,        0.0733, -0.9972, -0.7139,  0.0354, -0.6779, -0.5719, -0.1059,        1.3358,  0.3187, -0.3376, -0.5853, -0.1149,  2.2418, -3.1474,        0.5351,  0.2325,  0.8676, -1.1482,  2.1143,  1.0009, -0.0514,        0.1598, -0.7163,  0.0505, -0.1433,  0.9436,  0.3576, -0.0834,        0.6778,  0.5561,  0.2227, -1.529 ,  1.0292, -1.1663, -1.0096,       -0.1053,  0.512 ,  1.4077, -1.6877,  1.4712,  1.6365, -0.4614,       -0.2014, -0.5718, -0.6033, -1.3394, -1.6897, -0.1993,  0.2578,        1.8288, -1.001 , -2.0917,  0.1466, -0.4664,  0.3562, -0.3979,       -1.2592, -0.6889,  0.8026,  0.2724, -0.9692,  0.872 , -1.4464,       -0.5365,  0.1979])[&lt;matplotlib.lines.Line2D at 0x1389db50&gt;]</code></pre><p>​<br><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112101442601.png" alt="png"><br>​    </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#5.2.2 MA模型</span></span><br><span class="line">np.random.seed(<span class="number">123</span>)</span><br><span class="line">y2=np.zeros(n);</span><br><span class="line">u=np.random.randn(n);</span><br><span class="line"><span class="keyword">for</span> t <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>,n):</span><br><span class="line">    y2[t]=u[t]+<span class="number">0.6</span>*u[t-<span class="number">1</span>]</span><br><span class="line">plt.plot(y2,<span class="string">&#x27;o-&#x27;</span>)</span><br></pre></td></tr></table></figure><pre><code>[&lt;matplotlib.lines.Line2D at 0x137c74c0&gt;]</code></pre><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112101445105.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#5.2.3 ARMA模型</span></span><br><span class="line">np.random.seed(<span class="number">123</span>)</span><br><span class="line">y3=np.zeros(n);</span><br><span class="line">u=np.random.randn(n);</span><br><span class="line"><span class="keyword">for</span> t <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>,n):</span><br><span class="line">    y3[t]=<span class="number">0.8</span>*y3[t-<span class="number">1</span>]+u[t]+<span class="number">0.6</span>*u[t-<span class="number">1</span>]</span><br><span class="line">plt.plot(y3,<span class="string">&#x27;o-&#x27;</span>);</span><br></pre></td></tr></table></figure><p>​<br><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112101442662.png" alt="png"><br>​    </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#5.2.4 ARIMA模型</span></span><br><span class="line">np.random.seed(<span class="number">12</span>)</span><br><span class="line">n=<span class="number">100</span></span><br><span class="line">y4=np.random.randn(n).cumsum()</span><br><span class="line">plt.plot(y4,<span class="string">&#x27;o-&#x27;</span>)</span><br><span class="line">dy4=np.diff(y4)</span><br><span class="line">plt.plot(dy4,<span class="string">&#x27;o-&#x27;</span>)</span><br><span class="line">plt.plot(y4,<span class="string">&#x27;o-&#x27;</span>,dy4,<span class="string">&#x27;*-&#x27;</span>);plt.axhline(<span class="number">0</span>);</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112101445139.png" alt="png"></p><h2 id="5-3-ARMA模型"><a href="#5-3-ARMA模型" class="headerlink" title="5.3 ARMA模型"></a>5.3 ARMA模型</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">##5.3.1 序列的相关性检验</span></span><br><span class="line"><span class="keyword">from</span> statsmodels.graphics.tsaplots <span class="keyword">import</span> acf,plot_acf</span><br><span class="line">np.<span class="built_in">round</span>(acf(y2),<span class="number">3</span>)</span><br></pre></td></tr></table></figure><pre><code>array([ 1.   ,  0.447,  0.086,  0.142,  0.013,  0.028,  0.049,  0.001,       -0.023,  0.018,  0.05 ,  0.001,  0.005, -0.077, -0.329, -0.341,       -0.248, -0.154,  0.033, -0.086, -0.156])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plot_acf(y1); <span class="comment"># MR(1)模型的自相关系数</span></span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112101445810.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">ac_QP</span>(<span class="params">Yt</span>):</span></span><br><span class="line">    <span class="keyword">import</span> statsmodels.api <span class="keyword">as</span> sm</span><br><span class="line">    r,q,p = sm.tsa.acf(Yt, qstat=<span class="literal">True</span>)</span><br><span class="line">    rqp=np.c_[r[<span class="number">1</span>:], q, p]</span><br><span class="line">    rqp=pd.DataFrame(rqp, columns=[<span class="string">&quot;AC&quot;</span>, <span class="string">&quot;Q&quot;</span>, <span class="string">&quot;Prob(&gt;Q)&quot;</span>]);</span><br><span class="line">    <span class="keyword">return</span>(rqp)</span><br><span class="line">ac_QP(y2)[:<span class="number">10</span>]</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>AC</th>      <th>Q</th>      <th>Prob(&gt;Q)</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>0.4469</td>      <td>20.5762</td>      <td>5.7304e-06</td>    </tr>    <tr>      <th>1</th>      <td>0.0865</td>      <td>21.3546</td>      <td>2.3062e-05</td>    </tr>    <tr>      <th>2</th>      <td>0.1424</td>      <td>23.4861</td>      <td>3.1977e-05</td>    </tr>    <tr>      <th>3</th>      <td>0.0130</td>      <td>23.5039</td>      <td>1.0041e-04</td>    </tr>    <tr>      <th>4</th>      <td>0.0275</td>      <td>23.5853</td>      <td>2.6079e-04</td>    </tr>    <tr>      <th>5</th>      <td>0.0495</td>      <td>23.8510</td>      <td>5.5627e-04</td>    </tr>    <tr>      <th>6</th>      <td>0.0012</td>      <td>23.8511</td>      <td>1.2101e-03</td>    </tr>    <tr>      <th>7</th>      <td>-0.0229</td>      <td>23.9092</td>      <td>2.3735e-03</td>    </tr>    <tr>      <th>8</th>      <td>0.0180</td>      <td>23.9456</td>      <td>4.3881e-03</td>    </tr>    <tr>      <th>9</th>      <td>0.0503</td>      <td>24.2328</td>      <td>7.0059e-03</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> statsmodels.graphics.tsaplots <span class="keyword">import</span> pacf,plot_pacf</span><br><span class="line">np.<span class="built_in">round</span>(pacf(y1),<span class="number">3</span>)</span><br></pre></td></tr></table></figure><pre><code>array([ 1.   ,  0.806,  0.076, -0.044, -0.094, -0.029, -0.065,  0.271,       -0.047,  0.039, -0.052, -0.127, -0.149, -0.227, -0.163, -0.03 ,        0.034,  0.079,  0.108, -0.15 ,  0.084])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plot_pacf(y2); <span class="comment"># AR(1)模型的自相关系数</span></span><br></pre></td></tr></table></figure><pre><code>C:\Users\kit\miniconda3\lib\site-packages\statsmodels\graphics\tsaplots.py:348: FutureWarning: The default method &#39;yw&#39; can produce PACF values outside of the [-1,1] interval. After 0.13, the default will change tounadjusted Yule-Walker (&#39;ywm&#39;). You can use this method now by setting method=&#39;ywm&#39;.  warnings.warn(</code></pre><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112101442192.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">##5.3.2 ARMA 模型建立与检验</span></span><br><span class="line">plot_acf(y3);</span><br><span class="line">plot_pacf(y3);</span><br></pre></td></tr></table></figure><pre><code>C:\Users\kit\miniconda3\lib\site-packages\statsmodels\graphics\tsaplots.py:348: FutureWarning: The default method &#39;yw&#39; can produce PACF values outside of the [-1,1] interval. After 0.13, the default will change tounadjusted Yule-Walker (&#39;ywm&#39;). You can use this method now by setting method=&#39;ywm&#39;.  warnings.warn(</code></pre><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112101444506.png" alt="png"></p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112101442532.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> statsmodels.tsa.stattools <span class="keyword">as</span> ts</span><br><span class="line">ts.arma_order_select_ic(y1,max_ar=<span class="number">3</span>,max_ma=<span class="number">3</span>,ic=[<span class="string">&#x27;aic&#x27;</span>,<span class="string">&#x27;bic&#x27;</span>,<span class="string">&#x27;hqic&#x27;</span>])</span><br><span class="line">ts.arma_order_select_ic(y1,max_ar=<span class="number">3</span>,max_ma=<span class="number">3</span>,ic=[<span class="string">&#x27;aic&#x27;</span>,<span class="string">&#x27;bic&#x27;</span>,<span class="string">&#x27;hqic&#x27;</span>])</span><br><span class="line">ts.arma_order_select_ic(y3,max_ar=<span class="number">3</span>,max_ma=<span class="number">3</span>,ic=[<span class="string">&#x27;aic&#x27;</span>, <span class="string">&#x27;bic&#x27;</span>,<span class="string">&#x27;hqic&#x27;</span>])</span><br></pre></td></tr></table></figure><pre><code>C:\Users\kit\miniconda3\lib\site-packages\statsmodels\tsa\statespace\sarimax.py:966: UserWarning: Non-stationary starting autoregressive parameters found. Using zeros as starting parameters.  warn(&#39;Non-stationary starting autoregressive parameters&#39;C:\Users\kit\miniconda3\lib\site-packages\statsmodels\tsa\statespace\sarimax.py:978: UserWarning: Non-invertible starting MA parameters found. Using zeros as starting parameters.  warn(&#39;Non-invertible starting MA parameters found.&#39;C:\Users\kit\miniconda3\lib\site-packages\statsmodels\base\model.py:604: ConvergenceWarning: Maximum Likelihood optimization failed to converge. Check mle_retvals  warnings.warn(&quot;Maximum Likelihood optimization failed to &quot;C:\Users\kit\miniconda3\lib\site-packages\statsmodels\tsa\statespace\sarimax.py:966: UserWarning: Non-stationary starting autoregressive parameters found. Using zeros as starting parameters.  warn(&#39;Non-stationary starting autoregressive parameters&#39;C:\Users\kit\miniconda3\lib\site-packages\statsmodels\tsa\statespace\sarimax.py:978: UserWarning: Non-invertible starting MA parameters found. Using zeros as starting parameters.  warn(&#39;Non-invertible starting MA parameters found.&#39;&#123;&#39;aic&#39;:           0         1         2         3 0  398.0513  341.2176  322.0127  313.2870 1  299.3400  300.8309  302.4800  302.8499 2  300.7664  302.7249  303.7563  304.2194 3  302.6161  304.1852  297.5538  305.4617, &#39;bic&#39;:           0         1         2         3 0  403.2616  349.0331  332.4333  326.3129 1  307.1555  311.2516  315.5059  318.4809 2  311.1871  315.7507  319.3873  322.4556 3  315.6420  319.8163  315.7900  326.3031, &#39;hqic&#39;:           0         1         2         3 0  400.1600  344.3806  326.2301  318.5588 1  302.5030  305.0483  307.7518  309.1760 2  304.9838  307.9967  310.0824  311.5999 3  307.8879  310.5114  304.9343  313.8966, &#39;aic_min_order&#39;: (3, 2), &#39;bic_min_order&#39;: (1, 0), &#39;hqic_min_order&#39;: (1, 0)&#125;C:\Users\kit\miniconda3\lib\site-packages\statsmodels\tsa\statespace\sarimax.py:966: UserWarning: Non-stationary starting autoregressive parameters found. Using zeros as starting parameters.  warn(&#39;Non-stationary starting autoregressive parameters&#39;C:\Users\kit\miniconda3\lib\site-packages\statsmodels\tsa\statespace\sarimax.py:978: UserWarning: Non-invertible starting MA parameters found. Using zeros as starting parameters.  warn(&#39;Non-invertible starting MA parameters found.&#39;C:\Users\kit\miniconda3\lib\site-packages\statsmodels\base\model.py:604: ConvergenceWarning: Maximum Likelihood optimization failed to converge. Check mle_retvals  warnings.warn(&quot;Maximum Likelihood optimization failed to &quot;C:\Users\kit\miniconda3\lib\site-packages\statsmodels\tsa\statespace\sarimax.py:966: UserWarning: Non-stationary starting autoregressive parameters found. Using zeros as starting parameters.  warn(&#39;Non-stationary starting autoregressive parameters&#39;C:\Users\kit\miniconda3\lib\site-packages\statsmodels\tsa\statespace\sarimax.py:978: UserWarning: Non-invertible starting MA parameters found. Using zeros as starting parameters.  warn(&#39;Non-invertible starting MA parameters found.&#39;&#123;&#39;aic&#39;:           0         1         2         3 0  398.0513  341.2176  322.0127  313.2870 1  299.3400  300.8309  302.4800  302.8499 2  300.7664  302.7249  303.7563  304.2194 3  302.6161  304.1852  297.5538  305.4617, &#39;bic&#39;:           0         1         2         3 0  403.2616  349.0331  332.4333  326.3129 1  307.1555  311.2516  315.5059  318.4809 2  311.1871  315.7507  319.3873  322.4556 3  315.6420  319.8163  315.7900  326.3031, &#39;hqic&#39;:           0         1         2         3 0  400.1600  344.3806  326.2301  318.5588 1  302.5030  305.0483  307.7518  309.1760 2  304.9838  307.9967  310.0824  311.5999 3  307.8879  310.5114  304.9343  313.8966, &#39;aic_min_order&#39;: (3, 2), &#39;bic_min_order&#39;: (1, 0), &#39;hqic_min_order&#39;: (1, 0)&#125;C:\Users\kit\miniconda3\lib\site-packages\statsmodels\tsa\statespace\sarimax.py:978: UserWarning: Non-invertible starting MA parameters found. Using zeros as starting parameters.  warn(&#39;Non-invertible starting MA parameters found.&#39;C:\Users\kit\miniconda3\lib\site-packages\statsmodels\tsa\statespace\sarimax.py:978: UserWarning: Non-invertible starting MA parameters found. Using zeros as starting parameters.  warn(&#39;Non-invertible starting MA parameters found.&#39;C:\Users\kit\miniconda3\lib\site-packages\statsmodels\tsa\statespace\sarimax.py:978: UserWarning: Non-invertible starting MA parameters found. Using zeros as starting parameters.  warn(&#39;Non-invertible starting MA parameters found.&#39;C:\Users\kit\miniconda3\lib\site-packages\statsmodels\base\model.py:604: ConvergenceWarning: Maximum Likelihood optimization failed to converge. Check mle_retvals  warnings.warn(&quot;Maximum Likelihood optimization failed to &quot;C:\Users\kit\miniconda3\lib\site-packages\statsmodels\base\model.py:604: ConvergenceWarning: Maximum Likelihood optimization failed to converge. Check mle_retvals  warnings.warn(&quot;Maximum Likelihood optimization failed to &quot;&#123;&#39;aic&#39;:           0         1         2         3 0  510.8008  400.2847  358.0045  340.0668 1  339.4739  316.1596  316.4427  316.8878 2  326.0762  315.8914  317.7790  318.7369 3  325.9724  317.6345  312.5737  314.4425, &#39;bic&#39;:           0         1         2         3 0  516.0112  408.1002  368.4252  353.0926 1  347.2894  326.5803  329.4685  332.5188 2  336.4969  328.9173  333.4100  336.9730 3  338.9983  333.2656  330.8099  335.2838, &#39;hqic&#39;:           0         1         2         3 0  512.9095  403.4478  362.2220  345.3386 1  342.6370  320.3770  321.7145  323.2139 2  330.2936  321.1632  324.1052  326.1174 3  331.2442  323.9607  319.9543  322.8773, &#39;aic_min_order&#39;: (3, 2), &#39;bic_min_order&#39;: (1, 1), &#39;hqic_min_order&#39;: (3, 2)&#125;</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> statsmodels.tsa.arima.model <span class="keyword">import</span> ARIMA</span><br><span class="line">y1_arma=ARIMA(y1,order=(<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>)).fit()</span><br><span class="line">y1_arma.summary()</span><br></pre></td></tr></table></figure><table class="simpletable"><caption>SARIMAX Results</caption><tr>  <th>Dep. Variable:</th>           <td>y</td>        <th>  No. Observations:  </th>    <td>100</td>  </tr><tr>  <th>Model:</th>            <td>ARIMA(1, 0, 0)</td>  <th>  Log Likelihood     </th> <td>-146.670</td></tr><tr>  <th>Date:</th>            <td>Fri, 10 Dec 2021</td> <th>  AIC                </th>  <td>299.340</td></tr><tr>  <th>Time:</th>                <td>14:34:19</td>     <th>  BIC                </th>  <td>307.155</td></tr><tr>  <th>Sample:</th>                  <td>0</td>        <th>  HQIC               </th>  <td>302.503</td></tr><tr>  <th></th>                      <td> - 100</td>      <th>                     </th>     <td> </td>   </tr><tr>  <th>Covariance Type:</th>        <td>opg</td>       <th>                     </th>     <td> </td>   </tr></table><table class="simpletable"><tr>     <td></td>       <th>coef</th>     <th>std err</th>      <th>z</th>      <th>P>|z|</th>  <th>[0.025</th>    <th>0.975]</th>  </tr><tr>  <th>const</th>  <td>   -0.6584</td> <td>    0.501</td> <td>   -1.315</td> <td> 0.188</td> <td>   -1.639</td> <td>    0.323</td></tr><tr>  <th>ar.L1</th>  <td>    0.7925</td> <td>    0.068</td> <td>   11.725</td> <td> 0.000</td> <td>    0.660</td> <td>    0.925</td></tr><tr>  <th>sigma2</th> <td>    1.0894</td> <td>    0.148</td> <td>    7.360</td> <td> 0.000</td> <td>    0.799</td> <td>    1.380</td></tr></table><table class="simpletable"><tr>  <th>Ljung-Box (L1) (Q):</th>     <td>0.29</td> <th>  Jarque-Bera (JB):  </th> <td>0.37</td></tr><tr>  <th>Prob(Q):</th>                <td>0.59</td> <th>  Prob(JB):          </th> <td>0.83</td></tr><tr>  <th>Heteroskedasticity (H):</th> <td>0.80</td> <th>  Skew:              </th> <td>0.04</td></tr><tr>  <th>Prob(H) (two-sided):</th>    <td>0.53</td> <th>  Kurtosis:          </th> <td>3.29</td></tr></table><br/><br/>Warnings:<br/>[1] Covariance matrix calculated using the outer product of gradients (complex-step).<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ARIMA(y2,order=(<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>)).fit().summary()</span><br></pre></td></tr></table></figure><table class="simpletable"><caption>SARIMAX Results</caption><tr>  <th>Dep. Variable:</th>           <td>y</td>        <th>  No. Observations:  </th>    <td>100</td>  </tr><tr>  <th>Model:</th>            <td>ARIMA(0, 1, 0)</td>  <th>  Log Likelihood     </th> <td>-173.033</td></tr><tr>  <th>Date:</th>            <td>Fri, 10 Dec 2021</td> <th>  AIC                </th>  <td>348.066</td></tr><tr>  <th>Time:</th>                <td>14:34:19</td>     <th>  BIC                </th>  <td>350.661</td></tr><tr>  <th>Sample:</th>                  <td>0</td>        <th>  HQIC               </th>  <td>349.116</td></tr><tr>  <th></th>                      <td> - 100</td>      <th>                     </th>     <td> </td>   </tr><tr>  <th>Covariance Type:</th>        <td>opg</td>       <th>                     </th>     <td> </td>   </tr></table><table class="simpletable"><tr>     <td></td>       <th>coef</th>     <th>std err</th>      <th>z</th>      <th>P>|z|</th>  <th>[0.025</th>    <th>0.975]</th>  </tr><tr>  <th>sigma2</th> <td>    1.9304</td> <td>    0.328</td> <td>    5.888</td> <td> 0.000</td> <td>    1.288</td> <td>    2.573</td></tr></table><table class="simpletable"><tr>  <th>Ljung-Box (L1) (Q):</th>     <td>3.11</td> <th>  Jarque-Bera (JB):  </th> <td>2.81</td></tr><tr>  <th>Prob(Q):</th>                <td>0.08</td> <th>  Prob(JB):          </th> <td>0.25</td></tr><tr>  <th>Heteroskedasticity (H):</th> <td>0.80</td> <th>  Skew:              </th> <td>0.28</td></tr><tr>  <th>Prob(H) (two-sided):</th>    <td>0.53</td> <th>  Kurtosis:          </th> <td>2.40</td></tr></table><br/><br/>Warnings:<br/>[1] Covariance matrix calculated using the outer product of gradients (complex-step).<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ARIMA(y3,order=(<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>)).fit().summary()</span><br></pre></td></tr></table></figure><table class="simpletable"><caption>SARIMAX Results</caption><tr>  <th>Dep. Variable:</th>           <td>y</td>        <th>  No. Observations:  </th>    <td>100</td>  </tr><tr>  <th>Model:</th>            <td>ARIMA(1, 1, 1)</td>  <th>  Log Likelihood     </th> <td>-154.377</td></tr><tr>  <th>Date:</th>            <td>Fri, 10 Dec 2021</td> <th>  AIC                </th>  <td>314.754</td></tr><tr>  <th>Time:</th>                <td>14:34:19</td>     <th>  BIC                </th>  <td>322.539</td></tr><tr>  <th>Sample:</th>                  <td>0</td>        <th>  HQIC               </th>  <td>317.904</td></tr><tr>  <th></th>                      <td> - 100</td>      <th>                     </th>     <td> </td>   </tr><tr>  <th>Covariance Type:</th>        <td>opg</td>       <th>                     </th>     <td> </td>   </tr></table><table class="simpletable"><tr>     <td></td>       <th>coef</th>     <th>std err</th>      <th>z</th>      <th>P>|z|</th>  <th>[0.025</th>    <th>0.975]</th>  </tr><tr>  <th>ar.L1</th>  <td>   -0.3062</td> <td>    0.158</td> <td>   -1.933</td> <td> 0.053</td> <td>   -0.617</td> <td>    0.004</td></tr><tr>  <th>ma.L1</th>  <td>    0.8211</td> <td>    0.096</td> <td>    8.565</td> <td> 0.000</td> <td>    0.633</td> <td>    1.009</td></tr><tr>  <th>sigma2</th> <td>    1.3157</td> <td>    0.218</td> <td>    6.025</td> <td> 0.000</td> <td>    0.888</td> <td>    1.744</td></tr></table><table class="simpletable"><tr>  <th>Ljung-Box (L1) (Q):</th>     <td>0.00</td> <th>  Jarque-Bera (JB):  </th> <td>0.88</td></tr><tr>  <th>Prob(Q):</th>                <td>0.98</td> <th>  Prob(JB):          </th> <td>0.64</td></tr><tr>  <th>Heteroskedasticity (H):</th> <td>0.89</td> <th>  Skew:              </th> <td>0.08</td></tr><tr>  <th>Prob(H) (two-sided):</th>    <td>0.74</td> <th>  Kurtosis:          </th> <td>2.57</td></tr></table><br/><br/>Warnings:<br/>[1] Covariance matrix calculated using the outer product of gradients (complex-step).<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plt.plot(y3,<span class="string">&#x27;o-&#x27;</span>,ARIMA(y3,order=(<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>)).fit().fittedvalues);</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112101442549.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">##5.4.3 序列的平稳性检验</span></span><br><span class="line"><span class="keyword">from</span> statsmodels.tsa.stattools <span class="keyword">import</span> adfuller</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">ADF</span>(<span class="params">ts</span>):</span> <span class="comment">#平稳性检验</span></span><br><span class="line">    dftest = adfuller(ts)</span><br><span class="line">    <span class="comment"># 对上述函数求得的值进行语义描述</span></span><br><span class="line">    dfoutput = pd.Series(dftest[<span class="number">0</span>:<span class="number">4</span>], index=[<span class="string">&#x27;Test Statistic&#x27;</span>,<span class="string">&#x27;p-value&#x27;</span>,<span class="string">&#x27;#Lags Used&#x27;</span>,<span class="string">&#x27;Number of Observations Used&#x27;</span>])</span><br><span class="line">    <span class="keyword">for</span> key,value <span class="keyword">in</span> dftest[<span class="number">4</span>].items():</span><br><span class="line">        dfoutput[<span class="string">&#x27;Critical Value (%s)&#x27;</span>%key] = value</span><br><span class="line">    <span class="keyword">return</span> dfoutput</span><br><span class="line"></span><br><span class="line"><span class="built_in">round</span>(ADF(y4),<span class="number">4</span>)</span><br><span class="line"><span class="built_in">round</span>(ADF(dy4),<span class="number">4</span>)</span><br><span class="line"></span><br><span class="line">ADF(y1)</span><br><span class="line">ADF(y2)</span><br><span class="line">ADF(y3)</span><br></pre></td></tr></table></figure><pre><code>Test Statistic                 -1.0933p-value                         0.7177#Lags Used                      0.0000Number of Observations Used    99.0000Critical Value (1%)            -3.4982Critical Value (5%)            -2.8912Critical Value (10%)           -2.5826dtype: float64Test Statistic                -10.4611p-value                         0.0000#Lags Used                      0.0000Number of Observations Used    98.0000Critical Value (1%)            -3.4989Critical Value (5%)            -2.8915Critical Value (10%)           -2.5828dtype: float64Test Statistic                 -3.2903p-value                         0.0153#Lags Used                      0.0000Number of Observations Used    99.0000Critical Value (1%)            -3.4982Critical Value (5%)            -2.8912Critical Value (10%)           -2.5826dtype: float64Test Statistic                 -3.3736p-value                         0.0119#Lags Used                      4.0000Number of Observations Used    95.0000Critical Value (1%)            -3.5011Critical Value (5%)            -2.8925Critical Value (10%)           -2.5833dtype: float64Test Statistic                 -2.7746p-value                         0.0620#Lags Used                      5.0000Number of Observations Used    94.0000Critical Value (1%)            -3.5019Critical Value (5%)            -2.8928Critical Value (10%)           -2.5835dtype: float64</code></pre><h2 id="5-4-股票指数预测模型的构建"><a href="#5-4-股票指数预测模型的构建" class="headerlink" title="5.4 股票指数预测模型的构建"></a>5.4 股票指数预测模型的构建</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Ct=TSdata[<span class="string">&#x27;2015-04&#x27;</span>:<span class="string">&#x27;2018-04&#x27;</span>].Close;</span><br><span class="line">Ct.plot()</span><br></pre></td></tr></table></figure><pre><code>&lt;AxesSubplot:xlabel=&#39;Date&#39;&gt;</code></pre><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112101442684.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ADF(Ct)</span><br></pre></td></tr></table></figure><pre><code>Test Statistic                  -3.7320p-value                          0.0037#Lags Used                      14.0000Number of Observations Used    694.0000Critical Value (1%)             -3.4398Critical Value (5%)             -2.8657Critical Value (10%)            -2.5690dtype: float64</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">plot_acf(Ct,lags=<span class="number">50</span>);</span><br><span class="line">plot_pacf(Ct,lags=<span class="number">50</span>);</span><br></pre></td></tr></table></figure><pre><code>C:\Users\kit\miniconda3\lib\site-packages\statsmodels\graphics\tsaplots.py:348: FutureWarning: The default method &#39;yw&#39; can produce PACF values outside of the [-1,1] interval. After 0.13, the default will change tounadjusted Yule-Walker (&#39;ywm&#39;). You can use this method now by setting method=&#39;ywm&#39;.  warnings.warn(</code></pre><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112101442981.png" alt="png"></p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112101442069.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> statsmodels.tsa.stattools <span class="keyword">as</span> ts</span><br><span class="line">ts.arma_order_select_ic(Ct,max_ar=<span class="number">3</span>,max_ma=<span class="number">3</span>,ic=[<span class="string">&#x27;aic&#x27;</span>,<span class="string">&#x27;bic&#x27;</span>,<span class="string">&#x27;hqic&#x27;</span>])</span><br></pre></td></tr></table></figure><pre><code>C:\Users\kit\miniconda3\lib\site-packages\statsmodels\tsa\statespace\sarimax.py:978: UserWarning: Non-invertible starting MA parameters found. Using zeros as starting parameters.  warn(&#39;Non-invertible starting MA parameters found.&#39;C:\Users\kit\miniconda3\lib\site-packages\statsmodels\base\model.py:604: ConvergenceWarning: Maximum Likelihood optimization failed to converge. Check mle_retvals  warnings.warn(&quot;Maximum Likelihood optimization failed to &quot;C:\Users\kit\miniconda3\lib\site-packages\statsmodels\tsa\statespace\sarimax.py:966: UserWarning: Non-stationary starting autoregressive parameters found. Using zeros as starting parameters.  warn(&#39;Non-stationary starting autoregressive parameters&#39;C:\Users\kit\miniconda3\lib\site-packages\statsmodels\tsa\statespace\sarimax.py:978: UserWarning: Non-invertible starting MA parameters found. Using zeros as starting parameters.  warn(&#39;Non-invertible starting MA parameters found.&#39;C:\Users\kit\miniconda3\lib\site-packages\statsmodels\tsa\statespace\sarimax.py:966: UserWarning: Non-stationary starting autoregressive parameters found. Using zeros as starting parameters.  warn(&#39;Non-stationary starting autoregressive parameters&#39;C:\Users\kit\miniconda3\lib\site-packages\statsmodels\tsa\statespace\sarimax.py:978: UserWarning: Non-invertible starting MA parameters found. Using zeros as starting parameters.  warn(&#39;Non-invertible starting MA parameters found.&#39;C:\Users\kit\miniconda3\lib\site-packages\statsmodels\base\model.py:604: ConvergenceWarning: Maximum Likelihood optimization failed to converge. Check mle_retvals  warnings.warn(&quot;Maximum Likelihood optimization failed to &quot;C:\Users\kit\miniconda3\lib\site-packages\statsmodels\tsa\statespace\sarimax.py:966: UserWarning: Non-stationary starting autoregressive parameters found. Using zeros as starting parameters.  warn(&#39;Non-stationary starting autoregressive parameters&#39;&#123;&#39;aic&#39;:             0          1          2          3 0  10563.7376  9692.3112  9134.0081  9355.7176 1   7830.4320  7826.5386  7821.4011  7823.4003 2   7827.9128  7822.1007  7823.4008  7822.0483 3   7819.7860  7823.6128  7770.7809  7834.9806, &#39;bic&#39;:             0          1          2          3 0  10572.8653  9706.0028  9152.2636  9378.5369 1   7844.1236  7844.7940  7844.2204  7850.7834 2   7846.1682  7844.9200  7850.7839  7853.9953 3   7842.6053  7850.9960  7802.7279  7871.4915, &#39;hqic&#39;:             0          1          2          3 0  10567.2639  9697.6007  9141.0608  9364.5334 1   7835.7215  7833.5912  7830.2169  7833.9792 2   7834.9654  7830.9165  7833.9797  7834.3904 3   7828.6018  7834.1918  7783.1230  7849.0859, &#39;aic_min_order&#39;: (3, 2), &#39;bic_min_order&#39;: (3, 2), &#39;hqic_min_order&#39;: (3, 2)&#125;</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> statsmodels.tsa.arima.model <span class="keyword">import</span> ARIMA</span><br><span class="line">Ct=pd.DataFrame(TSdata[<span class="string">&#x27;2015-04&#x27;</span>:<span class="string">&#x27;2018-04&#x27;</span>].Close)</span><br><span class="line">Ct.index = pd.DatetimeIndex(Ct.index).to_period(<span class="string">&#x27;D&#x27;</span>)</span><br><span class="line">Ct_ARMA=ARIMA(Ct,order=(<span class="number">3</span>,<span class="number">0</span>,<span class="number">0</span>)).fit()</span><br><span class="line">Ct_ARMA.summary()</span><br></pre></td></tr></table></figure><table class="simpletable"><caption>SARIMAX Results</caption><tr>  <th>Dep. Variable:</th>         <td>Close</td>      <th>  No. Observations:  </th>    <td>709</td>   </tr><tr>  <th>Model:</th>            <td>ARIMA(3, 0, 0)</td>  <th>  Log Likelihood     </th> <td>-3904.893</td></tr><tr>  <th>Date:</th>            <td>Fri, 10 Dec 2021</td> <th>  AIC                </th> <td>7819.786</td> </tr><tr>  <th>Time:</th>                <td>14:34:40</td>     <th>  BIC                </th> <td>7842.605</td> </tr><tr>  <th>Sample:</th>             <td>06-03-2015</td>    <th>  HQIC               </th> <td>7828.602</td> </tr><tr>  <th></th>                   <td>- 04-27-2018</td>   <th>                     </th>     <td> </td>    </tr><tr>  <th>Covariance Type:</th>        <td>opg</td>       <th>                     </th>     <td> </td>    </tr></table><table class="simpletable"><tr>     <td></td>       <th>coef</th>     <th>std err</th>      <th>z</th>      <th>P>|z|</th>  <th>[0.025</th>    <th>0.975]</th>  </tr><tr>  <th>const</th>  <td> 3596.1253</td> <td>  617.083</td> <td>    5.828</td> <td> 0.000</td> <td> 2386.665</td> <td> 4805.585</td></tr><tr>  <th>ar.L1</th>  <td>    1.0841</td> <td>    0.018</td> <td>   60.410</td> <td> 0.000</td> <td>    1.049</td> <td>    1.119</td></tr><tr>  <th>ar.L2</th>  <td>   -0.2076</td> <td>    0.027</td> <td>   -7.638</td> <td> 0.000</td> <td>   -0.261</td> <td>   -0.154</td></tr><tr>  <th>ar.L3</th>  <td>    0.1198</td> <td>    0.019</td> <td>    6.347</td> <td> 0.000</td> <td>    0.083</td> <td>    0.157</td></tr><tr>  <th>sigma2</th> <td> 3531.4178</td> <td>   86.705</td> <td>   40.729</td> <td> 0.000</td> <td> 3361.480</td> <td> 3701.356</td></tr></table><table class="simpletable"><tr>  <th>Ljung-Box (L1) (Q):</th>     <td>0.00</td> <th>  Jarque-Bera (JB):  </th> <td>2128.80</td></tr><tr>  <th>Prob(Q):</th>                <td>0.97</td> <th>  Prob(JB):          </th>  <td>0.00</td>  </tr><tr>  <th>Heteroskedasticity (H):</th> <td>0.14</td> <th>  Skew:              </th>  <td>-1.49</td> </tr><tr>  <th>Prob(H) (two-sided):</th>    <td>0.00</td> <th>  Kurtosis:          </th>  <td>10.95</td> </tr></table><br/><br/>Warnings:<br/>[1] Covariance matrix calculated using the outer product of gradients (complex-step).<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># from statsmodels.tsa.arima.model import ARIMA</span></span><br><span class="line"><span class="comment"># Ct=pd.DataFrame(TSdata[&#x27;2015-04&#x27;:&#x27;2018-04&#x27;].Close)</span></span><br><span class="line"><span class="comment"># Ct.index = pd.DatetimeIndex(Ct.index)</span></span><br><span class="line"><span class="comment"># Ct_ARMA1=ARIMA(Ct,order=(3,0,0)).fit()</span></span><br><span class="line">Ct=pd.DataFrame(TSdata[<span class="string">&#x27;2015-04&#x27;</span>:<span class="string">&#x27;2018-04&#x27;</span>].Close)</span><br><span class="line">plt.plot(Ct,<span class="string">&#x27;o-&#x27;</span>,Ct_ARMA.fittedvalues);</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112101442327.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Ct_05=pd.DataFrame(&#123;<span class="string">&#x27; 实际值&#x27;</span>:TSdata.loc[<span class="string">&quot;2018-05&quot;</span>].Close&#125;); <span class="comment">#2018-05 收盘价数据</span></span><br><span class="line">Ct_05[<span class="string">&#x27; 预测值&#x27;</span>]=Ct_ARMA.forecast(<span class="number">22</span>)[<span class="number">0</span>] <span class="comment"># 模型预测数据</span></span><br><span class="line">Ct_05[<span class="string">&#x27; 绝对误差&#x27;</span>]=Ct_05[<span class="string">&#x27; 实际值&#x27;</span>]-Ct_05[<span class="string">&#x27; 预测值&#x27;</span>];</span><br><span class="line">Ct_05[<span class="string">&#x27; 相对误差(%)&#x27;</span>]=Ct_05[<span class="string">&#x27; 绝对误差&#x27;</span>]/Ct_05[<span class="string">&#x27; 实际值&#x27;</span>]*<span class="number">100</span>;</span><br><span class="line">Ct_05</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>实际值</th>      <th>预测值</th>      <th>绝对误差</th>      <th>相对误差(%)</th>    </tr>    <tr>      <th>Date</th>      <th></th>      <th></th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>2018-05-02</th>      <td>3763.65</td>      <td>3765.1936</td>      <td>-1.5436</td>      <td>-0.0410</td>    </tr>    <tr>      <th>2018-05-03</th>      <td>3793.00</td>      <td>3765.1936</td>      <td>27.8064</td>      <td>0.7331</td>    </tr>    <tr>      <th>2018-05-04</th>      <td>3774.60</td>      <td>3765.1936</td>      <td>9.4064</td>      <td>0.2492</td>    </tr>    <tr>      <th>2018-05-07</th>      <td>3834.19</td>      <td>3765.1936</td>      <td>68.9964</td>      <td>1.7995</td>    </tr>    <tr>      <th>2018-05-08</th>      <td>3878.68</td>      <td>3765.1936</td>      <td>113.4864</td>      <td>2.9259</td>    </tr>    <tr>      <th>2018-05-09</th>      <td>3871.62</td>      <td>3765.1936</td>      <td>106.4264</td>      <td>2.7489</td>    </tr>    <tr>      <th>2018-05-10</th>      <td>3893.06</td>      <td>3765.1936</td>      <td>127.8664</td>      <td>3.2845</td>    </tr>    <tr>      <th>2018-05-11</th>      <td>3872.84</td>      <td>3765.1936</td>      <td>107.6464</td>      <td>2.7795</td>    </tr>    <tr>      <th>2018-05-14</th>      <td>3909.29</td>      <td>3765.1936</td>      <td>144.0964</td>      <td>3.6860</td>    </tr>    <tr>      <th>2018-05-15</th>      <td>3924.10</td>      <td>3765.1936</td>      <td>158.9064</td>      <td>4.0495</td>    </tr>    <tr>      <th>2018-05-16</th>      <td>3892.84</td>      <td>3765.1936</td>      <td>127.6464</td>      <td>3.2790</td>    </tr>    <tr>      <th>2018-05-17</th>      <td>3864.05</td>      <td>3765.1936</td>      <td>98.8564</td>      <td>2.5584</td>    </tr>    <tr>      <th>2018-05-18</th>      <td>3903.06</td>      <td>3765.1936</td>      <td>137.8664</td>      <td>3.5323</td>    </tr>    <tr>      <th>2018-05-21</th>      <td>3921.24</td>      <td>3765.1936</td>      <td>156.0464</td>      <td>3.9795</td>    </tr>    <tr>      <th>2018-05-22</th>      <td>3906.21</td>      <td>3765.1936</td>      <td>141.0164</td>      <td>3.6101</td>    </tr>    <tr>      <th>2018-05-23</th>      <td>3854.58</td>      <td>3765.1936</td>      <td>89.3864</td>      <td>2.3190</td>    </tr>    <tr>      <th>2018-05-24</th>      <td>3827.22</td>      <td>3765.1936</td>      <td>62.0264</td>      <td>1.6207</td>    </tr>    <tr>      <th>2018-05-25</th>      <td>3816.50</td>      <td>3765.1936</td>      <td>51.3064</td>      <td>1.3443</td>    </tr>    <tr>      <th>2018-05-28</th>      <td>3833.26</td>      <td>3765.1936</td>      <td>68.0664</td>      <td>1.7757</td>    </tr>    <tr>      <th>2018-05-29</th>      <td>3804.01</td>      <td>3765.1936</td>      <td>38.8164</td>      <td>1.0204</td>    </tr>    <tr>      <th>2018-05-30</th>      <td>3723.37</td>      <td>3765.1936</td>      <td>-41.8236</td>      <td>-1.1233</td>    </tr>    <tr>      <th>2018-05-31</th>      <td>3802.38</td>      <td>3765.1936</td>      <td>37.1864</td>      <td>0.9780</td>    </tr>  </tbody></table></div><h2 id="第6章-大数据分析简介"><a href="#第6章-大数据分析简介" class="headerlink" title="第6章 大数据分析简介"></a>第6章 大数据分析简介</h2><h3 id="6-1-大数据的概念"><a href="#6-1-大数据的概念" class="headerlink" title="6.1 大数据的概念"></a>6.1 大数据的概念</h3><h3 id="6-2-Python文本预处理"><a href="#6-2-Python文本预处理" class="headerlink" title="6.2 Python文本预处理"></a>6.2 Python文本预处理</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">### 字符串的基本操作</span></span><br><span class="line"><span class="comment">#### 字符串的统计</span></span><br><span class="line"><span class="built_in">len</span>(<span class="string">&#x27;abc&#x27;</span>)</span><br><span class="line">S=[<span class="string">&quot;asfef&quot;</span>, <span class="string">&quot;qwerty&quot;</span>, <span class="string">&quot;yuiop&quot;</span>, <span class="string">&quot;b&quot;</span>, <span class="string">&quot;stuff.blah.yech&quot;</span>];</span><br><span class="line"><span class="built_in">len</span>(S)</span><br><span class="line">[<span class="built_in">len</span>(s) <span class="keyword">for</span> s <span class="keyword">in</span> S]</span><br></pre></td></tr></table></figure><pre><code>35[5, 6, 5, 1, 15]</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">##### 字符串连接与拆分</span></span><br><span class="line"><span class="string">&#x27;Python&#x27;</span>+<span class="string">&#x27; &#x27;</span>+<span class="string">&#x27;Data Analysis&#x27;</span></span><br><span class="line"><span class="string">&#x27;暨南大学&#x27;</span>+<span class="string">&#x27;管理学院&#x27;</span></span><br></pre></td></tr></table></figure><pre><code>&#39;Python Data Analysis&#39;&#39;暨南大学管理学院&#39;</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">website = <span class="string">&#x27;%s%s%s&#x27;</span> % (<span class="string">&#x27;Python&#x27;</span>, <span class="string">&#x27;tab&#x27;</span>, <span class="string">&#x27;.com&#x27;</span>);website</span><br></pre></td></tr></table></figure><pre><code>&#39;Pythontab.com&#39;</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">listStr = [<span class="string">&#x27;Python&#x27;</span>, <span class="string">&#x27;tab&#x27;</span>, <span class="string">&#x27;.com&#x27;</span>]</span><br><span class="line">website = <span class="string">&#x27;&#x27;</span>.join(listStr);website</span><br></pre></td></tr></table></figure><pre><code>&#39;Pythontab.com&#39;</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">S1=<span class="string">&#x27;历史阐释;;历史事实;;历史评价;;唯物史观&#x27;</span></span><br><span class="line">S1.split(<span class="string">&#x27;;;&#x27;</span>)</span><br></pre></td></tr></table></figure><pre><code>[&#39;历史阐释&#39;, &#39;历史事实&#39;, &#39;历史评价&#39;, &#39;唯物史观&#39;]</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">S2=<span class="string">&#x27;查理曼;;钦差巡察;;加洛林帝国;;法兰克;;中世纪&#x27;</span></span><br><span class="line">S3=<span class="string">&#x27;南宋;;政治忌讳;;人物评价;;人际关系;;包容政治&#x27;</span></span><br><span class="line">S4=[S1,S2,S3];S4</span><br></pre></td></tr></table></figure><pre><code>[&#39;历史阐释;;历史事实;;历史评价;;唯物史观&#39;, &#39;查理曼;;钦差巡察;;加洛林帝国;;法兰克;;中世纪&#39;, &#39;南宋;;政治忌讳;;人物评价;;人际关系;;包容政治&#39;]</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">list_split</span>(<span class="params">content,sep</span>):</span></span><br><span class="line">    new_list=[]</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(content)):</span><br><span class="line">        new_list.append(<span class="built_in">list</span>(<span class="built_in">filter</span>(<span class="literal">None</span>,content[i].split(sep))))</span><br><span class="line">    <span class="keyword">return</span> new_list</span><br><span class="line"></span><br><span class="line">list_split(S4,<span class="string">&#x27;;;&#x27;</span>)</span><br></pre></td></tr></table></figure><pre><code>[[&#39;历史阐释&#39;, &#39;历史事实&#39;, &#39;历史评价&#39;, &#39;唯物史观&#39;], [&#39;查理曼&#39;, &#39;钦差巡察&#39;, &#39;加洛林帝国&#39;, &#39;法兰克&#39;, &#39;中世纪&#39;], [&#39;南宋&#39;, &#39;政治忌讳&#39;, &#39;人物评价&#39;, &#39;人际关系&#39;, &#39;包容政治&#39;]]</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">####  字符串查询与替换</span></span><br><span class="line"><span class="comment">#####  字符串查询</span></span><br><span class="line">S5=[<span class="string">&#x27;广州大学广州发展研究院&#x27;</span>,<span class="string">&#x27;暨南大学文学院历史系&#x27;</span>,<span class="string">&#x27;暨南大学管理学院&#x27;</span>]</span><br><span class="line"><span class="string">&#x27;暨南大学&#x27;</span> <span class="keyword">in</span> S5[<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">find_words</span>(<span class="params">content,pattern</span>):</span></span><br><span class="line">    <span class="keyword">return</span> [content[i] <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(content)) <span class="keyword">if</span> (pattern <span class="keyword">in</span> content[i]) == <span class="literal">True</span>]</span><br><span class="line"></span><br><span class="line">find_words(S5,<span class="string">&#x27;暨南大学&#x27;</span>)</span><br><span class="line"><span class="built_in">len</span>(find_words(S5,<span class="string">&#x27;暨南大学&#x27;</span>))</span><br><span class="line"><span class="built_in">len</span>(find_words(S5,<span class="string">&#x27;a&#x27;</span>))</span><br></pre></td></tr></table></figure><pre><code>True[&#39;暨南大学文学院历史系&#39;, &#39;暨南大学管理学院&#39;]20</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ##### 字符串替换</span></span><br><span class="line"><span class="string">&#x27;apple,orange&#x27;</span>.replace(<span class="string">&quot;apple&quot;</span>,<span class="string">&quot;banana&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">list_replace</span>(<span class="params">content,old,new</span>):</span></span><br><span class="line">    <span class="keyword">return</span> [content[i].replace(old,new) <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(content))]</span><br><span class="line">S5=[<span class="string">&#x27;广州大学广州发展研究院&#x27;</span>,<span class="string">&#x27;暨南大学文学院历史系&#x27;</span>,<span class="string">&#x27;暨南大学管理学院&#x27;</span>]</span><br><span class="line">list_replace(S5,<span class="string">&#x27;暨南大学&#x27;</span>,<span class="string">&#x27;华南农业大学&#x27;</span>)</span><br></pre></td></tr></table></figure><pre><code>&#39;banana,orange&#39;[&#39;广州大学广州发展研究院&#39;, &#39;华南农业大学文学院历史系&#39;, &#39;华南农业大学管理学院&#39;]</code></pre><h2 id="网络爬虫技术应用"><a href="#网络爬虫技术应用" class="headerlink" title="网络爬虫技术应用"></a>网络爬虫技术应用</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">%run PyDm_fun.py</span><br><span class="line"><span class="comment">#### 读取网页</span></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line"><span class="comment"># 链家二手房数据</span></span><br><span class="line">url=<span class="string">&#x27;https://gz.lianjia.com/ershoufang/pg/&#x27;</span>  <span class="comment">#广州</span></span><br><span class="line"><span class="comment"># url=&#x27;https://fs.lianjia.com/ershoufang/pg&#x27;  #佛山</span></span><br><span class="line"><span class="comment">#url=&#x27;https://zs.ke.com/ershoufang/&#x27;           #中山</span></span><br><span class="line"></span><br><span class="line">page=read_html(url)</span><br><span class="line">soup=BeautifulSoup(page,<span class="string">&#x27;lxml&#x27;</span>)</span><br><span class="line">houseInfo=html_text(soup,<span class="string">&#x27;.clear .title a&#x27;</span>);houseInfo   <span class="comment">#.houseInfo</span></span><br><span class="line">Price=html_text(soup,<span class="string">&#x27;.totalPrice span&#x27;</span>);Price</span><br></pre></td></tr></table></figure><pre><code>[&#39;开门见湖1200平米大花园，随时可以看房。无抵押&#39;, &#39;过五年不唯一 东南向三房 楼龄新 采光通风好&#39;, &#39;户型方正实用，交通便利，配套齐全，采光好&#39;, &#39;惠百氏广场 2室1厅 东&#39;, &#39;全新精装修  已改好两房户型，地铁口500米拎包入住&#39;, &#39;适合养生，流溪御景，坐标环境优雅，品质小区&#39;, &#39;金海岸花园聚湖 全新装修未住过 随时看房&#39;, &#39;颐和山庄 两套打通的房子 高层三房 业主可以分开卖&#39;, &#39;颐和山庄 两套打通的房子 高层两房 业主可以分开卖&#39;, &#39;鹭江地铁口，低层三房一厅，格局方正&#39;, &#39;免个税盛世名门3房大润发商圈业主诚心放卖&#39;, &#39;旅游度假，环境优美，家具齐全，加宽敞露天大平台&#39;, &#39;天平花苑 带电梯 南向望花园 户型方正 小区配套完善&#39;, &#39;花地湾板块合兴苑小区中层采光通风良好原装三房&#39;, &#39;越秀南路 商品房过5年 南向户型 产权清晰 看房有钥匙&#39;, &#39;南向，户型方正，满五，无贷款，保养好&#39;, &#39;广东化建大院 3室2厅 南 北&#39;, &#39;新华路 3室2厅 南&#39;, &#39;满五，方便看房，中间楼层，望小区&#39;, &#39;花果山体育馆旁 翡翠小区 实用三房 不靠路&#39;, &#39;万松园 电梯两房 已经可以使用 满5年免重税&#39;, &#39;民航小区   电梯南向两房  间隔方正实用  采光通风&#39;, &#39;南向望花园 电梯房 格局好 视野开阔&#39;, &#39;全新装修未住 朝南大三房  有钥匙看房方便&#39;, &#39;电梯西南向小三房 中高楼层 视野宽阔 过五年&#39;, &#39;南华时代城 园林式绿化小区 毛坯三房两卫 阳台向花园&#39;, &#39;空气清新 优质的森林 高层望山景视野开阔配套完善&#39;, &#39;东南朝向，望苑内花园视野靓楼层又好&#39;, &#39;怡园小区 2室1厅 南&#39;, &#39;满五唯一   高楼层  通风采光好 户型方正&#39;][&#39;1300&#39;, &#39;549&#39;, &#39;230&#39;, &#39;125&#39;, &#39;108&#39;, &#39;288&#39;, &#39;750&#39;, &#39;638&#39;, &#39;288&#39;, &#39;315&#39;, &#39;273&#39;, &#39;72&#39;, &#39;225&#39;, &#39;275&#39;, &#39;368&#39;, &#39;200&#39;, &#39;400&#39;, &#39;98&#39;, &#39;228&#39;, &#39;133&#39;, &#39;165&#39;, &#39;248&#39;, &#39;360&#39;, &#39;358&#39;, &#39;258&#39;, &#39;180&#39;, &#39;75&#39;, &#39;300&#39;, &#39;330&#39;, &#39;220&#39;]</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#计算运行时间</span></span><br><span class="line">%time</span><br></pre></td></tr></table></figure><pre><code>Wall time: 0 ns</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">LJdata=lianjia_all(url,<span class="number">1</span>)</span><br><span class="line">LJdata.to_excel(<span class="string">&#x27;LJdata.xlsx&#x27;</span>,sheet_name=<span class="string">&#x27;gz&#x27;</span>,index=<span class="literal">False</span>) <span class="comment"># 保存数据</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># #### 爬虫数据的统计分析</span></span><br><span class="line">LJdata=pd.read_excel(<span class="string">&#x27;PyDm_data.xlsx&#x27;</span>,<span class="string">&#x27;LJdata&#x27;</span>);LJdata[:<span class="number">6</span>]</span><br><span class="line">LJdata.info()</span><br><span class="line">Price=LJdata[<span class="string">&#x27;房屋价格&#x27;</span>];Price</span><br><span class="line">P=Price.astype(<span class="built_in">float</span>);P</span><br><span class="line">P.describe()</span><br><span class="line">plt.hist(P,bins=np.arange(<span class="number">0</span>,<span class="number">1000</span>,<span class="number">100</span>));</span><br></pre></td></tr></table></figure><pre><code>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;RangeIndex: 3000 entries, 0 to 2999Data columns (total 4 columns): #   Column  Non-Null Count  Dtype  ---  ------  --------------  -----   0   房屋信息    3000 non-null   object  1   房屋价格    3000 non-null   float64 2   房屋位置    3000 non-null   object  3   房屋单价    3000 non-null   object dtypes: float64(1), object(3)memory usage: 93.9+ KB</code></pre><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112101442375.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">### 房屋信息信息提取</span></span><br><span class="line">House=LJdata[<span class="string">&#x27;房屋信息&#x27;</span>];</span><br><span class="line">House=[House[i].replace(<span class="string">&#x27; &#x27;</span>,<span class="string">&#x27;&#x27;</span>) <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(House))]</span><br><span class="line">House1=list_split(House,<span class="string">&#x27;|&#x27;</span>);House1[:<span class="number">6</span>]</span><br></pre></td></tr></table></figure><pre><code>[[&#39;骏景花园&#39;, &#39;3室2厅&#39;, &#39;105平米&#39;, &#39;南北&#39;, &#39;简装&#39;, &#39;有电梯&#39;], [&#39;华景新城怡华台&#39;, &#39;3室2厅&#39;, &#39;91平米&#39;, &#39;西南&#39;, &#39;精装&#39;, &#39;有电梯&#39;], [&#39;芳草园&#39;, &#39;3室2厅&#39;, &#39;117.05平米&#39;, &#39;北&#39;, &#39;简装&#39;, &#39;有电梯&#39;], [&#39;保利百合花园二期&#39;, &#39;2室1厅&#39;, &#39;72.27平米&#39;, &#39;西南&#39;, &#39;精装&#39;, &#39;有电梯&#39;], [&#39;汇侨新城东区&#39;, &#39;2室1厅&#39;, &#39;75.5平米&#39;, &#39;东北&#39;, &#39;简装&#39;, &#39;无电梯&#39;], [&#39;华南碧桂园紫翠苑&#39;, &#39;3室2厅&#39;, &#39;107平米&#39;, &#39;东&#39;, &#39;简装&#39;, &#39;无电梯&#39;]]</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">### 数据清洗：去除第7位NONA</span></span><br><span class="line">length=[<span class="built_in">len</span>(House1[i]) <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(House1))];</span><br><span class="line">length_result=[idx <span class="keyword">for</span> idx, e <span class="keyword">in</span> <span class="built_in">enumerate</span>(length) <span class="keyword">if</span> e==<span class="number">7</span>]</span><br><span class="line"><span class="comment">###去除独栋别墅</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> length_result: House1[i].remove(<span class="string">&#x27;独栋别墅&#x27;</span>)</span><br><span class="line"><span class="comment">###去除在朝向中的不协调表述</span></span><br><span class="line">error_check=[i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(House1)) <span class="keyword">if</span> House1[i][<span class="number">1</span>]==<span class="string">&#x27;联排别墅&#x27;</span> <span class="keyword">or</span> House1[i][<span class="number">1</span>]==<span class="string">&#x27;独栋别墅&#x27;</span>]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> error_check: <span class="keyword">del</span> House1[i][<span class="number">1</span>]</span><br><span class="line">House1[-<span class="number">6</span>:]</span><br></pre></td></tr></table></figure><pre><code>[[&#39;锦绣香江花园布查特国际公寓&#39;, &#39;2室2厅&#39;, &#39;126平米&#39;, &#39;东南&#39;, &#39;其他&#39;, &#39;有电梯&#39;], [&#39;光大花园中海锦榕湾&#39;, &#39;3室1厅&#39;, &#39;102平米&#39;, &#39;南&#39;, &#39;其他&#39;, &#39;有电梯&#39;], [&#39;东浚荔景苑&#39;, &#39;3室1厅&#39;, &#39;95.97平米&#39;, &#39;东北&#39;, &#39;简装&#39;], [&#39;广州雅居乐花园剑桥郡&#39;, &#39;3室2厅&#39;, &#39;128.63平米&#39;, &#39;东南&#39;, &#39;其他&#39;, &#39;有电梯&#39;], [&#39;泓景花园&#39;, &#39;3室2厅&#39;, &#39;110平米&#39;, &#39;东北&#39;, &#39;其他&#39;, &#39;有电梯&#39;], [&#39;下塘西路&#39;, &#39;3室2厅&#39;, &#39;121.02平米&#39;, &#39;西北&#39;, &#39;其他&#39;, &#39;无电梯&#39;]]</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">### 构建分析用数据框</span></span><br><span class="line">House2=pd.DataFrame(House1)</span><br><span class="line">House2.info()</span><br><span class="line">House2.columns=[<span class="string">&#x27;小区&#x27;</span>,<span class="string">&#x27;格式&#x27;</span>,<span class="string">&#x27;面积&#x27;</span>,<span class="string">&#x27;朝向&#x27;</span>,<span class="string">&#x27;装修&#x27;</span>,<span class="string">&#x27;电梯&#x27;</span>]</span><br><span class="line">House2.head()</span><br><span class="line">House2[<span class="string">&#x27;小区&#x27;</span>].value_counts()</span><br><span class="line">House2[<span class="string">&#x27;格式&#x27;</span>].value_counts().plot(kind=<span class="string">&#x27;barh&#x27;</span>);</span><br><span class="line">House2[<span class="string">&#x27;面积&#x27;</span>].value_counts()</span><br><span class="line">House2[<span class="string">&#x27;朝向&#x27;</span>].value_counts()</span><br><span class="line">House2[<span class="string">&#x27;装修&#x27;</span>].value_counts()</span><br><span class="line">House2[<span class="string">&#x27;电梯&#x27;</span>].value_counts()</span><br><span class="line">MJ=House2[<span class="string">&#x27;面积&#x27;</span>].<span class="built_in">str</span>[:-<span class="number">3</span>].astype(<span class="built_in">float</span>)</span><br><span class="line"><span class="keyword">import</span> PyDm_fun <span class="keyword">as</span> da</span><br><span class="line">da.freq(MJ,bins=[<span class="number">0</span>,<span class="number">50</span>,<span class="number">80</span>,<span class="number">100</span>,<span class="number">150</span>,<span class="number">200</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment">#&#x27;&#x27;&#x27;去除None&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment">#dianti=list(House2.电梯)</span></span><br><span class="line"><span class="comment">#none_solve=[i for i in range(len(dianti)) if dianti[i]==None]</span></span><br><span class="line"><span class="comment">#len(none_solve)</span></span><br><span class="line"><span class="comment">#House2.iloc[10].电梯== None</span></span><br><span class="line"><span class="comment">#for i in none_solve:</span></span><br><span class="line"><span class="comment">#    House2.iloc[i].电梯=&#x27;暂无数据&#x27;</span></span><br><span class="line"><span class="comment">#da.tab(House2.电梯)</span></span><br></pre></td></tr></table></figure><pre><code>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;RangeIndex: 3000 entries, 0 to 2999Data columns (total 6 columns): #   Column  Non-Null Count  Dtype ---  ------  --------------  -----  0   0       3000 non-null   object 1   1       3000 non-null   object 2   2       3000 non-null   object 3   3       3000 non-null   object 4   4       3000 non-null   object 5   5       2374 non-null   objectdtypes: object(6)memory usage: 140.8+ KB</code></pre><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>小区</th>      <th>格式</th>      <th>面积</th>      <th>朝向</th>      <th>装修</th>      <th>电梯</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>骏景花园</td>      <td>3室2厅</td>      <td>105平米</td>      <td>南北</td>      <td>简装</td>      <td>有电梯</td>    </tr>    <tr>      <th>1</th>      <td>华景新城怡华台</td>      <td>3室2厅</td>      <td>91平米</td>      <td>西南</td>      <td>精装</td>      <td>有电梯</td>    </tr>    <tr>      <th>2</th>      <td>芳草园</td>      <td>3室2厅</td>      <td>117.05平米</td>      <td>北</td>      <td>简装</td>      <td>有电梯</td>    </tr>    <tr>      <th>3</th>      <td>保利百合花园二期</td>      <td>2室1厅</td>      <td>72.27平米</td>      <td>西南</td>      <td>精装</td>      <td>有电梯</td>    </tr>    <tr>      <th>4</th>      <td>汇侨新城东区</td>      <td>2室1厅</td>      <td>75.5平米</td>      <td>东北</td>      <td>简装</td>      <td>无电梯</td>    </tr>  </tbody></table></div><pre><code>骏景花园         41富力桃园         40翡翠绿洲森林半岛     31碧桂园凤凰城凤馨苑    30棠德花园         27             ..嘉逸华庭          1春暖花园          1风行牛奶宿舍        1富丽家园莲芳园       1尚东君御雅苑        1Name: 小区, Length: 1293, dtype: int64&lt;AxesSubplot:&gt;80平米        3695平米        2788平米        2677平米        2676平米        25            ..63.01平米      182.95平米      176.25平米      1184.8平米      1121.02平米     1Name: 面积, Length: 1603, dtype: int64南       728北       587南北      348东南      325东北      245西南      224东       200西北      172西       136东西       34暂无数据      1Name: 朝向, dtype: int64其他    1457简装     868精装     637毛坯      38Name: 装修, dtype: int64有电梯    1646无电梯     728Name: 电梯, dtype: int64</code></pre><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>[下限</th>      <th>上限)</th>      <th>频数</th>      <th>频率(%)</th>      <th>累计频数(%)</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>0.0</td>      <td>50.0</td>      <td>1433.0</td>      <td>48.38</td>      <td>48.38</td>    </tr>    <tr>      <th>1</th>      <td>50.0</td>      <td>80.0</td>      <td>540.0</td>      <td>18.23</td>      <td>66.61</td>    </tr>    <tr>      <th>2</th>      <td>80.0</td>      <td>100.0</td>      <td>510.0</td>      <td>17.22</td>      <td>83.83</td>    </tr>    <tr>      <th>3</th>      <td>100.0</td>      <td>150.0</td>      <td>410.0</td>      <td>13.84</td>      <td>97.67</td>    </tr>    <tr>      <th>4</th>      <td>150.0</td>      <td>200.0</td>      <td>69.0</td>      <td>2.33</td>      <td>100.00</td>    </tr>  </tbody></table></div><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112101444046.png" alt="png"></p><h2 id="数据库技术及应用"><a href="#数据库技术及应用" class="headerlink" title="数据库技术及应用"></a>数据库技术及应用</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">###  Python中数据库使用</span></span><br><span class="line"><span class="comment">###  数据库的建立与分析</span></span><br><span class="line"><span class="comment">###  Sqlite数据框的建立</span></span><br><span class="line"><span class="keyword">from</span> sqlalchemy <span class="keyword">import</span> create_engine</span><br><span class="line">engine=create_engine(<span class="string">&#x27;sqlite:///LJdata.db&#x27;</span>)</span><br><span class="line">LJdata.to_sql(<span class="string">&#x27;LJdata&#x27;</span>,engine,index=<span class="literal">False</span>)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ####  Sqlite3数据的处理</span></span><br><span class="line"><span class="keyword">from</span> sqlalchemy <span class="keyword">import</span> create_engine</span><br><span class="line">engine=create_engine(<span class="string">&#x27;sqlite:///LJdata.db&#x27;</span>)</span><br><span class="line">LJ=pd.read_sql(<span class="string">&#x27;LJdata&#x27;</span>,engine)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">LJ.info</span><br><span class="line">LJ.columns</span><br><span class="line">LJ.sex.value_counts().plot(kind=<span class="string">&#x27;bar&#x27;</span>)</span><br><span class="line">tab(LJ.sex,plot=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure><h1 id="第7章-文献计量与知识图谱"><a href="#第7章-文献计量与知识图谱" class="headerlink" title="第7章 文献计量与知识图谱"></a>第7章 文献计量与知识图谱</h1><h2 id="文献计量研究的框架"><a href="#文献计量研究的框架" class="headerlink" title="文献计量研究的框架"></a>文献计量研究的框架</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ## 文献数据的收集与分析</span></span><br><span class="line"><span class="comment"># ### 文献数据的获取</span></span><br><span class="line"><span class="comment"># ### 文献数据的收集</span></span><br><span class="line"><span class="comment"># #### 文献数据的读取</span></span><br><span class="line">WXdata=pd.read_excel(<span class="string">&#x27;PyDm_data.xlsx&#x27;</span>,<span class="string">&#x27;WXdata&#x27;</span>);</span><br><span class="line"><span class="comment">#WXdata.columns</span></span><br><span class="line">WXdata.info()</span><br><span class="line">WXdata.shape</span><br><span class="line">WXdata.iloc[:,:<span class="number">4</span>].head()</span><br><span class="line">WXdata.tail()</span><br></pre></td></tr></table></figure><pre><code>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;RangeIndex: 831 entries, 0 to 830Data columns (total 8 columns): #   Column     Non-Null Count  Dtype ---  ------     --------------  -----  0   Title      831 non-null    object 1   Author     828 non-null    object 2   Organ      831 non-null    object 3   Source     831 non-null    object 4   Keyword    831 non-null    object 5   FirstDuty  827 non-null    object 6   Fund       444 non-null    object 7   Year       831 non-null    int64 dtypes: int64(1), object(7)memory usage: 52.1+ KB(831, 8)</code></pre><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>Title</th>      <th>Author</th>      <th>Organ</th>      <th>Source</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>国际健康促进研究的演进脉络与前沿热点——基于CiteSpace Ⅴ的文献计量与可视化分析</td>      <td>刘路;史曙生;</td>      <td>南京师范大学体育科学学院;盐城师范学院体育学院;</td>      <td>沈阳体育学院学报</td>    </tr>    <tr>      <th>1</th>      <td>国内区块链研究热点的文献计量分析</td>      <td>王发明;朱美娟;</td>      <td>山东工商学院经济学院;</td>      <td>情报杂志</td>    </tr>    <tr>      <th>2</th>      <td>我国教育管理研究热点的追溯——基于《现代教育管理》(2009-2016年)的文献计量和共词分析</td>      <td>丁亚东;薛海平;</td>      <td>首都师范大学;</td>      <td>现代教育管理</td>    </tr>    <tr>      <th>3</th>      <td>我国民办高等教育研究十年回眸——基于文献计量与可视化分析</td>      <td>郭哲;胡德鑫;</td>      <td>清华大学;</td>      <td>现代教育管理</td>    </tr>    <tr>      <th>4</th>      <td>从严治党研究的知识图谱、聚类维度与拓展空间——基于Citespace的文献计量分析</td>      <td>周鹏;</td>      <td>山东大学马克思主义学院;洛阳理工学院马克思主义学院;</td>      <td>探索</td>    </tr>  </tbody></table></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>Title</th>      <th>Author</th>      <th>Organ</th>      <th>Source</th>      <th>Keyword</th>      <th>FirstDuty</th>      <th>Fund</th>      <th>Year</th>    </tr>  </thead>  <tbody>    <tr>      <th>826</th>      <td>社会科学评价研究的新进展——《社会科学评价的文献计量理论与方法》评析</td>      <td>刘君</td>      <td>贵州工业大学图书馆 贵阳550003</td>      <td>图书情报工作</td>      <td>社会科学评价;;文献计量学;;研究进展;; 评析</td>      <td>刘君</td>      <td>NaN</td>      <td>2001</td>    </tr>    <tr>      <th>827</th>      <td>教育研究的文献计量法</td>      <td>安雪慧</td>      <td>北京师范大学教育系 100875</td>      <td>上海教育科研</td>      <td>文献计量法;学科;科学学;情报学;引文分析法;内容分析法;</td>      <td>安雪慧</td>      <td>NaN</td>      <td>2000</td>    </tr>    <tr>      <th>828</th>      <td>新的领域 新的视角——评《社会科学评价的文献计量理论与方法》</td>      <td>刘磊</td>      <td>南昌大学信息管理系!南昌330029</td>      <td>情报科学</td>      <td>文献计量;社会科学;领域;</td>      <td>刘磊</td>      <td>NaN</td>      <td>2000</td>    </tr>    <tr>      <th>829</th>      <td>科学文献计量分析与文献关联性研究</td>      <td>邹常诗</td>      <td>烟台师范学院化学系资料室!山东264025</td>      <td>情报资料工作</td>      <td>计量分析;;文献关联性;;科学文献;;文献计量学</td>      <td>邹常诗</td>      <td>NaN</td>      <td>2000</td>    </tr>    <tr>      <th>830</th>      <td>对我国情报学五种期刊的文献计量分析研究</td>      <td>陈杰</td>      <td>武汉大学图书情报学院 武汉 430072</td>      <td>情报杂志</td>      <td>情报学;;核心期刊;;文献计量分析</td>      <td>陈杰</td>      <td>NaN</td>      <td>2000</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ### 文献数据的分析</span></span><br><span class="line"><span class="comment"># #### 科研单位与基金统计</span></span><br><span class="line">university=pd.read_excel(<span class="string">&#x27;PyDm_data.xlsx&#x27;</span>,<span class="string">&#x27;university&#x27;</span>);</span><br><span class="line">university.学校名称.head()</span><br><span class="line">fund=pd.read_excel(<span class="string">&#x27;PyDm_data.xlsx&#x27;</span>,<span class="string">&#x27;fund&#x27;</span>);</span><br><span class="line">fund.基金名称.head()</span><br></pre></td></tr></table></figure><pre><code>0      北京大学1    中国人民大学2      清华大学3    北京交通大学4    北京工业大学Name: 学校名称, dtype: object0              国家自然科学基金1    国家高技术研究发展计划(863计划)2        基础研究重大项目前期研究专项3              国家科技支撑计划4         国家重点实验室建设项目计划Name: 基金名称, dtype: object</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">find_words</span>(<span class="params">content,pattern</span>):</span>  <span class="comment">#寻找关键词</span></span><br><span class="line">    <span class="keyword">return</span> [content[i] <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(content)) <span class="keyword">if</span> (pattern <span class="keyword">in</span> content[i]) == <span class="literal">True</span>]</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">search_university</span>(<span class="params">content,pattern</span>):</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">len</span>([find_words(content[i],pattern) <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(content)) <span class="keyword">if</span> find_words(content[i],pattern) != []])</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">list_split</span>(<span class="params">content,separator</span>):</span>  <span class="comment">#分解信息</span></span><br><span class="line">    new_list=[]</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(content)):</span><br><span class="line">        new_list.append(<span class="built_in">list</span>(<span class="built_in">filter</span>(<span class="literal">None</span>,content[i].split(separator))))</span><br><span class="line">    <span class="keyword">return</span> new_list</span><br><span class="line"></span><br><span class="line">organ=list_split(WXdata[<span class="string">&#x27;Organ&#x27;</span>],<span class="string">&#x27;;&#x27;</span>)</span><br><span class="line"><span class="built_in">len</span>(organ)</span><br><span class="line">organ[<span class="number">0</span>:<span class="number">5</span>]</span><br></pre></td></tr></table></figure><pre><code>831[[&#39;南京师范大学体育科学学院&#39;, &#39;盐城师范学院体育学院&#39;], [&#39;山东工商学院经济学院&#39;], [&#39;首都师范大学&#39;], [&#39;清华大学&#39;], [&#39;山东大学马克思主义学院&#39;, &#39;洛阳理工学院马克思主义学院&#39;]]</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">data1=pd.DataFrame([[i,search_university(organ,i)] <span class="keyword">for</span> i <span class="keyword">in</span> university[<span class="string">&#x27;学校名称&#x27;</span>]])</span><br><span class="line">data1.rename(columns=&#123;<span class="number">0</span>:<span class="string">&#x27;学校名称&#x27;</span>,<span class="number">1</span>:<span class="string">&#x27;频数&#x27;</span>&#125;,inplace=<span class="literal">True</span>)</span><br><span class="line">data1.sort_values(by=<span class="string">&#x27;频数&#x27;</span>,ascending = <span class="literal">False</span>)[:<span class="number">10</span>]</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>学校名称</th>      <th>频数</th>    </tr>  </thead>  <tbody>    <tr>      <th>512</th>      <td>武汉大学</td>      <td>42</td>    </tr>    <tr>      <th>194</th>      <td>吉林大学</td>      <td>24</td>    </tr>    <tr>      <th>277</th>      <td>南京大学</td>      <td>24</td>    </tr>    <tr>      <th>268</th>      <td>上海大学</td>      <td>17</td>    </tr>    <tr>      <th>154</th>      <td>大连理工大学</td>      <td>17</td>    </tr>    <tr>      <th>58</th>      <td>中国科学院大学</td>      <td>15</td>    </tr>    <tr>      <th>430</th>      <td>山东大学</td>      <td>15</td>    </tr>    <tr>      <th>0</th>      <td>北京大学</td>      <td>14</td>    </tr>    <tr>      <th>105</th>      <td>中国人民武装警察部队学院</td>      <td>14</td>    </tr>    <tr>      <th>355</th>      <td>安徽大学</td>      <td>13</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">jijin=list_split(WXdata[<span class="string">&#x27;Fund&#x27;</span>].dropna(axis=<span class="number">0</span>,how=<span class="string">&#x27;all&#x27;</span>).tolist(),<span class="string">&#x27;;;&#x27;</span>)</span><br><span class="line">data2=pd.DataFrame([[i,search_university(jijin,i)] <span class="keyword">for</span> i <span class="keyword">in</span> fund[<span class="string">&#x27;基金名称&#x27;</span>]])</span><br><span class="line">data2.rename(columns=&#123;<span class="number">0</span>:<span class="string">&#x27;学校名称&#x27;</span>,<span class="number">1</span>:<span class="string">&#x27;频数&#x27;</span>&#125;,inplace=<span class="literal">True</span>)</span><br><span class="line">data2.sort_values(by=<span class="string">&#x27;频数&#x27;</span>,ascending = <span class="literal">False</span>)[:<span class="number">10</span>]</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>学校名称</th>      <th>频数</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>国家自然科学基金</td>      <td>91</td>    </tr>    <tr>      <th>5</th>      <td>国家社会科学基金</td>      <td>74</td>    </tr>    <tr>      <th>47</th>      <td>高等学校博士学科点专项科研基金</td>      <td>3</td>    </tr>    <tr>      <th>84</th>      <td>全国教育科学规划</td>      <td>3</td>    </tr>    <tr>      <th>3</th>      <td>国家科技支撑计划</td>      <td>2</td>    </tr>    <tr>      <th>46</th>      <td>国家留学基金</td>      <td>2</td>    </tr>    <tr>      <th>14</th>      <td>国家软科学研究计划</td>      <td>1</td>    </tr>    <tr>      <th>63</th>      <td>交通部重点科技项目</td>      <td>0</td>    </tr>    <tr>      <th>71</th>      <td>水利部科技创新项目计划</td>      <td>0</td>    </tr>    <tr>      <th>70</th>      <td>电子工业部电科院预研基金</td>      <td>0</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># #### 作者和关键词统计</span></span><br><span class="line">keyword=list_split(WXdata[<span class="string">&#x27;Keyword&#x27;</span>].dropna(axis=<span class="number">0</span>,how=<span class="string">&#x27;all&#x27;</span>).tolist(),<span class="string">&#x27;;;&#x27;</span>)</span><br><span class="line">keyword1=<span class="built_in">sum</span>(keyword,[])</span><br><span class="line">pd.DataFrame(keyword1)[<span class="number">0</span>].value_counts()[:<span class="number">10</span>]</span><br></pre></td></tr></table></figure><pre><code>文献计量      343文献计量分析    133文献计量学      91知识图谱       52统计分析       43计量分析       40研究热点       34共词分析       34CNKI       28可视化        23Name: 0, dtype: int64</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">list_replace</span>(<span class="params">content,old,new</span>):</span> <span class="comment">#清除信息中的空格</span></span><br><span class="line">    <span class="keyword">return</span> [content[i].replace(old,new) <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(content))]</span><br><span class="line"></span><br><span class="line">author=list_replace(WXdata[<span class="string">&#x27;Author&#x27;</span>].dropna(axis=<span class="number">0</span>,how=<span class="string">&#x27;all&#x27;</span>).tolist(),<span class="string">&#x27;,&#x27;</span>,<span class="string">&#x27;;&#x27;</span>)</span><br><span class="line">author1=list_split(author,<span class="string">&#x27;;&#x27;</span>);author1</span><br><span class="line"><span class="built_in">type</span>(author1)</span><br><span class="line">author2=<span class="built_in">sum</span>(author1,[])</span><br><span class="line"><span class="built_in">type</span>(author2)</span><br><span class="line">pd.DataFrame(author2)[<span class="number">0</span>].value_counts()[:<span class="number">10</span>]</span><br></pre></td></tr></table></figure><pre><code>[[&#39;刘路&#39;, &#39;史曙生&#39;], [&#39;王发明&#39;, &#39;朱美娟&#39;], [&#39;丁亚东&#39;, &#39;薛海平&#39;], [&#39;郭哲&#39;, &#39;胡德鑫&#39;], [&#39;周鹏&#39;], [&#39;吕程&#39;], [&#39;李静&#39;, &#39;郝坚&#39;, &#39;方平&#39;], [&#39;庞海芍&#39;, &#39;张毅鑫&#39;, &#39;张金明&#39;, &#39;郇秀红&#39;], [&#39;孟阳&#39;, &#39;屈宝强&#39;], [&#39;杨林&#39;, &#39;王璐&#39;], [&#39;陈永清&#39;, &#39;林丽英&#39;], [&#39;唐红晶&#39;, &#39;董金权&#39;], [&#39;刘晓凤&#39;, &#39;秧茂盛&#39;, &#39;姚桂湘&#39;, &#39;卢明芳&#39;, &#39;彭一熳&#39;], [&#39;张平&#39;, &#39;丁超凡&#39;], [&#39;谢靖&#39;, &#39;陈静&#39;], [&#39;刘宇峰&#39;, &#39;袁丽华&#39;, &#39;朱晓华&#39;], [&#39;周承聪&#39;, &#39;刘越强&#39;], [&#39;贾兵强&#39;], [&#39;徐彤阳&#39;, &#39;任浩然&#39;, &#39;张国标&#39;], [&#39;王冰璐&#39;, &#39;步一&#39;, &#39;徐扬&#39;, &#39;刘姝雯&#39;], [&#39;刘爱军&#39;, &#39;葛继红&#39;, &#39;俞立平&#39;], [&#39;陈圣白&#39;], [&#39;李静&#39;, &#39;丁亚东&#39;], [&#39;王淑强&#39;, &#39;青秀玲&#39;, &#39;王晶&#39;, &#39;陈卉&#39;, &#39;崔璟&#39;, &#39;王绍强&#39;, &#39;裴韬&#39;, &#39;佟学思&#39;, &#39;刘啸&#39;, &#39;赵航&#39;, &#39;杜涛&#39;], [&#39;王小明&#39;], [&#39;叶选挺&#39;, &#39;尹静茹&#39;, &#39;张剑&#39;, &#39;刘云&#39;], [&#39;牛爱菊&#39;, &#39;贾新露&#39;, &#39;刘兰&#39;], [&#39;刘艳民&#39;], [&#39;骆琼&#39;], [&#39;黄敏&#39;, &#39;刘军平&#39;], [&#39;李明&#39;, &#39;郭瑞迎&#39;], [&#39;王澍&#39;, &#39;樊丽明&#39;], [&#39;魏峰&#39;, &#39;贝玉莲&#39;, &#39;刘宇&#39;], [&#39;张辉蓉&#39;, &#39;王晓杰&#39;, &#39;宋美臻&#39;], [&#39;陈育燕&#39;], [&#39;张鲁冀&#39;], [&#39;雷水旺&#39;], [&#39;吴宾&#39;, &#39;杨一民&#39;, &#39;娄成武&#39;], [&#39;张苗&#39;, &#39;袁凯华&#39;, &#39;陈银蓉&#39;, &#39;兰梦婷&#39;], [&#39;李子联&#39;], [&#39;郑烨&#39;, &#39;杨若愚&#39;, &#39;刘遥&#39;], [&#39;徐蕴&#39;, &#39;王会梅&#39;, &#39;魏琦&#39;, &#39;汤大朋&#39;], [&#39;裴丽&#39;, &#39;李琼&#39;, &#39;张素蕙&#39;], [&#39;胡晓艳&#39;, &#39;周兢&#39;], [&#39;田丹&#39;, &#39;刘奕杉&#39;, &#39;王玉琳&#39;], [&#39;陈善敏&#39;], [&#39;杨鹤林&#39;], [&#39;王林春&#39;, &#39;朱军文&#39;], [&#39;王晰&#39;, &#39;辛向阳&#39;, &#39;Craig M.Vogel&#39;], [&#39;郭晶&#39;, &#39;尚媛媛&#39;], [&#39;王雪&#39;], [&#39;刘爱军&#39;, &#39;俞立平&#39;], [&#39;刘佳&#39;, &#39;李莹莹&#39;], [&#39;李信&#39;, &#39;李倩&#39;], [&#39;顾永安&#39;], [&#39;肖艳&#39;], [&#39;丰景春&#39;, &#39;王沙沙&#39;, &#39;薛松&#39;, &#39;张可&#39;], [&#39;李飞&#39;, &#39;张健&#39;, &#39;王宗水&#39;], [&#39;黄文彬&#39;, &#39;王冰璐&#39;, &#39;步一&#39;, &#39;张久珍&#39;], [&#39;阿丽塔&#39;, &#39;武志昂&#39;], [&#39;韩瑞波&#39;], [&#39;李黎&#39;], [&#39;胡小飞&#39;, &#39;邹妍&#39;], [&#39;李鼎&#39;, &#39;黄英君&#39;, &#39;刘敏&#39;], [&#39;卢德生&#39;], [&#39;田进&#39;, &#39;杨正&#39;], [&#39;吴向文&#39;, &#39;王志军&#39;, &#39;冯小燕&#39;], [&#39;蔡运荃&#39;, &#39;李保强&#39;], [&#39;韩瑞波&#39;, &#39;叶娟丽&#39;], [&#39;张英俊&#39;,  &#39;涂翠平&#39;,  &#39;胡昭然&#39;,  &#39;欧薇&#39;,  &#39;张逸梅&#39;,  &#39;张煦彬&#39;,  &#39;张晴雪&#39;,  &#39;KHUSRAVSHO Rahmatulloev&#39;,  &#39;樊富珉&#39;], [&#39;马岩&#39;, &#39;姚轩鸽&#39;], [&#39;黄婷&#39;, &#39;郑荣宝&#39;, &#39;张雅琪&#39;], [&#39;王申罡&#39;, &#39;步一&#39;, &#39;张歌&#39;], [&#39;王婷&#39;], [&#39;陈军&#39;, &#39;谢卫红&#39;, &#39;陈扬森&#39;, &#39;李忠顺&#39;], [&#39;赵静&#39;], [&#39;易兰&#39;, &#39;陈恩伦&#39;], [&#39;燕慧泉&#39;, &#39;张仁琼&#39;, &#39;王磊&#39;, &#39;黄苑&#39;, &#39;付立波&#39;], [&#39;郑星&#39;], [&#39;杨书燕&#39;, &#39;吴小节&#39;, &#39;汪秀琼&#39;], [&#39;刘海燕&#39;, &#39;李琳&#39;, &#39;李雪蓉&#39;], [&#39;钟源&#39;], [&#39;王晨光&#39;], [&#39;万昊&#39;, &#39;谭宗颖&#39;, &#39;朱相丽&#39;], [&#39;缪瑞生&#39;, &#39;马海群&#39;], [&#39;撒凯悦&#39;, &#39;罗润东&#39;], [&#39;徐彤阳&#39;, &#39;任浩然&#39;, &#39;张国标&#39;], [&#39;朱亚成&#39;, &#39;王子朴&#39;], [&#39;花芳&#39;, &#39;管楠祥&#39;, &#39;李风侠&#39;, &#39;管翠中&#39;, &#39;赵军平&#39;], [&#39;刘月宁&#39;, &#39;王凤彬&#39;], [&#39;李信&#39;, &#39;李旭晖&#39;], [&#39;吴涛&#39;, &#39;张子石&#39;, &#39;金义富&#39;], [&#39;裴昌根&#39;, &#39;宋乃庆&#39;], [&#39;郭强&#39;], [&#39;王军辉&#39;, &#39;谭宗颖&#39;], [&#39;周晓艳&#39;, &#39;宋亚男&#39;], [&#39;曾建光&#39;], [&#39;任增元&#39;, &#39;张丽莎&#39;], [&#39;于丰园&#39;, &#39;于群英&#39;], [&#39;吕瑞花&#39;, &#39;常欢&#39;], [&#39;胥彦玲&#39;, &#39;李纯&#39;, &#39;张红&#39;], [&#39;王梦媛&#39;, &#39;桂佩霖&#39;], [&#39;何晓红&#39;, &#39;张春阳&#39;], [&#39;盛艳燕&#39;], [&#39;吴向文&#39;, &#39;王志军&#39;], [&#39;钱万强&#39;, &#39;江海燕&#39;, &#39;张峰&#39;, &#39;墨宏山&#39;, &#39;缴旭&#39;, &#39;魏琦&#39;], [&#39;成小娟&#39;, &#39;张文兰&#39;], [&#39;聂家华&#39;, &#39;仉晓红&#39;], [&#39;胡卉&#39;, &#39;吴鸣&#39;], [&#39;常雅红&#39;], [&#39;艾丽娟&#39;, &#39;夏芸&#39;, &#39;张晓&#39;], [&#39;黄振威&#39;], [&#39;郑长旭&#39;, &#39;吴建南&#39;], [&#39;李培凯&#39;, &#39;杨夕瑾&#39;, &#39;孙健敏&#39;], [&#39;黄英君&#39;, &#39;刘敏&#39;], [&#39;孙掌印&#39;], [&#39;李英&#39;, &#39;李惠&#39;, &#39;成琪&#39;], [&#39;朱晓伟&#39;, &#39;平宗莉&#39;, &#39;陈翠华&#39;], [&#39;李欢&#39;, &#39;杨赛男&#39;], [&#39;杨茗&#39;, &#39;王冠宇&#39;, &#39;周军&#39;], [&#39;郑敬斌&#39;], [&#39;冉连&#39;], [&#39;方刚&#39;, &#39;周青&#39;, &#39;杨伟&#39;], [&#39;廖杨&#39;], [&#39;龚花萍&#39;, &#39;王英&#39;], [&#39;涂智苹&#39;, &#39;宋铁波&#39;], [&#39;廖倩&#39;, &#39;吕拉昌&#39;, &#39;黄茹&#39;], [&#39;朱莉&#39;, &#39;霍明奎&#39;, &#39;康美娟&#39;], [&#39;田深圳&#39;, &#39;李雪铭&#39;], [&#39;翟倩&#39;, &#39;祝琳琳&#39;], [&#39;章小童&#39;, &#39;阮建海&#39;], [&#39;任全娥&#39;], [&#39;韩国明&#39;, &#39;朱侃&#39;, &#39;赵军义&#39;], [&#39;宋铁波&#39;, &#39;陈燕&#39;, &#39;吴小节&#39;, &#39;汪秀琼&#39;], [&#39;孙艳芝&#39;, &#39;沈镭&#39;], [&#39;李云星&#39;, &#39;李一杉&#39;, &#39;穆树航&#39;], [&#39;万明钢&#39;, &#39;杨阳&#39;], [&#39;金胜昔&#39;, &#39;林正军&#39;], [&#39;郑传军&#39;, &#39;徐芬&#39;, &#39;成虎&#39;], [&#39;黄丹凤&#39;, &#39;陈滔宏&#39;], [&#39;吴小节&#39;, &#39;曾华&#39;], [&#39;胡顺顺&#39;, &#39;刘志民&#39;], [&#39;杨思洛&#39;, &#39;程爱娟&#39;, &#39;冯雅&#39;], [&#39;朱锁玲&#39;, &#39;唐惠燕&#39;, &#39;倪峰&#39;, &#39;陈蓉蓉&#39;, &#39;施文&#39;], [&#39;黄琦&#39;, &#39;陶建平&#39;], [&#39;肖文芳&#39;, &#39;文庭孝&#39;, &#39;姜坷炘&#39;], [&#39;沙莉&#39;], [&#39;白玉&#39;, &#39;郑童桐&#39;, &#39;赵镇&#39;, &#39;赵醒村&#39;], [&#39;廖友国&#39;, &#39;何伟&#39;], [&#39;罗丹&#39;, &#39;杨永忠&#39;, &#39;林鸿熙&#39;], [&#39;何慧星&#39;, &#39;李亚飞&#39;], [&#39;张孝义&#39;, &#39;陈曦&#39;], [&#39;王飘&#39;], [&#39;王鹏龙&#39;, &#39;王勤花&#39;, &#39;安培浚&#39;, &#39;李恒吉&#39;], [&#39;房俊民&#39;, &#39;王立娜&#39;, &#39;唐川&#39;, &#39;张娟&#39;, &#39;田倩飞&#39;, &#39;徐婧&#39;], [&#39;王林&#39;, &#39;张元毓&#39;, &#39;季美旭&#39;, &#39;李秋逸&#39;], [&#39;张丁杰&#39;, &#39;徐飞&#39;], [&#39;李兴国&#39;], [&#39;钟源&#39;], [&#39;赵丹&#39;, &#39;王晰巍&#39;, &#39;李嘉兴&#39;, &#39;张长亮&#39;], [&#39;周建萍&#39;, &#39;王瑞青&#39;], [&#39;黄益军&#39;, &#39;吕庆华&#39;], [&#39;任小勋&#39;, &#39;乔晗&#39;, &#39;何乐平&#39;, &#39;黄稚渊&#39;, &#39;汪寿阳&#39;], [&#39;丁庆&#39;, &#39;仉晓红&#39;], [&#39;李艳&#39;, &#39;张慕华&#39;], [&#39;贾佳&#39;, &#39;潘云涛&#39;, &#39;马峥&#39;], [&#39;王小英&#39;, &#39;张鸿宇&#39;], [&#39;王景文&#39;, &#39;马红亚&#39;, &#39;高玉洁&#39;, &#39;李杏丽&#39;], [&#39;刘如&#39;, &#39;刘彦君&#39;, &#39;王康&#39;], [&#39;李欣&#39;, &#39;黄鲁成&#39;], [&#39;丁福虎&#39;], [&#39;陈小清&#39;, &#39;邢美园&#39;], [&#39;姜鑫&#39;, &#39;马海群&#39;], [&#39;陈鹤阳&#39;, &#39;张力&#39;], [&#39;杨红云&#39;, &#39;陈旭辉&#39;], [&#39;杨河清&#39;, &#39;王欣&#39;], [&#39;魏巍&#39;, &#39;黄丽霞&#39;], [&#39;李希&#39;], [&#39;龚堂华&#39;], [&#39;权玺&#39;], [&#39;李欣&#39;, &#39;黄鲁成&#39;], [&#39;郑石明&#39;], [&#39;赵蓉英&#39;, &#39;王晴&#39;], [&#39;付宜强&#39;, &#39;陈志军&#39;], [&#39;曹桂平&#39;, &#39;向剑勤&#39;, &#39;李正祥&#39;, &#39;黄文镝&#39;], [&#39;黄英君&#39;, &#39;韩经纬&#39;], [&#39;严若森&#39;, &#39;钱晶晶&#39;], [&#39;李雪蓉&#39;, &#39;张晓旭&#39;, &#39;李政阳&#39;, &#39;柏林&#39;, &#39;张奇&#39;, &#39;张建新&#39;, &#39;乔晗&#39;, &#39;汪寿阳&#39;], [&#39;杨晶照&#39;, &#39;崔亚梅&#39;, &#39;甄美荣&#39;], [&#39;王海涛&#39;, &#39;武凤群&#39;], [&#39;于晓敏&#39;, &#39;赵世奎&#39;, &#39;李泮泮&#39;], [&#39;胡振琪&#39;, &#39;付艳华&#39;, &#39;肖武&#39;, &#39;赵云肖&#39;, &#39;余洋&#39;], [&#39;黄龙光&#39;, &#39;刘小平&#39;, &#39;冷伏海&#39;], [&#39;邢颖&#39;, &#39;董瑜&#39;, &#39;袁建霞&#39;, &#39;杨艳萍&#39;], [&#39;倪萍&#39;, &#39;安新颖&#39;], [&#39;徐顽强&#39;, &#39;陈书华&#39;], [&#39;李江&#39;, &#39;蔡小静&#39;, &#39;李萍&#39;, &#39;彭欣蔚&#39;, &#39;叶程程&#39;], [&#39;高飞&#39;, &#39;张成涛&#39;], [&#39;郭晓云&#39;], [&#39;孙瑞英&#39;, &#39;王旭&#39;], [&#39;孙利芳&#39;, &#39;旭荣花&#39;], [&#39;余华&#39;, &#39;赵旭东&#39;, &#39;刘爱敏&#39;, &#39;伍力&#39;, &#39;陈蜀&#39;], [&#39;蒋娟&#39;, &#39;蒋逸颖&#39;], [&#39;朱锁玲&#39;, &#39;唐惠燕&#39;, &#39;倪峰&#39;, &#39;陈蓉蓉&#39;, &#39;施文&#39;], [&#39;刘东东&#39;, &#39;李一杉&#39;, &#39;刘子阳&#39;, &#39;周芳&#39;], [&#39;周晓艳&#39;, &#39;郝慧迪&#39;, &#39;叶信岳&#39;, &#39;张自然&#39;, &#39;宋祯利&#39;], [&#39;魏晓峰&#39;], [&#39;朱尖&#39;, &#39;柏松&#39;], [&#39;梁静&#39;, &#39;任增元&#39;], [&#39;郭顺利&#39;, &#39;张向先&#39;, &#39;李秀霞&#39;], [&#39;唐晓波&#39;, &#39;叶珍芳&#39;], [&#39;叶德磊&#39;], [&#39;高田钦&#39;, &#39;张凡&#39;], [&#39;张名&#39;, &#39;万弯&#39;], [&#39;张露&#39;, &#39;张俊飚&#39;, &#39;童庆蒙&#39;, &#39;郭晴&#39;], [&#39;彭辉&#39;, &#39;姚颉靖&#39;], [&#39;徐迎迎&#39;, &#39;魏瑞斌&#39;], [&#39;阳广元&#39;], [&#39;郭婷&#39;, &#39;郑颖&#39;], [&#39;冯瑶&#39;], [&#39;李凤兰&#39;, &#39;周春晓&#39;], [&#39;肖世华&#39;, &#39;邓柳丽&#39;], [&#39;张颖&#39;, &#39;沈君&#39;], [&#39;杨柳&#39;, &#39;叶继元&#39;], [&#39;孙毅&#39;], [&#39;蒙进军&#39;], [&#39;聂应高&#39;], [&#39;吴远仁&#39;, &#39;沈利生&#39;], [&#39;樊一阳&#39;, &#39;许京京&#39;], [&#39;贾亚敏&#39;, &#39;刘娅&#39;, &#39;赵志远&#39;], [&#39;杨瑞仙&#39;, &#39;任丽娟&#39;, &#39;李雪芹&#39;, &#39;刘欣&#39;], [&#39;林杨&#39;], [&#39;种法辉&#39;, &#39;陈丽华&#39;, &#39;巩天啸&#39;], [&#39;杨瑞仙&#39;], [&#39;王晴&#39;], [&#39;徐嘉徽&#39;, &#39;张向先&#39;, &#39;孙笑宇&#39;], [&#39;黄鲁成&#39;, &#39;王静静&#39;, &#39;李欣&#39;, &#39;吴菲菲&#39;, &#39;王立章&#39;], [&#39;彭乃珠&#39;, &#39;钟永恒&#39;], [&#39;李勇勤&#39;, &#39;高奎亭&#39;, &#39;王宏江&#39;, &#39;王永顺&#39;, &#39;雷文秀&#39;], [&#39;刘小玲&#39;, &#39;谭宗颖&#39;, &#39;张超星&#39;], [&#39;孙逊&#39;], [&#39;赵保国&#39;, &#39;王思瑶&#39;], [&#39;撒凯悦&#39;, &#39;沈君&#39;], [&#39;王恒玉&#39;, &#39;黄慧淼&#39;, &#39;陈淑珍&#39;], [&#39;刘月雷&#39;, &#39;聂峰英&#39;], [&#39;王邦权&#39;, &#39;李玉芹&#39;, &#39;蔡文伯&#39;], [&#39;黄裕荣&#39;, &#39;侯元元&#39;, &#39;蔚晓川&#39;, &#39;乔婧&#39;], [&#39;丁志健&#39;, &#39;王焕景&#39;], [&#39;吴传清&#39;, &#39;董旭&#39;], [&#39;张心悦&#39;, &#39;宋伟&#39;], [&#39;曲昭&#39;, &#39;丁堃&#39;, &#39;张春博&#39;], [&#39;曹霞&#39;], [&#39;周敏&#39;, &#39;任周鹏&#39;, &#39;方晓阳&#39;], [&#39;朱晋伟&#39;, &#39;胡万梅&#39;], [&#39;刘伟&#39;, &#39;夏恩君&#39;], [&#39;王硕旺&#39;, &#39;褚照锋&#39;], [&#39;高田钦&#39;, &#39;平和光&#39;], [&#39;秦慧&#39;], [&#39;尚建翠&#39;, &#39;房宝金&#39;], [&#39;张春博&#39;, &#39;丁堃&#39;, &#39;曲昭&#39;, &#39;刘则渊&#39;], [&#39;肖维霖&#39;, &#39;程如烟&#39;], [&#39;吴菲菲&#39;, &#39;张辉&#39;, &#39;黄鲁成&#39;], [&#39;李江&#39;, &#39;刘源浩&#39;, &#39;黄萃&#39;, &#39;苏竣&#39;], [&#39;李德华&#39;, &#39;袁晓嘉&#39;], [&#39;周瑛达&#39;], [&#39;王志玲&#39;, &#39;管泉&#39;, &#39;蓝洁&#39;], [&#39;李秋实&#39;, &#39;刘红玉&#39;], [&#39;邹海瑞&#39;, &#39;华爱华&#39;], [&#39;郭宇&#39;, &#39;王晰巍&#39;, &#39;贺伟&#39;, &#39;杨梦晴&#39;], [&#39;蒋建武&#39;, &#39;李南才&#39;], [&#39;朱宗乾&#39;, &#39;管婧莹&#39;, &#39;孙超&#39;], [&#39;赵民志&#39;], [&#39;朱丹红&#39;, &#39;黄少华&#39;], [&#39;张璐&#39;, &#39;长青&#39;, &#39;齐二石&#39;], [&#39;钮钦&#39;, &#39;钟新&#39;], [&#39;胡小洋&#39;, &#39;李小涛&#39;, &#39;余厚强&#39;, &#39;邱均平&#39;], [&#39;杜全生&#39;], [&#39;李玉&#39;], [&#39;肖学斌&#39;], [&#39;王凤仙&#39;], [&#39;梁春阳&#39;], [&#39;王超&#39;, &#39;韩明杰&#39;, &#39;李晨英&#39;, &#39;赵勇&#39;], [&#39;刘娅&#39;, &#39;佟贺丰&#39;], [&#39;鲍玉芳&#39;, &#39;马建霞&#39;], [&#39;唐川&#39;, &#39;唐卷&#39;, &#39;房俊民&#39;, &#39;刘春江&#39;], [&#39;许强&#39;, &#39;李恩科&#39;, &#39;王帮金&#39;, &#39;李海英&#39;], [&#39;刘偲偲&#39;], [&#39;郑淑芬&#39;, &#39;朱玉奴&#39;, &#39;缪家鼎&#39;], [&#39;朱亮&#39;, &#39;孟宪学&#39;, &#39;赵瑞雪&#39;, &#39;寇远涛&#39;, &#39;鲜国建&#39;], [&#39;徐久香&#39;, &#39;拓晓瑞&#39;], [&#39;王国华&#39;, &#39;武亚楠&#39;, &#39;钟声扬&#39;, &#39;杨腾飞&#39;], [&#39;罗润东&#39;, &#39;徐丹丹&#39;], [&#39;朱尖&#39;, &#39;苗威&#39;], [&#39;陈芳芳&#39;, &#39;余世英&#39;], [&#39;吴小节&#39;, &#39;杨书燕&#39;, &#39;汪秀琼&#39;], [&#39;温芳芳&#39;], [&#39;李红满&#39;, &#39;王哲&#39;], [&#39;崔建强&#39;, &#39;李勇勤&#39;, &#39;刘红霞&#39;, &#39;刘文娟&#39;], [&#39;盛春蕾&#39;, &#39;李晓明&#39;, &#39;刘峥&#39;], [&#39;侯元元&#39;, &#39;黄裕荣&#39;, &#39;张红&#39;, &#39;吕华侨&#39;], [&#39;明均仁&#39;, &#39;杨艳妮&#39;, &#39;余世英&#39;], [&#39;李荣日&#39;, &#39;段娟娟&#39;, &#39;李平&#39;], [&#39;李燕波&#39;], [&#39;杨静&#39;, &#39;路思&#39;], [&#39;冉华&#39;, &#39;王凤仙&#39;], [&#39;李思志&#39;, &#39;李佳骏&#39;, &#39;李艳红&#39;], [&#39;戴湘毅&#39;, &#39;唐承财&#39;, &#39;刘家明&#39;, &#39;朱爱琴&#39;], [&#39;肖明&#39;, &#39;孔成果&#39;], [&#39;袁晓园&#39;, &#39;华薇娜&#39;], [&#39;马仁杰&#39;, &#39;路思&#39;], [&#39;周承聪&#39;, &#39;夏文贵&#39;], [&#39;张莉&#39;, &#39;朱庆华&#39;, &#39;徐孝娟&#39;], [&#39;张立伟&#39;, &#39;姜春林&#39;], [&#39;孙玉伟&#39;, &#39;刘昌荣&#39;, &#39;吴继伟&#39;], [&#39;魏一鸣&#39;, &#39;袁潇晨&#39;, &#39;吴刚&#39;, &#39;杨列勋&#39;], [&#39;李秋云&#39;, &#39;韩国圣&#39;, &#39;张爱平&#39;, &#39;徐虹&#39;], [&#39;任红娟&#39;], [&#39;杨丽萍&#39;, &#39;蒋欣&#39;, &#39;毕新&#39;], [&#39;丁佐奇&#39;, &#39;缪宏建&#39;], [&#39;刘意&#39;, &#39;龚蛟腾&#39;], [&#39;陈新民&#39;], [&#39;严中华&#39;, &#39;鄢平&#39;, &#39;李斌宁&#39;], [&#39;王晴&#39;], [&#39;任增元&#39;, &#39;施婷&#39;], [&#39;刘虹&#39;, &#39;徐嘉莹&#39;], [&#39;樊晓杰&#39;, &#39;王一珉&#39;], [&#39;汪潘义&#39;, &#39;吴凤平&#39;], [&#39;薛晓丽&#39;, &#39;武夷山&#39;], [&#39;潘芳&#39;, &#39;刘弋玮&#39;, &#39;仲伟俊&#39;], [&#39;胡笑梅&#39;, &#39;许媛媛&#39;], [&#39;宋丽萍&#39;, &#39;王建芳&#39;, &#39;王树义&#39;], [&#39;马费成&#39;, &#39;刘旻璇&#39;], [&#39;孙继伟&#39;, &#39;金晓玲&#39;], [&#39;邓荔萍&#39;], [&#39;徐迪&#39;], [&#39;陈蔚丽&#39;], [&#39;许海云&#39;, &#39;刘春江&#39;, &#39;雷炳旭&#39;, &#39;李灵慧&#39;, &#39;方曙&#39;], [&#39;顾笑迎&#39;, &#39;熊泽泉&#39;, &#39;周健&#39;, &#39;张静波&#39;], [&#39;王文平&#39;, &#39;刘云&#39;, &#39;蒋海军&#39;], [&#39;陈几香&#39;, &#39;李秋惠&#39;, &#39;关晓明&#39;], [&#39;王鑫&#39;, &#39;史静&#39;], [&#39;李泮泮&#39;, &#39;于晓敏&#39;], [&#39;高照军&#39;, &#39;李季&#39;, &#39;李继学&#39;], [&#39;杨天平&#39;, &#39;段晓敏&#39;], [&#39;李昊青&#39;], [&#39;李贺&#39;, &#39;袁翠敏&#39;, &#39;李亚峰&#39;], [&#39;王燕平&#39;], [&#39;孙健敏&#39;, &#39;焦海涛&#39;, &#39;赵简&#39;], [&#39;耿旭&#39;], [&#39;宋赛赛&#39;, &#39;刘云&#39;, &#39;杨芳娟&#39;, &#39;安菁&#39;], [&#39;刘彬&#39;, &#39;陈柳&#39;, &#39;袁佩佩&#39;], [&#39;徐良培&#39;, &#39;陶建平&#39;], [&#39;王磊&#39;], [&#39;赵云辉&#39;, &#39;崔新健&#39;], [&#39;蔡文伯&#39;, &#39;张倩&#39;], [&#39;耿鹏&#39;, &#39;汪勤俭&#39;, &#39;冷怀明&#39;], [&#39;李旭辉&#39;, &#39;李超&#39;, &#39;魏瑞斌&#39;], [&#39;颉茂华&#39;, &#39;焦守滨&#39;, &#39;果婕欣&#39;], [&#39;王国华&#39;, &#39;杨腾飞&#39;, &#39;钟声扬&#39;], [&#39;王飒&#39;, &#39;包丽颖&#39;], [&#39;赵勇&#39;, &#39;李晨英&#39;, &#39;韩明杰&#39;], [&#39;徐成&#39;, &#39;赵宇翔&#39;, &#39;朱庆华&#39;], [&#39;王立伟&#39;, &#39;郑军卫&#39;, &#39;赵纪东&#39;, &#39;刘学&#39;], [&#39;穆雷&#39;, &#39;邹兵&#39;], [&#39;马建华&#39;, &#39;莫京&#39;, &#39;刘筱敏&#39;, &#39;梁永霞&#39;], [&#39;刘元洪&#39;], [&#39;袭著燕&#39;, &#39;迟考勋&#39;, &#39;杨阜城&#39;], [&#39;张倩&#39;, &#39;蔡文伯&#39;], [&#39;盛立&#39;, &#39;孙宇&#39;, &#39;刁天喜&#39;], [&#39;李淑玲&#39;], [&#39;唐震&#39;, &#39;李芳&#39;], [&#39;刘辉&#39;], [&#39;孙玉伟&#39;], [&#39;王军&#39;], [&#39;王雪梅&#39;, &#39;李新&#39;, &#39;张志强&#39;, &#39;马明国&#39;], [&#39;任增元&#39;, &#39;陈晓光&#39;, &#39;靖继鹏&#39;], [&#39;彭宗超&#39;, &#39;邵东珂&#39;, &#39;毛佩瑾&#39;], [&#39;赵俊芳&#39;, &#39;姜帆&#39;], [&#39;张翔&#39;, &#39;王璨&#39;], [&#39;王钢&#39;, &#39;张科&#39;, &#39;张伯阳&#39;], [&#39;滕广青&#39;, &#39;牟冬梅&#39;, &#39;任晶&#39;], [&#39;赵飞&#39;, &#39;艾春艳&#39;, &#39;游越&#39;, &#39;刘素清&#39;], [&#39;罗晓梅&#39;, &#39;黄鲁成&#39;], [&#39;罗润东&#39;, &#39;沈君&#39;, &#39;徐丹丹&#39;], [&#39;曹会聪&#39;, &#39;朱立禄&#39;, &#39;王桂敏&#39;], [&#39;李迎迎&#39;, &#39;王焕景&#39;, &#39;郑春厚&#39;], [&#39;孙玉伟&#39;, &#39;刘昌荣&#39;, &#39;朱玉强&#39;], [&#39;张立&#39;], [&#39;杜文军&#39;, &#39;常艳&#39;], [&#39;张媛&#39;, &#39;蔡建东&#39;], [&#39;姜春林&#39;], [&#39;李欣&#39;, &#39;黄鲁成&#39;], [&#39;李昊青&#39;], [&#39;张俊艳&#39;, &#39;祝文超&#39;], [&#39;徐迪&#39;], [&#39;仉晓红&#39;], [&#39;倪萍&#39;, &#39;涂中群&#39;, &#39;陆宇宏&#39;], [&#39;隋桂玲&#39;], [&#39;张伯阳&#39;, &#39;张科&#39;, &#39;王钢&#39;], [&#39;戴海琦&#39;, &#39;谢美华&#39;, &#39;丁树良&#39;], [&#39;尚悦&#39;, &#39;曾润喜&#39;], [&#39;任增元&#39;, &#39;安泽会&#39;], [&#39;赵春辉&#39;], [&#39;刘晓坤&#39;, &#39;任俊革&#39;], [&#39;朱尖&#39;, &#39;李乐营&#39;, &#39;张桂元&#39;], [&#39;司晓悦&#39;, &#39;王颖&#39;], [&#39;沈小玲&#39;, &#39;徐勇&#39;, &#39;严卫中&#39;], [&#39;杨彭&#39;], [&#39;魏志华&#39;, &#39;林亚清&#39;, &#39;吴育辉&#39;, &#39;李常青&#39;], [&#39;严贝妮&#39;, &#39;胡雪环&#39;], [&#39;孙晓宁&#39;, &#39;储节旺&#39;], [&#39;马万顺&#39;, &#39;孙鹏&#39;], [&#39;陈巧云&#39;, &#39;李艺&#39;], [&#39;王正晶&#39;], [&#39;任全娥&#39;], [&#39;杨红英&#39;, &#39;卢石&#39;], [&#39;朱永跃&#39;, &#39;马志强&#39;, &#39;唐青&#39;, &#39;刘兵&#39;], [&#39;范少萍&#39;, &#39;李迎迎&#39;, &#39;张志强&#39;], [&#39;张忠华&#39;, &#39;包阳&#39;, &#39;刘云&#39;], [&#39;霍宏&#39;, &#39;钱俊龙&#39;], [&#39;蔡文伯&#39;, &#39;刘曼&#39;], [&#39;赵纪东&#39;, &#39;郑军卫&#39;], [&#39;陈建俞&#39;, &#39;刘少雪&#39;, &#39;赵慧&#39;], [&#39;盛亚&#39;, &#39;徐璇&#39;], [&#39;马晨峰&#39;, &#39;谷祖莎&#39;, &#39;沈君&#39;], [&#39;刘记飞&#39;, &#39;刘兰杰&#39;, &#39;葛秋萍&#39;], [&#39;陈梦媛&#39;], [&#39;王晰巍&#39;, &#39;靖继鹏&#39;, &#39;王韦玮&#39;], [&#39;周群&#39;, &#39;左文革&#39;, &#39;陈仕吉&#39;], [&#39;刘小兵&#39;], [&#39;仉晓红&#39;], [&#39;罗亚泓&#39;], [&#39;焦豪&#39;, &#39;王情&#39;], [&#39;李玉明&#39;, &#39;梁秀香&#39;], [&#39;曹霞&#39;, &#39;陈云香&#39;, &#39;杨华&#39;], [&#39;丁伟国&#39;], [&#39;姚莉&#39;], [&#39;周金元&#39;, &#39;刘兵&#39;, &#39;唐青&#39;], [&#39;张雪梅&#39;, &#39;过仕明&#39;, &#39;高洁宁&#39;], [&#39;肖荣荣&#39;], [&#39;刘佳音&#39;], [&#39;蔡文伯&#39;, &#39;刘曼&#39;], [&#39;朱强&#39;, &#39;赵静&#39;, &#39;汪晓&#39;], [&#39;黄英君&#39;, &#39;赵雄&#39;, &#39;李江艳&#39;], [&#39;张忠华&#39;, &#39;刘云&#39;], [&#39;孙雨生&#39;, &#39;陈卫&#39;], [&#39;郑烨&#39;, &#39;胡春萍&#39;, &#39;王颖迪&#39;], [&#39;王晴&#39;], [&#39;赵光伟&#39;], [&#39;刘敖莉&#39;, &#39;董乃全&#39;], [&#39;李镜镜&#39;, &#39;张志强&#39;], [&#39;朱庆平&#39;, &#39;钱万强&#39;, &#39;江海燕&#39;], [&#39;王占奇&#39;], [&#39;朱亮&#39;, &#39;孟宪学&#39;], [&#39;赵路平&#39;, &#39;姚占雷&#39;], [&#39;陈燕&#39;, &#39;朱凡&#39;], [&#39;刘东晓&#39;, &#39;郑彦宁&#39;, &#39;赵筱媛&#39;, &#39;刘志辉&#39;], [&#39;王晶晶&#39;], [&#39;张静&#39;, &#39;王晶晶&#39;], [&#39;徐一方&#39;, &#39;许鑫&#39;, &#39;侯仕军&#39;], [&#39;陈汉轮&#39;], [&#39;魏晓峰&#39;], [&#39;沈艳红&#39;, &#39;张群&#39;, &#39;张娣&#39;], [&#39;滕瀚&#39;, &#39;曾天山&#39;], [&#39;赵天娇&#39;, &#39;符绍宏&#39;], [&#39;张增田&#39;, &#39;杨惠&#39;], [&#39;韩红旗&#39;, &#39;安小米&#39;], [&#39;苏燕&#39;, &#39;孙继林&#39;, &#39;于建荣&#39;, &#39;徐萍&#39;], [&#39;刘中梅&#39;, &#39;王续琨&#39;], [&#39;陈忠海&#39;, &#39;娄晶晶&#39;], [&#39;王栋&#39;, &#39;汪祖柱&#39;, &#39;龚彬炜&#39;], [&#39;党兰学&#39;], [&#39;迟凤玲&#39;], [&#39;梁花侠&#39;, &#39;白君礼&#39;], [&#39;张文学&#39;, &#39;王莉仙&#39;], [&#39;赵纪东&#39;, &#39;郑军卫&#39;], [&#39;黄筱玲&#39;, &#39;陈瑛&#39;], [&#39;周金元&#39;, &#39;陆小妹&#39;], [&#39;郝成淼&#39;], [&#39;李元&#39;, &#39;王伟&#39;], [&#39;卢青&#39;, &#39;李娜&#39;, &#39;武旭&#39;], [&#39;马建华&#39;, &#39;莫京&#39;], [&#39;刘炜&#39;, &#39;樊霞&#39;, &#39;吴进&#39;], [&#39;季淑娟&#39;, &#39;董月玲&#39;, &#39;张丽英&#39;], [&#39;李琼&#39;, &#39;林丽珊&#39;, &#39;魏如檀&#39;], [&#39;吴小兰&#39;], [&#39;钱俊龙&#39;, &#39;谢燕&#39;, &#39;潘小伦&#39;, &#39;熊樱菲&#39;], [&#39;安丽芝&#39;], [&#39;郝屹&#39;], [&#39;葛扬&#39;, &#39;侯祥鹏&#39;], [&#39;戚晓明&#39;, &#39;周应恒&#39;], [&#39;肖明&#39;, &#39;陈嘉勇&#39;, &#39;李国俊&#39;], [&#39;张克忠&#39;], [&#39;张青&#39;], [&#39;李武&#39;], [&#39;柴江&#39;], [&#39;魏瑞斌&#39;], [&#39;余思韵&#39;], [&#39;盛春蕾&#39;, &#39;李晓明&#39;, &#39;尹晓敏&#39;, &#39;贾淑霞&#39;], [&#39;储节旺&#39;, &#39;孙晓宁&#39;], [&#39;周卫华&#39;, &#39;林彦汝&#39;], [&#39;杨绎&#39;], [&#39;曹烃&#39;], [&#39;陈忠卫&#39;, &#39;马振英&#39;], [&#39;谷玉华&#39;, &#39;文娟&#39;], [&#39;周芳&#39;, &#39;常军民&#39;, &#39;高丽&#39;], [&#39;关朝晖&#39;, &#39;魏勇&#39;], [&#39;郑忠梅&#39;], [&#39;周建芳&#39;, &#39;刘桂芳&#39;], [&#39;俞立平&#39;, &#39;隆新文&#39;, &#39;武夷山&#39;], [&#39;杨红岗&#39;, &#39;苏楠&#39;, &#39;吴银雪&#39;, &#39;杨林&#39;], [&#39;杜慰纯&#39;, &#39;雷庆&#39;], [&#39;王丽婷&#39;], [&#39;叶宏明&#39;, &#39;麦林&#39;], [&#39;卢石&#39;, &#39;杨海燕&#39;, &#39;杨红英&#39;, &#39;余文雯&#39;], [&#39;王根&#39;, &#39;李金波&#39;], [&#39;高瑞&#39;], [&#39;李朝奎&#39;, &#39;李吟&#39;, &#39;汤国安&#39;, &#39;杨刚&#39;, &#39;李拥&#39;], [&#39;魏瑞斌&#39;, &#39;武夷山&#39;], [&#39;王燕平&#39;], [&#39;冯一丹&#39;, &#39;冯济德&#39;], [&#39;官凤婷&#39;], [&#39;李萍&#39;], [&#39;孔繁秀&#39;, &#39;周晓艳&#39;], [&#39;李伟基&#39;], [&#39;杨建华&#39;], [&#39;刘建军&#39;, &#39;张福勇&#39;], [&#39;沈艳红&#39;, &#39;张娣&#39;], [&#39;余江&#39;, &#39;陈凯华&#39;], [&#39;欧亮&#39;, &#39;万慕晨&#39;], [&#39;沈艳红&#39;], [&#39;路青&#39;, &#39;崔新春&#39;, &#39;胡艳波&#39;], [&#39;杜刚&#39;, &#39;孙作人&#39;, &#39;苗建军&#39;], [&#39;申彦舒&#39;], [&#39;袁建霞&#39;, &#39;董瑜&#39;, &#39;张博&#39;, &#39;邢颖&#39;, &#39;张薇&#39;], [&#39;王雪梅&#39;], [&#39;项国鹏&#39;, &#39;迟考勋&#39;, &#39;葛文霞&#39;], [&#39;尚新丽&#39;, &#39;史双青&#39;], [&#39;周文杰&#39;], [&#39;惠志斌&#39;], [&#39;漆凌云&#39;, &#39;杨秋丽&#39;], [&#39;刘丹雯&#39;], [&#39;赵永芬&#39;], [&#39;高奎亭&#39;, &#39;孙庆祝&#39;, &#39;刘红建&#39;], [&#39;姚梅芳&#39;, &#39;张萌萌&#39;], [&#39;彭希羡&#39;, &#39;孙霄凌&#39;, &#39;朱庆华&#39;], [&#39;冯瑶&#39;, &#39;王立洪&#39;], [&#39;余少瑛&#39;], [&#39;周英&#39;, &#39;白莉&#39;], [&#39;冯瑶&#39;, &#39;王立洪&#39;, &#39;董其军&#39;], [&#39;周文杰&#39;, &#39;于斌斌&#39;], [&#39;岳秀丽&#39;, &#39;靳宏博&#39;], [&#39;潘珩&#39;], [&#39;刘玉梅&#39;, &#39;王正兴&#39;], [&#39;王超&#39;, &#39;高娟&#39;, &#39;兰月新&#39;], [&#39;徐军&#39;, &#39;冯驹敏&#39;], [&#39;高娟&#39;, &#39;王超&#39;, &#39;兰月新&#39;], [&#39;董志宏&#39;, &#39;扁柯潇&#39;, &#39;林立瑛&#39;, &#39;兰月新&#39;], [&#39;扁柯潇&#39;, &#39;董志宏&#39;, &#39;林立瑛&#39;, &#39;兰月新&#39;], [&#39;林立瑛&#39;, &#39;扁柯潇&#39;, &#39;董志宏&#39;, &#39;兰月新&#39;], [&#39;冯瑶&#39;, &#39;王立洪&#39;], [&#39;宋丽萍&#39;, &#39;王建芳&#39;], [&#39;于康平&#39;], [&#39;赵鑫&#39;, &#39;付丽&#39;, &#39;周仁来&#39;], [&#39;胡承立&#39;, &#39;张韦&#39;], [&#39;何怡&#39;, &#39;张广华&#39;, &#39;崔雷&#39;, &#39;方丽&#39;], [&#39;霍跃红&#39;], [&#39;吴卫华&#39;, &#39;李亚君&#39;, &#39;秦荣环&#39;, &#39;毕长泉&#39;], [&#39;蒋君&#39;], [&#39;范丽娟&#39;, &#39;温素彬&#39;], [&#39;李朝旭&#39;, &#39;于振&#39;, &#39;张伟&#39;, &#39;戚静&#39;], [&#39;季淑娟&#39;, &#39;董月玲&#39;, &#39;王晓丽&#39;], [&#39;邓荔萍&#39;], [&#39;施李丽&#39;], [&#39;冯瑶&#39;, &#39;解烈军&#39;, &#39;董其军&#39;], [&#39;傅娟&#39;, &#39;郝伟龙&#39;], [&#39;魏勇&#39;, &#39;关朝晖&#39;], [&#39;熊则见&#39;, &#39;杨敏&#39;, &#39;赵雯&#39;], [&#39;张妍妍&#39;, &#39;王敏&#39;], [&#39;俞立平&#39;, &#39;隆新文&#39;, &#39;武夷山&#39;], [&#39;鲍国海&#39;], [&#39;李国俊&#39;, &#39;刘恩涛&#39;, &#39;肖明&#39;], [&#39;韦忠明&#39;], [&#39;王珏辉&#39;, &#39;矫艳萍&#39;, &#39;李向梅&#39;], [&#39;高巍&#39;, &#39;毕克新&#39;], [&#39;沈君&#39;, &#39;王续琨&#39;, &#39;高继平&#39;, &#39;滕立&#39;, &#39;林德明&#39;], [&#39;石本仁&#39;, &#39;杨志强&#39;, &#39;石水平&#39;], [&#39;赵捧未&#39;, &#39;史博文&#39;], [&#39;马宁&#39;, &#39;严根荣&#39;], [&#39;李昊青&#39;, &#39;夏一雪&#39;, &#39;郭其云&#39;, &#39;董希琳&#39;], [&#39;贾东琴&#39;, &#39;董伟&#39;], [&#39;郭云辉&#39;, &#39;乔娟&#39;], [&#39;杨槐&#39;], [&#39;王曰芬&#39;, &#39;曹艺&#39;], [&#39;周炀茗&#39;, &#39;水超&#39;, &#39;孙智信&#39;, &#39;黄强&#39;], [&#39;赵小风&#39;, &#39;黄贤金&#39;], [&#39;朱云霞&#39;, &#39;魏建香&#39;], [&#39;孙丽娟&#39;, &#39;川蓉&#39;], [&#39;刘桂锋&#39;, &#39;王秀红&#39;], [&#39;栾春娟&#39;, &#39;罗海山&#39;], [&#39;杨彩霞&#39;], [&#39;陈世海&#39;], [&#39;顾珩&#39;, &#39;姜超&#39;, &#39;兰月新&#39;], [&#39;汤宏波&#39;, &#39;段磊&#39;, &#39;刘莹&#39;], [&#39;安丽芝&#39;], [&#39;任芳名&#39;, &#39;尚荣&#39;, &#39;兰月新&#39;], [&#39;姜超&#39;, &#39;顾珩&#39;, &#39;兰月新&#39;], [&#39;柯健&#39;, &#39;李超&#39;], [&#39;刘华&#39;], [&#39;顾立平&#39;], [&#39;唐小利&#39;, &#39;杜建&#39;, &#39;孙涛涛&#39;, &#39;张燕舞&#39;], [&#39;柯健&#39;, &#39;李超&#39;], [&#39;陶蕾&#39;], [&#39;林菡密&#39;, &#39;孙绍荣&#39;], [&#39;张可&#39;, &#39;张毅&#39;, &#39;钱岳芳&#39;], [&#39;岳秀丽&#39;, &#39;靳宏博&#39;, &#39;肖颖&#39;, &#39;柯强&#39;], [&#39;储节旺&#39;, &#39;郭春侠&#39;], [&#39;胡剑&#39;], [&#39;林燕&#39;], [&#39;巩海霞&#39;, &#39;王明芝&#39;, &#39;谷丽娜&#39;], [&#39;刘圣君&#39;, &#39;屈宝强&#39;], [&#39;车尧&#39;, &#39;张皓月&#39;], [&#39;奉国和&#39;, &#39;奉永桃&#39;], [&#39;黄东流&#39;, &#39;张旭&#39;, &#39;刘娅&#39;], [&#39;王芳&#39;], [&#39;邱均平&#39;, &#39;王菲菲&#39;], [&#39;李昊青&#39;], [&#39;蒋波&#39;, &#39;章菁华&#39;], [&#39;李利&#39;, &#39;唐淑香&#39;], [&#39;唐勇&#39;], [&#39;刘妮波&#39;, &#39;阮学平&#39;, &#39;孙灵芝&#39;], [&#39;张素芳&#39;, &#39;王宏&#39;], [&#39;李建辉&#39;, &#39;徐宏&#39;, &#39;梁宏&#39;, &#39;廖苹&#39;, &#39;马永生&#39;], [&#39;崔薇&#39;, &#39;曾润喜&#39;, &#39;王国华&#39;], [&#39;刘效梅&#39;], [&#39;李华&#39;, &#39;苏春萍&#39;], [&#39;姜华&#39;, &#39;叶涛&#39;, &#39;姜春林&#39;], [&#39;邓大松&#39;, &#39;何晖&#39;], [&#39;张忠民&#39;, &#39;阳欣哲&#39;, &#39;张国良&#39;], [&#39;俞青&#39;], [&#39;陈瑞芳&#39;], [&#39;徐红玉&#39;], [&#39;李武&#39;, &#39;董伟&#39;], [&#39;余丰民&#39;], [&#39;尹怀琼&#39;, &#39;孙振球&#39;], [&#39;鲍国海&#39;], [&#39;耿玉玲&#39;], [&#39;李华&#39;, &#39;李政&#39;, &#39;顾才东&#39;, &#39;石娟&#39;], [&#39;周勤&#39;, &#39;张红历&#39;, &#39;张慧巧&#39;], [&#39;范笑仙&#39;, &#39;汤建民&#39;], [&#39;查先进&#39;, &#39;曹晨&#39;], [&#39;吕红&#39;, &#39;马海群&#39;], [&#39;张桂山&#39;, &#39;孙宁宁&#39;, &#39;赵艳丽&#39;, &#39;陈文勇&#39;], [&#39;顾立平&#39;], [&#39;熊励&#39;, &#39;刘文&#39;, &#39;孙友霞&#39;, &#39;李莉&#39;], [&#39;赵卫&#39;], [&#39;陈新艳&#39;, &#39;郭玉强&#39;], [&#39;鲍国海&#39;], [&#39;侯经川&#39;, &#39;吴山&#39;], [&#39;刘娅&#39;], [&#39;孙仙阁&#39;], [&#39;邱均平&#39;, &#39;杨瑞仙&#39;], [&#39;姜春林&#39;, &#39;张春博&#39;, &#39;胡志刚&#39;], [&#39;黄鲁成&#39;, &#39;李剑&#39;], [&#39;冯琳&#39;], [&#39;鲍国海&#39;], [&#39;方征&#39;], [&#39;孙启贵&#39;, &#39;郑泉&#39;], [&#39;董琳&#39;], [&#39;乔振&#39;], [&#39;吴芹&#39;], [&#39;高耀&#39;, &#39;刘志民&#39;], [&#39;刘秋华&#39;, &#39;罗顺元&#39;], [&#39;包玉泽&#39;, &#39;谭力文&#39;, &#39;刘林青&#39;], [&#39;左亮亮&#39;, &#39;郭春侠&#39;, &#39;吴昌合&#39;], [&#39;谭翀&#39;, &#39;张亦慧&#39;], [&#39;龙叶&#39;, &#39;陶海宁&#39;], [&#39;罗鸣春&#39;, &#39;黄希庭&#39;, &#39;苏丹&#39;], [&#39;姚乐野&#39;, &#39;秦慧&#39;], [&#39;王超&#39;], [&#39;张云&#39;], [&#39;唐芳&#39;], [&#39;谢会昌&#39;], [&#39;汤建民&#39;], [&#39;李小敏&#39;, &#39;范帆&#39;], [&#39;王立学&#39;, &#39;冷伏海&#39;], [&#39;姜春林&#39;, &#39;李江波&#39;, &#39;杜维滨&#39;, &#39;刘则渊&#39;], [&#39;陈宏东&#39;, &#39;张春燕&#39;], [&#39;王建冬&#39;], [&#39;鲍国海&#39;], [&#39;任红娟&#39;, &#39;张志强&#39;], [&#39;刘娅&#39;], [&#39;翟亚锐&#39;, &#39;王俊英&#39;], [&#39;孔悦凡&#39;, &#39;李天月&#39;], [&#39;许洪军&#39;], [&#39;奉国和&#39;], [&#39;肖显静&#39;], [&#39;祝清松&#39;], [&#39;邱均平&#39;, &#39;刘华华&#39;], [&#39;任红娟&#39;, &#39;张志强&#39;], [&#39;陆晓红&#39;], [&#39;魏勇&#39;, &#39;徐延龙&#39;], [&#39;张薇&#39;, &#39;钟晟&#39;, &#39;张晓燕&#39;], [&#39;万晓霞&#39;], [&#39;孙仙阁&#39;], [&#39;鲍国海&#39;], [&#39;王彦明&#39;, &#39;奉永桃&#39;, &#39;奉国和&#39;], [&#39;许超&#39;, &#39;赵瑞雪&#39;], [&#39;李宁银&#39;], [&#39;刘振华&#39;], [&#39;蒋葵&#39;], [&#39;董琳&#39;], [&#39;陈燕&#39;, &#39;李锐&#39;], [&#39;李军&#39;], [&#39;赵鑫&#39;, &#39;张光楠&#39;, &#39;周仁来&#39;], [&#39;马少美&#39;, &#39;汪徽志&#39;, &#39;孔琛&#39;], [&#39;高伟玮&#39;], [&#39;栾春娟&#39;, &#39;侯海燕&#39;], [&#39;宋刚&#39;, &#39;王续琨&#39;, &#39;冯茹&#39;], [&#39;田玉晶&#39;], [&#39;李爱群&#39;, &#39;黄玉舫&#39;, &#39;邱均平&#39;], [&#39;林德明&#39;, &#39;刘则渊&#39;], [&#39;杨良斌&#39;, &#39;周秋菊&#39;, &#39;金碧辉&#39;], [&#39;肖荣荣&#39;, &#39;张凤斌&#39;], [&#39;郑乐丹&#39;], [&#39;谢东&#39;], [&#39;姜春林&#39;, &#39;杜维滨&#39;, &#39;李江波&#39;, &#39;刘则渊&#39;], [&#39;高彬&#39;, &#39;柴明颎&#39;], [&#39;鲍国海&#39;], [&#39;王曰芬&#39;], [&#39;姜春林&#39;, &#39;李江波&#39;, &#39;杜维滨&#39;], [&#39;孔繁秀&#39;, &#39;张若蓉&#39;], [&#39;林丹明&#39;, &#39;梁强&#39;, &#39;姚明安&#39;, &#39;徐宗玲&#39;, &#39;吴乐群&#39;], [&#39;刘志辉&#39;], [&#39;虞飞华&#39;], [&#39;邱均平&#39;, &#39;苏金燕&#39;], [&#39;夏志锋&#39;, &#39;李秋实&#39;, &#39;周秀会&#39;], [&#39;黄宝晟&#39;], [&#39;朱庆华&#39;, &#39;晏尔伽&#39;, &#39;黄奇&#39;], [&#39;鲍国海&#39;], [&#39;潘魏伟&#39;], [&#39;张蓉&#39;, &#39;张行勇&#39;], [&#39;向节玉&#39;, &#39;兰小筠&#39;], [&#39;景晶&#39;], [&#39;孙志茹&#39;, &#39;张志强&#39;], [&#39;鲍国海&#39;], [&#39;肖红&#39;], [&#39;邱均平&#39;, &#39;苏金燕&#39;, &#39;熊尊妍&#39;], [&#39;王巧玲&#39;, &#39;钟永恒&#39;, &#39;江洪&#39;], [&#39;陈侠&#39;, &#39;王立荣&#39;, &#39;王惠翔&#39;], [&#39;廖胜姣&#39;, &#39;肖仙桃&#39;], [&#39;岳洪江&#39;, &#39;刘思峰&#39;, &#39;梁立明&#39;], [&#39;鲍国海&#39;], [&#39;汤京华&#39;, &#39;青海&#39;], [&#39;王吉武&#39;, &#39;黄鲁成&#39;, &#39;卢文光&#39;], [&#39;陈侠&#39;, &#39;王惠翔&#39;, &#39;梁滨&#39;], [&#39;刘君&#39;, &#39;金梅&#39;], [&#39;鲍国海&#39;], [&#39;张康生&#39;], [&#39;汪静媛&#39;], [&#39;范丽雯&#39;, &#39;孙良吉&#39;, &#39;陈继东&#39;], [&#39;董琳&#39;, &#39;刘清&#39;], [&#39;董琳&#39;, &#39;刘清&#39;], [&#39;张明&#39;, &#39;仲东亭&#39;], [&#39;卢福泉&#39;], [&#39;赵波&#39;, &#39;周传敬&#39;], [&#39;陈大明&#39;, &#39;肖宏&#39;], [&#39;化柏林&#39;], [&#39;晏尔伽&#39;, &#39;朱庆华&#39;], [&#39;周春雷&#39;, &#39;王伟军&#39;, &#39;成江东&#39;], [&#39;曹晓萍&#39;, &#39;张芳琴&#39;], [&#39;陈清文&#39;, &#39;黄田青&#39;], [&#39;王静&#39;, &#39;王宏鑫&#39;], [&#39;张界明&#39;], [&#39;陈发俊&#39;, &#39;史玉民&#39;, &#39;徐飞&#39;], [&#39;化柏林&#39;], [&#39;陈春&#39;, &#39;肖仙桃&#39;, &#39;孙成权&#39;], [&#39;化柏林&#39;], [&#39;杨广锋&#39;], [&#39;周宇梅&#39;, &#39;王丽琳&#39;], [&#39;万明钢&#39;, &#39;赵国军&#39;, &#39;杨俊龙&#39;], [&#39;“21世纪中国管理学发展研究”课题组&#39;, &#39;黄速建&#39;, &#39;黄群慧&#39;, &#39;张蒽&#39;, &#39;钟宏武&#39;, &#39;焦淑艳&#39;, &#39;朱昊伟&#39;], [&#39;邓尚民&#39;, &#39;孙玉伟&#39;], [&#39;陈太洋&#39;], [&#39;李长玲&#39;, &#39;化柏林&#39;], [&#39;季山&#39;, &#39;胡致强&#39;], [&#39;万明钢&#39;, &#39;王舟&#39;], [&#39;黄紫菲&#39;], [&#39;周凤华&#39;, &#39;朱雪忠&#39;], [&#39;王晓光&#39;], [&#39;郑文晖&#39;], [&#39;姜春林&#39;], [&#39;禇金涛&#39;], [&#39;肖仙桃&#39;, &#39;孙成权&#39;, &#39;赵波&#39;, &#39;田晓阳&#39;, &#39;郑玉荣&#39;, &#39;赵勇&#39;, &#39;阎惠红&#39;], [&#39;张维&#39;, &#39;李帅&#39;, &#39;熊熊&#39;, &#39;邱勇&#39;, &#39;黄华卿&#39;, &#39;钮元新&#39;, &#39;邢恩泉&#39;], [&#39;邱均平&#39;, &#39;马瑞敏&#39;], [&#39;王娟&#39;, &#39;佐斌&#39;], [&#39;燕辉&#39;], [&#39;“21世纪中国管理学发展研究”课题组&#39;], [&#39;袁顺波&#39;, &#39;董文鸳&#39;], [&#39;王曰芬&#39;, &#39;路菲&#39;, &#39;吴小雷&#39;], [&#39;朱少强&#39;, &#39;邱均平&#39;], [&#39;王曰芬&#39;, &#39;颜端武&#39;, &#39;路菲&#39;], [&#39;万锦堃&#39;, &#39;花平寰&#39;, &#39;孙秀坤&#39;], [&#39;方志蓉&#39;], [&#39;张德存&#39;], [&#39;邱均平&#39;, &#39;张凯勇&#39;], [&#39;徐云&#39;], [&#39;徐云&#39;], [&#39;雷洪德&#39;], [&#39;闫惠红&#39;, &#39;肖仙桃&#39;, &#39;孙成权&#39;], [&#39;赵蓉英&#39;], [&#39;孙继林&#39;], [&#39;严贝妮&#39;], [&#39;牟华&#39;, &#39;侯延香&#39;], [&#39;马建华&#39;], [&#39;张薇薇&#39;], [&#39;刘作仪&#39;], [&#39;乔文明&#39;, &#39;索大武&#39;], [&#39;刘玉照&#39;, &#39;孟献智&#39;], [&#39;陈维军&#39;], [&#39;党亚茹&#39;], [&#39;张建华&#39;, &#39;胡晓云&#39;, &#39;刘霞&#39;, &#39;刘贤龙&#39;, &#39;胡国亮&#39;], [&#39;刘君&#39;], [&#39;安雪慧&#39;], [&#39;刘磊&#39;], [&#39;邹常诗&#39;], [&#39;陈杰&#39;]]listlist鲍国海    11邱均平    10黄鲁成     8姜春林     8兰月新     8张志强     6刘云      5冯瑶      5任增元     5沈君      5Name: 0, dtype: int64</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># #### 年份和期刊统计</span></span><br><span class="line">WXdata.Source.value_counts()[:<span class="number">10</span>]</span><br><span class="line">WXdata.Year.value_counts().plot(kind=<span class="string">&#x27;barh&#x27;</span>)</span><br></pre></td></tr></table></figure><pre><code>现代情报        75情报科学        74情报杂志        58图书情报工作      50中国科技期刊研究    37科技管理研究      28图书馆工作与研究    18图书馆理论与实践    17情报理论与实践     15新世纪图书馆      15Name: Source, dtype: int64&lt;AxesSubplot:&gt;</code></pre><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112101442629.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ## 知识图谱和科研管理</span></span><br><span class="line"><span class="comment"># ### 科研管理评价</span></span><br><span class="line">NKYWX=pd.read_excel(<span class="string">&#x27;PyDm_data.xlsx&#x27;</span>,<span class="string">&#x27;NKYWX&#x27;</span>);</span><br><span class="line">NKYWX.shape</span><br><span class="line">NKYWX.columns</span><br><span class="line">NKYWX.iloc[:,:<span class="number">2</span>].head()</span><br></pre></td></tr></table></figure><pre><code>(4368, 8)Index([&#39;Title&#39;, &#39;Author&#39;, &#39;Organ&#39;, &#39;Source&#39;, &#39;Keyword&#39;, &#39;FirstDuty&#39;, &#39;Fund&#39;, &#39;Year&#39;], dtype=&#39;object&#39;)</code></pre><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>Title</th>      <th>Author</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>乡村振兴的战略关键点及其路径</td>      <td>刘合光;</td>    </tr>    <tr>      <th>1</th>      <td>转基因玉米和转基因大豆盲样检测方法</td>      <td>李丽娜;金龙国;谢传晓;刘昌林;</td>    </tr>    <tr>      <th>2</th>      <td>桔梗的体外抗氧化活性及总多酚和黄酮苷元含量分析</td>      <td>朴向民;于营;Sin-Hee Han;Sang-Won Lee;王英平;郭靖;</td>    </tr>    <tr>      <th>3</th>      <td>未培养微生物分离培养技术研究进展</td>      <td>邢磊;赵圣国;郑楠;李松励;王加启;</td>    </tr>    <tr>      <th>4</th>      <td>食用植物油中转基因成分检测技术研究进展</td>      <td>李允静;肖芳;邵林;武玉花;万丹凤;吴刚;</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">NKYDW=pd.read_excel(<span class="string">&#x27;PyDm_data.xlsx&#x27;</span>,<span class="string">&#x27;NKYDW&#x27;</span>);</span><br><span class="line">NKYDW.head()</span><br><span class="line"><span class="comment">#fund=pd.read_excel(&#x27;PyDm_data.xlsx&#x27;,&#x27;fund&#x27;);</span></span><br><span class="line"><span class="comment">#fund.基金名称.head()</span></span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>单位</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>作物科学研究所</td>    </tr>    <tr>      <th>1</th>      <td>植物保护研究所</td>    </tr>    <tr>      <th>2</th>      <td>蔬菜花卉研究所</td>    </tr>    <tr>      <th>3</th>      <td>农业环境与可持续发展研究所</td>    </tr>    <tr>      <th>4</th>      <td>北京畜牧兽医研究所</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">organ=list_split(NKYWX[<span class="string">&#x27;Organ&#x27;</span>],<span class="string">&#x27;;&#x27;</span>)</span><br><span class="line">data1=pd.DataFrame([[i,search_university(organ,i)] <span class="keyword">for</span> i <span class="keyword">in</span> NKYDW[<span class="string">&#x27;单位&#x27;</span>]])</span><br><span class="line">data1.rename(columns=&#123;<span class="number">0</span>:<span class="string">&#x27;单位&#x27;</span>,<span class="number">1</span>:<span class="string">&#x27;频数&#x27;</span>&#125;,inplace=<span class="literal">True</span>)</span><br><span class="line">data1.sort_values(by=<span class="string">&#x27;频数&#x27;</span>,ascending = <span class="literal">False</span>)[:<span class="number">8</span>]</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>单位</th>      <th>频数</th>    </tr>  </thead>  <tbody>    <tr>      <th>10</th>      <td>农业资源与农业区划研究所</td>      <td>323</td>    </tr>    <tr>      <th>20</th>      <td>果树研究所</td>      <td>310</td>    </tr>    <tr>      <th>11</th>      <td>农业信息研究所</td>      <td>253</td>    </tr>    <tr>      <th>4</th>      <td>北京畜牧兽医研究所</td>      <td>245</td>    </tr>    <tr>      <th>9</th>      <td>农业经济与发展研究所</td>      <td>243</td>    </tr>    <tr>      <th>0</th>      <td>作物科学研究所</td>      <td>221</td>    </tr>    <tr>      <th>1</th>      <td>植物保护研究所</td>      <td>219</td>    </tr>    <tr>      <th>28</th>      <td>特产研究所</td>      <td>187</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">jijin=list_split(NKYWX[<span class="string">&#x27;Fund&#x27;</span>].dropna(axis=<span class="number">0</span>,how=<span class="string">&#x27;all&#x27;</span>).tolist(),<span class="string">&#x27;;;&#x27;</span>)</span><br><span class="line">data2=pd.DataFrame([[i,search_university(jijin,i)] <span class="keyword">for</span> i <span class="keyword">in</span> fund[<span class="string">&#x27;基金名称&#x27;</span>]])</span><br><span class="line">data2.rename(columns=&#123;<span class="number">0</span>:<span class="string">&#x27;学校名称&#x27;</span>,<span class="number">1</span>:<span class="string">&#x27;频数&#x27;</span>&#125;,inplace=<span class="literal">True</span>)</span><br><span class="line">data2.sort_values(by=<span class="string">&#x27;频数&#x27;</span>,ascending = <span class="literal">False</span>)[:<span class="number">12</span>]</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>学校名称</th>      <th>频数</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>国家自然科学基金</td>      <td>1043</td>    </tr>    <tr>      <th>3</th>      <td>国家科技支撑计划</td>      <td>263</td>    </tr>    <tr>      <th>5</th>      <td>国家社会科学基金</td>      <td>45</td>    </tr>    <tr>      <th>6</th>      <td>国家重点基础研究发展计划(973计划)</td>      <td>25</td>    </tr>    <tr>      <th>1</th>      <td>国家高技术研究发展计划(863计划)</td>      <td>23</td>    </tr>    <tr>      <th>20</th>      <td>农业部软科学研究项目</td>      <td>12</td>    </tr>    <tr>      <th>72</th>      <td>农业部“948”项目</td>      <td>9</td>    </tr>    <tr>      <th>46</th>      <td>国家留学基金</td>      <td>5</td>    </tr>    <tr>      <th>26</th>      <td>国家星火计划</td>      <td>4</td>    </tr>    <tr>      <th>38</th>      <td>农业科技成果转化资金</td>      <td>3</td>    </tr>    <tr>      <th>47</th>      <td>高等学校博士学科点专项科研基金</td>      <td>2</td>    </tr>    <tr>      <th>7</th>      <td>攀登计划</td>      <td>1</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">author=list_replace(NKYWX[<span class="string">&#x27;Author&#x27;</span>].dropna(axis=<span class="number">0</span>,how=<span class="string">&#x27;all&#x27;</span>).tolist(),<span class="string">&#x27;,&#x27;</span>,<span class="string">&#x27;;&#x27;</span>)</span><br><span class="line">author1=list_split(author,<span class="string">&#x27;;&#x27;</span>)</span><br><span class="line">author2=<span class="built_in">sum</span>(author1,[])</span><br><span class="line">pd.DataFrame(author2)[<span class="number">0</span>].value_counts()[:<span class="number">5</span>]</span><br></pre></td></tr></table></figure><pre><code>刁其玉    49李俊     26张杰     25王静     25王磊     24Name: 0, dtype: int64</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">keyword=list_split(NKYWX[<span class="string">&#x27;Keyword&#x27;</span>].dropna(axis=<span class="number">0</span>,how=<span class="string">&#x27;all&#x27;</span>).tolist(),<span class="string">&#x27;;;&#x27;</span>)</span><br><span class="line">keyword1=<span class="built_in">sum</span>(keyword,[])</span><br><span class="line">pd.DataFrame(keyword1)[<span class="number">0</span>].value_counts()[:<span class="number">5</span>]</span><br></pre></td></tr></table></figure><pre><code>产量    92棉花    85玉米    56品质    55小麦    47Name: 0, dtype: int64</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">NKYWX.Source.value_counts()[:<span class="number">5</span>]</span><br></pre></td></tr></table></figure><pre><code>动物营养学报      116中国农业科学      112中国预防兽医学报     77中国畜牧兽医       76世界农业         74Name: Source, dtype: int64</code></pre><h1 id="第8章-社会网络分析方法"><a href="#第8章-社会网络分析方法" class="headerlink" title="第8章 社会网络分析方法"></a>第8章 社会网络分析方法</h1><h2 id="社会网络的初步印象"><a href="#社会网络的初步印象" class="headerlink" title="社会网络的初步印象"></a>社会网络的初步印象</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">### 社会网络分析概念</span></span><br><span class="line"><span class="comment">### 社会网络分析库</span></span><br><span class="line"><span class="comment">## 社会网络图的构建</span></span><br><span class="line"><span class="comment">### 社会网络数据形式</span></span><br><span class="line"><span class="comment">#### 以连线的形式构建网络</span></span><br><span class="line"><span class="keyword">import</span> networkx <span class="keyword">as</span> nx</span><br><span class="line">nG=nx.Graph();nG</span><br><span class="line">nG.add_node(<span class="string">&#x27;JFK&#x27;</span>)</span><br><span class="line">nG.add_nodes_from([<span class="string">&#x27;SFO&#x27;</span>,<span class="string">&#x27;LAX&#x27;</span>,<span class="string">&#x27;ATL&#x27;</span>,<span class="string">&#x27;FLO&#x27;</span>,<span class="string">&#x27;DFW&#x27;</span>,<span class="string">&#x27;HNL&#x27;</span>])</span><br><span class="line">nG.number_of_nodes()</span><br></pre></td></tr></table></figure><pre><code>&lt;networkx.classes.graph.Graph at 0x12650e80&gt;7</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">nG.add_edges_from([(<span class="string">&#x27;JFK&#x27;</span>, <span class="string">&#x27;SFO&#x27;</span>), (<span class="string">&#x27;JFK&#x27;</span>, <span class="string">&#x27;LAX&#x27;</span>), (<span class="string">&#x27;LAX&#x27;</span>, <span class="string">&#x27;ATL&#x27;</span>),(<span class="string">&#x27;FLO&#x27;</span>,<span class="string">&#x27;ATL&#x27;</span>),(<span class="string">&#x27;ATL&#x27;</span>,<span class="string">&#x27;JFK&#x27;</span>),(<span class="string">&#x27;FLO&#x27;</span>,<span class="string">&#x27;JFK&#x27;</span>),(<span class="string">&#x27;DFW&#x27;</span>,<span class="string">&#x27;HNL&#x27;</span>)])</span><br><span class="line">nG.add_edges_from([(<span class="string">&#x27;OKC&#x27;</span>,<span class="string">&#x27;DFW&#x27;</span>),(<span class="string">&#x27;OGG&#x27;</span>,<span class="string">&#x27;DFW&#x27;</span>),(<span class="string">&#x27;OGG&#x27;</span>,<span class="string">&#x27;LAX&#x27;</span>)])</span><br><span class="line">nG.number_of_edges()</span><br></pre></td></tr></table></figure><pre><code>10</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">nG.nodes()</span><br><span class="line">nG.edges()</span><br><span class="line"></span><br><span class="line">nx.draw(nG, with_labels=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure><pre><code>NodeView((&#39;JFK&#39;, &#39;SFO&#39;, &#39;LAX&#39;, &#39;ATL&#39;, &#39;FLO&#39;, &#39;DFW&#39;, &#39;HNL&#39;, &#39;OKC&#39;, &#39;OGG&#39;))EdgeView([(&#39;JFK&#39;, &#39;SFO&#39;), (&#39;JFK&#39;, &#39;LAX&#39;), (&#39;JFK&#39;, &#39;ATL&#39;), (&#39;JFK&#39;, &#39;FLO&#39;), (&#39;LAX&#39;, &#39;ATL&#39;), (&#39;LAX&#39;, &#39;OGG&#39;), (&#39;ATL&#39;, &#39;FLO&#39;), (&#39;DFW&#39;, &#39;HNL&#39;), (&#39;DFW&#39;, &#39;OKC&#39;), (&#39;DFW&#39;, &#39;OGG&#39;)])</code></pre><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112101442016.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># #### 以矩阵的形式构建网络</span></span><br><span class="line">NXdata=pd.read_excel(<span class="string">&#x27;PyDm_data.xlsx&#x27;</span>,<span class="string">&#x27;NXdata&#x27;</span>,index_col=<span class="number">0</span>)</span><br><span class="line">NXdata</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>JFK</th>      <th>SFO</th>      <th>LAX</th>      <th>ATL</th>      <th>FLO</th>      <th>DFW</th>      <th>HNL</th>      <th>OKC</th>      <th>OGG</th>    </tr>  </thead>  <tbody>    <tr>      <th>JFK</th>      <td>0</td>      <td>1</td>      <td>1</td>      <td>1</td>      <td>1</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>    </tr>    <tr>      <th>SFO</th>      <td>1</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>    </tr>    <tr>      <th>LAX</th>      <td>1</td>      <td>0</td>      <td>0</td>      <td>1</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>1</td>    </tr>    <tr>      <th>ATL</th>      <td>1</td>      <td>0</td>      <td>1</td>      <td>0</td>      <td>1</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>    </tr>    <tr>      <th>FLO</th>      <td>1</td>      <td>0</td>      <td>0</td>      <td>1</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>    </tr>    <tr>      <th>DFW</th>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>1</td>      <td>1</td>      <td>1</td>    </tr>    <tr>      <th>HNL</th>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>1</td>      <td>0</td>      <td>0</td>      <td>0</td>    </tr>    <tr>      <th>OKC</th>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>1</td>      <td>0</td>      <td>0</td>      <td>0</td>    </tr>    <tr>      <th>OGG</th>      <td>0</td>      <td>0</td>      <td>1</td>      <td>0</td>      <td>0</td>      <td>1</td>      <td>0</td>      <td>0</td>      <td>0</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">nf=nx.from_pandas_adjacency(NXdata)</span><br><span class="line">nx.draw(nf,with_labels=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112101443674.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># #### 社会网络图的布局</span></span><br><span class="line">nx.draw(nG,pos=nx.circular_layout(nG), with_labels=<span class="literal">True</span>)</span><br><span class="line">nx.draw(nG,pos=nx.kamada_kawai_layout(nG), with_labels=<span class="literal">True</span>)</span><br><span class="line">nx.draw(nG,pos=nx.random_layout(nG), with_labels=<span class="literal">True</span>)</span><br><span class="line">nx.draw(nG,pos=nx.spectral_layout(nG), with_labels=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112101442141.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">### 网络统计量</span></span><br><span class="line"><span class="comment">#### 网络汇总描述</span></span><br><span class="line">nx.info(nG)</span><br><span class="line"></span><br><span class="line"><span class="comment"># #### 密度</span></span><br><span class="line">nx.density(nG)</span><br><span class="line"></span><br><span class="line"><span class="comment"># #### 直径</span></span><br><span class="line">nx.diameter(nG)</span><br></pre></td></tr></table></figure><pre><code>&#39;Graph with 9 nodes and 10 edges&#39;0.27777777777777785</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#### 聚类系数与相邻节点</span></span><br><span class="line">nx.transitivity(nG)</span><br><span class="line">nx.clustering(nG)</span><br><span class="line"><span class="built_in">list</span>(nG.neighbors(<span class="string">&#x27;ATL&#x27;</span>))</span><br></pre></td></tr></table></figure><pre><code>0.35294117647058826&#123;&#39;JFK&#39;: 0.3333333333333333, &#39;SFO&#39;: 0, &#39;LAX&#39;: 0.3333333333333333, &#39;ATL&#39;: 0.6666666666666666, &#39;FLO&#39;: 1.0, &#39;DFW&#39;: 0, &#39;HNL&#39;: 0, &#39;OKC&#39;: 0, &#39;OGG&#39;: 0&#125;[&#39;LAX&#39;, &#39;FLO&#39;, &#39;JFK&#39;]</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># #### 中心性</span></span><br><span class="line">nx.degree_centrality(nG)</span><br><span class="line">nx.betweenness_centrality(nG)</span><br><span class="line">nx.closeness_centrality(nG)</span><br></pre></td></tr></table></figure><pre><code>&#123;&#39;JFK&#39;: 0.5, &#39;SFO&#39;: 0.125, &#39;LAX&#39;: 0.375, &#39;ATL&#39;: 0.375, &#39;FLO&#39;: 0.25, &#39;DFW&#39;: 0.375, &#39;HNL&#39;: 0.125, &#39;OKC&#39;: 0.125, &#39;OGG&#39;: 0.25&#125;&#123;&#39;JFK&#39;: 0.33928571428571425, &#39;SFO&#39;: 0.0, &#39;LAX&#39;: 0.5714285714285714, &#39;ATL&#39;: 0.08928571428571427, &#39;FLO&#39;: 0.0, &#39;DFW&#39;: 0.46428571428571425, &#39;HNL&#39;: 0.0, &#39;OKC&#39;: 0.0, &#39;OGG&#39;: 0.5357142857142857&#125;&#123;&#39;JFK&#39;: 0.47058823529411764, &#39;SFO&#39;: 0.3333333333333333, &#39;LAX&#39;: 0.5333333333333333, &#39;ATL&#39;: 0.4444444444444444, &#39;FLO&#39;: 0.34782608695652173, &#39;DFW&#39;: 0.42105263157894735, &#39;HNL&#39;: 0.3076923076923077, &#39;OKC&#39;: 0.3076923076923077, &#39;OGG&#39;: 0.5&#125;</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># #### 最短路径</span></span><br><span class="line"><span class="built_in">len</span>(nx.shortest_path(nG,<span class="string">&#x27;ATL&#x27;</span>,<span class="string">&#x27;SFO&#x27;</span>))</span><br></pre></td></tr></table></figure><pre><code>3</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ### 知识图谱应用</span></span><br><span class="line"><span class="comment"># #### 图谱共现矩阵</span></span><br><span class="line"><span class="comment"># #### 共显矩阵网络图</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">occurence</span>(<span class="params">data,document</span>):</span>  <span class="comment">#生成共现矩阵</span></span><br><span class="line">    empty1=[];empty2=[];empty3=[]</span><br><span class="line">    <span class="keyword">for</span> a <span class="keyword">in</span> data:</span><br><span class="line">        <span class="keyword">for</span> b <span class="keyword">in</span> data:</span><br><span class="line">            count = <span class="number">0</span></span><br><span class="line">            <span class="keyword">for</span> x <span class="keyword">in</span> document:</span><br><span class="line">                <span class="keyword">if</span>  [a <span class="keyword">in</span> i <span class="keyword">for</span> i <span class="keyword">in</span> x].count(<span class="literal">True</span>) &gt;<span class="number">0</span> <span class="keyword">and</span> [b <span class="keyword">in</span> i <span class="keyword">for</span> i <span class="keyword">in</span> x].count(<span class="literal">True</span>) &gt;<span class="number">0</span>:</span><br><span class="line">                        count += <span class="number">1</span></span><br><span class="line">            empty1.append(a);empty2.append(b);empty3.append(count)</span><br><span class="line">    df=pd.DataFrame(&#123;<span class="string">&#x27;from&#x27;</span>:empty1,<span class="string">&#x27;to&#x27;</span>:empty2,<span class="string">&#x27;weight&#x27;</span>:empty3&#125;)</span><br><span class="line">    G=nx.from_pandas_edgelist(df, <span class="string">&#x27;from&#x27;</span>, <span class="string">&#x27;to&#x27;</span>, <span class="string">&#x27;weight&#x27;</span>)</span><br><span class="line">    <span class="keyword">return</span> (nx.to_pandas_adjacency(G, dtype=<span class="built_in">int</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">##提取上章文献数据的高频数据</span></span><br><span class="line">organ=list_split(WXdata[<span class="string">&#x27;Organ&#x27;</span>],<span class="string">&#x27;;&#x27;</span>)</span><br><span class="line">data1=pd.DataFrame([[i,search_university(organ,i)] <span class="keyword">for</span> i <span class="keyword">in</span> university[<span class="string">&#x27;学校名称&#x27;</span>]])</span><br><span class="line">data1.rename(columns=&#123;<span class="number">0</span>:<span class="string">&#x27;学校名称&#x27;</span>,<span class="number">1</span>:<span class="string">&#x27;频数&#x27;</span>&#125;,inplace=<span class="literal">True</span>)</span><br><span class="line">keyword=list_split(WXdata[<span class="string">&#x27;Keyword&#x27;</span>].dropna(axis=<span class="number">0</span>,how=<span class="string">&#x27;all&#x27;</span>).tolist(),<span class="string">&#x27;;;&#x27;</span>)</span><br><span class="line">keyword1=<span class="built_in">sum</span>(keyword,[])</span><br><span class="line">author=list_replace(WXdata[<span class="string">&#x27;Author&#x27;</span>].dropna(axis=<span class="number">0</span>,how=<span class="string">&#x27;all&#x27;</span>).tolist(),<span class="string">&#x27;,&#x27;</span>,<span class="string">&#x27;;&#x27;</span>)</span><br><span class="line">author1=list_split(author,<span class="string">&#x27;;&#x27;</span>)</span><br><span class="line">author2=<span class="built_in">sum</span>(author1,[])</span><br><span class="line"></span><br><span class="line"><span class="comment">#获取前30名的高频数据</span></span><br><span class="line">data_author=pd.DataFrame(author2)[<span class="number">0</span>].value_counts()[:<span class="number">30</span>].index.tolist();data_author</span><br><span class="line">data_keyword=pd.DataFrame(keyword1)[<span class="number">0</span>].value_counts()[<span class="number">0</span>:<span class="number">30</span>].index.tolist();data_keyword</span><br><span class="line">data_university=data1.sort_values(by=<span class="string">&#x27;频数&#x27;</span>,ascending = <span class="literal">False</span>)[<span class="number">0</span>:<span class="number">30</span>][<span class="string">&#x27;学校名称&#x27;</span>].tolist()</span><br></pre></td></tr></table></figure><pre><code>[&#39;鲍国海&#39;, &#39;邱均平&#39;, &#39;黄鲁成&#39;, &#39;姜春林&#39;, &#39;兰月新&#39;, &#39;张志强&#39;, &#39;刘云&#39;, &#39;冯瑶&#39;, &#39;任增元&#39;, &#39;沈君&#39;, &#39;蔡文伯&#39;, &#39;朱庆华&#39;, &#39;刘娅&#39;, &#39;俞立平&#39;, &#39;肖仙桃&#39;, &#39;王曰芬&#39;, &#39;魏瑞斌&#39;, &#39;李欣&#39;, &#39;武夷山&#39;, &#39;王晴&#39;, &#39;孙玉伟&#39;, &#39;吴小节&#39;, &#39;李昊青&#39;, &#39;刘则渊&#39;, &#39;化柏林&#39;, &#39;王超&#39;, &#39;董琳&#39;, &#39;黄英君&#39;, &#39;仉晓红&#39;, &#39;王国华&#39;][&#39;文献计量&#39;, &#39;文献计量分析&#39;, &#39;文献计量学&#39;, &#39;知识图谱&#39;, &#39;统计分析&#39;, &#39;计量分析&#39;, &#39;研究热点&#39;, &#39;共词分析&#39;, &#39;CNKI&#39;, &#39;可视化&#39;, &#39;研究进展&#39;, &#39;社会网络分析&#39;, &#39;文献计量法&#39;, &#39;图书馆&#39;, &#39;CSSCI&#39;, &#39;引文分析&#39;, &#39;内容分析&#39;, &#39;聚类分析&#39;, &#39;文献计量指标&#39;, &#39;Web of Science&#39;, &#39;中国&#39;, &#39;CiteSpace&#39;, &#39;研究现状&#39;, &#39;综述&#39;, &#39;SCI&#39;, &#39;开放存取&#39;, &#39;文献&#39;, &#39;研究前沿&#39;, &#39;大数据&#39;, &#39;科技期刊&#39;]</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Matrix1=occurence(data_author,author1);Matrix1</span><br><span class="line">Matrix2=occurence(data_university,organ)</span><br><span class="line">Matrix3=occurence(data_keyword,keyword)</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>鲍国海</th>      <th>邱均平</th>      <th>黄鲁成</th>      <th>姜春林</th>      <th>兰月新</th>      <th>张志强</th>      <th>刘云</th>      <th>冯瑶</th>      <th>任增元</th>      <th>沈君</th>      <th>...</th>      <th>孙玉伟</th>      <th>吴小节</th>      <th>李昊青</th>      <th>刘则渊</th>      <th>化柏林</th>      <th>王超</th>      <th>董琳</th>      <th>黄英君</th>      <th>仉晓红</th>      <th>王国华</th>    </tr>  </thead>  <tbody>    <tr>      <th>鲍国海</th>      <td>11</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>...</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>    </tr>    <tr>      <th>邱均平</th>      <td>0</td>      <td>10</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>...</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>    </tr>    <tr>      <th>黄鲁成</th>      <td>0</td>      <td>0</td>      <td>8</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>...</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>    </tr>    <tr>      <th>姜春林</th>      <td>0</td>      <td>0</td>      <td>0</td>      <td>8</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>...</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>2</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>    </tr>    <tr>      <th>兰月新</th>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>8</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>...</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>2</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>    </tr>    <tr>      <th>张志强</th>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>6</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>...</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>    </tr>    <tr>      <th>刘云</th>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>5</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>...</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>    </tr>    <tr>      <th>冯瑶</th>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>5</td>      <td>0</td>      <td>0</td>      <td>...</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>    </tr>    <tr>      <th>任增元</th>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>5</td>      <td>0</td>      <td>...</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>    </tr>    <tr>      <th>沈君</th>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>5</td>      <td>...</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>    </tr>    <tr>      <th>蔡文伯</th>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>...</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>    </tr>    <tr>      <th>朱庆华</th>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>...</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>    </tr>    <tr>      <th>刘娅</th>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>...</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>    </tr>    <tr>      <th>俞立平</th>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>...</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>    </tr>    <tr>      <th>肖仙桃</th>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>...</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>    </tr>    <tr>      <th>王曰芬</th>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>...</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>    </tr>    <tr>      <th>魏瑞斌</th>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>...</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>    </tr>    <tr>      <th>李欣</th>      <td>0</td>      <td>0</td>      <td>4</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>...</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>    </tr>    <tr>      <th>武夷山</th>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>...</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>    </tr>    <tr>      <th>王晴</th>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>...</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>    </tr>    <tr>      <th>孙玉伟</th>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>...</td>      <td>4</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>    </tr>    <tr>      <th>吴小节</th>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>...</td>      <td>0</td>      <td>4</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>    </tr>    <tr>      <th>李昊青</th>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>...</td>      <td>0</td>      <td>0</td>      <td>4</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>    </tr>    <tr>      <th>刘则渊</th>      <td>0</td>      <td>0</td>      <td>0</td>      <td>2</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>...</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>4</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>    </tr>    <tr>      <th>化柏林</th>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>...</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>4</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>    </tr>    <tr>      <th>王超</th>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>2</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>...</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>4</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>    </tr>    <tr>      <th>董琳</th>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>...</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>4</td>      <td>0</td>      <td>0</td>      <td>0</td>    </tr>    <tr>      <th>黄英君</th>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>...</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>4</td>      <td>0</td>      <td>0</td>    </tr>    <tr>      <th>仉晓红</th>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>...</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>4</td>      <td>0</td>    </tr>    <tr>      <th>王国华</th>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>...</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>3</td>    </tr>  </tbody></table><p>30 rows × 30 columns</p></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> networkx <span class="keyword">as</span> nx</span><br><span class="line">graph1=nx.from_pandas_adjacency(Matrix1)</span><br><span class="line">nx.draw(graph1,with_labels=<span class="literal">True</span>,node_color=<span class="string">&#x27;yellow&#x27;</span>)</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112101442329.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">graph2=nx.from_pandas_adjacency(Matrix2)</span><br><span class="line">nx.draw(graph2,with_labels=<span class="literal">True</span>,node_color=<span class="string">&#x27;yellow&#x27;</span>)</span><br><span class="line">graph3=nx.from_pandas_adjacency(Matrix3)</span><br><span class="line">nx.draw(graph3,with_labels=<span class="literal">True</span>,node_color=<span class="string">&#x27;yellow&#x27;</span>)</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112101442352.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> scipy.cluster.hierarchy <span class="keyword">as</span> sch</span><br><span class="line">H1=sch.linkage(Matrix3,method=<span class="string">&#x27;ward&#x27;</span>);</span><br><span class="line">sch.dendrogram(H1,labels=Matrix3.index,orientation=<span class="string">&#x27;right&#x27;</span>);</span><br><span class="line"><span class="comment">## Load R dataset</span></span><br><span class="line"><span class="comment">#import statsmodels.api as sm</span></span><br><span class="line"><span class="comment">#sm.datasets.get_rdataset(&quot;datasets&quot;, &quot;USJudgeRatings&quot;).data</span></span><br><span class="line"><span class="comment">#sm.datasets.get_rdataset(&quot;cluster.datasets&quot;, &quot;all.us.city.crime.1970&quot;).data</span></span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112101443081.png" alt="png"></p>]]></content>
      
      
      <categories>
          
          <category> Python数据挖掘方法与应用 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python数据挖掘方法与应用 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>第10章-数据的在线分析</title>
      <link href="f49b880f.html"/>
      <url>f49b880f.html</url>
      
        <content type="html"><![CDATA[<h1 id="第10章-数据在线分析及可视化"><a href="#第10章-数据在线分析及可视化" class="headerlink" title="第10章 数据在线分析及可视化"></a>第10章 数据在线分析及可视化</h1><h2 id="10-1-Tushare数据的可视化分析"><a href="#10-1-Tushare数据的可视化分析" class="headerlink" title="10.1 Tushare数据的可视化分析"></a>10.1 Tushare数据的可视化分析</h2><h3 id="10-1-1-股市基本数据的获取与分析"><a href="#10-1-1-股市基本数据的获取与分析" class="headerlink" title="10.1.1 股市基本数据的获取与分析"></a>10.1.1 股市基本数据的获取与分析</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!pip install tushare --upgrade</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#import tushare as ts    #调用 tushare 包</span></span><br></pre></td></tr></table></figure><p>10.1.1.1 上市公司的基本信息</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#s_b=ts.get_stock_basics()</span></span><br><span class="line"><span class="comment">#s_b=ts.get_stock_basics(); #在线获取股票信息，每次读取数据可能不一样</span></span><br><span class="line"><span class="comment">#s_b.info(); #sb</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd        <span class="comment">#读取已保存的本地股票信息</span></span><br><span class="line">s_b=pd.read_excel(<span class="string">&#x27;./data/tushare.xlsx&#x27;</span>,<span class="string">&#x27;stock_basics&#x27;</span>,index_col=<span class="number">0</span>); </span><br><span class="line">s_b.info()</span><br></pre></td></tr></table></figure><pre><code>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;Int64Index: 3951 entries, 688586 to 688519Data columns (total 22 columns): #   Column            Non-Null Count  Dtype  ---  ------            --------------  -----   0   name              3951 non-null   object  1   industry          3947 non-null   object  2   area              3947 non-null   object  3   pe                3951 non-null   float64 4   outstanding       3951 non-null   float64 5   totals            3951 non-null   float64 6   totalAssets       3951 non-null   float64 7   liquidAssets      3951 non-null   float64 8   fixedAssets       3951 non-null   float64 9   reserved          3951 non-null   float64 10  reservedPerShare  3951 non-null   float64 11  esp               3951 non-null   float64 12  bvps              3951 non-null   float64 13  pb                3951 non-null   float64 14  timeToMarket      3951 non-null   int64   15  undp              3951 non-null   float64 16  perundp           3951 non-null   float64 17  rev               3951 non-null   float64 18  profit            3951 non-null   float64 19  gpr               3951 non-null   float64 20  npr               3951 non-null   float64 21  holders           3951 non-null   int64  dtypes: float64(17), int64(2), object(3)memory usage: 709.9+ KB</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">s_b<span class="comment">#.iloc[:6,:9]  #显示前6行7列数据</span></span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>name</th>      <th>industry</th>      <th>area</th>      <th>pe</th>      <th>outstanding</th>      <th>totals</th>      <th>totalAssets</th>      <th>liquidAssets</th>      <th>fixedAssets</th>      <th>reserved</th>      <th>...</th>      <th>bvps</th>      <th>pb</th>      <th>timeToMarket</th>      <th>undp</th>      <th>perundp</th>      <th>rev</th>      <th>profit</th>      <th>gpr</th>      <th>npr</th>      <th>holders</th>    </tr>    <tr>      <th>code</th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>688586</th>      <td>N江航</td>      <td>航空</td>      <td>安徽</td>      <td>77.57</td>      <td>0.88</td>      <td>4.04</td>      <td>18.43</td>      <td>11.58</td>      <td>5.23</td>      <td>3.91</td>      <td>...</td>      <td>4.59</td>      <td>8.80</td>      <td>20200731</td>      <td>1.83</td>      <td>0.45</td>      <td>0.00</td>      <td>0.00</td>      <td>46.08</td>      <td>29.69</td>      <td>59169</td>    </tr>    <tr>      <th>688311</th>      <td>N盟升</td>      <td>元器件</td>      <td>四川</td>      <td>238.24</td>      <td>0.26</td>      <td>1.15</td>      <td>8.70</td>      <td>5.51</td>      <td>0.56</td>      <td>3.20</td>      <td>...</td>      <td>14.02</td>      <td>9.75</td>      <td>20200731</td>      <td>1.39</td>      <td>1.21</td>      <td>0.00</td>      <td>0.00</td>      <td>72.47</td>      <td>27.74</td>      <td>26472</td>    </tr>    <tr>      <th>605222</th>      <td>N起帆</td>      <td>电气设备</td>      <td>上海</td>      <td>35.53</td>      <td>0.50</td>      <td>4.01</td>      <td>47.26</td>      <td>39.48</td>      <td>5.80</td>      <td>2.81</td>      <td>...</td>      <td>6.38</td>      <td>4.16</td>      <td>20200731</td>      <td>9.74</td>      <td>2.43</td>      <td>0.00</td>      <td>0.00</td>      <td>10.08</td>      <td>4.23</td>      <td>52755</td>    </tr>    <tr>      <th>601456</th>      <td>N国联</td>      <td>证券</td>      <td>江苏</td>      <td>15.87</td>      <td>4.76</td>      <td>23.78</td>      <td>374.70</td>      <td>0.00</td>      <td>0.00</td>      <td>0.00</td>      <td>...</td>      <td>4.30</td>      <td>1.42</td>      <td>20200731</td>      <td>0.00</td>      <td>0.00</td>      <td>0.00</td>      <td>0.00</td>      <td>0.00</td>      <td>46.32</td>      <td>416247</td>    </tr>    <tr>      <th>2991</th>      <td>N甘源</td>      <td>食品</td>      <td>江西</td>      <td>35.54</td>      <td>0.23</td>      <td>0.93</td>      <td>8.18</td>      <td>3.82</td>      <td>2.75</td>      <td>1.45</td>      <td>...</td>      <td>14.78</td>      <td>3.78</td>      <td>20200731</td>      <td>2.84</td>      <td>3.05</td>      <td>0.00</td>      <td>0.00</td>      <td>39.32</td>      <td>15.04</td>      <td>49829</td>    </tr>    <tr>      <th>...</th>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>    </tr>    <tr>      <th>688335</th>      <td>复洁环保</td>      <td>环境保护</td>      <td>上海</td>      <td>0.00</td>      <td>0.00</td>      <td>0.00</td>      <td>4.05</td>      <td>3.71</td>      <td>0.10</td>      <td>0.83</td>      <td>...</td>      <td>0.00</td>      <td>0.00</td>      <td>0</td>      <td>1.04</td>      <td>0.00</td>      <td>0.00</td>      <td>0.00</td>      <td>34.42</td>      <td>6.97</td>      <td>0</td>    </tr>    <tr>      <th>688338</th>      <td>赛科希德</td>      <td>生物制药</td>      <td>北京</td>      <td>0.00</td>      <td>0.00</td>      <td>0.00</td>      <td>4.27</td>      <td>3.82</td>      <td>0.39</td>      <td>1.32</td>      <td>...</td>      <td>0.00</td>      <td>0.00</td>      <td>0</td>      <td>1.62</td>      <td>0.00</td>      <td>14.73</td>      <td>25.26</td>      <td>59.41</td>      <td>30.95</td>      <td>0</td>    </tr>    <tr>      <th>688339</th>      <td>亿华通</td>      <td>电气设备</td>      <td>北京</td>      <td>0.00</td>      <td>0.00</td>      <td>0.00</td>      <td>16.83</td>      <td>11.81</td>      <td>1.81</td>      <td>8.85</td>      <td>...</td>      <td>0.00</td>      <td>0.00</td>      <td>0</td>      <td>1.09</td>      <td>0.00</td>      <td>50.25</td>      <td>176.50</td>      <td>45.12</td>      <td>11.55</td>      <td>0</td>    </tr>    <tr>      <th>688379</th>      <td>华光新材</td>      <td>小金属</td>      <td>浙江</td>      <td>0.00</td>      <td>0.00</td>      <td>0.00</td>      <td>7.29</td>      <td>5.24</td>      <td>1.52</td>      <td>1.08</td>      <td>...</td>      <td>0.00</td>      <td>0.00</td>      <td>0</td>      <td>3.07</td>      <td>0.00</td>      <td>0.00</td>      <td>0.00</td>      <td>15.68</td>      <td>5.17</td>      <td>0</td>    </tr>    <tr>      <th>688519</th>      <td>南亚新材</td>      <td>元器件</td>      <td>上海</td>      <td>0.00</td>      <td>0.00</td>      <td>0.00</td>      <td>19.09</td>      <td>13.46</td>      <td>4.63</td>      <td>2.00</td>      <td>...</td>      <td>0.00</td>      <td>0.00</td>      <td>0</td>      <td>2.96</td>      <td>0.00</td>      <td>0.00</td>      <td>0.00</td>      <td>15.99</td>      <td>7.28</td>      <td>0</td>    </tr>  </tbody></table><p>3951 rows × 22 columns</p></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#s_b.to_csv(&#x27;stock_basics.csv&#x27;)                   #保存数据到csv表格中</span></span><br><span class="line"><span class="comment">#s_b=pd.read_csv(&#x27;stock_basics.csv&#x27;,index_col=0) #从csv文档中读取数据</span></span><br></pre></td></tr></table></figure><p>10.1.1.2 股市基本数据的分析</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">s_b_c=s_b.industry.value_counts(); s_b_c</span><br></pre></td></tr></table></figure><pre><code>软件服务    215元器件     196电气设备    186化工原料    175专用机械    151       ... 铁路        5林业        4机场        4商品城       3电器连锁      2Name: industry, Length: 110, dtype: int64</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pandas <span class="keyword">import</span> DataFrame <span class="keyword">as</span> DF  <span class="comment">#设置结果以数据框形式输出</span></span><br><span class="line">DF(s_b_c)   <span class="comment">#pd.DataFrame(s_b_c)  </span></span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>industry</th>    </tr>  </thead>  <tbody>    <tr>      <th>软件服务</th>      <td>215</td>    </tr>    <tr>      <th>元器件</th>      <td>196</td>    </tr>    <tr>      <th>电气设备</th>      <td>186</td>    </tr>    <tr>      <th>化工原料</th>      <td>175</td>    </tr>    <tr>      <th>专用机械</th>      <td>151</td>    </tr>    <tr>      <th>...</th>      <td>...</td>    </tr>    <tr>      <th>铁路</th>      <td>5</td>    </tr>    <tr>      <th>林业</th>      <td>4</td>    </tr>    <tr>      <th>机场</th>      <td>4</td>    </tr>    <tr>      <th>商品城</th>      <td>3</td>    </tr>    <tr>      <th>电器连锁</th>      <td>2</td>    </tr>  </tbody></table><p>110 rows × 1 columns</p></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">%config InlineBackend.figure_format=<span class="string">&#x27;retina&#x27;</span> <span class="comment">#提高图形显示的清晰度</span></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt            </span><br><span class="line">plt.rcParams[<span class="string">&#x27;font.sans-serif&#x27;</span>]=[<span class="string">&#x27;SimHei&#x27;</span>];  <span class="comment">#中文字为黑体</span></span><br><span class="line">s_b_c[:<span class="number">10</span>].plot(kind=<span class="string">&#x27;barh&#x27;</span>);                <span class="comment">#前10个行业水平条图</span></span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112071621461.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#按行业(industry)计算平均收益率(esp)并排序</span></span><br><span class="line">i_e=s_b.groupby([<span class="string">&#x27;industry&#x27;</span>])[<span class="string">&#x27;esp&#x27;</span>].mean().sort_values();</span><br><span class="line">DF(i_e)</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>esp</th>    </tr>    <tr>      <th>industry</th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>空运</th>      <td>-0.243875</td>    </tr>    <tr>      <th>旅游服务</th>      <td>-0.129538</td>    </tr>    <tr>      <th>公路</th>      <td>-0.111286</td>    </tr>    <tr>      <th>旅游景点</th>      <td>-0.101167</td>    </tr>    <tr>      <th>酒店餐饮</th>      <td>-0.090100</td>    </tr>    <tr>      <th>...</th>      <td>...</td>    </tr>    <tr>      <th>饲料</th>      <td>0.249765</td>    </tr>    <tr>      <th>银行</th>      <td>0.324250</td>    </tr>    <tr>      <th>船舶</th>      <td>0.331857</td>    </tr>    <tr>      <th>保险</th>      <td>0.695143</td>    </tr>    <tr>      <th>白酒</th>      <td>1.517105</td>    </tr>  </tbody></table><p>110 rows × 1 columns</p></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DF(i_e.head(<span class="number">10</span>))  <span class="comment">#收益率最差的10个行业</span></span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>esp</th>    </tr>    <tr>      <th>industry</th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>空运</th>      <td>-0.243875</td>    </tr>    <tr>      <th>旅游服务</th>      <td>-0.129538</td>    </tr>    <tr>      <th>公路</th>      <td>-0.111286</td>    </tr>    <tr>      <th>旅游景点</th>      <td>-0.101167</td>    </tr>    <tr>      <th>酒店餐饮</th>      <td>-0.090100</td>    </tr>    <tr>      <th>石油加工</th>      <td>-0.085556</td>    </tr>    <tr>      <th>公共交通</th>      <td>-0.060375</td>    </tr>    <tr>      <th>林业</th>      <td>-0.045250</td>    </tr>    <tr>      <th>路桥</th>      <td>-0.039789</td>    </tr>    <tr>      <th>汽车整车</th>      <td>-0.025348</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">plt.rcParams[<span class="string">&#x27;axes.unicode_minus&#x27;</span>]=<span class="literal">False</span>;          <span class="comment">#正常显示图中负号</span></span><br><span class="line">i_e.head(<span class="number">10</span>).plot(kind=<span class="string">&#x27;bar&#x27;</span>);</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112071621458.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DF(i_e.tail(<span class="number">10</span>))   <span class="comment">#收益率最好的10个行业</span></span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>esp</th>    </tr>    <tr>      <th>industry</th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>农药化肥</th>      <td>0.151171</td>    </tr>    <tr>      <th>园区开发</th>      <td>0.153625</td>    </tr>    <tr>      <th>食品</th>      <td>0.154523</td>    </tr>    <tr>      <th>医药商业</th>      <td>0.195538</td>    </tr>    <tr>      <th>农业综合</th>      <td>0.230633</td>    </tr>    <tr>      <th>饲料</th>      <td>0.249765</td>    </tr>    <tr>      <th>银行</th>      <td>0.324250</td>    </tr>    <tr>      <th>船舶</th>      <td>0.331857</td>    </tr>    <tr>      <th>保险</th>      <td>0.695143</td>    </tr>    <tr>      <th>白酒</th>      <td>1.517105</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">i_e.tail(<span class="number">10</span>).plot(kind=<span class="string">&#x27;barh&#x27;</span>);</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112071621519.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#按地区(area)和行业(industry)计算平均收益率(esp)并排序</span></span><br><span class="line">a_i_e=s_b.groupby([<span class="string">&#x27;area&#x27;</span>,<span class="string">&#x27;industry&#x27;</span>])[<span class="string">&#x27;esp&#x27;</span>].mean().sort_values();</span><br><span class="line">DF(a_i_e)  </span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th></th>      <th>esp</th>    </tr>    <tr>      <th>area</th>      <th>industry</th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>江西</th>      <th>公共交通</th>      <td>-0.6700</td>    </tr>    <tr>      <th>新疆</th>      <th>服饰</th>      <td>-0.6300</td>    </tr>    <tr>      <th>湖北</th>      <th>旅游服务</th>      <td>-0.5660</td>    </tr>    <tr>      <th>辽宁</th>      <th>石油加工</th>      <td>-0.5550</td>    </tr>    <tr>      <th>湖南</th>      <th>小金属</th>      <td>-0.5270</td>    </tr>    <tr>      <th>...</th>      <th>...</th>      <td>...</td>    </tr>    <tr>      <th>山西</th>      <th>白酒</th>      <td>1.4100</td>    </tr>    <tr>      <th>深圳</th>      <th>保险</th>      <td>1.4700</td>    </tr>    <tr>      <th>江苏</th>      <th>白酒</th>      <td>1.5595</td>    </tr>    <tr>      <th>北京</th>      <th>家用电器</th>      <td>2.2600</td>    </tr>    <tr>      <th>贵州</th>      <th>白酒</th>      <td>17.9920</td>    </tr>  </tbody></table><p>1359 rows × 1 columns</p></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GD_e1=DF(a_i_e[<span class="string">&#x27;广东&#x27;</span>].head(<span class="number">10</span>)); GD_e1  <span class="comment">#广东省收益率最差的10个行业</span></span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>esp</th>    </tr>    <tr>      <th>industry</th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>空运</th>      <td>-0.430000</td>    </tr>    <tr>      <th>家居用品</th>      <td>-0.145222</td>    </tr>    <tr>      <th>装修装饰</th>      <td>-0.109000</td>    </tr>    <tr>      <th>百货</th>      <td>-0.105000</td>    </tr>    <tr>      <th>酒店餐饮</th>      <td>-0.092000</td>    </tr>    <tr>      <th>玻璃</th>      <td>-0.087000</td>    </tr>    <tr>      <th>化纤</th>      <td>-0.082000</td>    </tr>    <tr>      <th>综合类</th>      <td>-0.067667</td>    </tr>    <tr>      <th>建筑工程</th>      <td>-0.065250</td>    </tr>    <tr>      <th>石油加工</th>      <td>-0.061000</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GD_e2=DF(a_i_e[<span class="string">&#x27;广东&#x27;</span>].tail(<span class="number">10</span>)); GD_e2 <span class="comment">#广东省收益率最好的10个行业</span></span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>esp</th>    </tr>    <tr>      <th>industry</th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>农业综合</th>      <td>0.17450</td>    </tr>    <tr>      <th>火力发电</th>      <td>0.17575</td>    </tr>    <tr>      <th>化学制药</th>      <td>0.18720</td>    </tr>    <tr>      <th>水泥</th>      <td>0.27100</td>    </tr>    <tr>      <th>电信运营</th>      <td>0.32100</td>    </tr>    <tr>      <th>乳制品</th>      <td>0.38200</td>    </tr>    <tr>      <th>医药商业</th>      <td>0.42700</td>    </tr>    <tr>      <th>多元金融</th>      <td>0.64650</td>    </tr>    <tr>      <th>饲料</th>      <td>0.69900</td>    </tr>    <tr>      <th>船舶</th>      <td>1.13850</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GD_e12=pd.concat([GD_e1,GD_e2]); GD_e12  <span class="comment">#广东省收益率最差和最好的10个行业合并</span></span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>esp</th>    </tr>    <tr>      <th>industry</th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>空运</th>      <td>-0.430000</td>    </tr>    <tr>      <th>家居用品</th>      <td>-0.145222</td>    </tr>    <tr>      <th>装修装饰</th>      <td>-0.109000</td>    </tr>    <tr>      <th>百货</th>      <td>-0.105000</td>    </tr>    <tr>      <th>酒店餐饮</th>      <td>-0.092000</td>    </tr>    <tr>      <th>玻璃</th>      <td>-0.087000</td>    </tr>    <tr>      <th>化纤</th>      <td>-0.082000</td>    </tr>    <tr>      <th>综合类</th>      <td>-0.067667</td>    </tr>    <tr>      <th>建筑工程</th>      <td>-0.065250</td>    </tr>    <tr>      <th>石油加工</th>      <td>-0.061000</td>    </tr>    <tr>      <th>农业综合</th>      <td>0.174500</td>    </tr>    <tr>      <th>火力发电</th>      <td>0.175750</td>    </tr>    <tr>      <th>化学制药</th>      <td>0.187200</td>    </tr>    <tr>      <th>水泥</th>      <td>0.271000</td>    </tr>    <tr>      <th>电信运营</th>      <td>0.321000</td>    </tr>    <tr>      <th>乳制品</th>      <td>0.382000</td>    </tr>    <tr>      <th>医药商业</th>      <td>0.427000</td>    </tr>    <tr>      <th>多元金融</th>      <td>0.646500</td>    </tr>    <tr>      <th>饲料</th>      <td>0.699000</td>    </tr>    <tr>      <th>船舶</th>      <td>1.138500</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GD_e12.plot(kind=<span class="string">&#x27;bar&#x27;</span>).axhline(y=<span class="number">0</span>);</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112071620620.png" alt="png"></p><p>10.1.1.3 新股发行数据的分析</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#n_s=ts.new_stocks(); n_s.info()</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">n_s=pd.read_excel(<span class="string">&#x27;./data/tushare.xlsx&#x27;</span>,<span class="string">&#x27;new_stocks&#x27;</span>,index_col=<span class="number">0</span>); n_s.info()</span><br></pre></td></tr></table></figure><pre><code>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;Int64Index: 450 entries, 0 to 449Data columns (total 12 columns): #   Column      Non-Null Count  Dtype  ---  ------      --------------  -----   0   code        450 non-null    int64   1   xcode       450 non-null    int64   2   name        450 non-null    object  3   ipo_date    450 non-null    object  4   issue_date  407 non-null    object  5   amount      450 non-null    int64   6   markets     450 non-null    int64   7   price       450 non-null    float64 8   pe          450 non-null    float64 9   limit       450 non-null    float64 10  funds       450 non-null    float64 11  ballot      450 non-null    float64dtypes: float64(5), int64(4), object(3)memory usage: 45.7+ KB</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">n_s<span class="comment">#.iloc[:6,:7]  #显示前6行7列数据</span></span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>code</th>      <th>xcode</th>      <th>name</th>      <th>ipo_date</th>      <th>issue_date</th>      <th>amount</th>      <th>markets</th>      <th>price</th>      <th>pe</th>      <th>limit</th>      <th>funds</th>      <th>ballot</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>605008</td>      <td>707008</td>      <td>长鸿高科</td>      <td>2020-08-12</td>      <td>NaN</td>      <td>4600</td>      <td>1380</td>      <td>0.00</td>      <td>0.00</td>      <td>1.30</td>      <td>4.848</td>      <td>0.00</td>    </tr>    <tr>      <th>1</th>      <td>300872</td>      <td>300872</td>      <td>天阳科技</td>      <td>2020-08-12</td>      <td>NaN</td>      <td>5620</td>      <td>1602</td>      <td>0.00</td>      <td>0.00</td>      <td>1.60</td>      <td>6.656</td>      <td>0.00</td>    </tr>    <tr>      <th>2</th>      <td>300873</td>      <td>300873</td>      <td>海晨股份</td>      <td>2020-08-12</td>      <td>NaN</td>      <td>3333</td>      <td>950</td>      <td>0.00</td>      <td>0.00</td>      <td>0.95</td>      <td>7.301</td>      <td>0.00</td>    </tr>    <tr>      <th>3</th>      <td>300876</td>      <td>300876</td>      <td>蒙泰高新</td>      <td>2020-08-12</td>      <td>NaN</td>      <td>2400</td>      <td>684</td>      <td>0.00</td>      <td>0.00</td>      <td>0.65</td>      <td>4.353</td>      <td>0.00</td>    </tr>    <tr>      <th>4</th>      <td>300871</td>      <td>300871</td>      <td>回盛生物</td>      <td>2020-08-11</td>      <td>NaN</td>      <td>2770</td>      <td>789</td>      <td>0.00</td>      <td>0.00</td>      <td>0.75</td>      <td>6.548</td>      <td>0.00</td>    </tr>    <tr>      <th>...</th>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>    </tr>    <tr>      <th>445</th>      <td>2935</td>      <td>2935</td>      <td>天奥电子</td>      <td>2018-08-23</td>      <td>2018-09-03</td>      <td>2667</td>      <td>2400</td>      <td>19.38</td>      <td>22.99</td>      <td>0.80</td>      <td>5.169</td>      <td>0.03</td>    </tr>    <tr>      <th>446</th>      <td>601068</td>      <td>780068</td>      <td>中铝国际</td>      <td>2018-08-21</td>      <td>2018-08-31</td>      <td>29591</td>      <td>26632</td>      <td>3.45</td>      <td>31.86</td>      <td>8.80</td>      <td>10.209</td>      <td>0.15</td>    </tr>    <tr>      <th>447</th>      <td>603192</td>      <td>732192</td>      <td>汇得科技</td>      <td>2018-08-16</td>      <td>2018-08-28</td>      <td>2667</td>      <td>2400</td>      <td>19.60</td>      <td>22.99</td>      <td>1.00</td>      <td>5.227</td>      <td>0.03</td>    </tr>    <tr>      <th>448</th>      <td>2933</td>      <td>2933</td>      <td>新兴装备</td>      <td>2018-08-15</td>      <td>2018-08-28</td>      <td>2935</td>      <td>2642</td>      <td>22.45</td>      <td>22.99</td>      <td>1.15</td>      <td>6.589</td>      <td>0.03</td>    </tr>    <tr>      <th>449</th>      <td>603590</td>      <td>732590</td>      <td>康辰药业</td>      <td>2018-08-14</td>      <td>2018-08-27</td>      <td>4000</td>      <td>3600</td>      <td>24.34</td>      <td>22.99</td>      <td>1.60</td>      <td>9.736</td>      <td>0.04</td>    </tr>  </tbody></table><p>450 rows × 12 columns</p></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#n_s.to_csv(&#x27;new_stocks.csv&#x27;)                     #保存数据到csv表格中</span></span><br><span class="line"><span class="comment">#n_s=pd.read_csv(&#x27;new_stocks.csv&#x27;,index_col=0)   #从csv文件中读取数据</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">n_s20=n_s.loc[n_s.ipo_date&gt;=<span class="string">&#x27;2020-01-01&#x27;</span>,]; n_s20.iloc[:,:<span class="number">7</span>]  <span class="comment">#2020年发行的新股</span></span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>code</th>      <th>xcode</th>      <th>name</th>      <th>ipo_date</th>      <th>issue_date</th>      <th>amount</th>      <th>markets</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>605008</td>      <td>707008</td>      <td>长鸿高科</td>      <td>2020-08-12</td>      <td>NaN</td>      <td>4600</td>      <td>1380</td>    </tr>    <tr>      <th>1</th>      <td>300872</td>      <td>300872</td>      <td>天阳科技</td>      <td>2020-08-12</td>      <td>NaN</td>      <td>5620</td>      <td>1602</td>    </tr>    <tr>      <th>2</th>      <td>300873</td>      <td>300873</td>      <td>海晨股份</td>      <td>2020-08-12</td>      <td>NaN</td>      <td>3333</td>      <td>950</td>    </tr>    <tr>      <th>3</th>      <td>300876</td>      <td>300876</td>      <td>蒙泰高新</td>      <td>2020-08-12</td>      <td>NaN</td>      <td>2400</td>      <td>684</td>    </tr>    <tr>      <th>4</th>      <td>300871</td>      <td>300871</td>      <td>回盛生物</td>      <td>2020-08-11</td>      <td>NaN</td>      <td>2770</td>      <td>789</td>    </tr>    <tr>      <th>...</th>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>    </tr>    <tr>      <th>207</th>      <td>601816</td>      <td>780816</td>      <td>京沪高铁</td>      <td>2020-01-06</td>      <td>2020-01-16</td>      <td>628563</td>      <td>234379</td>    </tr>    <tr>      <th>208</th>      <td>300813</td>      <td>300813</td>      <td>泰林生物</td>      <td>2020-01-03</td>      <td>2020-01-14</td>      <td>1300</td>      <td>1300</td>    </tr>    <tr>      <th>209</th>      <td>2971</td>      <td>2971</td>      <td>和远气体</td>      <td>2020-01-02</td>      <td>2020-01-13</td>      <td>4000</td>      <td>3600</td>    </tr>    <tr>      <th>210</th>      <td>688178</td>      <td>787178</td>      <td>万德斯</td>      <td>2020-01-02</td>      <td>2020-01-14</td>      <td>2125</td>      <td>808</td>    </tr>    <tr>      <th>211</th>      <td>603551</td>      <td>732551</td>      <td>奥普家居</td>      <td>2020-01-02</td>      <td>2020-01-15</td>      <td>4001</td>      <td>3601</td>    </tr>  </tbody></table><p>212 rows × 7 columns</p></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#2020年发行量最大的10支新股</span></span><br><span class="line">n_s20.sort_values(by=<span class="string">&#x27;amount&#x27;</span>,ascending=<span class="literal">False</span>).iloc[:<span class="number">10</span>,:<span class="number">7</span>]</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>code</th>      <th>xcode</th>      <th>name</th>      <th>ipo_date</th>      <th>issue_date</th>      <th>amount</th>      <th>markets</th>    </tr>  </thead>  <tbody>    <tr>      <th>207</th>      <td>601816</td>      <td>780816</td>      <td>京沪高铁</td>      <td>2020-01-06</td>      <td>2020-01-16</td>      <td>628563</td>      <td>234379</td>    </tr>    <tr>      <th>74</th>      <td>688981</td>      <td>787981</td>      <td>中芯国际</td>      <td>2020-07-07</td>      <td>2020-07-16</td>      <td>193846</td>      <td>25284</td>    </tr>    <tr>      <th>121</th>      <td>600918</td>      <td>730918</td>      <td>中泰证券</td>      <td>2020-05-20</td>      <td>2020-06-03</td>      <td>69686</td>      <td>62718</td>    </tr>    <tr>      <th>152</th>      <td>688126</td>      <td>787126</td>      <td>沪硅产业</td>      <td>2020-04-09</td>      <td>2020-04-20</td>      <td>62007</td>      <td>13457</td>    </tr>    <tr>      <th>134</th>      <td>601778</td>      <td>780778</td>      <td>晶科科技</td>      <td>2020-05-06</td>      <td>2020-05-19</td>      <td>59459</td>      <td>53513</td>    </tr>    <tr>      <th>52</th>      <td>601456</td>      <td>780456</td>      <td>国联证券</td>      <td>2020-07-21</td>      <td>2020-07-31</td>      <td>47572</td>      <td>42815</td>    </tr>    <tr>      <th>120</th>      <td>601827</td>      <td>780827</td>      <td>三峰环境</td>      <td>2020-05-21</td>      <td>2020-06-05</td>      <td>37827</td>      <td>34044</td>    </tr>    <tr>      <th>181</th>      <td>688396</td>      <td>787396</td>      <td>华润微</td>      <td>2020-02-12</td>      <td>2020-02-27</td>      <td>33694</td>      <td>6153</td>    </tr>    <tr>      <th>21</th>      <td>688055</td>      <td>787055</td>      <td>龙腾光电</td>      <td>2020-08-06</td>      <td>NaN</td>      <td>33333</td>      <td>5667</td>    </tr>    <tr>      <th>113</th>      <td>688599</td>      <td>787599</td>      <td>天合光能</td>      <td>2020-05-29</td>      <td>2020-06-10</td>      <td>31020</td>      <td>8903</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#2020年中签率最高的10支新股</span></span><br><span class="line">n_s20.sort_values(by=<span class="string">&#x27;ballot&#x27;</span>).iloc[-<span class="number">10</span>:,[<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">11</span>]] </span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>code</th>      <th>xcode</th>      <th>name</th>      <th>ipo_date</th>      <th>issue_date</th>      <th>amount</th>      <th>ballot</th>    </tr>  </thead>  <tbody>    <tr>      <th>152</th>      <td>688126</td>      <td>787126</td>      <td>沪硅产业</td>      <td>2020-04-09</td>      <td>2020-04-20</td>      <td>62007</td>      <td>0.10</td>    </tr>    <tr>      <th>174</th>      <td>300821</td>      <td>300821</td>      <td>东岳硅材</td>      <td>2020-03-03</td>      <td>2020-03-12</td>      <td>30000</td>      <td>0.11</td>    </tr>    <tr>      <th>150</th>      <td>601609</td>      <td>780609</td>      <td>金田铜业</td>      <td>2020-04-10</td>      <td>2020-04-22</td>      <td>24200</td>      <td>0.12</td>    </tr>    <tr>      <th>179</th>      <td>601696</td>      <td>780696</td>      <td>中银证券</td>      <td>2020-02-13</td>      <td>2020-02-26</td>      <td>27800</td>      <td>0.13</td>    </tr>    <tr>      <th>120</th>      <td>601827</td>      <td>780827</td>      <td>三峰环境</td>      <td>2020-05-21</td>      <td>2020-06-05</td>      <td>37827</td>      <td>0.15</td>    </tr>    <tr>      <th>52</th>      <td>601456</td>      <td>780456</td>      <td>国联证券</td>      <td>2020-07-21</td>      <td>2020-07-31</td>      <td>47572</td>      <td>0.15</td>    </tr>    <tr>      <th>74</th>      <td>688981</td>      <td>787981</td>      <td>中芯国际</td>      <td>2020-07-07</td>      <td>2020-07-16</td>      <td>193846</td>      <td>0.21</td>    </tr>    <tr>      <th>134</th>      <td>601778</td>      <td>780778</td>      <td>晶科科技</td>      <td>2020-05-06</td>      <td>2020-05-19</td>      <td>59459</td>      <td>0.22</td>    </tr>    <tr>      <th>121</th>      <td>600918</td>      <td>730918</td>      <td>中泰证券</td>      <td>2020-05-20</td>      <td>2020-06-03</td>      <td>69686</td>      <td>0.24</td>    </tr>    <tr>      <th>207</th>      <td>601816</td>      <td>780816</td>      <td>京沪高铁</td>      <td>2020-01-06</td>      <td>2020-01-16</td>      <td>628563</td>      <td>0.79</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plt.plot(n_s20.amount, n_s20.ballot,<span class="string">&#x27;o&#x27;</span>); <span class="comment">#发行量和中签率之间的散点图 </span></span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112071620623.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">n_s20.amount.corr(n_s20.ballot) <span class="comment">#发行量和中签率之间的相关系数</span></span><br></pre></td></tr></table></figure><pre><code>0.9320352728928714</code></pre><h3 id="10-1-2-证券交易数据的获取与分析"><a href="#10-1-2-证券交易数据的获取与分析" class="headerlink" title="10.1.2 证券交易数据的获取与分析"></a>10.1.2 证券交易数据的获取与分析</h3><p>10.1.2.1 历史行情数据分析</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">h_s=pd.read_excel(<span class="string">&#x27;data/tushare.xlsx&#x27;</span>,<span class="string">&#x27;hist_data&#x27;</span>,index_col=<span class="number">0</span>); h_s.info()</span><br><span class="line"><span class="comment">#h_s=ts.get_hist_data(&#x27;hs300&#x27;); h_s.info()  #在线获取沪深300指数数据</span></span><br></pre></td></tr></table></figure><pre><code>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;Index: 605 entries, 2020-08-04 to 2018-02-05Data columns (total 13 columns): #   Column        Non-Null Count  Dtype  ---  ------        --------------  -----   0   open          605 non-null    float64 1   high          605 non-null    float64 2   close         605 non-null    float64 3   low           605 non-null    float64 4   volume        605 non-null    float64 5   price_change  605 non-null    float64 6   p_change      605 non-null    float64 7   ma5           605 non-null    float64 8   ma10          605 non-null    float64 9   ma20          605 non-null    float64 10  v_ma5         605 non-null    float64 11  v_ma10        605 non-null    float64 12  v_ma20        605 non-null    float64dtypes: float64(13)memory usage: 66.2+ KB</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">h_s<span class="comment">#.iloc[:6,:7]   #显示前6行7列数据</span></span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>open</th>      <th>high</th>      <th>close</th>      <th>low</th>      <th>volume</th>      <th>price_change</th>      <th>p_change</th>      <th>ma5</th>      <th>ma10</th>      <th>ma20</th>      <th>v_ma5</th>      <th>v_ma10</th>      <th>v_ma20</th>    </tr>    <tr>      <th>date</th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>2020-08-04</th>      <td>4778.49</td>      <td>4807.08</td>      <td>4775.80</td>      <td>4747.77</td>      <td>2399749.75</td>      <td>4.49</td>      <td>0.09</td>      <td>4715.464</td>      <td>4660.651</td>      <td>4690.541</td>      <td>1986506.22</td>      <td>2029861.14</td>      <td>2437863.12</td>    </tr>    <tr>      <th>2020-08-03</th>      <td>4735.90</td>      <td>4771.37</td>      <td>4771.31</td>      <td>4720.03</td>      <td>2147762.50</td>      <td>76.26</td>      <td>1.62</td>      <td>4673.956</td>      <td>4652.175</td>      <td>4686.658</td>      <td>1832093.27</td>      <td>1990301.82</td>      <td>2520879.91</td>    </tr>    <tr>      <th>2020-07-31</th>      <td>4652.18</td>      <td>4741.81</td>      <td>4695.05</td>      <td>4621.96</td>      <td>1848390.25</td>      <td>38.90</td>      <td>0.83</td>      <td>4625.384</td>      <td>4643.074</td>      <td>4681.597</td>      <td>1745381.87</td>      <td>2021594.50</td>      <td>2616402.29</td>    </tr>    <tr>      <th>2020-07-30</th>      <td>4689.76</td>      <td>4704.63</td>      <td>4656.15</td>      <td>4649.77</td>      <td>1669675.62</td>      <td>-22.86</td>      <td>-0.49</td>      <td>4587.492</td>      <td>4628.039</td>      <td>4667.824</td>      <td>1863514.22</td>      <td>2044131.04</td>      <td>2669225.56</td>    </tr>    <tr>      <th>2020-07-29</th>      <td>4559.16</td>      <td>4680.56</td>      <td>4679.01</td>      <td>4548.85</td>      <td>1866953.00</td>      <td>110.75</td>      <td>2.42</td>      <td>4598.750</td>      <td>4614.049</td>      <td>4651.809</td>      <td>1998208.25</td>      <td>2161820.60</td>      <td>2712211.46</td>    </tr>    <tr>      <th>...</th>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>    </tr>    <tr>      <th>2018-02-09</th>      <td>3896.17</td>      <td>3911.29</td>      <td>3840.65</td>      <td>3759.15</td>      <td>2063498.25</td>      <td>-171.40</td>      <td>-4.27</td>      <td>4065.248</td>      <td>4065.248</td>      <td>4065.248</td>      <td>1890011.10</td>      <td>1890011.10</td>      <td>1890011.10</td>    </tr>    <tr>      <th>2018-02-08</th>      <td>4022.88</td>      <td>4071.67</td>      <td>4012.05</td>      <td>3974.68</td>      <td>1592699.88</td>      <td>-38.45</td>      <td>-0.95</td>      <td>4121.398</td>      <td>4121.398</td>      <td>4121.398</td>      <td>1846639.32</td>      <td>1846639.32</td>      <td>1846639.32</td>    </tr>    <tr>      <th>2018-02-07</th>      <td>4205.74</td>      <td>4212.57</td>      <td>4050.50</td>      <td>4048.42</td>      <td>2031274.88</td>      <td>-98.39</td>      <td>-2.37</td>      <td>4157.847</td>      <td>4157.847</td>      <td>4157.847</td>      <td>1931285.79</td>      <td>1931285.79</td>      <td>1931285.79</td>    </tr>    <tr>      <th>2018-02-06</th>      <td>4182.33</td>      <td>4211.52</td>      <td>4148.89</td>      <td>4131.56</td>      <td>2149104.50</td>      <td>-125.26</td>      <td>-2.93</td>      <td>4211.520</td>      <td>4211.520</td>      <td>4211.520</td>      <td>1881291.25</td>      <td>1881291.25</td>      <td>1881291.25</td>    </tr>    <tr>      <th>2018-02-05</th>      <td>4204.46</td>      <td>4274.15</td>      <td>4274.15</td>      <td>4200.14</td>      <td>1613478.00</td>      <td>2.92</td>      <td>0.07</td>      <td>4274.150</td>      <td>4274.150</td>      <td>4274.150</td>      <td>1613478.00</td>      <td>1613478.00</td>      <td>1613478.00</td>    </tr>  </tbody></table><p>605 rows × 13 columns</p></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">h_s.sort_index(inplace=<span class="literal">True</span>); <span class="comment">#按时间重新排序 </span></span><br><span class="line">h_s<span class="comment">#.iloc[:6,:7]      #显示排序后数据的前6行7列</span></span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>open</th>      <th>high</th>      <th>close</th>      <th>low</th>      <th>volume</th>      <th>price_change</th>      <th>p_change</th>      <th>ma5</th>      <th>ma10</th>      <th>ma20</th>      <th>v_ma5</th>      <th>v_ma10</th>      <th>v_ma20</th>    </tr>    <tr>      <th>date</th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>2018-02-05</th>      <td>4204.46</td>      <td>4274.15</td>      <td>4274.15</td>      <td>4200.14</td>      <td>1613478.00</td>      <td>2.92</td>      <td>0.07</td>      <td>4274.150</td>      <td>4274.150</td>      <td>4274.150</td>      <td>1613478.00</td>      <td>1613478.00</td>      <td>1613478.00</td>    </tr>    <tr>      <th>2018-02-06</th>      <td>4182.33</td>      <td>4211.52</td>      <td>4148.89</td>      <td>4131.56</td>      <td>2149104.50</td>      <td>-125.26</td>      <td>-2.93</td>      <td>4211.520</td>      <td>4211.520</td>      <td>4211.520</td>      <td>1881291.25</td>      <td>1881291.25</td>      <td>1881291.25</td>    </tr>    <tr>      <th>2018-02-07</th>      <td>4205.74</td>      <td>4212.57</td>      <td>4050.50</td>      <td>4048.42</td>      <td>2031274.88</td>      <td>-98.39</td>      <td>-2.37</td>      <td>4157.847</td>      <td>4157.847</td>      <td>4157.847</td>      <td>1931285.79</td>      <td>1931285.79</td>      <td>1931285.79</td>    </tr>    <tr>      <th>2018-02-08</th>      <td>4022.88</td>      <td>4071.67</td>      <td>4012.05</td>      <td>3974.68</td>      <td>1592699.88</td>      <td>-38.45</td>      <td>-0.95</td>      <td>4121.398</td>      <td>4121.398</td>      <td>4121.398</td>      <td>1846639.32</td>      <td>1846639.32</td>      <td>1846639.32</td>    </tr>    <tr>      <th>2018-02-09</th>      <td>3896.17</td>      <td>3911.29</td>      <td>3840.65</td>      <td>3759.15</td>      <td>2063498.25</td>      <td>-171.40</td>      <td>-4.27</td>      <td>4065.248</td>      <td>4065.248</td>      <td>4065.248</td>      <td>1890011.10</td>      <td>1890011.10</td>      <td>1890011.10</td>    </tr>    <tr>      <th>...</th>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>    </tr>    <tr>      <th>2020-07-29</th>      <td>4559.16</td>      <td>4680.56</td>      <td>4679.01</td>      <td>4548.85</td>      <td>1866953.00</td>      <td>110.75</td>      <td>2.42</td>      <td>4598.750</td>      <td>4614.049</td>      <td>4651.809</td>      <td>1998208.25</td>      <td>2161820.60</td>      <td>2712211.46</td>    </tr>    <tr>      <th>2020-07-30</th>      <td>4689.76</td>      <td>4704.63</td>      <td>4656.15</td>      <td>4649.77</td>      <td>1669675.62</td>      <td>-22.86</td>      <td>-0.49</td>      <td>4587.492</td>      <td>4628.039</td>      <td>4667.824</td>      <td>1863514.22</td>      <td>2044131.04</td>      <td>2669225.56</td>    </tr>    <tr>      <th>2020-07-31</th>      <td>4652.18</td>      <td>4741.81</td>      <td>4695.05</td>      <td>4621.96</td>      <td>1848390.25</td>      <td>38.90</td>      <td>0.83</td>      <td>4625.384</td>      <td>4643.074</td>      <td>4681.597</td>      <td>1745381.87</td>      <td>2021594.50</td>      <td>2616402.29</td>    </tr>    <tr>      <th>2020-08-03</th>      <td>4735.90</td>      <td>4771.37</td>      <td>4771.31</td>      <td>4720.03</td>      <td>2147762.50</td>      <td>76.26</td>      <td>1.62</td>      <td>4673.956</td>      <td>4652.175</td>      <td>4686.658</td>      <td>1832093.27</td>      <td>1990301.82</td>      <td>2520879.91</td>    </tr>    <tr>      <th>2020-08-04</th>      <td>4778.49</td>      <td>4807.08</td>      <td>4775.80</td>      <td>4747.77</td>      <td>2399749.75</td>      <td>4.49</td>      <td>0.09</td>      <td>4715.464</td>      <td>4660.651</td>      <td>4690.541</td>      <td>1986506.22</td>      <td>2029861.14</td>      <td>2437863.12</td>    </tr>  </tbody></table><p>605 rows × 13 columns</p></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">h_s[<span class="string">&#x27;close&#x27;</span>].plot(figsize=(<span class="number">10</span>,<span class="number">6</span>));</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112071621983.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">h_s[<span class="string">&#x27;price_change&#x27;</span>].plot(figsize=(<span class="number">10</span>,<span class="number">6</span>)).axhline(y=<span class="number">0</span>,color=<span class="string">&#x27;red&#x27;</span>);</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112071620495.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">h_s[[<span class="string">&#x27;close&#x27;</span>,<span class="string">&#x27;ma5&#x27;</span>,<span class="string">&#x27;ma10&#x27;</span>,<span class="string">&#x27;ma20&#x27;</span>]].plot(figsize=(<span class="number">10</span>,<span class="number">6</span>));</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112071620735.png" alt="png"></p><p>10.1.2.2 公司盈利能力分析</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#获取本地2020年第1季度的盈利能力数据  </span></span><br><span class="line"><span class="comment">#p_d=ts.get_profit_data(2020,1); p_d.info() #在线获取2020年第1季度的盈利能力数据</span></span><br><span class="line">p_d=pd.read_excel(<span class="string">&#x27;data/tushare.xlsx&#x27;</span>,<span class="string">&#x27;profit_data&#x27;</span>,index_col=<span class="number">0</span>); p_d.info()  </span><br></pre></td></tr></table></figure><pre><code>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;Int64Index: 3920 entries, 0 to 3919Data columns (total 9 columns): #   Column             Non-Null Count  Dtype  ---  ------             --------------  -----   0   code               3920 non-null   int64   1   name               3920 non-null   object  2   roe                3881 non-null   float64 3   net_profit_ratio   3914 non-null   float64 4   gross_profit_rate  3888 non-null   float64 5   net_profits        3920 non-null   float64 6   eps                3664 non-null   float64 7   business_income    3919 non-null   float64 8   bips               3663 non-null   float64dtypes: float64(7), int64(1), object(1)memory usage: 306.2+ KB</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">p_d.columns=[<span class="string">&#x27;代码&#x27;</span>,<span class="string">&#x27;名称&#x27;</span>,<span class="string">&#x27;净收益率&#x27;</span>,<span class="string">&#x27;净利润率&#x27;</span>,<span class="string">&#x27;毛利润率&#x27;</span>,</span><br><span class="line">             <span class="string">&#x27;净利润额&#x27;</span>, <span class="string">&#x27;每股收益&#x27;</span>,<span class="string">&#x27;营业收入&#x27;</span>,<span class="string">&#x27;主营收入&#x27;</span>]</span><br><span class="line">p_d[<span class="string">&#x27;代码&#x27;</span>] = p_d[<span class="string">&#x27;代码&#x27;</span>].astype(<span class="built_in">str</span>) <span class="comment">#强制代码列为字符串</span></span><br><span class="line">p_d.head()</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>代码</th>      <th>名称</th>      <th>净收益率</th>      <th>净利润率</th>      <th>毛利润率</th>      <th>净利润额</th>      <th>每股收益</th>      <th>营业收入</th>      <th>主营收入</th>    </tr>    <tr>      <th>0</th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>2260</td>      <td>*ST德奥</td>      <td>58.16</td>      <td>68.55</td>      <td>20.6704</td>      <td>33.7153</td>      <td>NaN</td>      <td>49.1790</td>      <td>NaN</td>    </tr>    <tr>      <th>1</th>      <td>2069</td>      <td>獐子岛</td>      <td>52.87</td>      <td>0.93</td>      <td>8.7116</td>      <td>3.7139</td>      <td>0.0052</td>      <td>398.4875</td>      <td>0.5603</td>    </tr>    <tr>      <th>2</th>      <td>600961</td>      <td>株冶集团</td>      <td>40.07</td>      <td>1.21</td>      <td>4.6506</td>      <td>41.7089</td>      <td>0.0790</td>      <td>3422.5768</td>      <td>6.4888</td>    </tr>    <tr>      <th>3</th>      <td>2605</td>      <td>姚记科技</td>      <td>33.05</td>      <td>124.13</td>      <td>67.3586</td>      <td>663.4285</td>      <td>1.6588</td>      <td>534.4203</td>      <td>1.3362</td>    </tr>    <tr>      <th>4</th>      <td>2437</td>      <td>誉衡药业</td>      <td>30.17</td>      <td>113.35</td>      <td>67.9203</td>      <td>658.6003</td>      <td>NaN</td>      <td>581.0199</td>      <td>NaN</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">p_d.describe() <span class="comment">#基本统计分析</span></span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>净收益率</th>      <th>净利润率</th>      <th>毛利润率</th>      <th>净利润额</th>      <th>每股收益</th>      <th>营业收入</th>      <th>主营收入</th>    </tr>  </thead>  <tbody>    <tr>      <th>count</th>      <td>3881.000000</td>      <td>3914.000000</td>      <td>3888.000000</td>      <td>3920.000000</td>      <td>3664.000000</td>      <td>3919.000000</td>      <td>3663.000000</td>    </tr>    <tr>      <th>mean</th>      <td>-0.160925</td>      <td>-135.851091</td>      <td>27.095283</td>      <td>231.583835</td>      <td>0.071447</td>      <td>2737.076361</td>      <td>1.288017</td>    </tr>    <tr>      <th>std</th>      <td>24.390056</td>      <td>4323.334538</td>      <td>42.017779</td>      <td>2918.191181</td>      <td>0.270705</td>      <td>18093.421193</td>      <td>2.396955</td>    </tr>    <tr>      <th>min</th>      <td>-1304.670000</td>      <td>-183209.980000</td>      <td>-1588.817500</td>      <td>-19782.000000</td>      <td>-0.783000</td>      <td>0.000000</td>      <td>0.000000</td>    </tr>    <tr>      <th>25%</th>      <td>-0.590000</td>      <td>-4.027500</td>      <td>15.640475</td>      <td>-7.755225</td>      <td>-0.016900</td>      <td>127.088650</td>      <td>0.310550</td>    </tr>    <tr>      <th>50%</th>      <td>0.810000</td>      <td>3.970000</td>      <td>26.367100</td>      <td>14.218500</td>      <td>0.031800</td>      <td>333.993000</td>      <td>0.697500</td>    </tr>    <tr>      <th>75%</th>      <td>2.120000</td>      <td>12.267500</td>      <td>39.588375</td>      <td>63.354925</td>      <td>0.112125</td>      <td>1003.509400</td>      <td>1.386550</td>    </tr>    <tr>      <th>max</th>      <td>58.160000</td>      <td>858.670000</td>      <td>107.953300</td>      <td>84494.000000</td>      <td>10.423300</td>      <td>555502.000000</td>      <td>46.692000</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">p_d.corr()   <span class="comment">#相关性分析</span></span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>净收益率</th>      <th>净利润率</th>      <th>毛利润率</th>      <th>净利润额</th>      <th>每股收益</th>      <th>营业收入</th>      <th>主营收入</th>    </tr>  </thead>  <tbody>    <tr>      <th>净收益率</th>      <td>1.000000</td>      <td>0.015184</td>      <td>0.063490</td>      <td>0.018065</td>      <td>0.220348</td>      <td>0.009420</td>      <td>0.079012</td>    </tr>    <tr>      <th>净利润率</th>      <td>0.015184</td>      <td>1.000000</td>      <td>0.006839</td>      <td>0.004677</td>      <td>0.046043</td>      <td>0.005054</td>      <td>0.017930</td>    </tr>    <tr>      <th>毛利润率</th>      <td>0.063490</td>      <td>0.006839</td>      <td>1.000000</td>      <td>0.034764</td>      <td>0.195615</td>      <td>-0.021009</td>      <td>-0.061525</td>    </tr>    <tr>      <th>净利润额</th>      <td>0.018065</td>      <td>0.004677</td>      <td>0.034764</td>      <td>1.000000</td>      <td>0.156741</td>      <td>0.419270</td>      <td>0.048213</td>    </tr>    <tr>      <th>每股收益</th>      <td>0.220348</td>      <td>0.046043</td>      <td>0.195615</td>      <td>0.156741</td>      <td>1.000000</td>      <td>0.091409</td>      <td>0.339545</td>    </tr>    <tr>      <th>营业收入</th>      <td>0.009420</td>      <td>0.005054</td>      <td>-0.021009</td>      <td>0.419270</td>      <td>0.091409</td>      <td>1.000000</td>      <td>0.242651</td>    </tr>    <tr>      <th>主营收入</th>      <td>0.079012</td>      <td>0.017930</td>      <td>-0.061525</td>      <td>0.048213</td>      <td>0.339545</td>      <td>0.242651</td>      <td>1.000000</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pd.plotting.scatter_matrix(p_d,figsize=(<span class="number">10</span>,<span class="number">8</span>));     <span class="comment">#矩阵散点图</span></span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112071620737.png" alt="png"></p><h3 id="10-1-3-Tushare数据的保存及扩展"><a href="#10-1-3-Tushare数据的保存及扩展" class="headerlink" title="10.1.3 Tushare数据的保存及扩展"></a>10.1.3 Tushare数据的保存及扩展</h3><p>10.1.3.1 Tushare数据的保存</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#xlsx = pd.ExcelWriter(&#x27;tushare.xlsx&#x27;)</span></span><br><span class="line"><span class="comment">#s_b.to_excel(xlsx,&#x27;stock_basics&#x27;)    #沪深上市公司的基本信息</span></span><br><span class="line"><span class="comment">#n_s.to_excel(xlsx,&#x27;new_stocks&#x27;)      #新股发行数据</span></span><br><span class="line"><span class="comment">#h_s.to_excel(xlsx,&#x27;hist_data&#x27;)       #沪深300近三年历史行情数据</span></span><br><span class="line"><span class="comment">#p_d.to_excel(xlsx,&#x27;profit_data&#x27;)     #公司盈利能力数据</span></span><br><span class="line"><span class="comment">#xlsx.save()</span></span><br></pre></td></tr></table></figure><p>10.1.3.2 Tushare平台的扩展</p><h2 id="10-2-新浪财经数据的获取与分析"><a href="#10-2-新浪财经数据的获取与分析" class="headerlink" title="10.2 新浪财经数据的获取与分析"></a>10.2 新浪财经数据的获取与分析</h2><h3 id="10-2-1-国内生产总值的复制与分析"><a href="#10-2-1-国内生产总值的复制与分析" class="headerlink" title="10.2.1 国内生产总值的复制与分析"></a>10.2.1 国内生产总值的复制与分析</h3><p>10.2.1.1 国内生产总值的复制与分析</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> IPython.display <span class="keyword">import</span> IFrame</span><br><span class="line">IFrame(<span class="string">&quot;http://finance.sina.com.cn/mac&quot;</span>,width=<span class="number">960</span>,height=<span class="number">560</span>)</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;iframe</span><br><span class="line">    width=&quot;960&quot;</span><br><span class="line">    height=&quot;560&quot;</span><br><span class="line">    src=&quot;http://finance.sina.com.cn/mac&quot;</span><br><span class="line">    frameborder=&quot;0&quot;</span><br><span class="line">    allowfullscreen</span><br><span class="line">&gt;<span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="comment">#GDP=pd.read_clipboard(index_col=0);GDP </span></span><br><span class="line">GDP=pd.read_table(<span class="string">&#x27;data/GDP.txt&#x27;</span>,index_col=<span class="number">0</span>,encoding=<span class="string">&#x27;GBK&#x27;</span>);GDP</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>国内生产总值(亿元)</th>      <th>人均国内生产总值(元)</th>    </tr>    <tr>      <th>年份</th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>2020</th>      <td>1015986.20</td>      <td>72000.00</td>    </tr>    <tr>      <th>2019</th>      <td>990865.11</td>      <td>70891.78</td>    </tr>    <tr>      <th>2018</th>      <td>919281.10</td>      <td>66005.70</td>    </tr>    <tr>      <th>2017</th>      <td>832035.90</td>      <td>60014.00</td>    </tr>    <tr>      <th>2016</th>      <td>746395.10</td>      <td>54139.00</td>    </tr>    <tr>      <th>2015</th>      <td>688858.20</td>      <td>50237.00</td>    </tr>    <tr>      <th>2014</th>      <td>643563.10</td>      <td>47173.00</td>    </tr>    <tr>      <th>2013</th>      <td>592963.20</td>      <td>43684.00</td>    </tr>    <tr>      <th>2012</th>      <td>538580.00</td>      <td>39874.00</td>    </tr>    <tr>      <th>2011</th>      <td>487940.20</td>      <td>36302.00</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GDP.plot();</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112071620732.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GDP.sort_index(inplace=<span class="literal">True</span>); GDP   <span class="comment">#按年份排序</span></span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>国内生产总值(亿元)</th>      <th>人均国内生产总值(元)</th>    </tr>    <tr>      <th>年份</th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>2011</th>      <td>487940.20</td>      <td>36302.00</td>    </tr>    <tr>      <th>2012</th>      <td>538580.00</td>      <td>39874.00</td>    </tr>    <tr>      <th>2013</th>      <td>592963.20</td>      <td>43684.00</td>    </tr>    <tr>      <th>2014</th>      <td>643563.10</td>      <td>47173.00</td>    </tr>    <tr>      <th>2015</th>      <td>688858.20</td>      <td>50237.00</td>    </tr>    <tr>      <th>2016</th>      <td>746395.10</td>      <td>54139.00</td>    </tr>    <tr>      <th>2017</th>      <td>832035.90</td>      <td>60014.00</td>    </tr>    <tr>      <th>2018</th>      <td>919281.10</td>      <td>66005.70</td>    </tr>    <tr>      <th>2019</th>      <td>990865.11</td>      <td>70891.78</td>    </tr>    <tr>      <th>2020</th>      <td>1015986.20</td>      <td>72000.00</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt            </span><br><span class="line">plt.rcParams[<span class="string">&#x27;font.sans-serif&#x27;</span>]=[<span class="string">&#x27;SimHei&#x27;</span>];  <span class="comment">#中文字为黑体</span></span><br><span class="line">GDP.plot(kind=<span class="string">&#x27;bar&#x27;</span>,y=[<span class="string">&#x27;国内生产总值(亿元)&#x27;</span>,<span class="string">&#x27;人均国内生产总值(元)&#x27;</span>],</span><br><span class="line">         secondary_y=[<span class="string">&#x27;人均国内生产总值(元)&#x27;</span>]);</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112071622787.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pyecharts.<span class="built_in">globals</span> <span class="keyword">import</span> CurrentConfig,NotebookType   <span class="comment">#在NoteBook中设置pyecharts绘图</span></span><br><span class="line">CurrentConfig.NOTEBOOK_TYPE = NotebookType.JUPYTER_LAB     <span class="comment">#在Jupyterlab中显示pyecharts图</span></span><br><span class="line"><span class="keyword">import</span> pyecharts.options <span class="keyword">as</span> opts                           <span class="comment">#加载pyecharts全局参数</span></span><br><span class="line">figsize=opts.InitOpts(width=<span class="string">&#x27;600px&#x27;</span>,height=<span class="string">&#x27;400px&#x27;</span>,bg_color=<span class="string">&#x27;white&#x27;</span>) <span class="comment">#设置图形大小和背景色 </span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pyecharts.charts <span class="keyword">import</span> Bar  <span class="comment">#加载pyecharts绘制条图（Bar）函数</span></span><br><span class="line">Bar().load_javascript()           <span class="comment">#制图前需加载一次JavaScript函数！！</span></span><br></pre></td></tr></table></figure><pre><code>&lt;pyecharts.render.display.Javascript at 0xd6a4a60&gt;</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">(Bar(figsize)</span><br><span class="line">     .add_xaxis(<span class="built_in">list</span>(GDP.index))</span><br><span class="line">     .add_yaxis(<span class="string">&#x27;国内生产总值(亿元)&#x27;</span>,<span class="built_in">list</span>(GDP[<span class="string">&#x27;国内生产总值(亿元)&#x27;</span>]))     </span><br><span class="line">     .render_notebook()   </span><br><span class="line">)</span><br></pre></td></tr></table></figure><!DOCTYPE html><html><head>    <meta charset="UTF-8"></head><body>        <div id="d3bb575a341b41fb86f903e36a1c7caa" class="chart-container" style="width:600px; height:400px;"></div>    <script>        var chart_d3bb575a341b41fb86f903e36a1c7caa = echarts.init(            document.getElementById('d3bb575a341b41fb86f903e36a1c7caa'), 'white', {renderer: 'canvas'});        var option_d3bb575a341b41fb86f903e36a1c7caa = {    "backgroundColor": "white",    "animation": true,    "animationThreshold": 2000,    "animationDuration": 1000,    "animationEasing": "cubicOut",    "animationDelay": 0,    "animationDurationUpdate": 300,    "animationEasingUpdate": "cubicOut",    "animationDelayUpdate": 0,    "color": [        "#c23531",        "#2f4554",        "#61a0a8",        "#d48265",        "#749f83",        "#ca8622",        "#bda29a",        "#6e7074",        "#546570",        "#c4ccd3",        "#f05b72",        "#ef5b9c",        "#f47920",        "#905a3d",        "#fab27b",        "#2a5caa",        "#444693",        "#726930",        "#b2d235",        "#6d8346",        "#ac6767",        "#1d953f",        "#6950a1",        "#918597"    ],    "series": [        {            "type": "bar",            "name": "\u56fd\u5185\u751f\u4ea7\u603b\u503c(\u4ebf\u5143)",            "legendHoverLink": true,            "data": [                487940.2,                538580.0,                592963.2,                643563.1,                688858.2,                746395.1,                832035.9,                919281.1,                990865.11,                1015986.2            ],            "showBackground": false,            "barMinHeight": 0,            "barCategoryGap": "20%",            "barGap": "30%",            "large": false,            "largeThreshold": 400,            "seriesLayoutBy": "column",            "datasetIndex": 0,            "clip": true,            "zlevel": 0,            "z": 2,            "label": {                "show": true,                "position": "top",                "margin": 8            }        }    ],    "legend": [        {            "data": [                "\u56fd\u5185\u751f\u4ea7\u603b\u503c(\u4ebf\u5143)"            ],            "selected": {                "\u56fd\u5185\u751f\u4ea7\u603b\u503c(\u4ebf\u5143)": true            }        }    ],    "tooltip": {        "show": true,        "trigger": "item",        "triggerOn": "mousemove|click",        "axisPointer": {            "type": "line"        },        "showContent": true,        "alwaysShowContent": false,        "showDelay": 0,        "hideDelay": 100,        "textStyle": {            "fontSize": 14        },        "borderWidth": 0,        "padding": 5    },    "xAxis": [        {            "show": true,            "scale": false,            "nameLocation": "end",            "nameGap": 15,            "gridIndex": 0,            "inverse": false,            "offset": 0,            "splitNumber": 5,            "minInterval": 0,            "splitLine": {                "show": false,                "lineStyle": {                    "show": true,                    "width": 1,                    "opacity": 1,                    "curveness": 0,                    "type": "solid"                }            },            "data": [                2011,                2012,                2013,                2014,                2015,                2016,                2017,                2018,                2019,                2020            ]        }    ],    "yAxis": [        {            "show": true,            "scale": false,            "nameLocation": "end",            "nameGap": 15,            "gridIndex": 0,            "inverse": false,            "offset": 0,            "splitNumber": 5,            "minInterval": 0,            "splitLine": {                "show": false,                "lineStyle": {                    "show": true,                    "width": 1,                    "opacity": 1,                    "curveness": 0,                    "type": "solid"                }            }        }    ]};        chart_d3bb575a341b41fb86f903e36a1c7caa.setOption(option_d3bb575a341b41fb86f903e36a1c7caa);    </script></body></html><p>10.2.1.2 存贷款基准利率的走势分析</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#Rate=pd.read_clipboard(index_col=0);Rate</span></span><br><span class="line">Rate=pd.read_table(<span class="string">&#x27;data/Rate.txt&#x27;</span>,index_col=<span class="number">0</span>,encoding=<span class="string">&#x27;GBK&#x27;</span>);Rate</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>存款利率(%)</th>      <th>贷款利率(%)</th>    </tr>    <tr>      <th>调整时间</th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>2015-10-24</th>      <td>1.50</td>      <td>4.35</td>    </tr>    <tr>      <th>2015-08-26</th>      <td>1.75</td>      <td>4.60</td>    </tr>    <tr>      <th>2015-06-28</th>      <td>2.00</td>      <td>4.85</td>    </tr>    <tr>      <th>2015-05-11</th>      <td>2.25</td>      <td>5.10</td>    </tr>    <tr>      <th>2015-03-01</th>      <td>2.50</td>      <td>5.35</td>    </tr>    <tr>      <th>2014-11-22</th>      <td>2.75</td>      <td>5.60</td>    </tr>    <tr>      <th>2012-07-06</th>      <td>3.00</td>      <td>6.00</td>    </tr>    <tr>      <th>2012-06-08</th>      <td>3.25</td>      <td>6.31</td>    </tr>    <tr>      <th>2011-07-07</th>      <td>3.50</td>      <td>6.56</td>    </tr>    <tr>      <th>2011-04-06</th>      <td>3.25</td>      <td>6.31</td>    </tr>    <tr>      <th>2011-02-09</th>      <td>3.00</td>      <td>6.06</td>    </tr>    <tr>      <th>2010-12-26</th>      <td>2.75</td>      <td>5.81</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Rate.sort_index(inplace=<span class="literal">True</span>); Rate  <span class="comment">#按日期排序</span></span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>存款利率(%)</th>      <th>贷款利率(%)</th>    </tr>    <tr>      <th>调整时间</th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>2010-12-26</th>      <td>2.75</td>      <td>5.81</td>    </tr>    <tr>      <th>2011-02-09</th>      <td>3.00</td>      <td>6.06</td>    </tr>    <tr>      <th>2011-04-06</th>      <td>3.25</td>      <td>6.31</td>    </tr>    <tr>      <th>2011-07-07</th>      <td>3.50</td>      <td>6.56</td>    </tr>    <tr>      <th>2012-06-08</th>      <td>3.25</td>      <td>6.31</td>    </tr>    <tr>      <th>2012-07-06</th>      <td>3.00</td>      <td>6.00</td>    </tr>    <tr>      <th>2014-11-22</th>      <td>2.75</td>      <td>5.60</td>    </tr>    <tr>      <th>2015-03-01</th>      <td>2.50</td>      <td>5.35</td>    </tr>    <tr>      <th>2015-05-11</th>      <td>2.25</td>      <td>5.10</td>    </tr>    <tr>      <th>2015-06-28</th>      <td>2.00</td>      <td>4.85</td>    </tr>    <tr>      <th>2015-08-26</th>      <td>1.75</td>      <td>4.60</td>    </tr>    <tr>      <th>2015-10-24</th>      <td>1.50</td>      <td>4.35</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pyecharts.charts <span class="keyword">import</span> Line  <span class="comment">#加载pyecharts绘制线图（Line）函数</span></span><br><span class="line">(Line(figsize)</span><br><span class="line">     .add_xaxis(<span class="built_in">list</span>(Rate.index))</span><br><span class="line">     .add_yaxis(<span class="string">&#x27;存款利率(%)&#x27;</span>,<span class="built_in">list</span>(Rate[<span class="string">&#x27;存款利率(%)&#x27;</span>]))</span><br><span class="line">     .add_yaxis(<span class="string">&#x27;贷款利率(%)&#x27;</span>,<span class="built_in">list</span>(Rate[<span class="string">&#x27;贷款利率(%)&#x27;</span>]))</span><br><span class="line">     .render_notebook()</span><br><span class="line">)</span><br></pre></td></tr></table></figure><!DOCTYPE html><html><head>    <meta charset="UTF-8"></head><body>        <div id="ee47b5dfa0f341be9d27e7004db2a509" class="chart-container" style="width:600px; height:400px;"></div>    <script>        var chart_ee47b5dfa0f341be9d27e7004db2a509 = echarts.init(            document.getElementById('ee47b5dfa0f341be9d27e7004db2a509'), 'white', {renderer: 'canvas'});        var option_ee47b5dfa0f341be9d27e7004db2a509 = {    "backgroundColor": "white",    "animation": true,    "animationThreshold": 2000,    "animationDuration": 1000,    "animationEasing": "cubicOut",    "animationDelay": 0,    "animationDurationUpdate": 300,    "animationEasingUpdate": "cubicOut",    "animationDelayUpdate": 0,    "color": [        "#c23531",        "#2f4554",        "#61a0a8",        "#d48265",        "#749f83",        "#ca8622",        "#bda29a",        "#6e7074",        "#546570",        "#c4ccd3",        "#f05b72",        "#ef5b9c",        "#f47920",        "#905a3d",        "#fab27b",        "#2a5caa",        "#444693",        "#726930",        "#b2d235",        "#6d8346",        "#ac6767",        "#1d953f",        "#6950a1",        "#918597"    ],    "series": [        {            "type": "line",            "name": "\u5b58\u6b3e\u5229\u7387(%)",            "connectNulls": false,            "symbolSize": 4,            "showSymbol": true,            "smooth": false,            "clip": true,            "step": false,            "data": [                [                    "2010-12-26",                    2.75                ],                [                    "2011-02-09",                    3.0                ],                [                    "2011-04-06",                    3.25                ],                [                    "2011-07-07",                    3.5                ],                [                    "2012-06-08",                    3.25                ],                [                    "2012-07-06",                    3.0                ],                [                    "2014-11-22",                    2.75                ],                [                    "2015-03-01",                    2.5                ],                [                    "2015-05-11",                    2.25                ],                [                    "2015-06-28",                    2.0                ],                [                    "2015-08-26",                    1.75                ],                [                    "2015-10-24",                    1.5                ]            ],            "hoverAnimation": true,            "label": {                "show": true,                "position": "top",                "margin": 8            },            "lineStyle": {                "show": true,                "width": 1,                "opacity": 1,                "curveness": 0,                "type": "solid"            },            "areaStyle": {                "opacity": 0            },            "zlevel": 0,            "z": 0        },        {            "type": "line",            "name": "\u8d37\u6b3e\u5229\u7387(%)",            "connectNulls": false,            "symbolSize": 4,            "showSymbol": true,            "smooth": false,            "clip": true,            "step": false,            "data": [                [                    "2010-12-26",                    5.81                ],                [                    "2011-02-09",                    6.06                ],                [                    "2011-04-06",                    6.31                ],                [                    "2011-07-07",                    6.56                ],                [                    "2012-06-08",                    6.31                ],                [                    "2012-07-06",                    6.0                ],                [                    "2014-11-22",                    5.6                ],                [                    "2015-03-01",                    5.35                ],                [                    "2015-05-11",                    5.1                ],                [                    "2015-06-28",                    4.85                ],                [                    "2015-08-26",                    4.6                ],                [                    "2015-10-24",                    4.35                ]            ],            "hoverAnimation": true,            "label": {                "show": true,                "position": "top",                "margin": 8            },            "lineStyle": {                "show": true,                "width": 1,                "opacity": 1,                "curveness": 0,                "type": "solid"            },            "areaStyle": {                "opacity": 0            },            "zlevel": 0,            "z": 0        }    ],    "legend": [        {            "data": [                "\u5b58\u6b3e\u5229\u7387(%)",                "\u8d37\u6b3e\u5229\u7387(%)"            ],            "selected": {                "\u5b58\u6b3e\u5229\u7387(%)": true,                "\u8d37\u6b3e\u5229\u7387(%)": true            }        }    ],    "tooltip": {        "show": true,        "trigger": "item",        "triggerOn": "mousemove|click",        "axisPointer": {            "type": "line"        },        "showContent": true,        "alwaysShowContent": false,        "showDelay": 0,        "hideDelay": 100,        "textStyle": {            "fontSize": 14        },        "borderWidth": 0,        "padding": 5    },    "xAxis": [        {            "show": true,            "scale": false,            "nameLocation": "end",            "nameGap": 15,            "gridIndex": 0,            "inverse": false,            "offset": 0,            "splitNumber": 5,            "minInterval": 0,            "splitLine": {                "show": false,                "lineStyle": {                    "show": true,                    "width": 1,                    "opacity": 1,                    "curveness": 0,                    "type": "solid"                }            },            "data": [                "2010-12-26",                "2011-02-09",                "2011-04-06",                "2011-07-07",                "2012-06-08",                "2012-07-06",                "2014-11-22",                "2015-03-01",                "2015-05-11",                "2015-06-28",                "2015-08-26",                "2015-10-24"            ]        }    ],    "yAxis": [        {            "show": true,            "scale": false,            "nameLocation": "end",            "nameGap": 15,            "gridIndex": 0,            "inverse": false,            "offset": 0,            "splitNumber": 5,            "minInterval": 0,            "splitLine": {                "show": false,                "lineStyle": {                    "show": true,                    "width": 1,                    "opacity": 1,                    "curveness": 0,                    "type": "solid"                }            }        }    ]};        chart_ee47b5dfa0f341be9d27e7004db2a509.setOption(option_ee47b5dfa0f341be9d27e7004db2a509);    </script></body></html><h3 id="10-2-2-板块行情数据的抓取与分析"><a href="#10-2-2-板块行情数据的抓取与分析" class="headerlink" title="10.2.2 板块行情数据的抓取与分析"></a>10.2.2 板块行情数据的抓取与分析</h3><p>10.2.2.1 次新股数据的复制方法</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#new_stock=pd.read_clipboard(index_col=0);new_stock</span></span><br></pre></td></tr></table></figure><p>10.2.2.2 次新股数据的基本分析</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#new_stock.sort_values(by=&#x27;涨跌额&#x27;,ascending=False).head(10) #涨幅前十的新股</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#new_stock.to_csv(&#x27;new_stock.csv&#x27;)                     #保存数据到csv表格中</span></span><br><span class="line"><span class="comment">#new_stock=pd.read_csv(&#x27;new_stock.csv&#x27;,index_col=0)   #从csv文档中读取数据</span></span><br></pre></td></tr></table></figure><h2 id="10-3-中商情报数据的可视化分析"><a href="#10-3-中商情报数据的可视化分析" class="headerlink" title="10.3  中商情报数据的可视化分析"></a>10.3  中商情报数据的可视化分析</h2><h3 id="10-3-1-宏观经济数据爬取与分析"><a href="#10-3-1-宏观经济数据爬取与分析" class="headerlink" title="10.3.1 宏观经济数据爬取与分析"></a>10.3.1 宏观经济数据爬取与分析</h3><p>10.3.1.1 行政区划数据的抓取</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests                                   <span class="comment">#加载爬虫库</span></span><br><span class="line">url=<span class="string">&#x27;https://s.askci.com/data/year&#x27;</span>               <span class="comment">#综合数据之行政区划页</span></span><br><span class="line">html = requests.get(url).content.decode(<span class="string">&#x27;utf-8&#x27;</span>); <span class="comment">#获取网页信息</span></span><br><span class="line">html[:<span class="number">10</span>]                                        <span class="comment">#显示网页信息，前300个字符</span></span><br></pre></td></tr></table></figure><pre><code>&#39;\ufeff&lt;!doctype&#39;</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#获取第1页表格数据：行政区划，依次类推 [0,1,2,3,4]</span></span><br><span class="line">admin=pd.read_html(html,header=<span class="number">0</span>,index_col=<span class="number">0</span>)[<span class="number">0</span>]; admin</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>2018</th>      <th>2017</th>      <th>2016</th>      <th>2015</th>      <th>2014</th>      <th>2013</th>      <th>2012</th>    </tr>    <tr>      <th>指标</th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>地级区划数(个)</th>      <td>333</td>      <td>334</td>      <td>334</td>      <td>334</td>      <td>333</td>      <td>333</td>      <td>333</td>    </tr>    <tr>      <th>地级市数(个)</th>      <td>293</td>      <td>294</td>      <td>293</td>      <td>291</td>      <td>288</td>      <td>286</td>      <td>285</td>    </tr>    <tr>      <th>县级区划数(个)</th>      <td>2851</td>      <td>2851</td>      <td>2851</td>      <td>2850</td>      <td>2854</td>      <td>2853</td>      <td>2852</td>    </tr>    <tr>      <th>市辖区数(个)</th>      <td>970</td>      <td>962</td>      <td>954</td>      <td>921</td>      <td>897</td>      <td>872</td>      <td>860</td>    </tr>    <tr>      <th>县级市数(个)</th>      <td>375</td>      <td>363</td>      <td>360</td>      <td>361</td>      <td>361</td>      <td>368</td>      <td>368</td>    </tr>    <tr>      <th>县数(个)</th>      <td>1335</td>      <td>1355</td>      <td>1366</td>      <td>1397</td>      <td>1425</td>      <td>1442</td>      <td>1453</td>    </tr>    <tr>      <th>自治县数(个)</th>      <td>117</td>      <td>117</td>      <td>117</td>      <td>117</td>      <td>117</td>      <td>117</td>      <td>117</td>    </tr>    <tr>      <th>乡镇级区划数(个)</th>      <td>39945</td>      <td>39888</td>      <td>39862</td>      <td>39789</td>      <td>40381</td>      <td>40497</td>      <td>40446</td>    </tr>    <tr>      <th>镇数(个)</th>      <td>21297</td>      <td>21116</td>      <td>20883</td>      <td>20515</td>      <td>20401</td>      <td>20117</td>      <td>19881</td>    </tr>    <tr>      <th>乡数(个)</th>      <td>10253</td>      <td>10529</td>      <td>10872</td>      <td>11315</td>      <td>12282</td>      <td>12812</td>      <td>13281</td>    </tr>    <tr>      <th>街道办事处(个)</th>      <td>8393</td>      <td>8241</td>      <td>8105</td>      <td>7957</td>      <td>7696</td>      <td>7566</td>      <td>7282</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">admin[:<span class="number">1</span>].T.plot(kind=<span class="string">&#x27;bar&#x27;</span>,ylim=[<span class="number">0</span>,<span class="number">500</span>]); <span class="comment">#地级区划数图</span></span><br></pre></td></tr></table></figure><p>​<br><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112071620776.png" alt="png"><br>​    </p><p>10.3.1.2 国内生产总值数据的抓取</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">url=<span class="string">&#x27;https://s.askci.com/data/year/a02/&#x27;</span>   <span class="comment">#国民经济核算之国内生产总值页</span></span><br><span class="line">html = requests.get(url).content.decode(<span class="string">&#x27;utf-8&#x27;</span>); </span><br><span class="line">gdp=pd.read_html(html,header=<span class="number">0</span>,index_col=<span class="number">0</span>)[<span class="number">0</span>]; gdp</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>2018</th>      <th>2017</th>      <th>2016</th>      <th>2015</th>      <th>2014</th>      <th>2013</th>      <th>2012</th>    </tr>    <tr>      <th>指标</th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>国民总收入(亿元)</th>      <td>896915.6</td>      <td>820099.5</td>      <td>737074.0</td>      <td>683390.5</td>      <td>642097.6</td>      <td>588141.2</td>      <td>537329.0</td>    </tr>    <tr>      <th>国内生产总值(亿元)</th>      <td>900309.5</td>      <td>820754.3</td>      <td>740060.8</td>      <td>685992.9</td>      <td>641280.6</td>      <td>592963.2</td>      <td>538580.0</td>    </tr>    <tr>      <th>第一产业增加值(亿元)</th>      <td>64734.0</td>      <td>62099.5</td>      <td>60139.2</td>      <td>57774.6</td>      <td>55626.3</td>      <td>53028.1</td>      <td>49084.5</td>    </tr>    <tr>      <th>第二产业增加值(亿元)</th>      <td>366000.9</td>      <td>332742.7</td>      <td>296547.7</td>      <td>282040.3</td>      <td>277571.8</td>      <td>261956.1</td>      <td>244643.3</td>    </tr>    <tr>      <th>第三产业增加值(亿元)</th>      <td>469574.6</td>      <td>425912.1</td>      <td>383373.9</td>      <td>346178.0</td>      <td>308082.5</td>      <td>277979.1</td>      <td>244852.2</td>    </tr>    <tr>      <th>人均国内生产总值(元)</th>      <td>64644.0</td>      <td>59201.0</td>      <td>53680.0</td>      <td>50028.0</td>      <td>47005.0</td>      <td>43684.0</td>      <td>39874.0</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gdp[:<span class="number">2</span>].T.plot(kind=<span class="string">&#x27;bar&#x27;</span>); <span class="comment">#国民总收入和国内生产总值</span></span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112071620420.png" alt="png"></p><h3 id="10-3-2-A股股票信息的爬取与分析"><a href="#10-3-2-A股股票信息的爬取与分析" class="headerlink" title="10.3.2 A股股票信息的爬取与分析"></a>10.3.2 A股股票信息的爬取与分析</h3><p>10.3.2.1 A股收益数据的抓取</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line">url=<span class="string">&#x27;https://s.askci.com/stock/a&#x27;</span>  <span class="comment">#A股信息</span></span><br><span class="line">html = requests.get(url).content.decode(<span class="string">&#x27;utf-8&#x27;</span>); </span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">pd.read_html(html,header=<span class="number">0</span>)[<span class="number">0</span>] <span class="comment"># 获取第1个表格数据：A股公司营业收入排行榜(2019年)</span></span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>排名</th>      <th>股票代码</th>      <th>企业简称</th>      <th>营业收入（亿元）</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>1</td>      <td>600028</td>      <td>中国石化</td>      <td>21059.84</td>    </tr>    <tr>      <th>1</th>      <td>2</td>      <td>601857</td>      <td>中国石油</td>      <td>19338.36</td>    </tr>    <tr>      <th>2</th>      <td>3</td>      <td>601668</td>      <td>中国建筑</td>      <td>16150.23</td>    </tr>    <tr>      <th>3</th>      <td>4</td>      <td>601318</td>      <td>中国平安</td>      <td>12183.15</td>    </tr>    <tr>      <th>4</th>      <td>5</td>      <td>601390</td>      <td>中国中铁</td>      <td>9714.05</td>    </tr>    <tr>      <th>5</th>      <td>6</td>      <td>601186</td>      <td>中国铁建</td>      <td>9103.25</td>    </tr>    <tr>      <th>6</th>      <td>7</td>      <td>601398</td>      <td>工商银行</td>      <td>8826.65</td>    </tr>    <tr>      <th>7</th>      <td>8</td>      <td>601628</td>      <td>中国人寿</td>      <td>8249.61</td>    </tr>    <tr>      <th>8</th>      <td>9</td>      <td>601939</td>      <td>建设银行</td>      <td>7558.58</td>    </tr>    <tr>      <th>9</th>      <td>10</td>      <td>600104</td>      <td>上汽集团</td>      <td>7230.43</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#获取第2个表格数据：A股公司净利润排行榜(2019年)</span></span><br><span class="line">pd.read_html(html,header=<span class="number">0</span>)[<span class="number">1</span>] </span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>排名</th>      <th>股票代码</th>      <th>企业简称</th>      <th>净利润（亿元）</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>1</td>      <td>601398</td>      <td>工商银行</td>      <td>3176.85</td>    </tr>    <tr>      <th>1</th>      <td>2</td>      <td>601939</td>      <td>建设银行</td>      <td>2735.79</td>    </tr>    <tr>      <th>2</th>      <td>3</td>      <td>601288</td>      <td>农业银行</td>      <td>2164.00</td>    </tr>    <tr>      <th>3</th>      <td>4</td>      <td>601988</td>      <td>中国银行</td>      <td>2050.96</td>    </tr>    <tr>      <th>4</th>      <td>5</td>      <td>601318</td>      <td>中国平安</td>      <td>1593.59</td>    </tr>    <tr>      <th>5</th>      <td>6</td>      <td>600036</td>      <td>招商银行</td>      <td>979.59</td>    </tr>    <tr>      <th>6</th>      <td>7</td>      <td>601328</td>      <td>交通银行</td>      <td>795.70</td>    </tr>    <tr>      <th>7</th>      <td>8</td>      <td>601668</td>      <td>中国建筑</td>      <td>709.50</td>    </tr>    <tr>      <th>8</th>      <td>9</td>      <td>601166</td>      <td>兴业银行</td>      <td>676.81</td>    </tr>    <tr>      <th>9</th>      <td>10</td>      <td>601658</td>      <td>邮储银行</td>      <td>643.18</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#获取第3个表格数据：A股公司利润总额排行榜(2019年)</span></span><br><span class="line">pd.read_html(html,header=<span class="number">0</span>)[<span class="number">2</span>] </span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>排名</th>      <th>股票代码</th>      <th>企业简称</th>      <th>利润总额（亿元）</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>1</td>      <td>601398</td>      <td>工商银行</td>      <td>3921.26</td>    </tr>    <tr>      <th>1</th>      <td>2</td>      <td>601939</td>      <td>建设银行</td>      <td>3366.16</td>    </tr>    <tr>      <th>2</th>      <td>3</td>      <td>601288</td>      <td>农业银行</td>      <td>2650.50</td>    </tr>    <tr>      <th>3</th>      <td>4</td>      <td>601988</td>      <td>中国银行</td>      <td>2463.78</td>    </tr>    <tr>      <th>4</th>      <td>5</td>      <td>601318</td>      <td>中国平安</td>      <td>1877.64</td>    </tr>    <tr>      <th>5</th>      <td>6</td>      <td>600036</td>      <td>招商银行</td>      <td>1224.40</td>    </tr>    <tr>      <th>6</th>      <td>7</td>      <td>601668</td>      <td>中国建筑</td>      <td>942.91</td>    </tr>    <tr>      <th>7</th>      <td>8</td>      <td>601328</td>      <td>交通银行</td>      <td>864.25</td>    </tr>    <tr>      <th>8</th>      <td>9</td>      <td>2</td>      <td>万科A</td>      <td>796.76</td>    </tr>    <tr>      <th>9</th>      <td>10</td>      <td>601166</td>      <td>兴业银行</td>      <td>766.37</td>    </tr>  </tbody></table></div><p>10.3.2.2  A股股票信息的爬取</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 构建获取当前页的第4个表格数据的函数，其中i表示第i页，即取pageNum=i,以此类推！</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_stock</span>(<span class="params">i</span>):</span> </span><br><span class="line">    url=<span class="string">&#x27;https://s.askci.com/stock/a/0-0?reportTime=2020-03-31&amp;pageNum=&#x27;</span> </span><br><span class="line">    html = requests.get(url+<span class="built_in">str</span>(i)).content.decode(<span class="string">&#x27;utf-8&#x27;</span>); </span><br><span class="line">    data=pd.read_html(html,header=<span class="number">0</span>)[<span class="number">3</span>] </span><br><span class="line">    <span class="keyword">return</span> data</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">stock1=get_stock(<span class="number">1</span>);stock1      <span class="comment">#第1页A股信息</span></span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>序号</th>      <th>股票代码</th>      <th>股票简称</th>      <th>公司名称</th>      <th>省份</th>      <th>城市</th>      <th>主营业务收入(202003)</th>      <th>净利润(202003)</th>      <th>员工人数</th>      <th>上市日期</th>      <th>招股书</th>      <th>公司财报</th>      <th>行业分类</th>      <th>产品类型</th>      <th>主营业务</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>1</td>      <td>1</td>      <td>平安银行</td>      <td>平安银行股份有限公司</td>      <td>广东</td>      <td>深圳市</td>      <td>379.26亿</td>      <td>85.48亿</td>      <td>36676</td>      <td>1991-04-03</td>      <td>--</td>      <td>NaN</td>      <td>银行</td>      <td>商业银行业务</td>      <td>经有关监管机构批准的各项商业银行业务。</td>    </tr>    <tr>      <th>1</th>      <td>2</td>      <td>2</td>      <td>万科A</td>      <td>万科企业股份有限公司</td>      <td>广东</td>      <td>深圳市</td>      <td>477.74亿</td>      <td>24.30亿</td>      <td>140565</td>      <td>1991-01-29</td>      <td>--</td>      <td>NaN</td>      <td>房地产开发</td>      <td>房地产、物业管理、投资咨询</td>      <td>房地产开发和物业服务。</td>    </tr>    <tr>      <th>2</th>      <td>3</td>      <td>4</td>      <td>国华网安</td>      <td>深圳国华网安科技股份有限公司</td>      <td>广东</td>      <td>深圳市</td>      <td>2325.30万</td>      <td>357.53万</td>      <td>264</td>      <td>1991-01-14</td>      <td>--</td>      <td>NaN</td>      <td>生物医药</td>      <td>移动应用安全服务、移动互联网游戏</td>      <td>移动应用安全服务业务。</td>    </tr>    <tr>      <th>3</th>      <td>4</td>      <td>5</td>      <td>ST星源</td>      <td>深圳世纪星源股份有限公司</td>      <td>广东</td>      <td>深圳市</td>      <td>4570.29万</td>      <td>-2235.80万</td>      <td>629</td>      <td>1990-12-10</td>      <td>--</td>      <td>NaN</td>      <td>环保工程、物业管理</td>      <td>酒店经营、物业管理、环保业务</td>      <td>绿色低碳城市社区建设相关的服务业务。</td>    </tr>    <tr>      <th>4</th>      <td>5</td>      <td>6</td>      <td>深振业A</td>      <td>深圳市振业(集团)股份有限公司</td>      <td>广东</td>      <td>深圳市</td>      <td>6.52亿</td>      <td>1.41亿</td>      <td>397</td>      <td>1992-04-27</td>      <td>--</td>      <td>NaN</td>      <td>房地产开发</td>      <td>房地产</td>      <td>从事房地产开发与销售。</td>    </tr>    <tr>      <th>5</th>      <td>6</td>      <td>7</td>      <td>*ST全新</td>      <td>深圳市全新好股份有限公司</td>      <td>广东</td>      <td>深圳市</td>      <td>876.49万</td>      <td>-2281.79万</td>      <td>76</td>      <td>1992-04-13</td>      <td>--</td>      <td>NaN</td>      <td>物业经营</td>      <td>物业管理及停车费、房屋租赁、一次性口罩、纳米胶囊、杀菌纸巾</td>      <td>物业管理和房屋租赁业等</td>    </tr>    <tr>      <th>6</th>      <td>7</td>      <td>8</td>      <td>神州高铁</td>      <td>神州高铁技术股份有限公司</td>      <td>北京</td>      <td>北京市</td>      <td>1.19亿</td>      <td>-1.08亿</td>      <td>2394</td>      <td>1992-05-07</td>      <td>--</td>      <td>NaN</td>      <td>轨道交通设备</td>      <td>轨道交通</td>      <td>专业致力于提供轨道交通运营检修装备与数据、线路运营、维保服务。</td>    </tr>    <tr>      <th>7</th>      <td>8</td>      <td>9</td>      <td>中国宝安</td>      <td>中国宝安集团股份有限公司</td>      <td>广东</td>      <td>深圳市</td>      <td>16.28亿</td>      <td>1.14亿</td>      <td>13345</td>      <td>1991-06-25</td>      <td>--</td>      <td>NaN</td>      <td>综合</td>      <td>高新技术产业、生物医药、房地产</td>      <td>高新技术产业、生物医药产业、房地产及其他产业。</td>    </tr>    <tr>      <th>8</th>      <td>9</td>      <td>10</td>      <td>美丽生态</td>      <td>深圳美丽生态股份有限公司</td>      <td>广东</td>      <td>深圳市</td>      <td>7026.79万</td>      <td>-1174.96万</td>      <td>278</td>      <td>1995-10-27</td>      <td>--</td>      <td>NaN</td>      <td>园林工程</td>      <td>燃气销售服务、园林建设、园林设计、苗木销售</td>      <td>工程施工、园林绿化及环境综合整治。</td>    </tr>    <tr>      <th>9</th>      <td>10</td>      <td>11</td>      <td>深物业A</td>      <td>深圳市物业发展(集团)股份有限公司</td>      <td>广东</td>      <td>深圳市</td>      <td>8.62亿</td>      <td>1.28亿</td>      <td>8035</td>      <td>1992-03-30</td>      <td>--</td>      <td>NaN</td>      <td>房地产开发</td>      <td>产城空间开发、物业管理服务、产业生态运营、餐饮业务、工程监理业务</td>      <td>从事房地产开发经营，兼营物业管理、房屋租赁、出租车客运、餐饮服务等。</td>    </tr>    <tr>      <th>10</th>      <td>11</td>      <td>12</td>      <td>南玻A</td>      <td>中国南玻集团股份有限公司</td>      <td>广东</td>      <td>深圳市</td>      <td>17.34亿</td>      <td>1.12亿</td>      <td>10558</td>      <td>1992-02-28</td>      <td>--</td>      <td>NaN</td>      <td>玻璃</td>      <td>玻璃业务、电子玻璃及显示器件业务、太阳能及其他业务</td>      <td>研发、生产制造和销售优质浮法玻璃和工程玻璃、太阳能玻璃和硅材料、光伏电池和组件等可再生能源产...</td>    </tr>    <tr>      <th>11</th>      <td>12</td>      <td>14</td>      <td>沙河股份</td>      <td>沙河实业股份有限公司</td>      <td>广东</td>      <td>深圳市</td>      <td>8687.30万</td>      <td>983.82万</td>      <td>153</td>      <td>1992-06-02</td>      <td>--</td>      <td>NaN</td>      <td>房地产开发</td>      <td>房地产销售</td>      <td>从事房地产开发与经营、现代服务型产业用房运营与管理。</td>    </tr>    <tr>      <th>12</th>      <td>13</td>      <td>16</td>      <td>深康佳A</td>      <td>康佳集团股份有限公司</td>      <td>广东</td>      <td>深圳市</td>      <td>78.07亿</td>      <td>-2.74亿</td>      <td>17216</td>      <td>1992-03-27</td>      <td>--</td>      <td>NaN</td>      <td>电视机</td>      <td>工贸业务、彩电业务、环保业务、白电业务、半导体业务</td>      <td>消费类电子业务、工贸业务、环保业务、半导体业务。</td>    </tr>    <tr>      <th>13</th>      <td>14</td>      <td>17</td>      <td>深中华A</td>      <td>深圳中华自行车(集团)股份有限公司</td>      <td>广东</td>      <td>深圳市</td>      <td>743.44万</td>      <td>-73.30万</td>      <td>65</td>      <td>1992-03-31</td>      <td>--</td>      <td>NaN</td>      <td>自行车</td>      <td>自行车及零配件销售、锂电池材料、珠宝黄金</td>      <td>自行车及锂电池材料业务、珠宝黄金业务。</td>    </tr>    <tr>      <th>14</th>      <td>15</td>      <td>19</td>      <td>深粮控股</td>      <td>深圳市深粮控股股份有限公司</td>      <td>广东</td>      <td>深圳市</td>      <td>16.94亿</td>      <td>8628.35万</td>      <td>1246</td>      <td>1992-10-12</td>      <td>--</td>      <td>NaN</td>      <td>软饮料</td>      <td>食品和饮料及茶加工、粮油贸易及加工、粮油仓储物流及服务</td>      <td>批发零售业务、食品加工制造业务、租赁及商务服务业务。</td>    </tr>    <tr>      <th>15</th>      <td>16</td>      <td>20</td>      <td>深华发A</td>      <td>深圳中恒华发股份有限公司</td>      <td>广东</td>      <td>深圳市</td>      <td>8780.06万</td>      <td>-40.07万</td>      <td>1132</td>      <td>1992-04-28</td>      <td>--</td>      <td>NaN</td>      <td>电子零部件</td>      <td>显示器、注塑件、EPS产品、物业租赁、废料收入、水电费及其他</td>      <td>精密注塑件的加工、销售;液晶显示器的加工、销售;轻型包装材料的加工、销售以及物业租赁业务。</td>    </tr>    <tr>      <th>16</th>      <td>17</td>      <td>21</td>      <td>深科技</td>      <td>深圳长城开发科技股份有限公司</td>      <td>广东</td>      <td>深圳市</td>      <td>33.23亿</td>      <td>1.04亿</td>      <td>27051</td>      <td>1994-02-02</td>      <td>--</td>      <td>NaN</td>      <td>PC、服务器及硬件</td>      <td>存储半导体业务、自有产品、高端制造</td>      <td>致力于为全球客户提供技术研发、工艺设计、生产加工、采购管理、物流支持等电子产品制造服务。</td>    </tr>    <tr>      <th>17</th>      <td>18</td>      <td>23</td>      <td>深天地A</td>      <td>深圳市天地(集团)股份有限公司</td>      <td>广东</td>      <td>深圳市</td>      <td>1.67亿</td>      <td>-1308.50万</td>      <td>984</td>      <td>1993-04-29</td>      <td>--</td>      <td>NaN</td>      <td>商品混凝土</td>      <td>房地产、工业、租赁</td>      <td>商品混凝土的生产和销售、房地产的开发及物业管理等。</td>    </tr>    <tr>      <th>18</th>      <td>19</td>      <td>25</td>      <td>特力A</td>      <td>深圳市特力(集团)股份有限公司</td>      <td>广东</td>      <td>深圳市</td>      <td>8552.04万</td>      <td>496.65万</td>      <td>302</td>      <td>1993-06-21</td>      <td>--</td>      <td>NaN</td>      <td>汽车销售</td>      <td>汽车销售、汽车维修及检测、珠宝批发及零售、物业租赁及服务</td>      <td>汽车销售、汽车检测、维修及配件销售；资源性资产管理；珠宝服务业务。</td>    </tr>    <tr>      <th>19</th>      <td>20</td>      <td>26</td>      <td>飞亚达</td>      <td>飞亚达精密科技股份有限公司</td>      <td>广东</td>      <td>深圳市</td>      <td>5.88亿</td>      <td>-1297.48万</td>      <td>4901</td>      <td>1993-06-03</td>      <td>--</td>      <td>NaN</td>      <td>珠宝首饰</td>      <td>手表品牌业务、手表零售服务业务、精密科技业务、租赁业务</td>      <td>主要从事钟表及其零配件的设计、开发、制造、销售和维修业务，包括"飞亚达"表的产品经营和世界名...</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">stock1.to_csv(<span class="string">&#x27;A股信息1.csv&#x27;</span>,index=<span class="literal">False</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="comment">#保存第1页A股信息</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">stock = get_stock(<span class="number">1</span>)    <span class="comment">#获取第1页数据</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>,<span class="number">5</span>):   <span class="comment">#获取2到5页数据,共有202页数据，全部爬取需长时间</span></span><br><span class="line">    stock = pd.concat([stock,get_stock(i)])   <span class="comment">#拼接表格数据</span></span><br><span class="line">stock</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>序号</th>      <th>股票代码</th>      <th>股票简称</th>      <th>公司名称</th>      <th>省份</th>      <th>城市</th>      <th>主营业务收入(202003)</th>      <th>净利润(202003)</th>      <th>员工人数</th>      <th>上市日期</th>      <th>招股书</th>      <th>公司财报</th>      <th>行业分类</th>      <th>产品类型</th>      <th>主营业务</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>1</td>      <td>1</td>      <td>平安银行</td>      <td>平安银行股份有限公司</td>      <td>广东</td>      <td>深圳市</td>      <td>379.26亿</td>      <td>85.48亿</td>      <td>36676</td>      <td>1991-04-03</td>      <td>--</td>      <td>NaN</td>      <td>银行</td>      <td>商业银行业务</td>      <td>经有关监管机构批准的各项商业银行业务。</td>    </tr>    <tr>      <th>1</th>      <td>2</td>      <td>2</td>      <td>万科A</td>      <td>万科企业股份有限公司</td>      <td>广东</td>      <td>深圳市</td>      <td>477.74亿</td>      <td>24.30亿</td>      <td>140565</td>      <td>1991-01-29</td>      <td>--</td>      <td>NaN</td>      <td>房地产开发</td>      <td>房地产、物业管理、投资咨询</td>      <td>房地产开发和物业服务。</td>    </tr>    <tr>      <th>2</th>      <td>3</td>      <td>4</td>      <td>国华网安</td>      <td>深圳国华网安科技股份有限公司</td>      <td>广东</td>      <td>深圳市</td>      <td>2325.30万</td>      <td>357.53万</td>      <td>264</td>      <td>1991-01-14</td>      <td>--</td>      <td>NaN</td>      <td>生物医药</td>      <td>移动应用安全服务、移动互联网游戏</td>      <td>移动应用安全服务业务。</td>    </tr>    <tr>      <th>3</th>      <td>4</td>      <td>5</td>      <td>ST星源</td>      <td>深圳世纪星源股份有限公司</td>      <td>广东</td>      <td>深圳市</td>      <td>4570.29万</td>      <td>-2235.80万</td>      <td>629</td>      <td>1990-12-10</td>      <td>--</td>      <td>NaN</td>      <td>环保工程、物业管理</td>      <td>酒店经营、物业管理、环保业务</td>      <td>绿色低碳城市社区建设相关的服务业务。</td>    </tr>    <tr>      <th>4</th>      <td>5</td>      <td>6</td>      <td>深振业A</td>      <td>深圳市振业(集团)股份有限公司</td>      <td>广东</td>      <td>深圳市</td>      <td>6.52亿</td>      <td>1.41亿</td>      <td>397</td>      <td>1992-04-27</td>      <td>--</td>      <td>NaN</td>      <td>房地产开发</td>      <td>房地产</td>      <td>从事房地产开发与销售。</td>    </tr>    <tr>      <th>...</th>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>    </tr>    <tr>      <th>15</th>      <td>76</td>      <td>404</td>      <td>长虹华意</td>      <td>长虹华意压缩机股份有限公司</td>      <td>江西</td>      <td>景德镇市</td>      <td>20.96亿</td>      <td>2571.95万</td>      <td>7788</td>      <td>1996-06-19</td>      <td>--</td>      <td>NaN</td>      <td>压缩机</td>      <td>压缩机 、原材料及配件、智能扫地机 、电池</td>      <td>冰箱压缩机、商用压缩机的研发、生产和销售。</td>    </tr>    <tr>      <th>16</th>      <td>77</td>      <td>407</td>      <td>胜利股份</td>      <td>山东胜利股份有限公司</td>      <td>山东</td>      <td>济南市</td>      <td>8.63亿</td>      <td>2883.14万</td>      <td>2071</td>      <td>1996-07-03</td>      <td>--</td>      <td>NaN</td>      <td>燃气</td>      <td>天然气终端销售、天然气贸易、管道制造、油品贸易</td>      <td>清洁能源天然气业务推广和应用。</td>    </tr>    <tr>      <th>17</th>      <td>78</td>      <td>408</td>      <td>藏格控股</td>      <td>藏格控股股份有限公司</td>      <td>青海</td>      <td>海西蒙古族藏族自治州</td>      <td>2.72亿</td>      <td>-2.69亿</td>      <td>1603</td>      <td>1996-06-28</td>      <td>--</td>      <td>NaN</td>      <td>钾肥</td>      <td>生产农用复合肥料、贸易业务</td>      <td>钾肥(氯化钾)的生产和销售。</td>    </tr>    <tr>      <th>18</th>      <td>79</td>      <td>409</td>      <td>云鼎科技</td>      <td>云鼎科技股份有限公司</td>      <td>山东</td>      <td>济南市</td>      <td>6.03亿</td>      <td>-1501.08万</td>      <td>381</td>      <td>1996-06-27</td>      <td>--</td>      <td>NaN</td>      <td>综合</td>      <td>黄金、生物制药、特种轮胎、专利技术实施、中药材加工零售、商业贸易</td>      <td>信息化技术服务和煤气化技术推广业务。</td>    </tr>    <tr>      <th>19</th>      <td>80</td>      <td>410</td>      <td>ST沈机</td>      <td>沈阳机床股份有限公司</td>      <td>辽宁</td>      <td>沈阳市</td>      <td>2.06亿</td>      <td>-2.28亿</td>      <td>4597</td>      <td>1996-07-18</td>      <td>--</td>      <td>NaN</td>      <td>机床设备</td>      <td>机床、机床配套</td>      <td>产品研发、机床制造、销售服务、行业解决方案、机床零部件配套等。</td>    </tr>  </tbody></table><p>80 rows × 15 columns</p></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#stock.to_csv(&#x27;上市公司信息.csv&#x27;, index=False, encoding=&#x27;utf-8&#x27;)</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 《数据可视化》——基于Python的应用 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 《数据可视化》——基于Python的应用 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>第9章-数据的决策分析</title>
      <link href="ff635cd4.html"/>
      <url>ff635cd4.html</url>
      
        <content type="html"><![CDATA[<h1 id="第-9-章-数据的决策分析及可视化"><a href="#第-9-章-数据的决策分析及可视化" class="headerlink" title="第 9 章 数据的决策分析及可视化"></a>第 9 章 数据的决策分析及可视化</h1><h2 id="9-1-确定性分析"><a href="#9-1-确定性分析" class="headerlink" title="9.1 确定性分析"></a>9.1 确定性分析</h2><h3 id="9-1-1-单目标求解及图示"><a href="#9-1-1-单目标求解及图示" class="headerlink" title="9.1.1 单目标求解及图示"></a>9.1.1 单目标求解及图示</h3><p>（1）读取数据</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">Tv=pd.read_excel(<span class="string">&#x27;DaPy_data.xlsx&#x27;</span>,<span class="string">&#x27;Target&#x27;</span>,index_col=<span class="number">0</span>); Tv <span class="comment">#目标值 </span></span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>设备投资</th>      <th>单件成本</th>      <th>年销售量</th>      <th>销售单价</th>    </tr>    <tr>      <th>方案</th>      <th></th>      <th></th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>方案1</th>      <td>1500000</td>      <td>1700</td>      <td>8000</td>      <td>2900</td>    </tr>    <tr>      <th>方案2</th>      <td>2000000</td>      <td>1550</td>      <td>8000</td>      <td>2900</td>    </tr>    <tr>      <th>方案3</th>      <td>2500000</td>      <td>1400</td>      <td>8000</td>      <td>2900</td>    </tr>  </tbody></table></div><p>（2）计算年收益金额</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Tv[<span class="string">&#x27;年收益&#x27;</span>]=Tv.年销售量*(Tv.销售单价-Tv.单件成本)-Tv.设备投资;Tv </span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>设备投资</th>      <th>单件成本</th>      <th>年销售量</th>      <th>销售单价</th>      <th>年收益</th>    </tr>    <tr>      <th>方案</th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>方案1</th>      <td>1500000</td>      <td>1700</td>      <td>8000</td>      <td>2900</td>      <td>8100000</td>    </tr>    <tr>      <th>方案2</th>      <td>2000000</td>      <td>1550</td>      <td>8000</td>      <td>2900</td>      <td>8800000</td>    </tr>    <tr>      <th>方案3</th>      <td>2500000</td>      <td>1400</td>      <td>8000</td>      <td>2900</td>      <td>9500000</td>    </tr>  </tbody></table></div><p>（3）年收益的直观分析</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt            </span><br><span class="line">plt.rcParams[<span class="string">&#x27;font.sans-serif&#x27;</span>]=[<span class="string">&#x27;SimHei&#x27;</span>]; </span><br><span class="line"><span class="comment">#plt.rcParams[&#x27;figure.dpi&#x27;]=90  #分辨率</span></span><br><span class="line">Tv[<span class="string">&#x27;年收益&#x27;</span>].plot(kind=<span class="string">&#x27;bar&#x27;</span>);</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112071617764.png" alt="png"></p><p>（4）确定最佳方案：收益率最大者为最佳方案。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Tv[<span class="string">&#x27;年收益&#x27;</span>].idxmax()</span><br></pre></td></tr></table></figure><pre><code>&#39;方案3&#39;</code></pre><h3 id="9-1-2-多目标求解及图示"><a href="#9-1-2-多目标求解及图示" class="headerlink" title="9.1.2 多目标求解及图示"></a>9.1.2 多目标求解及图示</h3><p>（1）计算理想值:      </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Ev=[<span class="built_in">min</span>(Tv.设备投资), <span class="built_in">min</span>(Tv.单件成本), <span class="built_in">max</span>(Tv.年销售量), <span class="built_in">max</span>(Tv.销售单价), </span><br><span class="line">    <span class="built_in">max</span>(Tv.年收益)]; Ev <span class="comment">#理想值 </span></span><br></pre></td></tr></table></figure><pre><code>[1500000, 1400, 8000, 2900, 9500000]</code></pre><p>（2）计算差距: </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Tv_Ev2=((Tv-Ev))**<span class="number">2</span>    <span class="comment">#差值的平方 </span></span><br><span class="line">Tv_Ev2</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>设备投资</th>      <th>单件成本</th>      <th>年销售量</th>      <th>销售单价</th>      <th>年收益</th>    </tr>    <tr>      <th>方案</th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>方案1</th>      <td>0</td>      <td>90000</td>      <td>0</td>      <td>0</td>      <td>1960000000000</td>    </tr>    <tr>      <th>方案2</th>      <td>250000000000</td>      <td>22500</td>      <td>0</td>      <td>0</td>      <td>490000000000</td>    </tr>    <tr>      <th>方案3</th>      <td>1000000000000</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Dv=(Tv_Ev2).<span class="built_in">sum</span>(<span class="number">1</span>); Dv   <span class="comment">#差距</span></span><br></pre></td></tr></table></figure><pre><code>方案方案1    1960000090000方案2     740000022500方案3    1000000000000dtype: int64</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Tv[<span class="string">&#x27;差距&#x27;</span>]=Dv; Tv</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>设备投资</th>      <th>单件成本</th>      <th>年销售量</th>      <th>销售单价</th>      <th>年收益</th>      <th>差距</th>    </tr>    <tr>      <th>方案</th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>方案1</th>      <td>1500000</td>      <td>1700</td>      <td>8000</td>      <td>2900</td>      <td>8100000</td>      <td>1960000090000</td>    </tr>    <tr>      <th>方案2</th>      <td>2000000</td>      <td>1550</td>      <td>8000</td>      <td>2900</td>      <td>8800000</td>      <td>740000022500</td>    </tr>    <tr>      <th>方案3</th>      <td>2500000</td>      <td>1400</td>      <td>8000</td>      <td>2900</td>      <td>9500000</td>      <td>1000000000000</td>    </tr>  </tbody></table></div><p>（3）差距的直观分析</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Dv.plot(kind=<span class="string">&#x27;bar&#x27;</span>);</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112071617268.png" alt="png"></p><p>（4）确定最佳方案: </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Dv.idxmin() </span><br></pre></td></tr></table></figure><pre><code>&#39;方案2&#39;</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pd.DataFrame(&#123;<span class="string">&#x27;单目标&#x27;</span>:Tv[<span class="string">&#x27;年收益&#x27;</span>],<span class="string">&#x27;单目标方案&#x27;</span>:Tv[<span class="string">&#x27;年收益&#x27;</span>]==Tv[<span class="string">&#x27;年收益&#x27;</span>].<span class="built_in">max</span>(),</span><br><span class="line">              <span class="string">&#x27;多目标&#x27;</span>:Tv[<span class="string">&#x27;差距&#x27;</span>],<span class="string">&#x27;多目标方案&#x27;</span>:Tv[<span class="string">&#x27;差距&#x27;</span>]==Tv[<span class="string">&#x27;差距&#x27;</span>].<span class="built_in">min</span>()&#125;)</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>单目标</th>      <th>单目标方案</th>      <th>多目标</th>      <th>多目标方案</th>    </tr>    <tr>      <th>方案</th>      <th></th>      <th></th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>方案1</th>      <td>8100000</td>      <td>False</td>      <td>1960000090000</td>      <td>False</td>    </tr>    <tr>      <th>方案2</th>      <td>8800000</td>      <td>False</td>      <td>740000022500</td>      <td>True</td>    </tr>    <tr>      <th>方案3</th>      <td>9500000</td>      <td>True</td>      <td>1000000000000</td>      <td>False</td>    </tr>  </tbody></table></div><h2 id="9-2-不确定性决策分析"><a href="#9-2-不确定性决策分析" class="headerlink" title="9.2 不确定性决策分析"></a>9.2 不确定性决策分析</h2><h3 id="9-2-1-分析方法简介"><a href="#9-2-1-分析方法简介" class="headerlink" title="9.2.1 分析方法简介"></a>9.2.1 分析方法简介</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">PLm=pd.DataFrame();    <span class="comment">#构建损益矩阵 ProfitLoss matrix </span></span><br><span class="line">PLm[<span class="string">&#x27;畅销&#x27;</span>]= <span class="number">12000</span>*(Tv.销售单价-Tv.单件成本)-Tv.设备投资; </span><br><span class="line">PLm[<span class="string">&#x27;一般&#x27;</span>]= <span class="number">8000</span>*(Tv.销售单价-Tv.单件成本)-Tv.设备投资; </span><br><span class="line">PLm[<span class="string">&#x27;滞销&#x27;</span>]= <span class="number">1500</span>*(Tv.销售单价-Tv.单件成本)-Tv.设备投资;</span><br><span class="line">PLm </span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>畅销</th>      <th>一般</th>      <th>滞销</th>    </tr>    <tr>      <th>方案</th>      <th></th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>方案1</th>      <td>12900000</td>      <td>8100000</td>      <td>300000</td>    </tr>    <tr>      <th>方案2</th>      <td>14200000</td>      <td>8800000</td>      <td>25000</td>    </tr>    <tr>      <th>方案3</th>      <td>15500000</td>      <td>9500000</td>      <td>-250000</td>    </tr>  </tbody></table></div><h3 id="9-2-2-不确定分析原则"><a href="#9-2-2-不确定分析原则" class="headerlink" title="9.2.2  不确定分析原则"></a>9.2.2  不确定分析原则</h3><p>9.2.2.1 乐观原则</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lg=PLm.<span class="built_in">max</span>(axis=<span class="number">1</span>);lg  <span class="comment">#每列最大者</span></span><br></pre></td></tr></table></figure><pre><code>方案方案1    12900000方案2    14200000方案3    15500000dtype: int64</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">BQD=PLm.copy();PLm</span><br><span class="line">BQD[<span class="string">&#x27;乐观&#x27;</span>]=lg; BQD</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>畅销</th>      <th>一般</th>      <th>滞销</th>      <th>乐观</th>    </tr>    <tr>      <th>方案</th>      <th></th>      <th></th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>方案1</th>      <td>12900000</td>      <td>8100000</td>      <td>300000</td>      <td>12900000</td>    </tr>    <tr>      <th>方案2</th>      <td>14200000</td>      <td>8800000</td>      <td>25000</td>      <td>14200000</td>    </tr>    <tr>      <th>方案3</th>      <td>15500000</td>      <td>9500000</td>      <td>-250000</td>      <td>15500000</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lg.plot(kind=<span class="string">&#x27;bar&#x27;</span>);</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112071617783.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lg.idxmax() </span><br></pre></td></tr></table></figure><pre><code>&#39;方案3&#39;</code></pre><p>9.2.2.2 悲观原则</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bg=PLm.<span class="built_in">min</span>(<span class="number">1</span>); bg</span><br></pre></td></tr></table></figure><pre><code>方案方案1    300000方案2     25000方案3   -250000dtype: int64</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BQD[<span class="string">&#x27;悲观&#x27;</span>]=bg; BQD</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>畅销</th>      <th>一般</th>      <th>滞销</th>      <th>乐观</th>      <th>悲观</th>    </tr>    <tr>      <th>方案</th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>方案1</th>      <td>12900000</td>      <td>8100000</td>      <td>300000</td>      <td>12900000</td>      <td>300000</td>    </tr>    <tr>      <th>方案2</th>      <td>14200000</td>      <td>8800000</td>      <td>25000</td>      <td>14200000</td>      <td>25000</td>    </tr>    <tr>      <th>方案3</th>      <td>15500000</td>      <td>9500000</td>      <td>-250000</td>      <td>15500000</td>      <td>-250000</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">plt.rcParams[<span class="string">&#x27;axes.unicode_minus&#x27;</span>]=<span class="literal">False</span>;  <span class="comment">#正常显示图中负号</span></span><br><span class="line">bg.plot(kind=<span class="string">&#x27;bar&#x27;</span>);</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112071617777.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bg.idxmax() </span><br></pre></td></tr></table></figure><pre><code>&#39;方案1&#39;</code></pre><p>9.2.2.3 折中原则</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a=<span class="number">0.35</span> </span><br><span class="line">zz= a*lg + (<span class="number">1</span>-a)*bg; zz</span><br></pre></td></tr></table></figure><pre><code>方案方案1    4710000.0方案2    4986250.0方案3    5262500.0dtype: float64</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BQD[<span class="string">&#x27;折中&#x27;</span>]=zz; BQD</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>畅销</th>      <th>一般</th>      <th>滞销</th>      <th>乐观</th>      <th>悲观</th>      <th>折中</th>    </tr>    <tr>      <th>方案</th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>方案1</th>      <td>12900000</td>      <td>8100000</td>      <td>300000</td>      <td>12900000</td>      <td>300000</td>      <td>4710000.0</td>    </tr>    <tr>      <th>方案2</th>      <td>14200000</td>      <td>8800000</td>      <td>25000</td>      <td>14200000</td>      <td>25000</td>      <td>4986250.0</td>    </tr>    <tr>      <th>方案3</th>      <td>15500000</td>      <td>9500000</td>      <td>-250000</td>      <td>15500000</td>      <td>-250000</td>      <td>5262500.0</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">zz.plot(kind=<span class="string">&#x27;bar&#x27;</span>);</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112071617889.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">zz.idxmax() </span><br></pre></td></tr></table></figure><pre><code>&#39;方案3&#39;</code></pre><p>9.2.2.4 后悔原则</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Rm=PLm.<span class="built_in">max</span>()-PLm;Rm  <span class="comment">#构建后悔矩阵 Regret matrix </span></span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>畅销</th>      <th>一般</th>      <th>滞销</th>    </tr>    <tr>      <th>方案</th>      <th></th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>方案1</th>      <td>2600000</td>      <td>1400000</td>      <td>0</td>    </tr>    <tr>      <th>方案2</th>      <td>1300000</td>      <td>700000</td>      <td>275000</td>    </tr>    <tr>      <th>方案3</th>      <td>0</td>      <td>0</td>      <td>550000</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hh=Rm.<span class="built_in">max</span>(<span class="number">1</span>);hh </span><br></pre></td></tr></table></figure><pre><code>方案方案1    2600000方案2    1300000方案3     550000dtype: int64</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BQD[<span class="string">&#x27;后悔&#x27;</span>]=hh; BQD</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>畅销</th>      <th>一般</th>      <th>滞销</th>      <th>乐观</th>      <th>悲观</th>      <th>折中</th>      <th>后悔</th>    </tr>    <tr>      <th>方案</th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>方案1</th>      <td>12900000</td>      <td>8100000</td>      <td>300000</td>      <td>12900000</td>      <td>300000</td>      <td>4710000.0</td>      <td>2600000</td>    </tr>    <tr>      <th>方案2</th>      <td>14200000</td>      <td>8800000</td>      <td>25000</td>      <td>14200000</td>      <td>25000</td>      <td>4986250.0</td>      <td>1300000</td>    </tr>    <tr>      <th>方案3</th>      <td>15500000</td>      <td>9500000</td>      <td>-250000</td>      <td>15500000</td>      <td>-250000</td>      <td>5262500.0</td>      <td>550000</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hh.plot(kind=<span class="string">&#x27;bar&#x27;</span>);</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112071617896.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hh.idxmin() </span><br></pre></td></tr></table></figure><pre><code>&#39;方案3&#39;</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pd.DataFrame(&#123;<span class="string">&#x27;乐观&#x27;</span>:lg,<span class="string">&#x27;乐观方案&#x27;</span>:lg==lg.<span class="built_in">max</span>(),<span class="string">&#x27;悲观&#x27;</span>:bg,<span class="string">&#x27;悲观方案&#x27;</span>:bg==bg.<span class="built_in">max</span>(),</span><br><span class="line">              <span class="string">&#x27;折中&#x27;</span>:zz,<span class="string">&#x27;折中方案&#x27;</span>:zz==zz.<span class="built_in">max</span>(),<span class="string">&#x27;后悔&#x27;</span>:hh,<span class="string">&#x27;后悔方案&#x27;</span>:hh==hh.<span class="built_in">min</span>()&#125;)</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>乐观</th>      <th>乐观方案</th>      <th>悲观</th>      <th>悲观方案</th>      <th>折中</th>      <th>折中方案</th>      <th>后悔</th>      <th>后悔方案</th>    </tr>    <tr>      <th>方案</th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>方案1</th>      <td>12900000</td>      <td>False</td>      <td>300000</td>      <td>True</td>      <td>4710000.0</td>      <td>False</td>      <td>2600000</td>      <td>False</td>    </tr>    <tr>      <th>方案2</th>      <td>14200000</td>      <td>False</td>      <td>25000</td>      <td>False</td>      <td>4986250.0</td>      <td>False</td>      <td>1300000</td>      <td>False</td>    </tr>    <tr>      <th>方案3</th>      <td>15500000</td>      <td>True</td>      <td>-250000</td>      <td>False</td>      <td>5262500.0</td>      <td>True</td>      <td>550000</td>      <td>True</td>    </tr>  </tbody></table></div><h2 id="9-3-概率型风险分析"><a href="#9-3-概率型风险分析" class="headerlink" title="9.3  概率型风险分析"></a>9.3  概率型风险分析</h2><h3 id="9-3-1-期望值法及直观分析"><a href="#9-3-1-期望值法及直观分析" class="headerlink" title="9.3.1 期望值法及直观分析"></a>9.3.1 期望值法及直观分析</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">probE=[<span class="number">0.1</span>,<span class="number">0.65</span>,<span class="number">0.25</span>]; <span class="comment">#初始概率 </span></span><br><span class="line">qw=(probE*PLm).<span class="built_in">sum</span>(<span class="number">1</span>); qw</span><br></pre></td></tr></table></figure><pre><code>方案方案1    6630000.0方案2    7146250.0方案3    7662500.0dtype: float64</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">qw.plot(kind=<span class="string">&#x27;bar&#x27;</span>);</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112071618510.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">qw.idxmax()</span><br></pre></td></tr></table></figure><pre><code>&#39;方案3&#39;</code></pre><h3 id="9-3-2-后悔期望值法及直观分析"><a href="#9-3-2-后悔期望值法及直观分析" class="headerlink" title="9.3.2 后悔期望值法及直观分析"></a>9.3.2 后悔期望值法及直观分析</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Rm</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>畅销</th>      <th>一般</th>      <th>滞销</th>    </tr>    <tr>      <th>方案</th>      <th></th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>方案1</th>      <td>2600000</td>      <td>1400000</td>      <td>0</td>    </tr>    <tr>      <th>方案2</th>      <td>1300000</td>      <td>700000</td>      <td>275000</td>    </tr>    <tr>      <th>方案3</th>      <td>0</td>      <td>0</td>      <td>550000</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">probE=[<span class="number">0.1</span>,<span class="number">0.65</span>,<span class="number">0.25</span>]; </span><br><span class="line">hhqw=(probE*Rm).<span class="built_in">sum</span>(<span class="number">1</span>); hhqw</span><br></pre></td></tr></table></figure><pre><code>方案方案1    1170000.0方案2     653750.0方案3     137500.0dtype: float64</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hhqw.plot(kind=<span class="string">&#x27;bar&#x27;</span>);</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112071617263.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hhqw.idxmin()</span><br></pre></td></tr></table></figure><pre><code>&#39;方案3&#39;</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pd.DataFrame(&#123;<span class="string">&#x27;期望值&#x27;</span>:qw,<span class="string">&#x27;期望方案&#x27;</span>:qw==qw.<span class="built_in">max</span>(),</span><br><span class="line">              <span class="string">&#x27;后悔期望值&#x27;</span>:qw,<span class="string">&#x27;后悔期望方案&#x27;</span>:hhqw==hhqw.<span class="built_in">min</span>()&#125;)</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>期望值</th>      <th>期望方案</th>      <th>后悔期望值</th>      <th>后悔期望方案</th>    </tr>    <tr>      <th>方案</th>      <th></th>      <th></th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>方案1</th>      <td>6630000.0</td>      <td>False</td>      <td>6630000.0</td>      <td>False</td>    </tr>    <tr>      <th>方案2</th>      <td>7146250.0</td>      <td>False</td>      <td>7146250.0</td>      <td>False</td>    </tr>    <tr>      <th>方案3</th>      <td>7662500.0</td>      <td>True</td>      <td>7662500.0</td>      <td>True</td>    </tr>  </tbody></table></div>]]></content>
      
      
      <categories>
          
          <category> 《数据可视化》——基于Python的应用 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 《数据可视化》——基于Python的应用 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>第8章-数据的预测分析</title>
      <link href="1f321105.html"/>
      <url>1f321105.html</url>
      
        <content type="html"><![CDATA[<h1 id="第8章-数据的预测分析及可视化"><a href="#第8章-数据的预测分析及可视化" class="headerlink" title="第8章 数据的预测分析及可视化"></a>第8章 数据的预测分析及可视化</h1><h2 id="8-1-动态数列的基本分析"><a href="#8-1-动态数列的基本分析" class="headerlink" title="8.1 动态数列的基本分析"></a>8.1 动态数列的基本分析</h2><h3 id="8-1-1-动态数列的介绍"><a href="#8-1-1-动态数列的介绍" class="headerlink" title="8.1.1 动态数列的介绍"></a>8.1.1 动态数列的介绍</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#%config InlineBackend.figure_format = &#x27;retina&#x27; #可提高图形显示的清晰度</span></span><br></pre></td></tr></table></figure><p>8.1.1.1  动态数列的概念</p><p>8.1.1.2 动态数列的构建</p><p>（1）获取时间序列数据</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd                     <span class="comment">#加载数据分析包pandas</span></span><br><span class="line">pd.set_option(<span class="string">&#x27;display.precision&#x27;</span>,<span class="number">4</span>)    <span class="comment">#设置pandas输出精度</span></span><br><span class="line">pd.set_option(<span class="string">&#x27;display.max_rows&#x27;</span>, <span class="number">10</span>)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">YQdata=pd.read_excel(<span class="string">&#x27;DaPy_data.xlsx&#x27;</span>,<span class="string">&#x27;YQdata&#x27;</span>,index_col=<span class="number">0</span>)</span><br><span class="line">YQdata</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>Q1</th>      <th>Q2</th>      <th>Q3</th>      <th>Q4</th>    </tr>    <tr>      <th>Year</th>      <th></th>      <th></th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>2001</th>      <td>2.330</td>      <td>2.565</td>      <td>2.687</td>      <td>3.384</td>    </tr>    <tr>      <th>2002</th>      <td>2.536</td>      <td>2.797</td>      <td>2.972</td>      <td>3.728</td>    </tr>    <tr>      <th>2003</th>      <td>2.886</td>      <td>3.101</td>      <td>3.346</td>      <td>4.249</td>    </tr>    <tr>      <th>2004</th>      <td>3.342</td>      <td>3.699</td>      <td>3.956</td>      <td>4.991</td>    </tr>    <tr>      <th>2005</th>      <td>3.912</td>      <td>4.280</td>      <td>4.474</td>      <td>5.828</td>    </tr>    <tr>      <th>...</th>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>    </tr>    <tr>      <th>2011</th>      <td>9.748</td>      <td>10.901</td>      <td>11.586</td>      <td>15.076</td>    </tr>    <tr>      <th>2012</th>      <td>10.837</td>      <td>11.963</td>      <td>12.574</td>      <td>16.573</td>    </tr>    <tr>      <th>2013</th>      <td>11.886</td>      <td>12.916</td>      <td>13.908</td>      <td>20.092</td>    </tr>    <tr>      <th>2014</th>      <td>12.821</td>      <td>14.083</td>      <td>15.086</td>      <td>21.656</td>    </tr>    <tr>      <th>2015</th>      <td>14.067</td>      <td>17.351</td>      <td>17.316</td>      <td>18.937</td>    </tr>  </tbody></table><p>15 rows × 4 columns</p></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">QTdata=pd.read_excel(<span class="string">&#x27;DaPy_data.xlsx&#x27;</span>,<span class="string">&#x27;QTdata&#x27;</span>,index_col=<span class="number">0</span>)</span><br><span class="line">QTdata</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>GDP</th>    </tr>    <tr>      <th>YQ</th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>2001Q1</th>      <td>2.330</td>    </tr>    <tr>      <th>2001Q2</th>      <td>2.565</td>    </tr>    <tr>      <th>2001Q3</th>      <td>2.687</td>    </tr>    <tr>      <th>2001Q4</th>      <td>3.384</td>    </tr>    <tr>      <th>2002Q1</th>      <td>2.536</td>    </tr>    <tr>      <th>...</th>      <td>...</td>    </tr>    <tr>      <th>2014Q4</th>      <td>21.656</td>    </tr>    <tr>      <th>2015Q1</th>      <td>14.067</td>    </tr>    <tr>      <th>2015Q2</th>      <td>17.351</td>    </tr>    <tr>      <th>2015Q3</th>      <td>17.316</td>    </tr>    <tr>      <th>2015Q4</th>      <td>18.937</td>    </tr>  </tbody></table><p>60 rows × 1 columns</p></div><p>（2）季度序列数据的图示</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">QTdata.plot(grid=<span class="literal">True</span>);</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112071612571.png" alt="png"></p><p>（3）构建年度型序列数据</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#生成年度变量 </span></span><br><span class="line">QTdata[<span class="string">&#x27;Year&#x27;</span>]=QTdata.index.<span class="built_in">str</span>[:<span class="number">4</span>];QTdata</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>GDP</th>      <th>Year</th>    </tr>    <tr>      <th>YQ</th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>2001Q1</th>      <td>2.330</td>      <td>2001</td>    </tr>    <tr>      <th>2001Q2</th>      <td>2.565</td>      <td>2001</td>    </tr>    <tr>      <th>2001Q3</th>      <td>2.687</td>      <td>2001</td>    </tr>    <tr>      <th>2001Q4</th>      <td>3.384</td>      <td>2001</td>    </tr>    <tr>      <th>2002Q1</th>      <td>2.536</td>      <td>2002</td>    </tr>    <tr>      <th>...</th>      <td>...</td>      <td>...</td>    </tr>    <tr>      <th>2014Q4</th>      <td>21.656</td>      <td>2014</td>    </tr>    <tr>      <th>2015Q1</th>      <td>14.067</td>      <td>2015</td>    </tr>    <tr>      <th>2015Q2</th>      <td>17.351</td>      <td>2015</td>    </tr>    <tr>      <th>2015Q3</th>      <td>17.316</td>      <td>2015</td>    </tr>    <tr>      <th>2015Q4</th>      <td>18.937</td>      <td>2015</td>    </tr>  </tbody></table><p>60 rows × 2 columns</p></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#形成年度时序数据 </span></span><br><span class="line">YGDP=QTdata.groupby([<span class="string">&#x27;Year&#x27;</span>])[<span class="string">&#x27;GDP&#x27;</span>].<span class="built_in">sum</span>();YGDP </span><br></pre></td></tr></table></figure><pre><code>Year2001    10.9662002    12.0332003    13.5822004    15.9882005    18.494         ...  2011    47.3112012    51.9472013    58.8022014    63.6462015    67.671Name: GDP, Length: 15, dtype: float64</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">YGDP.plot(grid=<span class="literal">True</span>);</span><br></pre></td></tr></table></figure><p>​<br><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112071611636.png" alt="png"><br>​    </p><h3 id="8-1-2-动态数列的分析"><a href="#8-1-2-动态数列的分析" class="headerlink" title="8.1.2 动态数列的分析"></a>8.1.2 动态数列的分析</h3><p>8.1.2.1 绝对动态数列</p><p>（1）定基增长量 </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">YGDP</span><br><span class="line">YGDPds=pd.DataFrame(YGDP);  <span class="comment">#构建年度动态序列框</span></span><br><span class="line">YGDPds</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>GDP</th>    </tr>    <tr>      <th>Year</th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>2001</th>      <td>10.966</td>    </tr>    <tr>      <th>2002</th>      <td>12.033</td>    </tr>    <tr>      <th>2003</th>      <td>13.582</td>    </tr>    <tr>      <th>2004</th>      <td>15.988</td>    </tr>    <tr>      <th>2005</th>      <td>18.494</td>    </tr>    <tr>      <th>...</th>      <td>...</td>    </tr>    <tr>      <th>2011</th>      <td>47.311</td>    </tr>    <tr>      <th>2012</th>      <td>51.947</td>    </tr>    <tr>      <th>2013</th>      <td>58.802</td>    </tr>    <tr>      <th>2014</th>      <td>63.646</td>    </tr>    <tr>      <th>2015</th>      <td>67.671</td>    </tr>  </tbody></table><p>15 rows × 1 columns</p></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">YGDPds[<span class="string">&#x27;定基数&#x27;</span>]= YGDP-YGDP[:<span class="number">1</span>].values; YGDPds </span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>GDP</th>      <th>定基数</th>    </tr>    <tr>      <th>Year</th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>2001</th>      <td>10.966</td>      <td>0.000</td>    </tr>    <tr>      <th>2002</th>      <td>12.033</td>      <td>1.067</td>    </tr>    <tr>      <th>2003</th>      <td>13.582</td>      <td>2.616</td>    </tr>    <tr>      <th>2004</th>      <td>15.988</td>      <td>5.022</td>    </tr>    <tr>      <th>2005</th>      <td>18.494</td>      <td>7.528</td>    </tr>    <tr>      <th>...</th>      <td>...</td>      <td>...</td>    </tr>    <tr>      <th>2011</th>      <td>47.311</td>      <td>36.345</td>    </tr>    <tr>      <th>2012</th>      <td>51.947</td>      <td>40.981</td>    </tr>    <tr>      <th>2013</th>      <td>58.802</td>      <td>47.836</td>    </tr>    <tr>      <th>2014</th>      <td>63.646</td>      <td>52.680</td>    </tr>    <tr>      <th>2015</th>      <td>67.671</td>      <td>56.705</td>    </tr>  </tbody></table><p>15 rows × 2 columns</p></div><p>（2）环比增长量 </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">YGDPds[<span class="string">&#x27;环基数&#x27;</span>]= YGDP-YGDP.shift(<span class="number">1</span>); YGDPds <span class="comment">#shift(1)向下移动1个单位 </span></span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>GDP</th>      <th>定基数</th>      <th>环基数</th>    </tr>    <tr>      <th>Year</th>      <th></th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>2001</th>      <td>10.966</td>      <td>0.000</td>      <td>NaN</td>    </tr>    <tr>      <th>2002</th>      <td>12.033</td>      <td>1.067</td>      <td>1.067</td>    </tr>    <tr>      <th>2003</th>      <td>13.582</td>      <td>2.616</td>      <td>1.549</td>    </tr>    <tr>      <th>2004</th>      <td>15.988</td>      <td>5.022</td>      <td>2.406</td>    </tr>    <tr>      <th>2005</th>      <td>18.494</td>      <td>7.528</td>      <td>2.506</td>    </tr>    <tr>      <th>...</th>      <td>...</td>      <td>...</td>      <td>...</td>    </tr>    <tr>      <th>2011</th>      <td>47.311</td>      <td>36.345</td>      <td>7.160</td>    </tr>    <tr>      <th>2012</th>      <td>51.947</td>      <td>40.981</td>      <td>4.636</td>    </tr>    <tr>      <th>2013</th>      <td>58.802</td>      <td>47.836</td>      <td>6.855</td>    </tr>    <tr>      <th>2014</th>      <td>63.646</td>      <td>52.680</td>      <td>4.844</td>    </tr>    <tr>      <th>2015</th>      <td>67.671</td>      <td>56.705</td>      <td>4.025</td>    </tr>  </tbody></table><p>15 rows × 3 columns</p></div><p>8.1.2.2 相对动态数列</p><p>（1）定基发展速度（定基比） </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">YGDPds[<span class="string">&#x27;定基比&#x27;</span>]=YGDP/YGDP[:<span class="number">1</span>].values; YGDPds </span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>GDP</th>      <th>定基数</th>      <th>环基数</th>      <th>定基比</th>    </tr>    <tr>      <th>Year</th>      <th></th>      <th></th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>2001</th>      <td>10.966</td>      <td>0.000</td>      <td>NaN</td>      <td>1.0000</td>    </tr>    <tr>      <th>2002</th>      <td>12.033</td>      <td>1.067</td>      <td>1.067</td>      <td>1.0973</td>    </tr>    <tr>      <th>2003</th>      <td>13.582</td>      <td>2.616</td>      <td>1.549</td>      <td>1.2386</td>    </tr>    <tr>      <th>2004</th>      <td>15.988</td>      <td>5.022</td>      <td>2.406</td>      <td>1.4580</td>    </tr>    <tr>      <th>2005</th>      <td>18.494</td>      <td>7.528</td>      <td>2.506</td>      <td>1.6865</td>    </tr>    <tr>      <th>...</th>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>    </tr>    <tr>      <th>2011</th>      <td>47.311</td>      <td>36.345</td>      <td>7.160</td>      <td>4.3143</td>    </tr>    <tr>      <th>2012</th>      <td>51.947</td>      <td>40.981</td>      <td>4.636</td>      <td>4.7371</td>    </tr>    <tr>      <th>2013</th>      <td>58.802</td>      <td>47.836</td>      <td>6.855</td>      <td>5.3622</td>    </tr>    <tr>      <th>2014</th>      <td>63.646</td>      <td>52.680</td>      <td>4.844</td>      <td>5.8039</td>    </tr>    <tr>      <th>2015</th>      <td>67.671</td>      <td>56.705</td>      <td>4.025</td>      <td>6.1710</td>    </tr>  </tbody></table><p>15 rows × 4 columns</p></div><p>（2）环比发展速度（环基比） </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">YGDPds[<span class="string">&#x27;环基比&#x27;</span>]=YGDP/YGDP.shift(<span class="number">1</span>);YGDPds </span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>GDP</th>      <th>定基数</th>      <th>环基数</th>      <th>定基比</th>      <th>环基比</th>    </tr>    <tr>      <th>Year</th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>2001</th>      <td>10.966</td>      <td>0.000</td>      <td>NaN</td>      <td>1.0000</td>      <td>NaN</td>    </tr>    <tr>      <th>2002</th>      <td>12.033</td>      <td>1.067</td>      <td>1.067</td>      <td>1.0973</td>      <td>1.0973</td>    </tr>    <tr>      <th>2003</th>      <td>13.582</td>      <td>2.616</td>      <td>1.549</td>      <td>1.2386</td>      <td>1.1287</td>    </tr>    <tr>      <th>2004</th>      <td>15.988</td>      <td>5.022</td>      <td>2.406</td>      <td>1.4580</td>      <td>1.1771</td>    </tr>    <tr>      <th>2005</th>      <td>18.494</td>      <td>7.528</td>      <td>2.506</td>      <td>1.6865</td>      <td>1.1567</td>    </tr>    <tr>      <th>...</th>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>    </tr>    <tr>      <th>2011</th>      <td>47.311</td>      <td>36.345</td>      <td>7.160</td>      <td>4.3143</td>      <td>1.1783</td>    </tr>    <tr>      <th>2012</th>      <td>51.947</td>      <td>40.981</td>      <td>4.636</td>      <td>4.7371</td>      <td>1.0980</td>    </tr>    <tr>      <th>2013</th>      <td>58.802</td>      <td>47.836</td>      <td>6.855</td>      <td>5.3622</td>      <td>1.1320</td>    </tr>    <tr>      <th>2014</th>      <td>63.646</td>      <td>52.680</td>      <td>4.844</td>      <td>5.8039</td>      <td>1.0824</td>    </tr>    <tr>      <th>2015</th>      <td>67.671</td>      <td>56.705</td>      <td>4.025</td>      <td>6.1710</td>      <td>1.0632</td>    </tr>  </tbody></table><p>15 rows × 5 columns</p></div><p>8.1.2.3 平均动态数列</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">n=<span class="built_in">len</span>(YGDP);n</span><br></pre></td></tr></table></figure><pre><code>15</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ADR=(YGDP[-<span class="number">1</span>:].values/YGDP[:<span class="number">1</span>].values)**(<span class="number">1</span>/n)</span><br><span class="line">print(<span class="string">&#x27;\n  平均增长量 = %5.3f&#x27;</span> % ADR)</span><br></pre></td></tr></table></figure><pre><code>  平均增长量 = 1.129</code></pre><h2 id="8-2-动态数列预测分析"><a href="#8-2-动态数列预测分析" class="headerlink" title="8.2 动态数列预测分析"></a>8.2 动态数列预测分析</h2><h3 id="8-2-1-趋势预测模型构建"><a href="#8-2-1-趋势预测模型构建" class="headerlink" title="8.2.1 趋势预测模型构建"></a>8.2.1 趋势预测模型构建</h3><p>8.2.1.1 趋势模型的类型</p><p>（1）一次模型：y = a + bx</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">n=<span class="number">20</span></span><br><span class="line">x=np.arange(n)+<span class="number">1</span>       <span class="comment">#生成1:n的等差数列</span></span><br><span class="line">y=<span class="number">1</span>+<span class="number">2</span>*x    </span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt </span><br><span class="line">plt.plot(x,y,<span class="string">&#x27;o-&#x27;</span>);    <span class="comment">#点线图</span></span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112071612495.png" alt="png"></p><p>（2）对数模型：y = a + b*log x </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">y=<span class="number">1</span>+<span class="number">0.2</span>*np.log(x)</span><br><span class="line">plt.plot(x,y,<span class="string">&#x27;o-&#x27;</span>); </span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112071611651.png" alt="png"></p><p>（3）指数模型：y=ae^(bx) </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">y=<span class="number">0.2</span>*np.exp(<span class="number">0.1</span>*x)</span><br><span class="line">plt.plot(x,y,<span class="string">&#x27;o-&#x27;</span>);</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112071612246.png" alt="png"></p><p>（4）幂函数：y=ax^b </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">y=<span class="number">0.2</span>*x**<span class="number">0.1</span></span><br><span class="line">plt.plot(x,y,<span class="string">&#x27;o-&#x27;</span>); </span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112071612026.png" alt="png"></p><p>8.2.1.2  最优模型选择准则</p><p>8.2.1.3 趋势模型的建立</p><p>（1）线性模型 </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> statsmodels.api <span class="keyword">as</span> sm </span><br><span class="line">Yt=YGDP       <span class="comment">#Yt=YGDP=QTdata.groupby([&#x27;Year&#x27;])[&#x27;GDP&#x27;].sum()</span></span><br><span class="line">plt.plot(Yt,<span class="string">&#x27;.&#x27;</span>)</span><br></pre></td></tr></table></figure><pre><code>[&lt;matplotlib.lines.Line2D at 0xdc062e0&gt;]</code></pre><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112071612297.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Xt=np.arange(<span class="built_in">len</span>(Yt))+<span class="number">1</span>; <span class="comment">#自变量序列1:n，建模时最好不直接用年份</span></span><br><span class="line">Xt</span><br></pre></td></tr></table></figure><pre><code>array([ 1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Yt_L1=sm.OLS(Yt,sm.add_constant(Xt)).fit(); </span><br><span class="line">Yt_L1.summary().tables[<span class="number">1</span>]</span><br></pre></td></tr></table></figure><pre><code>C:\Users\kit\miniconda3\lib\site-packages\scipy\stats\stats.py:1541: UserWarning: kurtosistest only valid for n&gt;=20 ... continuing anyway, n=15  warnings.warn(&quot;kurtosistest only valid for n&gt;=20 ... continuing &quot;</code></pre><table class="simpletable"><tr>    <td></td>       <th>coef</th>     <th>std err</th>      <th>t</th>      <th>P>|t|</th>  <th>[0.025</th>    <th>0.975]</th>  </tr><tr>  <th>const</th> <td>   -0.2149</td> <td>    1.939</td> <td>   -0.111</td> <td> 0.913</td> <td>   -4.404</td> <td>    3.974</td></tr><tr>  <th>x1</th>    <td>    4.3127</td> <td>    0.213</td> <td>   20.224</td> <td> 0.000</td> <td>    3.852</td> <td>    4.773</td></tr></table><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#构建一个简单的趋势函数来进行模型选择。</span></span><br><span class="line"><span class="keyword">import</span> warnings <span class="comment">#忽视警告信息,当例数较少时会有警告 </span></span><br><span class="line">warnings.filterwarnings(<span class="string">&quot;ignore&quot;</span>) </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">trendmodel</span>(<span class="params">y,x</span>):</span> <span class="comment">#定义直线回归模型, x为自变量, y为因变量</span></span><br><span class="line">    fm=sm.OLS(y,sm.add_constant(x)).fit() </span><br><span class="line">    sfm=fm.summary2() </span><br><span class="line">    print(<span class="string">&quot;模型检验:\n&quot;</span>,sfm.tables[<span class="number">1</span>]) </span><br><span class="line">    R2=np.corrcoef(x,y)[<span class="number">0</span>,<span class="number">1</span>]**<span class="number">2</span> <span class="comment">#相关系数平方=sfm.tables[0][1][6])</span></span><br><span class="line">    print(<span class="string">&quot;决定系数：%5.4f&quot;</span>%R2)   </span><br><span class="line">    <span class="keyword">return</span> fm.fittedvalues</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">L1=trendmodel(Yt,Xt); </span><br><span class="line">plt.plot(Yt,<span class="string">&#x27;o&#x27;</span>,L1,<span class="string">&#x27;r-&#x27;</span>); </span><br></pre></td></tr></table></figure><pre><code>模型检验:         Coef.  Std.Err.        t       P&gt;|t|  [0.025  0.975]const -0.2149    1.9389  -0.1108  9.1344e-01 -4.4035  3.9738x1     4.3127    0.2132  20.2240  3.3003e-11  3.8520  4.7734决定系数：0.9692</code></pre><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112071612232.png" alt="png"></p><p>（2）指数曲线</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">L2=trendmodel(np.log(Yt),np.log(Xt));      <span class="comment">#对Yt取对数</span></span><br><span class="line">plt.plot(Yt,<span class="string">&#x27;o&#x27;</span>,np.exp(L2),<span class="string">&#x27;r-&#x27;</span>);  <span class="comment">#对Yt的拟合值取反对数</span></span><br></pre></td></tr></table></figure><pre><code>模型检验:         Coef.  Std.Err.        t       P&gt;|t|  [0.025  0.975]const  1.9528    0.1442  13.5470  4.8185e-09  1.6414  2.2642x1     0.7585    0.0718  10.5627  9.4984e-08  0.6033  0.9136决定系数：0.8956</code></pre><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112071611145.png" alt="png"></p><h3 id="8-2-2-平滑预测方法"><a href="#8-2-2-平滑预测方法" class="headerlink" title="8.2.2 平滑预测方法"></a>8.2.2 平滑预测方法</h3><p>8.2.2.1 移动平均预测法 </p><p>（1）简单平均法 </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Qt=QTdata.GDP;Qt</span><br></pre></td></tr></table></figure><pre><code>YQ2001Q1     2.3302001Q2     2.5652001Q3     2.6872001Q4     3.3842002Q1     2.536           ...  2014Q4    21.6562015Q1    14.0672015Q2    17.3512015Q3    17.3162015Q4    18.937Name: GDP, Length: 60, dtype: float64</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Qt.plot()</span><br></pre></td></tr></table></figure><pre><code>&lt;AxesSubplot:xlabel=&#39;YQ&#39;&gt;</code></pre><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112071612184.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Qt.mean() <span class="comment">#季节数据的平均 </span></span><br></pre></td></tr></table></figure><pre><code>8.571633333333333</code></pre><p>（2）简单移动平均法 </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">QtM=pd.DataFrame(Qt);QtM</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>GDP</th>    </tr>    <tr>      <th>YQ</th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>2001Q1</th>      <td>2.330</td>    </tr>    <tr>      <th>2001Q2</th>      <td>2.565</td>    </tr>    <tr>      <th>2001Q3</th>      <td>2.687</td>    </tr>    <tr>      <th>2001Q4</th>      <td>3.384</td>    </tr>    <tr>      <th>2002Q1</th>      <td>2.536</td>    </tr>    <tr>      <th>...</th>      <td>...</td>    </tr>    <tr>      <th>2014Q4</th>      <td>21.656</td>    </tr>    <tr>      <th>2015Q1</th>      <td>14.067</td>    </tr>    <tr>      <th>2015Q2</th>      <td>17.351</td>    </tr>    <tr>      <th>2015Q3</th>      <td>17.316</td>    </tr>    <tr>      <th>2015Q4</th>      <td>18.937</td>    </tr>  </tbody></table><p>60 rows × 1 columns</p></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">QtM[<span class="string">&#x27;M2&#x27;</span>]=Qt.rolling(<span class="number">3</span>).mean(); <span class="comment">#2 阶移动平均 </span></span><br><span class="line">QtM.plot()</span><br></pre></td></tr></table></figure><pre><code>&lt;AxesSubplot:xlabel=&#39;YQ&#39;&gt;</code></pre><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112071612165.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">QtM[<span class="string">&#x27;M4&#x27;</span>]=Qt.rolling(<span class="number">5</span>).mean(); <span class="comment">#4 阶移动平均 </span></span><br><span class="line"><span class="comment">#QtM</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">QtM.plot();</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112071613933.png" alt="png"></p><p>（3）加权移动平均法</p><p>8.2.2.2 指数平滑预测法 </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">QtE=pd.DataFrame(Qt); </span><br><span class="line">QtE[<span class="string">&#x27;E03&#x27;</span>]=Qt.ewm(alpha=<span class="number">0.3</span>).mean(); <span class="comment">#平滑系数=0.3 </span></span><br><span class="line">QtE.plot()</span><br></pre></td></tr></table></figure><pre><code>&lt;AxesSubplot:xlabel=&#39;YQ&#39;&gt;</code></pre><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112071613693.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">QtE[<span class="string">&#x27;E08&#x27;</span>]=Qt.ewm(alpha=<span class="number">0.8</span>).mean(); <span class="comment">#平滑系数=0.8 </span></span><br><span class="line">QtE.plot()</span><br></pre></td></tr></table></figure><pre><code>&lt;AxesSubplot:xlabel=&#39;YQ&#39;&gt;</code></pre><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112071613963.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">QtE.plot();</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112071613756.png" alt="png"></p><h2 id="8-3-时间序列数据的可视化分析"><a href="#8-3-时间序列数据的可视化分析" class="headerlink" title="8.3  时间序列数据的可视化分析"></a>8.3  时间序列数据的可视化分析</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">stock=pd.read_excel(<span class="string">&#x27;DaPy_data.xlsx&#x27;</span>,<span class="string">&#x27;Stock&#x27;</span>,index_col=<span class="number">0</span>); </span><br><span class="line">stock.info()</span><br></pre></td></tr></table></figure><pre><code>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;DatetimeIndex: 3180 entries, 2005-01-03 to 2017-12-29Data columns (total 6 columns): #   Column    Non-Null Count  Dtype  ---  ------    --------------  -----   0   Open      3165 non-null   float64 1   High      3165 non-null   float64 2   Low       3165 non-null   float64 3   Close     3165 non-null   float64 4   Volume    3165 non-null   float64 5   Adjusted  3165 non-null   float64dtypes: float64(6)memory usage: 173.9 KB</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">stock</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>Open</th>      <th>High</th>      <th>Low</th>      <th>Close</th>      <th>Volume</th>      <th>Adjusted</th>    </tr>    <tr>      <th>date</th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>2005-01-03</th>      <td>0.7025</td>      <td>0.7173</td>      <td>0.7025</td>      <td>0.7130</td>      <td>0.0000e+00</td>      <td>0.6185</td>    </tr>    <tr>      <th>2005-01-04</th>      <td>0.7099</td>      <td>0.7215</td>      <td>0.6941</td>      <td>0.6960</td>      <td>1.0959e+07</td>      <td>0.6038</td>    </tr>    <tr>      <th>2005-01-05</th>      <td>0.6951</td>      <td>0.7082</td>      <td>0.6951</td>      <td>0.7053</td>      <td>6.1651e+06</td>      <td>0.6118</td>    </tr>    <tr>      <th>2005-01-06</th>      <td>0.7023</td>      <td>0.7065</td>      <td>0.6961</td>      <td>0.6968</td>      <td>9.8460e+06</td>      <td>0.6044</td>    </tr>    <tr>      <th>2005-01-07</th>      <td>0.6960</td>      <td>0.7096</td>      <td>0.6946</td>      <td>0.7020</td>      <td>1.3667e+07</td>      <td>0.6090</td>    </tr>    <tr>      <th>...</th>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>    </tr>    <tr>      <th>2017-12-25</th>      <td>12.7300</td>      <td>12.7400</td>      <td>12.2500</td>      <td>12.3800</td>      <td>6.5682e+07</td>      <td>12.3800</td>    </tr>    <tr>      <th>2017-12-26</th>      <td>12.4600</td>      <td>12.5400</td>      <td>12.3700</td>      <td>12.5200</td>      <td>3.0913e+07</td>      <td>12.5200</td>    </tr>    <tr>      <th>2017-12-27</th>      <td>12.5400</td>      <td>12.5700</td>      <td>12.1000</td>      <td>12.1800</td>      <td>5.3813e+07</td>      <td>12.1800</td>    </tr>    <tr>      <th>2017-12-28</th>      <td>12.2000</td>      <td>12.2800</td>      <td>12.0600</td>      <td>12.1800</td>      <td>3.3693e+07</td>      <td>12.1800</td>    </tr>    <tr>      <th>2017-12-29</th>      <td>12.1800</td>      <td>12.3300</td>      <td>12.1400</td>      <td>12.2900</td>      <td>2.5372e+07</td>      <td>12.2900</td>    </tr>  </tbody></table><p>3180 rows × 6 columns</p></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">stock=stock.dropna() <span class="comment">#由于数据中有 15 个缺失值，故须删除缺失数据 NA </span></span><br><span class="line">stock<span class="comment">#.info()</span></span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>Open</th>      <th>High</th>      <th>Low</th>      <th>Close</th>      <th>Volume</th>      <th>Adjusted</th>    </tr>    <tr>      <th>date</th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>2005-01-03</th>      <td>0.7025</td>      <td>0.7173</td>      <td>0.7025</td>      <td>0.7130</td>      <td>0.0000e+00</td>      <td>0.6185</td>    </tr>    <tr>      <th>2005-01-04</th>      <td>0.7099</td>      <td>0.7215</td>      <td>0.6941</td>      <td>0.6960</td>      <td>1.0959e+07</td>      <td>0.6038</td>    </tr>    <tr>      <th>2005-01-05</th>      <td>0.6951</td>      <td>0.7082</td>      <td>0.6951</td>      <td>0.7053</td>      <td>6.1651e+06</td>      <td>0.6118</td>    </tr>    <tr>      <th>2005-01-06</th>      <td>0.7023</td>      <td>0.7065</td>      <td>0.6961</td>      <td>0.6968</td>      <td>9.8460e+06</td>      <td>0.6044</td>    </tr>    <tr>      <th>2005-01-07</th>      <td>0.6960</td>      <td>0.7096</td>      <td>0.6946</td>      <td>0.7020</td>      <td>1.3667e+07</td>      <td>0.6090</td>    </tr>    <tr>      <th>...</th>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>    </tr>    <tr>      <th>2017-12-25</th>      <td>12.7300</td>      <td>12.7400</td>      <td>12.2500</td>      <td>12.3800</td>      <td>6.5682e+07</td>      <td>12.3800</td>    </tr>    <tr>      <th>2017-12-26</th>      <td>12.4600</td>      <td>12.5400</td>      <td>12.3700</td>      <td>12.5200</td>      <td>3.0913e+07</td>      <td>12.5200</td>    </tr>    <tr>      <th>2017-12-27</th>      <td>12.5400</td>      <td>12.5700</td>      <td>12.1000</td>      <td>12.1800</td>      <td>5.3813e+07</td>      <td>12.1800</td>    </tr>    <tr>      <th>2017-12-28</th>      <td>12.2000</td>      <td>12.2800</td>      <td>12.0600</td>      <td>12.1800</td>      <td>3.3693e+07</td>      <td>12.1800</td>    </tr>    <tr>      <th>2017-12-29</th>      <td>12.1800</td>      <td>12.3300</td>      <td>12.1400</td>      <td>12.2900</td>      <td>2.5372e+07</td>      <td>12.2900</td>    </tr>  </tbody></table><p>3165 rows × 6 columns</p></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">stock.describe().<span class="built_in">round</span>(<span class="number">2</span>)  <span class="comment">#round(stock.describe(),3) </span></span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>Open</th>      <th>High</th>      <th>Low</th>      <th>Close</th>      <th>Volume</th>      <th>Adjusted</th>    </tr>  </thead>  <tbody>    <tr>      <th>count</th>      <td>3165.00</td>      <td>3165.00</td>      <td>3165.00</td>      <td>3165.00</td>      <td>3.1650e+03</td>      <td>3165.00</td>    </tr>    <tr>      <th>mean</th>      <td>9.22</td>      <td>9.42</td>      <td>9.05</td>      <td>9.23</td>      <td>7.1767e+07</td>      <td>8.91</td>    </tr>    <tr>      <th>std</th>      <td>4.22</td>      <td>4.31</td>      <td>4.12</td>      <td>4.22</td>      <td>9.3363e+07</td>      <td>4.10</td>    </tr>    <tr>      <th>min</th>      <td>0.70</td>      <td>0.71</td>      <td>0.68</td>      <td>0.70</td>      <td>0.0000e+00</td>      <td>0.60</td>    </tr>    <tr>      <th>25%</th>      <td>6.73</td>      <td>6.89</td>      <td>6.63</td>      <td>6.75</td>      <td>2.2869e+07</td>      <td>6.55</td>    </tr>    <tr>      <th>50%</th>      <td>10.34</td>      <td>10.54</td>      <td>10.15</td>      <td>10.35</td>      <td>4.0174e+07</td>      <td>9.96</td>    </tr>    <tr>      <th>75%</th>      <td>12.03</td>      <td>12.28</td>      <td>11.86</td>      <td>12.05</td>      <td>7.7414e+07</td>      <td>11.67</td>    </tr>    <tr>      <th>max</th>      <td>22.28</td>      <td>23.54</td>      <td>21.75</td>      <td>22.80</td>      <td>8.5600e+08</td>      <td>22.52</td>    </tr>  </tbody></table></div><h3 id="8-3-1-股票数据可视化分析"><a href="#8-3-1-股票数据可视化分析" class="headerlink" title="8.3.1 股票数据可视化分析"></a>8.3.1 股票数据可视化分析</h3><p>8.3.1.1 股票数据的选取与图示 </p><p>（1）数据选取</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">stock[[<span class="string">&#x27;Close&#x27;</span>,<span class="string">&#x27;Volume&#x27;</span>]]      <span class="comment">#收盘价与成交量数据</span></span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>Close</th>      <th>Volume</th>    </tr>    <tr>      <th>date</th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>2005-01-03</th>      <td>0.7130</td>      <td>0.0000e+00</td>    </tr>    <tr>      <th>2005-01-04</th>      <td>0.6960</td>      <td>1.0959e+07</td>    </tr>    <tr>      <th>2005-01-05</th>      <td>0.7053</td>      <td>6.1651e+06</td>    </tr>    <tr>      <th>2005-01-06</th>      <td>0.6968</td>      <td>9.8460e+06</td>    </tr>    <tr>      <th>2005-01-07</th>      <td>0.7020</td>      <td>1.3667e+07</td>    </tr>    <tr>      <th>...</th>      <td>...</td>      <td>...</td>    </tr>    <tr>      <th>2017-12-25</th>      <td>12.3800</td>      <td>6.5682e+07</td>    </tr>    <tr>      <th>2017-12-26</th>      <td>12.5200</td>      <td>3.0913e+07</td>    </tr>    <tr>      <th>2017-12-27</th>      <td>12.1800</td>      <td>5.3813e+07</td>    </tr>    <tr>      <th>2017-12-28</th>      <td>12.1800</td>      <td>3.3693e+07</td>    </tr>    <tr>      <th>2017-12-29</th>      <td>12.2900</td>      <td>2.5372e+07</td>    </tr>  </tbody></table><p>3165 rows × 2 columns</p></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">stock[<span class="string">&#x27;2015&#x27;</span>][<span class="string">&#x27;Close&#x27;</span>]         <span class="comment">#年度收盘价数据</span></span><br></pre></td></tr></table></figure><pre><code>date2015-01-05     9.362015-01-06     9.482015-01-07     9.342015-01-08     9.532015-01-09     9.37              ...  2015-12-25    14.002015-12-28    13.512015-12-29    13.682015-12-30    13.752015-12-31    13.45Name: Close, Length: 244, dtype: float64</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">stock[<span class="string">&#x27;2017-12&#x27;</span>][<span class="string">&#x27;Close&#x27;</span>]      <span class="comment">#月度价格</span></span><br><span class="line"><span class="comment">#plt.plot(df.index,df.values);  #stock[&#x27;2015&#x27;][&#x27;Close&#x27;].plot();  </span></span><br></pre></td></tr></table></figure><pre><code>date2017-12-01    12.012017-12-04    12.052017-12-05    11.882017-12-06    12.332017-12-07    12.21              ...  2017-12-25    12.382017-12-26    12.522017-12-27    12.182017-12-28    12.182017-12-29    12.29Name: Close, Length: 21, dtype: float64</code></pre><p>（2）价格趋势图</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">stock[<span class="string">&#x27;Close&#x27;</span>].plot();  <span class="comment">#收盘价数据框图</span></span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112071613189.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">YC=stock[<span class="string">&#x27;2015&#x27;</span>][<span class="string">&#x27;Close&#x27;</span>];            <span class="comment">#年度收盘价数据</span></span><br><span class="line">YC.index=YC.index.strftime(<span class="string">&#x27;%Y-%m-%d&#x27;</span>);  <span class="comment">#将横坐标设置为年-月格式</span></span><br><span class="line">YC.plot();</span><br></pre></td></tr></table></figure><p>​<br><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112071611564.png" alt="png"><br>​    </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">stock[<span class="string">&#x27;Volume&#x27;</span>].hist();  <span class="comment">#成交量分布情况 </span></span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112071611630.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CV=stock[[<span class="string">&#x27;Close&#x27;</span>,<span class="string">&#x27;Volume&#x27;</span>]];CV.plot()         <span class="comment">#收盘价和成交量数据</span></span><br></pre></td></tr></table></figure><pre><code>&lt;AxesSubplot:xlabel=&#39;date&#39;&gt;</code></pre><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112071613849.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">CV.index=CV.index.strftime(<span class="string">&#x27;%Y&#x27;</span>);     <span class="comment">#将横坐标设置为年格式</span></span><br><span class="line">CV.plot(secondary_y=<span class="string">&#x27;Volume&#x27;</span>);        <span class="comment">#右坐标轴绘制成交量 </span></span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112071611841.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">YCV=stock[<span class="string">&#x27;2015&#x27;</span>][[<span class="string">&#x27;Close&#x27;</span>,<span class="string">&#x27;Volume&#x27;</span>]]     <span class="comment">#年度收盘价和成交量数据</span></span><br><span class="line">YCV.index=YCV.index.strftime(<span class="string">&#x27;%Y-%m&#x27;</span>); <span class="comment">#将横坐标设置为年-月-日格式</span></span><br><span class="line">YCV.plot(secondary_y=<span class="string">&#x27;Volume&#x27;</span>);</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112071611848.png" alt="png"></p><p>8.3.1.2  股票数据的趋势图</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SC=stock[<span class="string">&#x27;2015&#x27;</span>][<span class="string">&#x27;Close&#x27;</span>]; SC           <span class="comment">#2015年收盘价数据  </span></span><br></pre></td></tr></table></figure><pre><code>date2015-01-05     9.362015-01-06     9.482015-01-07     9.342015-01-08     9.532015-01-09     9.37              ...  2015-12-25    14.002015-12-28    13.512015-12-29    13.682015-12-30    13.752015-12-31    13.45Name: Close, Length: 244, dtype: float64</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SCM=pd.DataFrame(SC);SCM                <span class="comment">#构建数据框</span></span><br><span class="line">SCM[<span class="string">&#x27;MA5&#x27;</span>]=SC.rolling(<span class="number">6</span>).mean();        <span class="comment">#5日移动平均 </span></span><br><span class="line">SCM[<span class="string">&#x27;MA20&#x27;</span>]=SC.rolling(<span class="number">21</span>).mean();      <span class="comment">#20日移动平均 </span></span><br><span class="line">SCM[<span class="string">&#x27;MA60&#x27;</span>]=SC.rolling(<span class="number">61</span>).mean();      <span class="comment">#60日移动平均</span></span><br><span class="line">SCM.index=SCM.index.strftime(<span class="string">&#x27;%Y-%m-%d&#x27;</span>);  <span class="comment">#设定时间轴：月-天</span></span><br><span class="line">SCM.plot(figsize=(<span class="number">10</span>,<span class="number">6</span>),grid=<span class="literal">True</span>); <span class="comment"># 移动平均线 </span></span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112071613677.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SCM.plot(subplots=<span class="literal">False</span>,figsize=(<span class="number">12</span>,<span class="number">7</span>),grid=<span class="literal">True</span>);</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112071614519.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SCM.plot(subplots=<span class="literal">True</span>,figsize=(<span class="number">12</span>,<span class="number">14</span>),grid=<span class="literal">True</span>); </span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112071611895.png" alt="png"></p><p>8.3.1.3  股票数据的K线图</p><blockquote><ul><li><a href="https://pypi.tuna.tsinghua.edu.cn/simple">https://pypi.tuna.tsinghua.edu.cn/simple</a></li><li><a href="https://blog.csdn.net/qq_41437512/article/details/105319421">https://blog.csdn.net/qq_41437512/article/details/105319421</a></li></ul></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!pip install mplfinance --upgrade </span></span><br></pre></td></tr></table></figure><p>（1）分析用数据框构建</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">OHLCV=stock[<span class="string">&#x27;2015-10&#x27;</span>:<span class="string">&#x27;2015-12&#x27;</span>][[<span class="string">&#x27;Open&#x27;</span>,<span class="string">&#x27;High&#x27;</span>,<span class="string">&#x27;Low&#x27;</span>,<span class="string">&#x27;Close&#x27;</span>,<span class="string">&#x27;Volume&#x27;</span>]];OHLCV</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>Open</th>      <th>High</th>      <th>Low</th>      <th>Close</th>      <th>Volume</th>    </tr>    <tr>      <th>date</th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>2015-10-08</th>      <td>12.12</td>      <td>12.94</td>      <td>12.12</td>      <td>12.70</td>      <td>2.0044e+08</td>    </tr>    <tr>      <th>2015-10-09</th>      <td>12.72</td>      <td>13.32</td>      <td>12.61</td>      <td>13.05</td>      <td>2.1790e+08</td>    </tr>    <tr>      <th>2015-10-12</th>      <td>13.10</td>      <td>14.18</td>      <td>13.03</td>      <td>13.90</td>      <td>3.4242e+08</td>    </tr>    <tr>      <th>2015-10-13</th>      <td>13.71</td>      <td>13.93</td>      <td>13.62</td>      <td>13.85</td>      <td>1.9723e+08</td>    </tr>    <tr>      <th>2015-10-14</th>      <td>13.75</td>      <td>14.47</td>      <td>13.74</td>      <td>14.00</td>      <td>3.0091e+08</td>    </tr>    <tr>      <th>...</th>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>    </tr>    <tr>      <th>2015-12-25</th>      <td>14.00</td>      <td>14.00</td>      <td>14.00</td>      <td>14.00</td>      <td>0.0000e+00</td>    </tr>    <tr>      <th>2015-12-28</th>      <td>13.92</td>      <td>14.00</td>      <td>13.50</td>      <td>13.51</td>      <td>1.1940e+08</td>    </tr>    <tr>      <th>2015-12-29</th>      <td>13.50</td>      <td>13.76</td>      <td>13.38</td>      <td>13.68</td>      <td>7.9428e+07</td>    </tr>    <tr>      <th>2015-12-30</th>      <td>13.69</td>      <td>13.87</td>      <td>13.64</td>      <td>13.75</td>      <td>6.3783e+07</td>    </tr>    <tr>      <th>2015-12-31</th>      <td>13.79</td>      <td>13.79</td>      <td>13.35</td>      <td>13.45</td>      <td>6.9984e+07</td>    </tr>  </tbody></table><p>61 rows × 5 columns</p></div><p>（2）K线图的绘制</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> mplfinance <span class="keyword">as</span> mpf         <span class="comment">#加载matplotlib的金融分析模块</span></span><br><span class="line">mpf.plot(OHLCV,<span class="built_in">type</span>=<span class="string">&#x27;ohlc&#x27;</span>);     <span class="comment">#ohlc图</span></span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112071611048.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mpf.plot(OHLCV,<span class="built_in">type</span>=<span class="string">&#x27;candle&#x27;</span>);   <span class="comment">#candle图</span></span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112071614180.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mpf.plot(OHLCV,<span class="built_in">type</span>=<span class="string">&#x27;candle&#x27;</span>,volume=<span class="literal">True</span>) <span class="comment">#价格candle图及成交量直方图</span></span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112071611442.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mpf.plot(OHLCV,<span class="built_in">type</span>=<span class="string">&#x27;candle&#x27;</span>,volume=<span class="literal">True</span>,mav=(<span class="number">3</span>,<span class="number">6</span>)) <span class="comment">#增加3与6日移动平均线</span></span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112071611683.png" alt="png"></p><h3 id="8-3-2-股票收益率分析"><a href="#8-3-2-股票收益率分析" class="headerlink" title="8.3.2 股票收益率分析"></a>8.3.2 股票收益率分析</h3><p>8.3.2.1  日收益率的计算</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">Return</span>(<span class="params">Yt</span>):</span>           <span class="comment">#计算收益率函数</span></span><br><span class="line">    Rt=Yt/Yt.shift(<span class="number">1</span>)-<span class="number">1</span>   <span class="comment">#Yt_1=Yt.shift(1)</span></span><br><span class="line">    <span class="keyword">return</span>(Rt)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SA=stock[<span class="string">&#x27;2015&#x27;</span>][<span class="string">&#x27;Adjusted&#x27;</span>]; SA[:<span class="number">10</span>]  <span class="comment">#2015年调整收盘价</span></span><br><span class="line">SA_R=Return(SA); SA_R.plot()</span><br></pre></td></tr></table></figure><pre><code>&lt;AxesSubplot:xlabel=&#39;date&#39;&gt;</code></pre><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112071614879.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SA_R.index=SA_R.index.strftime(<span class="string">&#x27;%m-%d&#x27;</span>);  <span class="comment">#设定时间轴：月-天</span></span><br><span class="line">plt.rcParams[<span class="string">&#x27;axes.unicode_minus&#x27;</span>]=<span class="literal">False</span>; <span class="comment">#正常显示图中正负号</span></span><br><span class="line">plt.stem(SA_R);  <span class="comment">#SA_R.plot(x=SA_R.index).axhline(y=0);</span></span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112071614631.png" alt="png"></p><p>8.3.2.2 年度收益率计算 </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">YR=pd.DataFrame(&#123;<span class="string">&#x27;Year&#x27;</span>:stock.index.year,<span class="string">&#x27;Adjusted&#x27;</span>:</span><br><span class="line">                 Return(stock[<span class="string">&#x27;Adjusted&#x27;</span>])&#125;);YR</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>Year</th>      <th>Adjusted</th>    </tr>    <tr>      <th>date</th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>2005-01-03</th>      <td>2005</td>      <td>NaN</td>    </tr>    <tr>      <th>2005-01-04</th>      <td>2005</td>      <td>-0.0238</td>    </tr>    <tr>      <th>2005-01-05</th>      <td>2005</td>      <td>0.0133</td>    </tr>    <tr>      <th>2005-01-06</th>      <td>2005</td>      <td>-0.0120</td>    </tr>    <tr>      <th>2005-01-07</th>      <td>2005</td>      <td>0.0075</td>    </tr>    <tr>      <th>...</th>      <td>...</td>      <td>...</td>    </tr>    <tr>      <th>2017-12-25</th>      <td>2017</td>      <td>-0.0290</td>    </tr>    <tr>      <th>2017-12-26</th>      <td>2017</td>      <td>0.0113</td>    </tr>    <tr>      <th>2017-12-27</th>      <td>2017</td>      <td>-0.0272</td>    </tr>    <tr>      <th>2017-12-28</th>      <td>2017</td>      <td>0.0000</td>    </tr>    <tr>      <th>2017-12-29</th>      <td>2017</td>      <td>0.0090</td>    </tr>  </tbody></table><p>3165 rows × 2 columns</p></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">YRm=YR.groupby([<span class="string">&#x27;Year&#x27;</span>]).mean();YRm   <span class="comment">#年度平均收益率</span></span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>Adjusted</th>    </tr>    <tr>      <th>Year</th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>2005</th>      <td>0.0023</td>    </tr>    <tr>      <th>2006</th>      <td>0.0069</td>    </tr>    <tr>      <th>2007</th>      <td>0.0054</td>    </tr>    <tr>      <th>2008</th>      <td>-0.0021</td>    </tr>    <tr>      <th>2009</th>      <td>0.0027</td>    </tr>    <tr>      <th>...</th>      <td>...</td>    </tr>    <tr>      <th>2013</th>      <td>0.0019</td>    </tr>    <tr>      <th>2014</th>      <td>0.0003</td>    </tr>    <tr>      <th>2015</th>      <td>0.0027</td>    </tr>    <tr>      <th>2016</th>      <td>-0.0004</td>    </tr>    <tr>      <th>2017</th>      <td>0.0005</td>    </tr>  </tbody></table><p>13 rows × 1 columns</p></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">YRm.plot(kind=<span class="string">&#x27;bar&#x27;</span>).axhline(y=<span class="number">0</span>); </span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112071611263.png" alt="png"></p><p>8.3.2.3 月度收益率计算 </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">YMR=pd.DataFrame(&#123;<span class="string">&#x27;Year&#x27;</span>:stock.index.year,<span class="string">&#x27;Month&#x27;</span>:stock.index.month,</span><br><span class="line">                  <span class="string">&#x27;Adjusted&#x27;</span>:Return(stock[<span class="string">&#x27;Adjusted&#x27;</span>])&#125;); YMR </span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>Year</th>      <th>Month</th>      <th>Adjusted</th>    </tr>    <tr>      <th>date</th>      <th></th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>2005-01-03</th>      <td>2005</td>      <td>1</td>      <td>NaN</td>    </tr>    <tr>      <th>2005-01-04</th>      <td>2005</td>      <td>1</td>      <td>-0.0238</td>    </tr>    <tr>      <th>2005-01-05</th>      <td>2005</td>      <td>1</td>      <td>0.0133</td>    </tr>    <tr>      <th>2005-01-06</th>      <td>2005</td>      <td>1</td>      <td>-0.0120</td>    </tr>    <tr>      <th>2005-01-07</th>      <td>2005</td>      <td>1</td>      <td>0.0075</td>    </tr>    <tr>      <th>...</th>      <td>...</td>      <td>...</td>      <td>...</td>    </tr>    <tr>      <th>2017-12-25</th>      <td>2017</td>      <td>12</td>      <td>-0.0290</td>    </tr>    <tr>      <th>2017-12-26</th>      <td>2017</td>      <td>12</td>      <td>0.0113</td>    </tr>    <tr>      <th>2017-12-27</th>      <td>2017</td>      <td>12</td>      <td>-0.0272</td>    </tr>    <tr>      <th>2017-12-28</th>      <td>2017</td>      <td>12</td>      <td>0.0000</td>    </tr>    <tr>      <th>2017-12-29</th>      <td>2017</td>      <td>12</td>      <td>0.0090</td>    </tr>  </tbody></table><p>3165 rows × 3 columns</p></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">YMRm=YMR.groupby([<span class="string">&#x27;Year&#x27;</span>,<span class="string">&#x27;Month&#x27;</span>]).mean(); YMRm  <span class="comment">#按年度和月度计算平均收益率</span></span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th></th>      <th>Adjusted</th>    </tr>    <tr>      <th>Year</th>      <th>Month</th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th rowspan="5" valign="top">2005</th>      <th>1</th>      <td>0.0028</td>    </tr>    <tr>      <th>2</th>      <td>0.0030</td>    </tr>    <tr>      <th>3</th>      <td>0.0066</td>    </tr>    <tr>      <th>4</th>      <td>0.0060</td>    </tr>    <tr>      <th>5</th>      <td>-0.0039</td>    </tr>    <tr>      <th>...</th>      <th>...</th>      <td>...</td>    </tr>    <tr>      <th rowspan="5" valign="top">2017</th>      <th>8</th>      <td>0.0002</td>    </tr>    <tr>      <th>9</th>      <td>0.0048</td>    </tr>    <tr>      <th>10</th>      <td>0.0060</td>    </tr>    <tr>      <th>11</th>      <td>-0.0084</td>    </tr>    <tr>      <th>12</th>      <td>0.0016</td>    </tr>  </tbody></table><p>156 rows × 1 columns</p></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">YMRm.unstack().<span class="built_in">round</span>(<span class="number">4</span>)   <span class="comment">#结果重排</span></span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead tr th &#123;    text-align: left;&#125;.dataframe thead tr:last-of-type th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr>      <th></th>      <th colspan="12" halign="left">Adjusted</th>    </tr>    <tr>      <th>Month</th>      <th>1</th>      <th>2</th>      <th>3</th>      <th>4</th>      <th>5</th>      <th>6</th>      <th>7</th>      <th>8</th>      <th>9</th>      <th>10</th>      <th>11</th>      <th>12</th>    </tr>    <tr>      <th>Year</th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>2005</th>      <td>0.0028</td>      <td>0.0030</td>      <td>0.0066</td>      <td>0.0060</td>      <td>-0.0039</td>      <td>0.0061</td>      <td>0.0035</td>      <td>-0.0074</td>      <td>0.0067</td>      <td>-0.0010</td>      <td>-0.0015</td>      <td>0.0070</td>    </tr>    <tr>      <th>2006</th>      <td>-0.0018</td>      <td>0.0125</td>      <td>0.0104</td>      <td>0.0075</td>      <td>0.0194</td>      <td>0.0045</td>      <td>-0.0038</td>      <td>0.0022</td>      <td>0.0031</td>      <td>-0.0022</td>      <td>0.0161</td>      <td>0.0131</td>    </tr>    <tr>      <th>2007</th>      <td>0.0208</td>      <td>-0.0101</td>      <td>0.0058</td>      <td>0.0099</td>      <td>0.0147</td>      <td>-0.0033</td>      <td>0.0054</td>      <td>0.0137</td>      <td>-0.0012</td>      <td>-0.0000</td>      <td>-0.0077</td>      <td>0.0124</td>    </tr>    <tr>      <th>2008</th>      <td>-0.0074</td>      <td>0.0055</td>      <td>-0.0072</td>      <td>0.0011</td>      <td>-0.0035</td>      <td>-0.0102</td>      <td>0.0046</td>      <td>-0.0051</td>      <td>-0.0061</td>      <td>-0.0115</td>      <td>0.0159</td>      <td>-0.0003</td>    </tr>    <tr>      <th>2009</th>      <td>-0.0083</td>      <td>0.0018</td>      <td>0.0056</td>      <td>0.0111</td>      <td>-0.0012</td>      <td>0.0048</td>      <td>-0.0014</td>      <td>-0.0045</td>      <td>0.0077</td>      <td>-0.0007</td>      <td>0.0086</td>      <td>0.0041</td>    </tr>    <tr>      <th>...</th>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>    </tr>    <tr>      <th>2013</th>      <td>0.0037</td>      <td>-0.0046</td>      <td>-0.0016</td>      <td>-0.0044</td>      <td>0.0034</td>      <td>-0.0128</td>      <td>0.0058</td>      <td>0.0165</td>      <td>0.0265</td>      <td>-0.0088</td>      <td>0.0019</td>      <td>-0.0082</td>    </tr>    <tr>      <th>2014</th>      <td>0.0069</td>      <td>-0.0060</td>      <td>-0.0131</td>      <td>-0.0044</td>      <td>0.0046</td>      <td>-0.0025</td>      <td>0.0034</td>      <td>0.0026</td>      <td>0.0073</td>      <td>-0.0019</td>      <td>0.0011</td>      <td>0.0037</td>    </tr>    <tr>      <th>2015</th>      <td>0.0093</td>      <td>0.0065</td>      <td>0.0056</td>      <td>0.0005</td>      <td>0.0192</td>      <td>-0.0077</td>      <td>-0.0026</td>      <td>0.0042</td>      <td>-0.0073</td>      <td>0.0183</td>      <td>-0.0076</td>      <td>-0.0007</td>    </tr>    <tr>      <th>2016</th>      <td>-0.0106</td>      <td>-0.0016</td>      <td>0.0050</td>      <td>-0.0011</td>      <td>-0.0002</td>      <td>-0.0005</td>      <td>-0.0013</td>      <td>0.0023</td>      <td>-0.0011</td>      <td>0.0021</td>      <td>0.0019</td>      <td>-0.0007</td>    </tr>    <tr>      <th>2017</th>      <td>-0.0018</td>      <td>0.0013</td>      <td>-0.0021</td>      <td>-0.0036</td>      <td>0.0025</td>      <td>0.0031</td>      <td>0.0030</td>      <td>0.0002</td>      <td>0.0048</td>      <td>0.0060</td>      <td>-0.0084</td>      <td>0.0016</td>    </tr>  </tbody></table><p>13 rows × 12 columns</p></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">YMRm.plot().axhline(y=<span class="number">0</span>);</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112071611380.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">MRm=YMR[<span class="string">&#x27;2005&#x27;</span>].groupby([<span class="string">&#x27;Month&#x27;</span>]).mean();MRm  <span class="comment">#2005年每月平均收益率</span></span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>Year</th>      <th>Adjusted</th>    </tr>    <tr>      <th>Month</th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>1</th>      <td>2005.0</td>      <td>0.0028</td>    </tr>    <tr>      <th>2</th>      <td>2005.0</td>      <td>0.0030</td>    </tr>    <tr>      <th>3</th>      <td>2005.0</td>      <td>0.0066</td>    </tr>    <tr>      <th>4</th>      <td>2005.0</td>      <td>0.0060</td>    </tr>    <tr>      <th>5</th>      <td>2005.0</td>      <td>-0.0039</td>    </tr>    <tr>      <th>...</th>      <td>...</td>      <td>...</td>    </tr>    <tr>      <th>8</th>      <td>2005.0</td>      <td>-0.0074</td>    </tr>    <tr>      <th>9</th>      <td>2005.0</td>      <td>0.0067</td>    </tr>    <tr>      <th>10</th>      <td>2005.0</td>      <td>-0.0010</td>    </tr>    <tr>      <th>11</th>      <td>2005.0</td>      <td>-0.0015</td>    </tr>    <tr>      <th>12</th>      <td>2005.0</td>      <td>0.0070</td>    </tr>  </tbody></table><p>12 rows × 2 columns</p></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">MRm[<span class="string">&#x27;Adjusted&#x27;</span>].plot(kind=<span class="string">&#x27;bar&#x27;</span>).axhline(y=<span class="number">0</span>);</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112071614031.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plt.rcParams.update(plt.rcParamsDefault) <span class="comment">#恢复matplotlib原来的显示模式</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 《数据可视化》——基于Python的应用 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 《数据可视化》——基于Python的应用 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>第7章-数据的模型分析</title>
      <link href="36060a3b.html"/>
      <url>36060a3b.html</url>
      
        <content type="html"><![CDATA[<h1 id="第7章-数据的模型分析及可视化"><a href="#第7章-数据的模型分析及可视化" class="headerlink" title="第7章 数据的模型分析及可视化"></a>第7章 数据的模型分析及可视化</h1><h2 id="7-1-线性相关分析模型"><a href="#7-1-线性相关分析模型" class="headerlink" title="7.1 线性相关分析模型"></a>7.1 线性相关分析模型</h2><h3 id="7-1-1-线性相关的概念和模拟"><a href="#7-1-1-线性相关的概念和模拟" class="headerlink" title="7.1.1  线性相关的概念和模拟"></a>7.1.1  线性相关的概念和模拟</h3><p>7.1.1.1 线性相关的概念</p><p>7.1.1.2 线性相关的模拟</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">np.set_printoptions(precision=<span class="number">4</span>)             <span class="comment">#设置numpy输出精度</span></span><br><span class="line">x=np.linspace(-<span class="number">4</span>,<span class="number">4</span>,<span class="number">20</span>)            <span class="comment">#构建[-4,4]上 x 的数据向量 </span></span><br><span class="line">x</span><br></pre></td></tr></table></figure><pre><code>array([-4.    , -3.5789, -3.1579, -2.7368, -2.3158, -1.8947, -1.4737,       -1.0526, -0.6316, -0.2105,  0.2105,  0.6316,  1.0526,  1.4737,        1.8947,  2.3158,  2.7368,  3.1579,  3.5789,  4.    ])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">np.random.seed(<span class="number">1</span>)                 <span class="comment">#设置随机种子数以便重复结果</span></span><br><span class="line">e=np.random.randn(<span class="number">20</span>)             <span class="comment">#随机误差数据向量 e~N(0,1)</span></span><br><span class="line">e</span><br></pre></td></tr></table></figure><pre><code>array([ 1.6243, -0.6118, -0.5282, -1.073 ,  0.8654, -2.3015,  1.7448,       -0.7612,  0.319 , -0.2494,  1.4621, -2.0601, -0.3224, -0.3841,        1.1338, -1.0999, -0.1724, -0.8779,  0.0422,  0.5828])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt </span><br><span class="line">y1=x; plt.plot(x,y1,<span class="string">&#x27;o&#x27;</span>);         <span class="comment">#完全正相关 y=x</span></span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112071606077.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">y2=-x; plt.plot(x,y2,<span class="string">&#x27;o&#x27;</span>);        <span class="comment">#完全负相关 y=-x</span></span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112071606216.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">y3=x+e; plt.plot(x,y3,<span class="string">&#x27;o&#x27;</span>);       <span class="comment">#正相关 y=x+e</span></span><br></pre></td></tr></table></figure><p>​<br><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112071606554.png" alt="png"><br>​    </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">y4=-x+e; plt.plot(x,y4,<span class="string">&#x27;o&#x27;</span>);      <span class="comment">#负相关 y=-x+e</span></span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112071606005.png" alt="png"></p><h3 id="7-1-2-相关系数的计算"><a href="#7-1-2-相关系数的计算" class="headerlink" title="7.1.2 相关系数的计算"></a>7.1.2 相关系数的计算</h3><p>7.1.2.1 相关系数的计算公式</p><p>7.1.2.2 相关系数的直观分析</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fig,ax=plt.subplots(<span class="number">2</span>,<span class="number">2</span>,figsize=(<span class="number">10</span>,<span class="number">8</span>)) <span class="comment">#将上述四个图放到一页上</span></span><br><span class="line">ax[<span class="number">0</span>,<span class="number">0</span>].plot(x,y1,<span class="string">&#x27;o&#x27;</span>); ax[<span class="number">0</span>,<span class="number">1</span>].plot(x,y2,<span class="string">&#x27;o&#x27;</span>)     </span><br><span class="line">ax[<span class="number">1</span>,<span class="number">0</span>].plot(x,y3,<span class="string">&#x27;o&#x27;</span>); ax[<span class="number">1</span>,<span class="number">1</span>].plot(x,y4,<span class="string">&#x27;o&#x27;</span>);   </span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112071606617.png" alt="png"></p><p>7.1.2.3 相关系数的Python计算</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">plt.plot(x,y1,<span class="string">&#x27;o&#x27;</span>);</span><br><span class="line">np.corrcoef([x,y1])</span><br></pre></td></tr></table></figure><pre><code>array([[1., 1.],       [1., 1.]])</code></pre><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112071607526.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">plt.plot(x,y2,<span class="string">&#x27;o&#x27;</span>);</span><br><span class="line">np.corrcoef([x,y2])</span><br></pre></td></tr></table></figure><pre><code>array([[ 1., -1.],       [-1.,  1.]])</code></pre><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112071607488.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">plt.plot(x,y3,<span class="string">&#x27;o&#x27;</span>);</span><br><span class="line">np.corrcoef([x,y3])[<span class="number">0</span>,<span class="number">1</span>]</span><br></pre></td></tr></table></figure><pre><code>0.907917278678589</code></pre><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112071607545.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">plt.plot(x,y4,<span class="string">&#x27;o&#x27;</span>);</span><br><span class="line">np.corrcoef(x,y4)[<span class="number">0</span>,<span class="number">1</span>]</span><br></pre></td></tr></table></figure><pre><code>-0.9140292045707705</code></pre><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112071607196.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.corrcoef([x,y1,y2,y3,y4])  </span><br></pre></td></tr></table></figure><pre><code>array([[ 1.    ,  1.    , -1.    ,  0.9079, -0.914 ],       [ 1.    ,  1.    , -1.    ,  0.9079, -0.914 ],       [-1.    , -1.    ,  1.    , -0.9079,  0.914 ],       [ 0.9079,  0.9079, -0.9079,  1.    , -0.6598],       [-0.914 , -0.914 ,  0.914 , -0.6598,  1.    ]])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd   <span class="comment">#构建模拟数据的数据框</span></span><br><span class="line">pd.set_option(<span class="string">&#x27;display.max_rows&#x27;</span>, <span class="number">10</span>)</span><br><span class="line">xy=pd.DataFrame(&#123;<span class="string">&#x27;x&#x27;</span>:x,<span class="string">&#x27;y1&#x27;</span>:y1,<span class="string">&#x27;y2&#x27;</span>:y2,<span class="string">&#x27;y3&#x27;</span>:y3,<span class="string">&#x27;y4&#x27;</span>:y4&#125;);xy</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>x</th>      <th>y1</th>      <th>y2</th>      <th>y3</th>      <th>y4</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>-4.000000</td>      <td>-4.000000</td>      <td>4.000000</td>      <td>-2.375655</td>      <td>5.624345</td>    </tr>    <tr>      <th>1</th>      <td>-3.578947</td>      <td>-3.578947</td>      <td>3.578947</td>      <td>-4.190704</td>      <td>2.967191</td>    </tr>    <tr>      <th>2</th>      <td>-3.157895</td>      <td>-3.157895</td>      <td>3.157895</td>      <td>-3.686066</td>      <td>2.629723</td>    </tr>    <tr>      <th>3</th>      <td>-2.736842</td>      <td>-2.736842</td>      <td>2.736842</td>      <td>-3.809811</td>      <td>1.663873</td>    </tr>    <tr>      <th>4</th>      <td>-2.315789</td>      <td>-2.315789</td>      <td>2.315789</td>      <td>-1.450382</td>      <td>3.181197</td>    </tr>    <tr>      <th>...</th>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>    </tr>    <tr>      <th>15</th>      <td>2.315789</td>      <td>2.315789</td>      <td>-2.315789</td>      <td>1.215898</td>      <td>-3.415681</td>    </tr>    <tr>      <th>16</th>      <td>2.736842</td>      <td>2.736842</td>      <td>-2.736842</td>      <td>2.564414</td>      <td>-2.909270</td>    </tr>    <tr>      <th>17</th>      <td>3.157895</td>      <td>3.157895</td>      <td>-3.157895</td>      <td>2.280036</td>      <td>-4.035753</td>    </tr>    <tr>      <th>18</th>      <td>3.578947</td>      <td>3.578947</td>      <td>-3.578947</td>      <td>3.621161</td>      <td>-3.536734</td>    </tr>    <tr>      <th>19</th>      <td>4.000000</td>      <td>4.000000</td>      <td>-4.000000</td>      <td>4.582815</td>      <td>-3.417185</td>    </tr>  </tbody></table><p>20 rows × 5 columns</p></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xy.corrwith(xy.x)</span><br></pre></td></tr></table></figure><pre><code>x     1.000000y1    1.000000y2   -1.000000y3    0.907917y4   -0.914029dtype: float64</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xy.corr()   <span class="comment">#根据数据框计算相关系数矩阵</span></span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>x</th>      <th>y1</th>      <th>y2</th>      <th>y3</th>      <th>y4</th>    </tr>  </thead>  <tbody>    <tr>      <th>x</th>      <td>1.000000</td>      <td>1.000000</td>      <td>-1.000000</td>      <td>0.907917</td>      <td>-0.914029</td>    </tr>    <tr>      <th>y1</th>      <td>1.000000</td>      <td>1.000000</td>      <td>-1.000000</td>      <td>0.907917</td>      <td>-0.914029</td>    </tr>    <tr>      <th>y2</th>      <td>-1.000000</td>      <td>-1.000000</td>      <td>1.000000</td>      <td>-0.907917</td>      <td>0.914029</td>    </tr>    <tr>      <th>y3</th>      <td>0.907917</td>      <td>0.907917</td>      <td>-0.907917</td>      <td>1.000000</td>      <td>-0.659836</td>    </tr>    <tr>      <th>y4</th>      <td>-0.914029</td>      <td>-0.914029</td>      <td>0.914029</td>      <td>-0.659836</td>      <td>1.000000</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pd.plotting.scatter_matrix(xy,figsize=(<span class="number">9</span>,<span class="number">8</span>)); <span class="comment">#矩阵散点图</span></span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112071607871.png" alt="png"></p><p>下面计算实际数据（通常是定量数据）的线性相关系数。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd           <span class="comment">#读取BSdata分析用数据</span></span><br><span class="line">BS=pd.read_excel(<span class="string">&#x27;DaPy_data.xlsx&#x27;</span>,<span class="string">&#x27;BSdata&#x27;</span>)[[<span class="string">&#x27;性别&#x27;</span>,<span class="string">&#x27;身高&#x27;</span>,<span class="string">&#x27;体重&#x27;</span>,<span class="string">&#x27;支出&#x27;</span>]];BS </span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>性别</th>      <th>身高</th>      <th>体重</th>      <th>支出</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>女</td>      <td>167</td>      <td>71</td>      <td>46.0</td>    </tr>    <tr>      <th>1</th>      <td>男</td>      <td>171</td>      <td>68</td>      <td>10.4</td>    </tr>    <tr>      <th>2</th>      <td>女</td>      <td>175</td>      <td>73</td>      <td>21.0</td>    </tr>    <tr>      <th>3</th>      <td>男</td>      <td>169</td>      <td>74</td>      <td>4.9</td>    </tr>    <tr>      <th>4</th>      <td>男</td>      <td>154</td>      <td>55</td>      <td>25.9</td>    </tr>    <tr>      <th>...</th>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>    </tr>    <tr>      <th>47</th>      <td>男</td>      <td>175</td>      <td>68</td>      <td>44.4</td>    </tr>    <tr>      <th>48</th>      <td>女</td>      <td>166</td>      <td>65</td>      <td>5.3</td>    </tr>    <tr>      <th>49</th>      <td>女</td>      <td>159</td>      <td>58</td>      <td>71.4</td>    </tr>    <tr>      <th>50</th>      <td>女</td>      <td>169</td>      <td>73</td>      <td>5.5</td>    </tr>    <tr>      <th>51</th>      <td>女</td>      <td>165</td>      <td>67</td>      <td>56.8</td>    </tr>  </tbody></table><p>52 rows × 4 columns</p></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">plt.plot(BS[<span class="string">&#x27;身高&#x27;</span>],BS[<span class="string">&#x27;体重&#x27;</span>],<span class="string">&#x27;o&#x27;</span>);</span><br><span class="line">BS[<span class="string">&#x27;身高&#x27;</span>].corr(BS[<span class="string">&#x27;体重&#x27;</span>])   <span class="comment">#BS.身高.corr(BS.体重)</span></span><br></pre></td></tr></table></figure><pre><code>0.9118170987010521</code></pre><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112071607924.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BS[[<span class="string">&#x27;身高&#x27;</span>,<span class="string">&#x27;体重&#x27;</span>]].corr()</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>身高</th>      <th>体重</th>    </tr>  </thead>  <tbody>    <tr>      <th>身高</th>      <td>1.000000</td>      <td>0.911817</td>    </tr>    <tr>      <th>体重</th>      <td>0.911817</td>      <td>1.000000</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BS.corr()</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>身高</th>      <th>体重</th>      <th>支出</th>    </tr>  </thead>  <tbody>    <tr>      <th>身高</th>      <td>1.000000</td>      <td>0.911817</td>      <td>0.043881</td>    </tr>    <tr>      <th>体重</th>      <td>0.911817</td>      <td>1.000000</td>      <td>0.042946</td>    </tr>    <tr>      <th>支出</th>      <td>0.043881</td>      <td>0.042946</td>      <td>1.000000</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">plt.rcParams[<span class="string">&#x27;font.sans-serif&#x27;</span>]=[<span class="string">&#x27;SimSun&#x27;</span>];  <span class="comment">#设置中文字体为&#x27;宋体&#x27;</span></span><br><span class="line">pd.plotting.scatter_matrix(BS,figsize=(<span class="number">9</span>,<span class="number">8</span>)); <span class="comment">#矩阵散点图</span></span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112071607682.png" alt="png"></p><p>7.1.3 样本相关系数的检验</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> scipy.stats <span class="keyword">as</span> st <span class="comment">#加载统计分析方法包 </span></span><br><span class="line">st.pearsonr(x,y1)        <span class="comment">#pearson相关及检验 </span></span><br></pre></td></tr></table></figure><pre><code>(1.0, 0.0)</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">st.pearsonr(x,y2) </span><br></pre></td></tr></table></figure><pre><code>(-1.0, 0.0)</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">st.pearsonr(x,y3) </span><br></pre></td></tr></table></figure><pre><code>(0.907917278678589, 3.2236304802661585e-08)</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">st.pearsonr(x,y4) </span><br></pre></td></tr></table></figure><pre><code>(-0.9140292045707707, 1.7775582357873907e-08)</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">plt.plot(BS[<span class="string">&#x27;身高&#x27;</span>],BS[<span class="string">&#x27;体重&#x27;</span>],<span class="string">&#x27;o&#x27;</span>);</span><br><span class="line">st.pearsonr(BS.身高,BS.体重)</span><br></pre></td></tr></table></figure><pre><code>(0.9118170987010525, 5.7473293164451325e-21)</code></pre><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112071607925.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">plt.plot(BS[<span class="string">&#x27;身高&#x27;</span>],BS.支出,<span class="string">&#x27;o&#x27;</span>);</span><br><span class="line">st.pearsonr(BS.身高,BS.支出)</span><br></pre></td></tr></table></figure><pre><code>(0.043881130759588965, 0.7574067077940487)</code></pre><p>​<br><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112071607446.png" alt="png"><br>​    </p><h2 id="7-2-简单线性回归分析模型"><a href="#7-2-简单线性回归分析模型" class="headerlink" title="7.2 简单线性回归分析模型"></a>7.2 简单线性回归分析模型</h2><h3 id="7-2-1-直线回归模型的建立"><a href="#7-2-1-直线回归模型的建立" class="headerlink" title="7.2.1  直线回归模型的建立"></a>7.2.1  直线回归模型的建立</h3><p>7.2.1.1 直线回归模型的概念</p><p>7.2.1.2 直线回归的可视化模拟</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 定义模拟直线回归函数</span></span><br><span class="line"><span class="keyword">import</span> statsmodels.api <span class="keyword">as</span> sm                  <span class="comment">#加载统计模型包</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">reglinedemo</span>(<span class="params">n=<span class="number">20</span></span>):</span>                        <span class="comment">#模拟样本例数</span></span><br><span class="line">    x=np.arange(n)+<span class="number">1</span>                          <span class="comment">#自变量取值</span></span><br><span class="line">    e=np.random.normal(<span class="number">0</span>,<span class="number">1</span>,n)                 <span class="comment">#误差项</span></span><br><span class="line">    y=<span class="number">2</span>+<span class="number">0.5</span>*x+e                               <span class="comment">#因变量值</span></span><br><span class="line">    x1=sm.add_constant(x);x1                  <span class="comment">#加常数项</span></span><br><span class="line">    fm=sm.OLS(y,x1).fit();fm                  <span class="comment">#模型拟合，见下</span></span><br><span class="line">    plt.plot(x,y,<span class="string">&#x27;.&#x27;</span>,x,fm.fittedvalues,<span class="string">&#x27;r-&#x27;</span>); <span class="comment">#添加回归线，红色</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(x)):                   <span class="comment">#画垂直线</span></span><br><span class="line">        plt.vlines(x,y,fm.fittedvalues,linestyles=<span class="string">&#x27;dotted&#x27;</span>,colors=<span class="string">&#x27;b&#x27;</span>);</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">np.random.seed(<span class="number">12</span>)</span><br><span class="line">reglinedemo(<span class="number">20</span>)</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112071607874.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">np.random.seed(<span class="number">12</span>)</span><br><span class="line">reglinedemo(<span class="number">40</span>)</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112071607447.png" alt="png"></p><p>7.2.1.3 最小二乘估计方法</p><p>（1）散点图</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">y=BS.体重; x=BS.身高 </span><br><span class="line">plt.plot(x,y,<span class="string">&#x27;o&#x27;</span>);</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112071607254.png" alt="png"></p><p>（2）模型拟合</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> statsmodels.api <span class="keyword">as</span> sm            <span class="comment">#加载线性回归模型库</span></span><br><span class="line">fm1=sm.OLS(y,sm.add_constant(x)).fit()  <span class="comment">#最小二乘估计，加常数项</span></span><br><span class="line">fm1.params                              <span class="comment">#模型参数的估计值</span></span><br></pre></td></tr></table></figure><pre><code>const   -79.282827身高        0.876949dtype: float64</code></pre><p>（3）回归直线拟合图</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yfit=fm1.fittedvalues <span class="comment">#拟合估计值</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plt.plot(x, y,<span class="string">&#x27;.&#x27;</span>,x,yfit, <span class="string">&#x27;r-&#x27;</span>); </span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112071607678.png" alt="png"></p><h3 id="7-2-2-直线回归模型的检验"><a href="#7-2-2-直线回归模型的检验" class="headerlink" title="7.2.2  直线回归模型的检验"></a>7.2.2  直线回归模型的检验</h3><p>7.2.2.1 回归系数的检验</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fm1.tvalues      <span class="comment">#模型系数t值</span></span><br></pre></td></tr></table></figure><pre><code>const    -8.414938身高       15.702810dtype: float64</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fm1.pvalues      <span class="comment">#系数检验p值</span></span><br></pre></td></tr></table></figure><pre><code>const    3.820690e-11身高       5.747329e-21dtype: float64</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pd.DataFrame(&#123;<span class="string">&#x27;b&#x27;</span>:fm1.params,<span class="string">&#x27;t&#x27;</span>:fm1.tvalues,<span class="string">&#x27;p&#x27;</span>:fm1.pvalues&#125;)  <span class="comment">#格式输出</span></span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>b</th>      <th>t</th>      <th>p</th>    </tr>  </thead>  <tbody>    <tr>      <th>const</th>      <td>-79.282827</td>      <td>-8.414938</td>      <td>3.820690e-11</td>    </tr>    <tr>      <th>身高</th>      <td>0.876949</td>      <td>15.702810</td>      <td>5.747329e-21</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd           <span class="comment">#读取BSdata分析用数据</span></span><br><span class="line">BS=pd.read_excel(<span class="string">&#x27;DaPy_data.xlsx&#x27;</span>,<span class="string">&#x27;BSdata&#x27;</span>)[[<span class="string">&#x27;性别&#x27;</span>,<span class="string">&#x27;身高&#x27;</span>,<span class="string">&#x27;体重&#x27;</span>,<span class="string">&#x27;支出&#x27;</span>]];BS </span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>性别</th>      <th>身高</th>      <th>体重</th>      <th>支出</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>女</td>      <td>167</td>      <td>71</td>      <td>46.0</td>    </tr>    <tr>      <th>1</th>      <td>男</td>      <td>171</td>      <td>68</td>      <td>10.4</td>    </tr>    <tr>      <th>2</th>      <td>女</td>      <td>175</td>      <td>73</td>      <td>21.0</td>    </tr>    <tr>      <th>3</th>      <td>男</td>      <td>169</td>      <td>74</td>      <td>4.9</td>    </tr>    <tr>      <th>4</th>      <td>男</td>      <td>154</td>      <td>55</td>      <td>25.9</td>    </tr>    <tr>      <th>...</th>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>    </tr>    <tr>      <th>47</th>      <td>男</td>      <td>175</td>      <td>68</td>      <td>44.4</td>    </tr>    <tr>      <th>48</th>      <td>女</td>      <td>166</td>      <td>65</td>      <td>5.3</td>    </tr>    <tr>      <th>49</th>      <td>女</td>      <td>159</td>      <td>58</td>      <td>71.4</td>    </tr>    <tr>      <th>50</th>      <td>女</td>      <td>169</td>      <td>73</td>      <td>5.5</td>    </tr>    <tr>      <th>51</th>      <td>女</td>      <td>165</td>      <td>67</td>      <td>56.8</td>    </tr>  </tbody></table><p>52 rows × 4 columns</p></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> statsmodels.formula.api <span class="keyword">as</span> smf  <span class="comment">#加载公式模型建立包</span></span><br><span class="line">fm2=smf.ols(<span class="string">&#x27;体重~身高&#x27;</span>,data=BS).fit()   </span><br><span class="line">fm2.summary().tables[<span class="number">1</span>]    <span class="comment">#回归系数检验表，来自summary的第2张表   </span></span><br></pre></td></tr></table></figure><table class="simpletable"><tr>      <td></td>         <th>coef</th>     <th>std err</th>      <th>t</th>      <th>P>|t|</th>  <th>[0.025</th>    <th>0.975]</th>  </tr><tr>  <th>Intercept</th> <td>  -79.2828</td> <td>    9.422</td> <td>   -8.415</td> <td> 0.000</td> <td>  -98.207</td> <td>  -60.359</td></tr><tr>  <th>身高</th>        <td>    0.8769</td> <td>    0.056</td> <td>   15.703</td> <td> 0.000</td> <td>    0.765</td> <td>    0.989</td></tr></table><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fm2.summary().tables[<span class="number">0</span>]</span><br></pre></td></tr></table></figure><table class="simpletable"><caption>OLS Regression Results</caption><tr>  <th>Dep. Variable:</th>           <td>体重</td>        <th>  R-squared:         </th> <td>   0.831</td></tr><tr>  <th>Model:</th>                   <td>OLS</td>       <th>  Adj. R-squared:    </th> <td>   0.828</td></tr><tr>  <th>Method:</th>             <td>Least Squares</td>  <th>  F-statistic:       </th> <td>   246.6</td></tr><tr>  <th>Date:</th>             <td>Tue, 07 Dec 2021</td> <th>  Prob (F-statistic):</th> <td>5.75e-21</td></tr><tr>  <th>Time:</th>                 <td>01:08:05</td>     <th>  Log-Likelihood:    </th> <td> -133.21</td></tr><tr>  <th>No. Observations:</th>      <td>    52</td>      <th>  AIC:               </th> <td>   270.4</td></tr><tr>  <th>Df Residuals:</th>          <td>    50</td>      <th>  BIC:               </th> <td>   274.3</td></tr><tr>  <th>Df Model:</th>              <td>     1</td>      <th>                     </th>     <td> </td>   </tr><tr>  <th>Covariance Type:</th>      <td>nonrobust</td>    <th>                     </th>     <td> </td>   </tr></table><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fm2.summary().tables[<span class="number">2</span>]</span><br></pre></td></tr></table></figure><table class="simpletable"><tr>  <th>Omnibus:</th>       <td> 6.599</td> <th>  Durbin-Watson:     </th> <td>   2.161</td></tr><tr>  <th>Prob(Omnibus):</th> <td> 0.037</td> <th>  Jarque-Bera (JB):  </th> <td>   5.704</td></tr><tr>  <th>Skew:</th>          <td>-0.782</td> <th>  Prob(JB):          </th> <td>  0.0577</td></tr><tr>  <th>Kurtosis:</th>      <td> 3.434</td> <th>  Cond. No.          </th> <td>3.58e+03</td></tr></table><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">fm3=smf.ols(<span class="string">&#x27;体重~身高+支出&#x27;</span>,data=BS).fit()</span><br><span class="line">fm3.summary().tables[<span class="number">1</span>]    <span class="comment">#回归系数检验表，来自summary的第2张表</span></span><br></pre></td></tr></table></figure><table class="simpletable"><tr>      <td></td>         <th>coef</th>     <th>std err</th>      <th>t</th>      <th>P>|t|</th>  <th>[0.025</th>    <th>0.975]</th>  </tr><tr>  <th>Intercept</th> <td>  -79.2878</td> <td>    9.518</td> <td>   -8.331</td> <td> 0.000</td> <td>  -98.414</td> <td>  -60.161</td></tr><tr>  <th>身高</th>        <td>    0.8768</td> <td>    0.056</td> <td>   15.528</td> <td> 0.000</td> <td>    0.763</td> <td>    0.990</td></tr><tr>  <th>支出</th>        <td>    0.0011</td> <td>    0.021</td> <td>    0.050</td> <td> 0.960</td> <td>   -0.041</td> <td>    0.044</td></tr></table><p>7.2.2.2 回归模型的检验</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fm3.summary()</span><br></pre></td></tr></table></figure><table class="simpletable"><caption>OLS Regression Results</caption><tr>  <th>Dep. Variable:</th>           <td>体重</td>        <th>  R-squared:         </th> <td>   0.831</td></tr><tr>  <th>Model:</th>                   <td>OLS</td>       <th>  Adj. R-squared:    </th> <td>   0.825</td></tr><tr>  <th>Method:</th>             <td>Least Squares</td>  <th>  F-statistic:       </th> <td>   120.8</td></tr><tr>  <th>Date:</th>             <td>Tue, 07 Dec 2021</td> <th>  Prob (F-statistic):</th> <td>1.14e-19</td></tr><tr>  <th>Time:</th>                 <td>01:08:10</td>     <th>  Log-Likelihood:    </th> <td> -133.21</td></tr><tr>  <th>No. Observations:</th>      <td>    52</td>      <th>  AIC:               </th> <td>   272.4</td></tr><tr>  <th>Df Residuals:</th>          <td>    49</td>      <th>  BIC:               </th> <td>   278.3</td></tr><tr>  <th>Df Model:</th>              <td>     2</td>      <th>                     </th>     <td> </td>   </tr><tr>  <th>Covariance Type:</th>      <td>nonrobust</td>    <th>                     </th>     <td> </td>   </tr></table><table class="simpletable"><tr>      <td></td>         <th>coef</th>     <th>std err</th>      <th>t</th>      <th>P>|t|</th>  <th>[0.025</th>    <th>0.975]</th>  </tr><tr>  <th>Intercept</th> <td>  -79.2878</td> <td>    9.518</td> <td>   -8.331</td> <td> 0.000</td> <td>  -98.414</td> <td>  -60.161</td></tr><tr>  <th>身高</th>        <td>    0.8768</td> <td>    0.056</td> <td>   15.528</td> <td> 0.000</td> <td>    0.763</td> <td>    0.990</td></tr><tr>  <th>支出</th>        <td>    0.0011</td> <td>    0.021</td> <td>    0.050</td> <td> 0.960</td> <td>   -0.041</td> <td>    0.044</td></tr></table><table class="simpletable"><tr>  <th>Omnibus:</th>       <td> 6.641</td> <th>  Durbin-Watson:     </th> <td>   2.165</td></tr><tr>  <th>Prob(Omnibus):</th> <td> 0.036</td> <th>  Jarque-Bera (JB):  </th> <td>   5.744</td></tr><tr>  <th>Skew:</th>          <td>-0.784</td> <th>  Prob(JB):          </th> <td>  0.0566</td></tr><tr>  <th>Kurtosis:</th>      <td> 3.440</td> <th>  Cond. No.          </th> <td>3.62e+03</td></tr></table><br/><br/>Notes:<br/>[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.<br/>[2] The condition number is large, 3.62e+03. This might indicate that there are<br/>strong multicollinearity or other numerical problems.<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">%run init.py</span><br></pre></td></tr></table></figure><h3 id="7-2-3-直线回归模型的预测"><a href="#7-2-3-直线回归模型的预测" class="headerlink" title="7.2.3  直线回归模型的预测"></a>7.2.3  直线回归模型的预测</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fm2.predict(pd.DataFrame(&#123;<span class="string">&#x27;身高&#x27;</span>:[<span class="number">170</span>]&#125;))         <span class="comment">#估计</span></span><br></pre></td></tr></table></figure><pre><code>0    69.7986dtype: float64</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fm2.predict(pd.DataFrame(&#123;<span class="string">&#x27;身高&#x27;</span>:[<span class="number">190</span>]&#125;))          <span class="comment">#预测</span></span><br></pre></td></tr></table></figure><pre><code>0    87.3375dtype: float64</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fm2.predict(pd.DataFrame(&#123;<span class="string">&#x27;身高&#x27;</span>: [<span class="number">170</span>,<span class="number">180</span>,<span class="number">190</span>]&#125;))  <span class="comment">#估计与预测</span></span><br></pre></td></tr></table></figure><pre><code>0    69.79861    78.56812    87.3375dtype: float64</code></pre><h2 id="7-3-分组可视化模型分析"><a href="#7-3-分组可视化模型分析" class="headerlink" title="7.3 分组可视化模型分析"></a>7.3 分组可视化模型分析</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BS_M=BS[BS.性别==<span class="string">&#x27;男&#x27;</span>][[<span class="string">&#x27;身高&#x27;</span>,<span class="string">&#x27;体重&#x27;</span>]];BS_M </span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>身高</th>      <th>体重</th>    </tr>  </thead>  <tbody>    <tr>      <th>1</th>      <td>171</td>      <td>68</td>    </tr>    <tr>      <th>3</th>      <td>169</td>      <td>74</td>    </tr>    <tr>      <th>4</th>      <td>154</td>      <td>55</td>    </tr>    <tr>      <th>5</th>      <td>183</td>      <td>76</td>    </tr>    <tr>      <th>9</th>      <td>173</td>      <td>63</td>    </tr>    <tr>      <th>...</th>      <td>...</td>      <td>...</td>    </tr>    <tr>      <th>37</th>      <td>178</td>      <td>78</td>    </tr>    <tr>      <th>40</th>      <td>158</td>      <td>60</td>    </tr>    <tr>      <th>45</th>      <td>169</td>      <td>65</td>    </tr>    <tr>      <th>46</th>      <td>166</td>      <td>70</td>    </tr>    <tr>      <th>47</th>      <td>175</td>      <td>68</td>    </tr>  </tbody></table><p>27 rows × 2 columns</p></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BS_F=BS[BS.性别==<span class="string">&#x27;女&#x27;</span>][[<span class="string">&#x27;身高&#x27;</span>,<span class="string">&#x27;体重&#x27;</span>]];BS_F </span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>身高</th>      <th>体重</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>167</td>      <td>71</td>    </tr>    <tr>      <th>2</th>      <td>175</td>      <td>73</td>    </tr>    <tr>      <th>6</th>      <td>169</td>      <td>71</td>    </tr>    <tr>      <th>7</th>      <td>166</td>      <td>66</td>    </tr>    <tr>      <th>8</th>      <td>165</td>      <td>69</td>    </tr>    <tr>      <th>...</th>      <td>...</td>      <td>...</td>    </tr>    <tr>      <th>44</th>      <td>164</td>      <td>62</td>    </tr>    <tr>      <th>48</th>      <td>166</td>      <td>65</td>    </tr>    <tr>      <th>49</th>      <td>159</td>      <td>58</td>    </tr>    <tr>      <th>50</th>      <td>169</td>      <td>73</td>    </tr>    <tr>      <th>51</th>      <td>165</td>      <td>67</td>    </tr>  </tbody></table><p>25 rows × 2 columns</p></div><h3 id="7-3-1-可视化分组线性相关分析"><a href="#7-3-1-可视化分组线性相关分析" class="headerlink" title="7.3.1 可视化分组线性相关分析"></a>7.3.1 可视化分组线性相关分析</h3><p>（1）男生身高与体重的相关分析</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> scipy.stats <span class="keyword">as</span> st </span><br><span class="line">M_r=st.pearsonr(BS_M.身高,BS_M.体重);M_r </span><br></pre></td></tr></table></figure><pre><code>(0.9105200024864898, 4.43657339837424e-11)</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> warnings  </span><br><span class="line">warnings.filterwarnings(<span class="string">&quot;ignore&quot;</span>)            <span class="comment">#忽略警告信息</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> seaborn <span class="keyword">as</span> sns </span><br><span class="line">sns.jointplot(<span class="string">&#x27;身高&#x27;</span>,<span class="string">&#x27;体重&#x27;</span>,data=BS_M);  <span class="comment">#直方图+散点图</span></span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112071608429.png" alt="png"></p><p>（2）女生身高与体重的相关分析 </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#plt.plot(BS_F.身高,BS_F.体重,&#x27;o&#x27;);</span></span><br><span class="line"><span class="comment">#plt.title(M_r);</span></span><br><span class="line">st.pearsonr(BS_F.身高,BS_F.体重)</span><br></pre></td></tr></table></figure><pre><code>(0.8931328371576219, 1.907324154689927e-09)</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sns.jointplot(<span class="string">&#x27;身高&#x27;</span>,<span class="string">&#x27;体重&#x27;</span>,data=BS_F);</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112071608203.png" alt="png"></p><h3 id="7-3-2-可视化分组线性回归模型"><a href="#7-3-2-可视化分组线性回归模型" class="headerlink" title="7.3.2 可视化分组线性回归模型"></a>7.3.2 可视化分组线性回归模型</h3><p>（1）男生身高与体重的回归分析 </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">smf.ols(<span class="string">&#x27;体重~身高&#x27;</span>,data=BS_M).fit().summary().tables[<span class="number">1</span>]</span><br></pre></td></tr></table></figure><table class="simpletable"><tr>      <td></td>         <th>coef</th>     <th>std err</th>      <th>t</th>      <th>P>|t|</th>  <th>[0.025</th>    <th>0.975]</th>  </tr><tr>  <th>Intercept</th> <td>  -85.4332</td> <td>   14.189</td> <td>   -6.021</td> <td> 0.000</td> <td> -114.657</td> <td>  -56.210</td></tr><tr>  <th>身高</th>        <td>    0.9101</td> <td>    0.083</td> <td>   11.011</td> <td> 0.000</td> <td>    0.740</td> <td>    1.080</td></tr></table><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sns.regplot(y=<span class="string">&quot;体重&quot;</span>,x=<span class="string">&quot;身高&quot;</span>,data=BS_M,ci=<span class="number">0</span>);</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112071608581.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sns.jointplot(<span class="string">&#x27;身高&#x27;</span>,<span class="string">&#x27;体重&#x27;</span>,data=BS_M,kind=<span class="string">&#x27;reg&#x27;</span>);</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112071608144.png" alt="png"></p><p>（2）女生身高与体重的回归分析 </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">smf.ols(<span class="string">&#x27;体重~身高&#x27;</span>,data=BS_F).fit().summary().tables[<span class="number">1</span>] </span><br></pre></td></tr></table></figure><table class="simpletable"><tr>      <td></td>         <th>coef</th>     <th>std err</th>      <th>t</th>      <th>P>|t|</th>  <th>[0.025</th>    <th>0.975]</th>  </tr><tr>  <th>Intercept</th> <td>  -80.3893</td> <td>   15.405</td> <td>   -5.218</td> <td> 0.000</td> <td> -112.257</td> <td>  -48.522</td></tr><tr>  <th>身高</th>        <td>    0.8867</td> <td>    0.093</td> <td>    9.523</td> <td> 0.000</td> <td>    0.694</td> <td>    1.079</td></tr></table><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sns.regplot(y=<span class="string">&#x27;体重&#x27;</span>,x=<span class="string">&#x27;身高&#x27;</span>,data=BS_F,ci=<span class="number">0</span>);</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112071608642.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sns.jointplot(<span class="string">&#x27;身高&#x27;</span>,<span class="string">&#x27;体重&#x27;</span>,data=BS_F,kind=<span class="string">&#x27;reg&#x27;</span>,ci=<span class="number">0</span>); </span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112071608756.png" alt="png"></p><p>（3）基于plotnine的分组回归分析可视化</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> plotnine <span class="keyword">import</span> *    </span><br><span class="line">theme_set(theme_bw(base_family=<span class="string">&#x27;SimSun&#x27;</span>));</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(ggplot(BS,aes(<span class="string">&#x27;身高&#x27;</span>,<span class="string">&#x27;体重&#x27;</span>)) + geom_point() + facet_wrap(<span class="string">&#x27;性别&#x27;</span>,nrow=<span class="number">1</span>)</span><br><span class="line">        + stat_smooth(method=<span class="string">&#x27;lm&#x27;</span>,se=<span class="literal">True</span>))   <span class="comment">#无可信区间的回归线 </span></span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112071608570.png" alt="png"></p><pre><code>&lt;ggplot: (14373846)&gt;</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(ggplot(BS,aes(<span class="string">&#x27;身高&#x27;</span>,<span class="string">&#x27;体重&#x27;</span>)) + geom_point() + facet_wrap(<span class="string">&#x27;性别&#x27;</span>,nrow=<span class="number">2</span>) </span><br><span class="line">        + stat_smooth(method=<span class="string">&#x27;lm&#x27;</span>,se=<span class="literal">False</span>))           <span class="comment">#有可信区间的回归线 </span></span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112071608851.png" alt="png"></p><pre><code>&lt;ggplot: (17556679)&gt;</code></pre>]]></content>
      
      
      <categories>
          
          <category> 《数据可视化》——基于Python的应用 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 《数据可视化》——基于Python的应用 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>第6章-数据的统计分析</title>
      <link href="14df227a.html"/>
      <url>14df227a.html</url>
      
        <content type="html"><![CDATA[<h1 id="第6章-数据的统计分析及可视化"><a href="#第6章-数据的统计分析及可视化" class="headerlink" title="第6章 数据的统计分析及可视化"></a>第6章 数据的统计分析及可视化</h1><h2 id="6-1-随机变量及其分布"><a href="#6-1-随机变量及其分布" class="headerlink" title="6.1 随机变量及其分布"></a>6.1 随机变量及其分布</h2><h3 id="6-1-1-均匀分布及随机数图"><a href="#6-1-1-均匀分布及随机数图" class="headerlink" title="6.1.1 均匀分布及随机数图"></a>6.1.1 均匀分布及随机数图</h3><p>6.1.1.1 均匀分布</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np                        <span class="comment">#加载numpy包</span></span><br><span class="line">np.set_printoptions(precision=<span class="number">4</span>)          <span class="comment">#设置numpy输出为4位有效数</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a=<span class="number">0</span>;b=<span class="number">1</span>;n=<span class="number">20</span>            <span class="comment"># n表示在[a,b]中生成n个点</span></span><br><span class="line">x=np.linspace(a,b,n);   <span class="comment"># [a,b]中n个等差数据</span></span><br><span class="line">ｘ</span><br></pre></td></tr></table></figure><pre><code>array([0.    , 0.0526, 0.1053, 0.1579, 0.2105, 0.2632, 0.3158, 0.3684,       0.4211, 0.4737, 0.5263, 0.5789, 0.6316, 0.6842, 0.7368, 0.7895,       0.8421, 0.8947, 0.9474, 1.    ])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">y=np.ones(n)/(b-a);y    <span class="comment"># y=1/(b-a)  </span></span><br></pre></td></tr></table></figure><pre><code>array([1., 1., 1., 1., 1., 1., 1., 1., 1., 1., 1., 1., 1., 1., 1., 1., 1.,       1., 1., 1.])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt               </span><br><span class="line">plt.plot(x,y);plt.ylim(<span class="number">0</span>,<span class="number">1.5</span>);plt.stem(x,y);</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070150589.png" alt="png"></p><p>6.1.1.2 均匀随机数</p><p>（1）生成一个均匀随机实数</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.random.rand(<span class="number">1</span>)   <span class="comment">#生成[0,1]上的一个随机实数:random.uniform(0,1)     </span></span><br></pre></td></tr></table></figure><pre><code>array([0.3765])</code></pre><p>（2）生成一组随机实数及图示</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">np.random.seed(<span class="number">123</span>)            <span class="comment">#设置种子数seed可重复结果,可任意设置</span></span><br><span class="line">R=np.random.rand(<span class="number">10</span>);R[:<span class="number">10</span>]  <span class="comment">#[0,1]上的1000个随机数=np.random.uniform(0,1,1000) </span></span><br></pre></td></tr></table></figure><pre><code>array([0.6965, 0.2861, 0.2269, 0.5513, 0.7195, 0.4231, 0.9808, 0.6848,       0.4809, 0.3921])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plt.plot(R,<span class="string">&#x27;.&#x27;</span>);</span><br></pre></td></tr></table></figure><p>​<br><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070150126.png" alt="png"><br>​    </p><h3 id="6-1-2-正态分布及随机数图"><a href="#6-1-2-正态分布及随机数图" class="headerlink" title="6.1.2 正态分布及随机数图"></a>6.1.2 正态分布及随机数图</h3><p>6.1.2.1  正态分布函数</p><p>（1）标准正态分布曲线</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> numpy <span class="keyword">import</span> arange,exp  <span class="comment">#arange类似linspace函数</span></span><br><span class="line"><span class="keyword">from</span> math <span class="keyword">import</span> sqrt,pi   </span><br><span class="line">x=arange(-<span class="number">4</span>,<span class="number">4</span>,<span class="number">0.1</span>)            <span class="comment">#x为-4到4上间距为0.1的数   </span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">y=<span class="number">1</span>/sqrt(<span class="number">2</span>*pi)*exp(-x**<span class="number">2</span>/<span class="number">2</span>);</span><br><span class="line">plt.plot(x,y);</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070151481.png" alt="png"></p><p>（2）标准正态分布的取值(pdf)及分位数(ppf)计算</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> scipy.stats <span class="keyword">as</span> st  <span class="comment">#加载统计方法包 </span></span><br><span class="line">p_z=st.norm.pdf(-<span class="number">2</span>);p_z   <span class="comment">#p(z)=1/sqrt(2*pi)*exp(-z**2/2);</span></span><br></pre></td></tr></table></figure><pre><code>0.05399096651318806</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">za=st.norm.ppf(<span class="number">0.95</span>);za   <span class="comment">#单侧</span></span><br></pre></td></tr></table></figure><pre><code>1.6448536269514722</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[st.norm.ppf(<span class="number">0.025</span>),st.norm.ppf(<span class="number">0.975</span>)] <span class="comment">#双侧</span></span><br></pre></td></tr></table></figure><pre><code>[-1.9599639845400545, 1.959963984540054]</code></pre><p>（3）标准正态分布的概率计算</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">p=st.norm.cdf(<span class="number">1.645</span>);p       <span class="comment">#标准正态分布下的面积：p=P(z≤1.645)的累积概率</span></span><br></pre></td></tr></table></figure><pre><code>0.9500150944608786</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">#标准正态曲线下[a,b]上计算概率的面积图</span></span><br><span class="line"><span class="keyword">import</span> scipy.stats <span class="keyword">as</span> st  <span class="comment">#加载统计方法包 </span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">norm_p</span>(<span class="params">a,b</span>):</span>            </span><br><span class="line">        x=np.arange(-<span class="number">4</span>,<span class="number">4</span>,<span class="number">0.1</span>) </span><br><span class="line">        y=st.norm.pdf(x)         </span><br><span class="line">        x1=x[(a&lt;=x) &amp; (x&lt;=b)];x1 </span><br><span class="line">        y1=y[(a&lt;=x) &amp; (x&lt;=b)];y1         </span><br><span class="line">        p=st.norm.cdf(b)-st.norm.cdf(a);</span><br><span class="line">        print(<span class="string">&quot;    N(0,1)分布: [%3.2f,%3.2f]  p=%5.4f&quot;</span>%(a,b,p)) </span><br><span class="line">        plt.plot(x,y);<span class="comment">#plt.text(-0.7,0.2,&quot;p=%5.4f&quot;%p,fontsize=15);</span></span><br><span class="line">        plt.hlines(<span class="number">0</span>,-<span class="number">4</span>,<span class="number">4</span>); plt.vlines(x1,<span class="number">0</span>,y1,colors=<span class="string">&#x27;r&#x27;</span>);         </span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">norm_p(-<span class="number">4</span>,-<span class="number">2</span>)       <span class="comment"># p=P(z≤2)=0.27%</span></span><br></pre></td></tr></table></figure><pre><code>    N(0,1)分布: [-4.00,-2.00]  p=0.0227</code></pre><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070151934.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">norm_p(-<span class="number">2</span>,<span class="number">2</span>)        <span class="comment"># p=P(-2≤z≤2)=95.45%</span></span><br></pre></td></tr></table></figure><pre><code>    N(0,1)分布: [-2.00,2.00]  p=0.9545</code></pre><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070151918.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">norm_p(-<span class="number">1.96</span>,<span class="number">1.96</span>)  <span class="comment"># p=P(-1.96≤z≤1.96)=95% </span></span><br></pre></td></tr></table></figure><pre><code>    N(0,1)分布: [-1.96,1.96]  p=0.9500</code></pre><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070151596.png" alt="png"></p><p>6.1.2.2 正态分布随机数图</p><p>（1）标准正态随机数及分布图 </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.random.normal(<span class="number">0</span>,<span class="number">1</span>,<span class="number">5</span>)    <span class="comment">#生成 5 个标准正态分布随机数 </span></span><br></pre></td></tr></table></figure><pre><code>array([ 1.2659, -0.8667, -0.6789, -0.0947,  1.4914])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#随机产生1000个标准正态分布随机数，作其概率直方图，然后再添加正态分布的密度函数线。</span></span><br><span class="line"><span class="comment">#np.random.seed(123)             #设置种子数seed可使结果可重复</span></span><br><span class="line">z1=np.random.normal(<span class="number">0</span>,<span class="number">1</span>,<span class="number">1000</span>)   <span class="comment">#1000个标准正态分布随机数N(0,1)</span></span><br><span class="line">z1[:<span class="number">20</span>]</span><br></pre></td></tr></table></figure><pre><code>array([-0.6389, -0.444 , -0.4344,  2.2059,  2.1868,  1.0041,  0.3862,        0.7374,  1.4907, -0.9358,  1.1758, -1.2539, -0.6378,  0.9071,       -1.4287, -0.1401, -0.8618, -0.2556, -2.7986, -1.7715])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plt.hist(z1);                   <span class="comment">#可设定分段数bins, plt.hist(z1,bins=30)</span></span><br></pre></td></tr></table></figure><p>​<br><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070150986.png" alt="png"><br>​    </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">np.random.seed(<span class="number">456</span>)            <span class="comment">#设置种子seed可重复结果</span></span><br><span class="line">z2=np.random.normal(<span class="number">0</span>,<span class="number">1</span>,<span class="number">1000</span>)</span><br><span class="line">plt.hist(z2);<span class="comment">#plt.ylim=[0,400];</span></span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070151323.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plt.hist(z1); plt.hist(z2);    <span class="comment">#做在一张图上</span></span><br></pre></td></tr></table></figure><p>​<br><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070150147.png" alt="png"><br>​    </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#一页绘制2个正态分布随机图</span></span><br><span class="line">plt.subplot(<span class="number">121</span>);plt.hist(z1); </span><br><span class="line">plt.subplot(<span class="number">122</span>);plt.hist(z2);</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070151441.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">z12=pd.DataFrame(&#123;<span class="string">&#x27;z1&#x27;</span>:z1,<span class="string">&#x27;z2&#x27;</span>:z2&#125;); z12 <span class="comment">#构建数据框</span></span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>z1</th>      <th>z2</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>-0.638902</td>      <td>-0.668129</td>    </tr>    <tr>      <th>1</th>      <td>-0.443982</td>      <td>-0.498210</td>    </tr>    <tr>      <th>2</th>      <td>-0.434351</td>      <td>0.618576</td>    </tr>    <tr>      <th>3</th>      <td>2.205930</td>      <td>0.568692</td>    </tr>    <tr>      <th>4</th>      <td>2.186786</td>      <td>1.350509</td>    </tr>    <tr>      <th>...</th>      <td>...</td>      <td>...</td>    </tr>    <tr>      <th>995</th>      <td>-0.807699</td>      <td>2.591205</td>    </tr>    <tr>      <th>996</th>      <td>-1.276077</td>      <td>-0.468390</td>    </tr>    <tr>      <th>997</th>      <td>0.553626</td>      <td>0.898201</td>    </tr>    <tr>      <th>998</th>      <td>0.553874</td>      <td>-0.669727</td>    </tr>    <tr>      <th>999</th>      <td>-0.691200</td>      <td>0.019731</td>    </tr>  </tbody></table><p>1000 rows × 2 columns</p></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">z12.plot(kind=<span class="string">&#x27;hist&#x27;</span>); <span class="comment">#根据数据框绘直方图</span></span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070151020.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">z12.plot(kind=<span class="string">&#x27;hist&#x27;</span>,subplots=<span class="literal">True</span>,layout=(<span class="number">1</span>,<span class="number">2</span>));</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070151901.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">z12.plot(kind=<span class="string">&#x27;density&#x27;</span>,subplots=<span class="literal">True</span>,layout=(<span class="number">1</span>,<span class="number">2</span>)); <span class="comment">#模拟正态分布曲线</span></span><br></pre></td></tr></table></figure><p>​<br><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070150680.png" alt="png"><br>​    </p><p>（2）一般正态随机数及分布图</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">np.random.seed(<span class="number">12</span>)   <span class="comment">#设置种子数seed可重复结果</span></span><br><span class="line">X=np.random.normal(<span class="number">170</span>,<span class="number">10</span>,<span class="number">100</span>); X.<span class="built_in">round</span>(<span class="number">1</span>)</span><br></pre></td></tr></table></figure><pre><code>array([174.7, 163.2, 172.4, 153. , 177.5, 154.7, 170.1, 168.8, 161.9,       198.7, 164. , 174.7, 181. , 157.8, 183.4, 168.8, 180.1, 160.9,       159.7, 182.1, 175. , 171.4, 176.4, 175.3, 158.5, 147.9, 153.2,       152.1, 147.8, 163.5, 164.7, 169.6, 172.1, 166.2, 167.5, 170.7,       160. , 162.9, 170.4, 163.2, 164.3, 168.9, 183.4, 173.2, 166.6,       164.1, 168.9, 192.4, 138.5, 175.4, 172.3, 178.7, 158.5, 191.1,       180. , 169.5, 171.6, 162.8, 170.5, 168.6, 179.4, 173.6, 169.2,       176.8, 175.6, 172.2, 154.7, 180.3, 158.3, 159.9, 168.9, 175.1,       184.1, 153.1, 184.7, 186.4, 165.4, 168. , 164.3, 164. , 156.6,       153.1, 168. , 172.6, 188.3, 160. , 149.1, 171.5, 165.3, 173.6,       166. , 157.4, 163.1, 178. , 172.7, 160.3, 178.7, 155.5, 164.6,       172. ])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> warnings  </span><br><span class="line">warnings.filterwarnings(<span class="string">&quot;ignore&quot;</span>)            <span class="comment">#忽略警告信息</span></span><br><span class="line"><span class="keyword">import</span> seaborn <span class="keyword">as</span> sns</span><br><span class="line">sns.distplot(X);</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070151469.png" alt="png"></p><p>（3）非正态随机数及分布图</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">np.random.seed(<span class="number">15</span>)  <span class="comment">#设置种子数seed可重复结果</span></span><br><span class="line">Y=np.random.lognormal(<span class="number">0</span>,<span class="number">1</span>,<span class="number">1000</span>); Y[:<span class="number">10</span>]</span><br></pre></td></tr></table></figure><pre><code>array([0.7317, 1.4039, 0.8556, 0.6054, 1.2656, 0.1714, 0.3343, 0.337 ,       0.737 , 0.6227])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sns.distplot(Y);</span><br></pre></td></tr></table></figure><p>​<br><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070150896.png" alt="png"><br>​    </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Z=np.log(Y)      <span class="comment"># Z=log(Y)</span></span><br><span class="line">sns.distplot(Z);</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070150940.png" alt="png"></p><p>6.1.2.3 正态分布概率检验图</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> scipy.stats <span class="keyword">as</span> st   <span class="comment">#加载科学计算包scipy的统计功能</span></span><br><span class="line">st.probplot(X,plot=plt);</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070151645.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">st.probplot(Y,plot=plt); </span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070152498.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">st.probplot(Z, plot=plt); </span><br></pre></td></tr></table></figure><p>​<br><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070150433.png" alt="png"><br>​    </p><h2 id="6-2-统计量及抽样分布图"><a href="#6-2-统计量及抽样分布图" class="headerlink" title="6.2 统计量及抽样分布图"></a>6.2 统计量及抽样分布图</h2><h3 id="6-2-1-统计量及抽样的概念"><a href="#6-2-1-统计量及抽样的概念" class="headerlink" title="6.2.1 统计量及抽样的概念"></a>6.2.1 统计量及抽样的概念</h3><p>6.2.1.1 简单随机模拟</p><p>（1）生成[0,1]上的一组随机整数</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.random.randint(<span class="number">0</span>,<span class="number">2</span>,<span class="number">100</span>)    <span class="comment">#[0,1]上的10个随机整数 </span></span><br></pre></td></tr></table></figure><pre><code>array([0, 1, 1, 0, 1, 0, 1, 1, 1, 0, 0, 0, 1, 1, 0, 0, 0, 1, 1, 1, 1, 0,       0, 0, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0,       0, 1, 1, 1, 1, 0, 1, 0, 1, 0, 1, 1, 0, 0, 1, 0, 1, 0, 1, 1, 1, 1,       0, 1, 0, 1, 1, 1, 1, 1, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 1, 0, 1,       0, 0, 1, 0, 1, 0, 1, 0, 0, 1, 0, 0])</code></pre><p>（2）生成任意区间上的一组随机整数</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.random.randint(<span class="number">1</span>,<span class="number">101</span>,<span class="number">10</span>)  <span class="comment">#[1,100]上的10个随机整数数组</span></span><br></pre></td></tr></table></figure><pre><code>array([32, 86, 52, 60, 20, 14,  3, 28, 31, 75])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">np.random.seed(<span class="number">15</span>)           <span class="comment">#结果可重复</span></span><br><span class="line">np.random.randint(<span class="number">1</span>,<span class="number">101</span>,<span class="number">10</span>)</span><br></pre></td></tr></table></figure><pre><code>array([73, 13,  6,  1, 29, 28, 72, 76, 86, 48])</code></pre><p>6.2.1.2 随机抽样方法</p><p>（1）根据随机数抽样</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">pd.set_option(<span class="string">&#x27;display.max_rows&#x27;</span>, <span class="number">10</span>)</span><br><span class="line">BSdata=pd.read_excel(<span class="string">&#x27;DaPy_data.xlsx&#x27;</span>,<span class="string">&#x27;BSdata&#x27;</span>);   <span class="comment">#读取学生数据</span></span><br><span class="line">BSdata</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>学号</th>      <th>性别</th>      <th>身高</th>      <th>体重</th>      <th>支出</th>      <th>开设</th>      <th>课程</th>      <th>软件</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>1510248008</td>      <td>女</td>      <td>167</td>      <td>71</td>      <td>46.0</td>      <td>不清楚</td>      <td>都未学过</td>      <td>No</td>    </tr>    <tr>      <th>1</th>      <td>1510229019</td>      <td>男</td>      <td>171</td>      <td>68</td>      <td>10.4</td>      <td>有必要</td>      <td>概率统计</td>      <td>Matlab</td>    </tr>    <tr>      <th>2</th>      <td>1512108019</td>      <td>女</td>      <td>175</td>      <td>73</td>      <td>21.0</td>      <td>有必要</td>      <td>统计方法</td>      <td>SPSS</td>    </tr>    <tr>      <th>3</th>      <td>1512332010</td>      <td>男</td>      <td>169</td>      <td>74</td>      <td>4.9</td>      <td>有必要</td>      <td>编程技术</td>      <td>Excel</td>    </tr>    <tr>      <th>4</th>      <td>1512331015</td>      <td>男</td>      <td>154</td>      <td>55</td>      <td>25.9</td>      <td>有必要</td>      <td>都学习过</td>      <td>Python</td>    </tr>    <tr>      <th>...</th>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>    </tr>    <tr>      <th>47</th>      <td>1538319004</td>      <td>男</td>      <td>175</td>      <td>68</td>      <td>44.4</td>      <td>不清楚</td>      <td>统计方法</td>      <td>SAS</td>    </tr>    <tr>      <th>48</th>      <td>1538254010</td>      <td>女</td>      <td>166</td>      <td>65</td>      <td>5.3</td>      <td>不清楚</td>      <td>编程技术</td>      <td>Python</td>    </tr>    <tr>      <th>49</th>      <td>1540294017</td>      <td>女</td>      <td>159</td>      <td>58</td>      <td>71.4</td>      <td>不清楚</td>      <td>都学习过</td>      <td>SPSS</td>    </tr>    <tr>      <th>50</th>      <td>1540365026</td>      <td>女</td>      <td>169</td>      <td>73</td>      <td>5.5</td>      <td>有必要</td>      <td>统计方法</td>      <td>Excel</td>    </tr>    <tr>      <th>51</th>      <td>1540388036</td>      <td>女</td>      <td>165</td>      <td>67</td>      <td>56.8</td>      <td>不必要</td>      <td>概率统计</td>      <td>SAS</td>    </tr>  </tbody></table><p>52 rows × 8 columns</p></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">i=np.random.randint(<span class="number">1</span>,<span class="number">53</span>,<span class="number">6</span>);i <span class="comment">#抽取6名学生，取[1,52]上的6个整数 </span></span><br></pre></td></tr></table></figure><pre><code>array([30, 18, 46, 32, 24, 33])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BSdata.iloc[i]                 <span class="comment">#获取抽到的6名学生信息 </span></span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>学号</th>      <th>性别</th>      <th>身高</th>      <th>体重</th>      <th>支出</th>      <th>开设</th>      <th>课程</th>      <th>软件</th>    </tr>  </thead>  <tbody>    <tr>      <th>30</th>      <td>1529365032</td>      <td>男</td>      <td>172</td>      <td>71</td>      <td>10.4</td>      <td>有必要</td>      <td>都学习过</td>      <td>SPSS</td>    </tr>    <tr>      <th>18</th>      <td>1524105026</td>      <td>女</td>      <td>163</td>      <td>65</td>      <td>69.4</td>      <td>有必要</td>      <td>编程技术</td>      <td>Python</td>    </tr>    <tr>      <th>46</th>      <td>1438120022</td>      <td>男</td>      <td>166</td>      <td>70</td>      <td>35.6</td>      <td>有必要</td>      <td>统计方法</td>      <td>R</td>    </tr>    <tr>      <th>32</th>      <td>1530243029</td>      <td>男</td>      <td>186</td>      <td>87</td>      <td>9.5</td>      <td>不必要</td>      <td>都未学过</td>      <td>No</td>    </tr>    <tr>      <th>24</th>      <td>1527173011</td>      <td>女</td>      <td>160</td>      <td>62</td>      <td>11.5</td>      <td>不必要</td>      <td>都学习过</td>      <td>Matlab</td>    </tr>    <tr>      <th>33</th>      <td>1531364037</td>      <td>女</td>      <td>171</td>      <td>69</td>      <td>7.3</td>      <td>有必要</td>      <td>都学习过</td>      <td>Excel</td>    </tr>  </tbody></table></div><p>（2）直接抽取样本（sample）</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BSdata.sample(<span class="number">6</span>)             <span class="comment">#直接抽取名学生及其信息 </span></span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>学号</th>      <th>性别</th>      <th>身高</th>      <th>体重</th>      <th>支出</th>      <th>开设</th>      <th>课程</th>      <th>软件</th>    </tr>  </thead>  <tbody>    <tr>      <th>18</th>      <td>1524105026</td>      <td>女</td>      <td>163</td>      <td>65</td>      <td>69.4</td>      <td>有必要</td>      <td>编程技术</td>      <td>Python</td>    </tr>    <tr>      <th>33</th>      <td>1531364037</td>      <td>女</td>      <td>171</td>      <td>69</td>      <td>7.3</td>      <td>有必要</td>      <td>都学习过</td>      <td>Excel</td>    </tr>    <tr>      <th>45</th>      <td>1538399025</td>      <td>男</td>      <td>169</td>      <td>65</td>      <td>9.5</td>      <td>有必要</td>      <td>统计方法</td>      <td>SAS</td>    </tr>    <tr>      <th>28</th>      <td>1529314037</td>      <td>男</td>      <td>170</td>      <td>70</td>      <td>15.1</td>      <td>有必要</td>      <td>概率统计</td>      <td>SAS</td>    </tr>    <tr>      <th>30</th>      <td>1529365032</td>      <td>男</td>      <td>172</td>      <td>71</td>      <td>10.4</td>      <td>有必要</td>      <td>都学习过</td>      <td>SPSS</td>    </tr>    <tr>      <th>42</th>      <td>1537288004</td>      <td>女</td>      <td>173</td>      <td>70</td>      <td>19.1</td>      <td>不清楚</td>      <td>编程技术</td>      <td>Python</td>    </tr>  </tbody></table></div><h3 id="6-2-2-统计量的分布"><a href="#6-2-2-统计量的分布" class="headerlink" title="6.2.2 统计量的分布"></a>6.2.2 统计量的分布</h3><p>6.2.2.1 中心极限定理及其模拟图</p><p>（1）正态均值的分布—正态分布 </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 基于正态分布的中心极限定理模拟函数</span></span><br><span class="line"><span class="keyword">import</span> seaborn <span class="keyword">as</span> sns</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">norm_sim1</span>(<span class="params">N=<span class="number">1000</span>,n=<span class="number">10</span></span>):</span>    <span class="comment"># n为样本个数，N为模拟次数（即抽样次数） </span></span><br><span class="line">    xbar=np.zeros(N)           <span class="comment"># 产生放置样本均值的向量  </span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(N):         <span class="comment"># 计算[0,1]上的标准正态随机数及均值 </span></span><br><span class="line">        xbar[i]=np.random.normal(<span class="number">0</span>,<span class="number">1</span>,n).mean() </span><br><span class="line">    sns.distplot(xbar,bins=<span class="number">50</span>) <span class="comment">#plt.hist(xbar,bins=50)   </span></span><br><span class="line">    print(pd.DataFrame(xbar).describe().T) <span class="comment">#模拟结果的基本统计量</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">np.random.seed(<span class="number">1</span>)         <span class="comment">#设置种子数seed使结果可重复</span></span><br><span class="line">norm_sim1(<span class="number">10000</span>,<span class="number">30</span>)               <span class="comment">#根据默认值模拟</span></span><br></pre></td></tr></table></figure><pre><code>     count      mean       std       min       25%       50%       75%  \0  10000.0  0.002303  0.184125 -0.751992 -0.121302  0.002808  0.128373           max  0  0.770898  </code></pre><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070152089.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">np.random.seed(<span class="number">2</span>)        <span class="comment">#设置种子数seed使结果可重复</span></span><br><span class="line">norm_sim1(n=<span class="number">30</span>,N=<span class="number">10000</span>)  </span><br></pre></td></tr></table></figure><pre><code>     count      mean       std       min       25%       50%       75%  \0  10000.0 -0.003134  0.181091 -0.612653 -0.127927 -0.002509  0.120398           max  0  0.684151  </code></pre><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070152154.png" alt="png"></p><p>（２）非正态均值统计量的分布 —— 渐近正态分布</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 基于非正态分布的中心极限定理模拟函数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">norm_sim2</span>(<span class="params">N=<span class="number">1000</span>,n=<span class="number">10</span></span>):</span> </span><br><span class="line">    xbar=np.zeros(N) </span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(N):  <span class="comment">#计算[0,1]上的均匀随机数及均值 </span></span><br><span class="line">        xbar[i]=np.random.uniform(<span class="number">0</span>,<span class="number">1</span>,n).mean()  </span><br><span class="line">    sns.distplot(xbar,bins=<span class="number">50</span>)</span><br><span class="line">    print(pd.DataFrame(xbar).describe().T) </span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">np.random.seed(<span class="number">3</span>)   <span class="comment">#设置种子数seed使结果可重复</span></span><br><span class="line">norm_sim2() </span><br></pre></td></tr></table></figure><pre><code>    count      mean       std       min       25%       50%       75%  \0  1000.0  0.496785  0.090672  0.203241  0.436412  0.497801  0.560534           max  0  0.732275  </code></pre><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070152326.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">np.random.seed(<span class="number">4</span>)   <span class="comment">#设置种子数seed使结果可重复</span></span><br><span class="line">norm_sim2(<span class="number">10000</span>,<span class="number">30</span>) </span><br></pre></td></tr></table></figure><pre><code>     count      mean       std       min       25%       50%       75%  \0  10000.0  0.499467  0.052163  0.294711  0.463689  0.499249  0.534502           max  0  0.711937  </code></pre><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070150801.png" alt="png"></p><p>6.2.2.2 均值的 t 分布及其图示</p><p>（１）小样本正态均值的标准化统计量分布 — t分布</p><p>（2）t 分布曲线比较图</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">x=np.arange(-<span class="number">4</span>,<span class="number">4</span>,<span class="number">0.1</span>) </span><br><span class="line">yn=st.norm.pdf(x,<span class="number">0</span>,<span class="number">1</span>); yt3=st.t.pdf(x,<span class="number">3</span>); yt10=st.t.pdf(x,<span class="number">30</span>) </span><br><span class="line">plt.plot(x,yn,<span class="string">&#x27;r-&#x27;</span>,x,yt3,<span class="string">&#x27;b.&#x27;</span>,x,yt10,<span class="string">&#x27;g-.&#x27;</span>); </span><br><span class="line">plt.legend([<span class="string">&quot;N(0,1)&quot;</span>,<span class="string">&quot;t(3)&quot;</span>,<span class="string">&quot;t(10)&quot;</span>]);</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070152643.png" alt="png"></p><h2 id="6-3-基本统计推断方法"><a href="#6-3-基本统计推断方法" class="headerlink" title="6.3 基本统计推断方法"></a>6.3 基本统计推断方法</h2><h3 id="6-3-1-参数的估计方法"><a href="#6-3-1-参数的估计方法" class="headerlink" title="6.3.1 参数的估计方法"></a>6.3.1 参数的估计方法</h3><p>6.3.1.1 点估计 </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">BSdata=pd.read_excel(<span class="string">&#x27;DaPy_data.xlsx&#x27;</span>,<span class="string">&#x27;BSdata&#x27;</span>);   <span class="comment">#读取学生数据</span></span><br><span class="line"><span class="comment">#BSdata</span></span><br></pre></td></tr></table></figure><p>（1）均值的点估计</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BSdata[<span class="string">&#x27;身高&#x27;</span>].mean() </span><br></pre></td></tr></table></figure><pre><code>168.51923076923077</code></pre><p>（2）标准差的点估计</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BSdata[<span class="string">&#x27;身高&#x27;</span>].std() </span><br></pre></td></tr></table></figure><pre><code>8.01833776871194</code></pre><p>（3）比例的点估计 </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">f=BSdata[<span class="string">&#x27;开设&#x27;</span>].value_counts(); </span><br><span class="line">p=f/<span class="built_in">sum</span>(f);p</span><br></pre></td></tr></table></figure><pre><code>有必要    0.557692不清楚    0.230769不必要    0.211538Name: 开设, dtype: float64</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#假定有 150 人接受调查，其中 42 人喜欢品牌 A，问喜欢 A 品牌的人占多大比例？</span></span><br><span class="line"><span class="number">42</span>/<span class="number">150</span></span><br></pre></td></tr></table></figure><pre><code>0.28</code></pre><p>6.3.1.2 区间估计</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">norm_p(-<span class="number">2</span>,<span class="number">2</span>) </span><br></pre></td></tr></table></figure><pre><code>    N(0,1)分布: [-2.00,2.00]  p=0.9545</code></pre><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070150226.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> scipy.stats <span class="keyword">as</span> st</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">t_p</span>(<span class="params">a,b,df=<span class="number">10</span></span>):</span>  <span class="comment">#t分布曲线下[a,b]上计算概率的面积图</span></span><br><span class="line">        x=np.arange(-<span class="number">4</span>,<span class="number">4</span>,<span class="number">0.1</span>) </span><br><span class="line">        y=st.t.pdf(x,df)         </span><br><span class="line">        x1=x[(a&lt;=x) &amp; (x&lt;=b)];x1 </span><br><span class="line">        y1=y[(a&lt;=x) &amp; (x&lt;=b)];y1 </span><br><span class="line">        p=st.t.cdf(b,df)-st.t.cdf(a,df);</span><br><span class="line">        print(<span class="string">&quot;      t(&quot;</span>+<span class="built_in">str</span>(df)+<span class="string">&quot;): [%3.2f, %3.2f]  p=%5.4f&quot;</span>%(a,b,p)) </span><br><span class="line">        plt.plot(x,y);<span class="comment">#plt.text(-0.7,0.2,&quot;p=%5.4f&quot;%p,fontsize=15);</span></span><br><span class="line">        plt.hlines(<span class="number">0</span>,-<span class="number">4</span>,<span class="number">4</span>); plt.vlines(x1,<span class="number">0</span>,y1,colors=<span class="string">&#x27;r&#x27;</span>); </span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">t_p(-<span class="number">2</span>,<span class="number">2</span>)  <span class="comment">#t:[-2,2], df=10</span></span><br></pre></td></tr></table></figure><pre><code>      t(10): [-2.00, 2.00]  p=0.9266</code></pre><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070152527.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#基于原始数据的t分布均值和置信区间</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">t_interval</span>(<span class="params">x,b=<span class="number">0.95</span></span>):</span>  <span class="comment">#这里b为置信水平，通常取95%</span></span><br><span class="line">    a=<span class="number">1</span>-b </span><br><span class="line">    n = <span class="built_in">len</span>(x) </span><br><span class="line">    ta=st.t.ppf(<span class="number">1</span>-a/<span class="number">2</span>,n-<span class="number">1</span>);ta     </span><br><span class="line">    <span class="keyword">from</span> math <span class="keyword">import</span> sqrt </span><br><span class="line">    se=x.std()/sqrt(n)</span><br><span class="line">    <span class="keyword">return</span>(x.mean()-ta*se, x.mean()+se*ta)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">t_interval(BSdata[<span class="string">&#x27;身高&#x27;</span>]) <span class="comment">#身高均值的 95%的置信区间</span></span><br></pre></td></tr></table></figure><pre><code>(166.28691128155606, 170.7515502569055)</code></pre><h3 id="6-3-2-参数的假设检验"><a href="#6-3-2-参数的假设检验" class="headerlink" title="6.3.2 参数的假设检验"></a>6.3.2 参数的假设检验</h3><p>6.3.2.2 样本均值 t 检验</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#单样本 t 检验函数进行均值的 t 检验 </span></span><br><span class="line">print(<span class="string">&quot;样本均值：&quot;</span>,BSdata.身高.mean())</span><br><span class="line">st.ttest_1samp(BSdata.身高,popmean = <span class="number">166</span>)</span><br></pre></td></tr></table></figure><pre><code>样本均值： 168.51923076923077Ttest_1sampResult(statistic=2.2656106477907243, pvalue=0.02775093534857837)</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">st.ttest_1samp(BSdata.身高,popmean = <span class="number">170</span>)</span><br></pre></td></tr></table></figure><pre><code>Ttest_1sampResult(statistic=-1.3316948082433964, pvalue=0.188881956923451)</code></pre><h3 id="6-3-3-统计推断的可视化"><a href="#6-3-3-统计推断的可视化" class="headerlink" title="6.3.3 统计推断的可视化"></a>6.3.3 统计推断的可视化</h3><p>6.3.3.1 均值推断的可视化函数</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#定义单样本均值t检验图</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">ttest_1plot</span>(<span class="params">X,mu=<span class="number">0</span>,k=<span class="number">0.1</span></span>):</span> </span><br><span class="line">    df=<span class="built_in">len</span>(X)-<span class="number">1</span>  <span class="comment">#df=n-1</span></span><br><span class="line">    t1p=st.ttest_1samp(X, popmean = mu);</span><br><span class="line">    x=np.arange(-<span class="number">4</span>,<span class="number">4</span>,k); y=st.t.pdf(x,df)</span><br><span class="line">    t=<span class="built_in">abs</span>(t1p[<span class="number">0</span>]);p=t1p[<span class="number">1</span>]</span><br><span class="line">    x1=x[x&lt;=-t]; y1=y[x&lt;=-t];</span><br><span class="line">    x2=x[x&gt;=t]; y2=y[x&gt;=t];</span><br><span class="line">    print(<span class="string">&quot;  样本均值： \t%8.4f &quot;</span>%X.mean())</span><br><span class="line">    print(<span class="string">&quot;  单样本t检验:    t=%6.3f  p=%6.4f&quot;</span>%(t,p))</span><br><span class="line">    t_interval=st.t.interval(<span class="number">0.95</span>,<span class="built_in">len</span>(X)-<span class="number">1</span>,X.mean(),X.std())</span><br><span class="line">    print(<span class="string">&quot;   t置信区间:\t(%7.4f, %7.4f)&quot;</span>%(t_interval[<span class="number">0</span>],t_interval[<span class="number">1</span>]))</span><br><span class="line">    plt.plot(x,y); plt.hlines(<span class="number">0</span>,-<span class="number">4</span>,<span class="number">4</span>);</span><br><span class="line">    plt.vlines(x1,<span class="number">0</span>,y1,colors=<span class="string">&#x27;r&#x27;</span>); plt.vlines(x2,<span class="number">0</span>,y2,colors=<span class="string">&#x27;r&#x27;</span>);</span><br><span class="line">    plt.vlines(st.t.ppf(<span class="number">0.05</span>/<span class="number">2</span>,df),<span class="number">0</span>,<span class="number">0.2</span>,colors=<span class="string">&#x27;b&#x27;</span>);</span><br><span class="line">    plt.vlines(-st.t.ppf(<span class="number">0.05</span>/<span class="number">2</span>,df),<span class="number">0</span>,<span class="number">0.2</span>,colors=<span class="string">&#x27;b&#x27;</span>);</span><br><span class="line">    plt.text(-<span class="number">0.6</span>,<span class="number">0.2</span>,<span class="string">r&quot;$\alpha$=%3.2f&quot;</span>%<span class="number">0.05</span>,fontsize=<span class="number">15</span>);</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ttest_1plot(BSdata.身高,<span class="number">166</span>)  <span class="comment">#总体均值为166时的推断图 </span></span><br></pre></td></tr></table></figure><pre><code>  样本均值：     168.5192   单样本t检验:    t= 2.266  p=0.0278   t置信区间:    (152.4217, 184.6167)</code></pre><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070150534.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ttest_1plot(BSdata.身高,<span class="number">170</span>)  <span class="comment">#总体均值为170时的推断图 </span></span><br></pre></td></tr></table></figure><pre><code>  样本均值：     168.5192   单样本t检验:    t= 1.332  p=0.1889   t置信区间:    (152.4217, 184.6167)</code></pre><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070152901.png" alt="png"></p>]]></content>
      
      
      <categories>
          
          <category> 《数据可视化》——基于Python的应用 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 《数据可视化》——基于Python的应用 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>第5章-数据的直观分析</title>
      <link href="36b38058.html"/>
      <url>36b38058.html</url>
      
        <content type="html"><![CDATA[<h2 id="第5章-数据的直观分析及可视化"><a href="#第5章-数据的直观分析及可视化" class="headerlink" title="第5章  数据的直观分析及可视化"></a>第5章  数据的直观分析及可视化</h2><h2 id="5-1-特殊统计图的绘制"><a href="#5-1-特殊统计图的绘制" class="headerlink" title="5.1 特殊统计图的绘制"></a>5.1 特殊统计图的绘制</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#基本设置</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np                             <span class="comment">#加载numpy包</span></span><br><span class="line">np.set_printoptions(precision=<span class="number">4</span>)               <span class="comment">#设置numpy输出为4位有效数</span></span><br></pre></td></tr></table></figure><h3 id="5-1-1-函数图"><a href="#5-1-1-函数图" class="headerlink" title="5.1.1 函数图"></a>5.1.1 函数图</h3><p>（1）初等函数图</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> math <span class="keyword">import</span> pi                 <span class="comment">#调用math中的圆周率参数</span></span><br><span class="line">x=np.linspace(<span class="number">0</span>,<span class="number">4</span>*pi,<span class="number">60</span>);x          <span class="comment">#生成[0,4*pi]上30个等差数列</span></span><br></pre></td></tr></table></figure><pre><code>array([ 0.    ,  0.213 ,  0.426 ,  0.639 ,  0.852 ,  1.0649,  1.2779,        1.4909,  1.7039,  1.9169,  2.1299,  2.3429,  2.5559,  2.7689,        2.9819,  3.1948,  3.4078,  3.6208,  3.8338,  4.0468,  4.2598,        4.4728,  4.6858,  4.8988,  5.1117,  5.3247,  5.5377,  5.7507,        5.9637,  6.1767,  6.3897,  6.6027,  6.8157,  7.0286,  7.2416,        7.4546,  7.6676,  7.8806,  8.0936,  8.3066,  8.5196,  8.7326,        8.9456,  9.1585,  9.3715,  9.5845,  9.7975, 10.0105, 10.2235,       10.4365, 10.6495, 10.8625, 11.0754, 11.2884, 11.5014, 11.7144,       11.9274, 12.1404, 12.3534, 12.5664])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> numpy <span class="keyword">import</span> sin,cos,log,exp   <span class="comment">#调用numpy中的初等函数</span></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt     <span class="comment">#加载matplotlib包的绘图函数</span></span><br><span class="line">plt.plot(x,sin(x));                 <span class="comment">#正弦函数 y=sin(x)</span></span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070144478.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plt.plot(x,cos(x));                 <span class="comment">#余弦函数 y=cos(x)</span></span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070144246.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plt.plot(x,log(x+<span class="number">1</span>));               <span class="comment">#对数函数 y=log(x+1)</span></span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070144222.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plt.plot(x,exp(x));                 <span class="comment">#指数函数 y=exp(x)</span></span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070145154.png" alt="png"></p><p>（2）椭圆函数图</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">t=np.linspace(<span class="number">0</span>,<span class="number">2</span>*pi);</span><br><span class="line">x=<span class="number">2</span>*sin(t);y=<span class="number">3</span>*cos(t);</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">plt.plot(x,y,c=<span class="string">&#x27;red&#x27;</span>); </span><br><span class="line">plt.axvline(x=<span class="number">0</span>); plt.axhline(y=<span class="number">0</span>);</span><br><span class="line">plt.text(<span class="number">0.2</span>,<span class="number">1</span>,<span class="string">r&#x27;$\frac&#123;x^2&#125;&#123;a^2&#125;+\frac&#123;y^2&#125;&#123;b^2&#125;=1$&#x27;</span>,fontsize=<span class="number">15</span>);</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070146069.png" alt="png"></p><h4 id="5-1-2-气泡图"><a href="#5-1-2-气泡图" class="headerlink" title="5.1.2 气泡图"></a>5.1.2 气泡图</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">x=np.linspace(-<span class="number">4</span>,<span class="number">4</span>,<span class="number">20</span>); </span><br><span class="line">y=x**<span class="number">2</span>;                         <span class="comment"># y=x^2 抛物线</span></span><br><span class="line">plt.scatter(x,y);               <span class="comment">#二维散点图</span></span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070146010.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plt.scatter(x,y,s=<span class="number">8</span>*y);         <span class="comment">#二维气泡图,s=8y</span></span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070146072.png" alt="png"></p><h3 id="5-1-3-三维散点图"><a href="#5-1-3-三维散点图" class="headerlink" title="5.1.3 三维散点图"></a>5.1.3 三维散点图</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">X, Y = np.meshgrid(x, x)                <span class="comment">#从坐标向量x,y中返回坐标矩阵</span></span><br><span class="line">Z = np.sin(np.sqrt(X**<span class="number">2</span> + Y**<span class="number">2</span>))        <span class="comment">#Z=sin(sqrt(X^2+Y^2)) </span></span><br><span class="line"><span class="keyword">from</span> mpl_toolkits.mplot3d <span class="keyword">import</span> Axes3D </span><br><span class="line">fig = plt.figure() </span><br><span class="line">Axes3D(fig).scatter(X, Y, Z);</span><br></pre></td></tr></table></figure><pre><code>C:\Users\kit\AppData\Local\Temp/ipykernel_16656/3617781357.py:5: MatplotlibDeprecationWarning: Axes3D(fig) adding itself to the figure is deprecated since 3.4. Pass the keyword argument auto_add_to_figure=False and use fig.add_axes(ax) to suppress this warning. The default value of auto_add_to_figure will change to False in mpl3.5 and True values will no longer work in 3.6.  This is consistent with other Axes classes.  Axes3D(fig).scatter(X, Y, Z);</code></pre><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070146649.png" alt="png"></p><h3 id="5-1-4-三维曲面图"><a href="#5-1-4-三维曲面图" class="headerlink" title="5.1.4 三维曲面图"></a>5.1.4 三维曲面图</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> mpl_toolkits.mplot3d <span class="keyword">import</span> Axes3D </span><br><span class="line">fig = plt.figure() </span><br><span class="line">Axes3D(fig).plot_surface(X, Y, Z);</span><br></pre></td></tr></table></figure><pre><code>C:\Users\kit\AppData\Local\Temp/ipykernel_16656/932890556.py:3: MatplotlibDeprecationWarning: Axes3D(fig) adding itself to the figure is deprecated since 3.4. Pass the keyword argument auto_add_to_figure=False and use fig.add_axes(ax) to suppress this warning. The default value of auto_add_to_figure will change to False in mpl3.5 and True values will no longer work in 3.6.  This is consistent with other Axes classes.  Axes3D(fig).plot_surface(X, Y, Z);</code></pre><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070146440.png" alt="png"></p><h3 id="5-2-Seaborn-统计绘图"><a href="#5-2-Seaborn-统计绘图" class="headerlink" title="5.2 Seaborn 统计绘图"></a>5.2 Seaborn 统计绘图</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!pip install seaborn</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> seaborn <span class="keyword">as</span> sns  <span class="comment">#加载seaborn包</span></span><br></pre></td></tr></table></figure><h2 id="5-2-1-seaborn绘图特点"><a href="#5-2-1-seaborn绘图特点" class="headerlink" title="5.2.1  seaborn绘图特点"></a>5.2.1  seaborn绘图特点</h2><h3 id="5-2-1-1-统计图的绘制"><a href="#5-2-1-1-统计图的绘制" class="headerlink" title="5.2.1.1  统计图的绘制"></a>5.2.1.1  统计图的绘制</h3><h3 id="5-2-1-2-分组图的绘制"><a href="#5-2-1-2-分组图的绘制" class="headerlink" title="5.2.1.2  分组图的绘制"></a>5.2.1.2  分组图的绘制</h3><h3 id="5-2-1-3-分面图的绘制"><a href="#5-2-1-3-分面图的绘制" class="headerlink" title="5.2.1.3  分面图的绘制"></a>5.2.1.3  分面图的绘制</h3><h2 id="5-2-2-seaborn中的统计图"><a href="#5-2-2-seaborn中的统计图" class="headerlink" title="5.2.2 seaborn中的统计图"></a>5.2.2 seaborn中的统计图</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#（1）读取绘图用数据</span></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">BSdata=pd.read_excel(<span class="string">&#x27;DaPy_data.xlsx&#x27;</span>,<span class="string">&#x27;BSdata&#x27;</span>);BSdata.head()</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>学号</th>      <th>性别</th>      <th>身高</th>      <th>体重</th>      <th>支出</th>      <th>开设</th>      <th>课程</th>      <th>软件</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>1510248008</td>      <td>女</td>      <td>167</td>      <td>71</td>      <td>46.0</td>      <td>不清楚</td>      <td>都未学过</td>      <td>No</td>    </tr>    <tr>      <th>1</th>      <td>1510229019</td>      <td>男</td>      <td>171</td>      <td>68</td>      <td>10.4</td>      <td>有必要</td>      <td>概率统计</td>      <td>Matlab</td>    </tr>    <tr>      <th>2</th>      <td>1512108019</td>      <td>女</td>      <td>175</td>      <td>73</td>      <td>21.0</td>      <td>有必要</td>      <td>统计方法</td>      <td>SPSS</td>    </tr>    <tr>      <th>3</th>      <td>1512332010</td>      <td>男</td>      <td>169</td>      <td>74</td>      <td>4.9</td>      <td>有必要</td>      <td>编程技术</td>      <td>Excel</td>    </tr>    <tr>      <th>4</th>      <td>1512331015</td>      <td>男</td>      <td>154</td>      <td>55</td>      <td>25.9</td>      <td>有必要</td>      <td>都学习过</td>      <td>Python</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#（2）中文字体段时需设置字体</span></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt             </span><br><span class="line">plt.rcParams[<span class="string">&#x27;font.sans-serif&#x27;</span>]=[<span class="string">&#x27;SimHei&#x27;</span>]; <span class="comment">#设置中文字体为&#x27;黑体&#x27;</span></span><br><span class="line">plt.rc(<span class="string">&#x27;axes&#x27;</span>, unicode_minus=<span class="literal">False</span>)</span><br></pre></td></tr></table></figure><h4 id="5-2-2-1-箱线图（boxplot）"><a href="#5-2-2-1-箱线图（boxplot）" class="headerlink" title="5.2.2.1 箱线图（boxplot）"></a>5.2.2.1 箱线图（boxplot）</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sns.boxplot(x=BSdata[<span class="string">&#x27;身高&#x27;</span>]);</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070146232.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sns.boxplot(y=BSdata[<span class="string">&#x27;身高&#x27;</span>]); <span class="comment">#竖着放的箱线图，也就是将x换成y</span></span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070146855.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 分组绘制箱线图，分组因子是“性别”，在x轴不同位置绘制。</span></span><br><span class="line">sns.boxplot(x=<span class="string">&#x27;性别&#x27;</span>,y=<span class="string">&#x27;身高&#x27;</span>,data=BSdata);</span><br></pre></td></tr></table></figure><p>​<br><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070146998.png" alt="png"><br>​    </p><h5 id="5-2-2-2-小提琴图（violinplot）"><a href="#5-2-2-2-小提琴图（violinplot）" class="headerlink" title="5.2.2.2 小提琴图（violinplot）"></a>5.2.2.2 小提琴图（violinplot）</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sns.violinplot(x=<span class="string">&#x27;开设&#x27;</span>, y=<span class="string">&#x27;支出&#x27;</span>, hue=<span class="string">&#x27;性别&#x27;</span>, data=BSdata);</span><br></pre></td></tr></table></figure><p>​<br><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070147572.png" alt="png"><br>​    </p><h5 id="5-2-2-3-点图（stripplot，航线图）"><a href="#5-2-2-3-点图（stripplot，航线图）" class="headerlink" title="5.2.2.3 点图（stripplot，航线图）"></a>5.2.2.3 点图（stripplot，航线图）</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sns.stripplot(x=<span class="string">&#x27;性别&#x27;</span>, y=<span class="string">&#x27;身高&#x27;</span>, data=BSdata, jitter=<span class="literal">True</span>); </span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070147294.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sns.stripplot(x=<span class="string">&#x27;性别&#x27;</span>, y=<span class="string">&#x27;身高&#x27;</span>, data=BSdata, jitter=<span class="literal">False</span>); </span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070147753.png" alt="png"></p><h5 id="5-2-2-4-条图（barplot）"><a href="#5-2-2-4-条图（barplot）" class="headerlink" title="5.2.2.4 条图（barplot）"></a>5.2.2.4 条图（barplot）</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sns.barplot(x=<span class="string">&#x27;性别&#x27;</span>, y=<span class="string">&#x27;身高&#x27;</span>, data=BSdata); <span class="comment">#不同性别身高均值标准差图</span></span><br></pre></td></tr></table></figure><p>​<br><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070147582.png" alt="png"><br>​    </p><h5 id="5-2-2-5-计数图（countplot）"><a href="#5-2-2-5-计数图（countplot）" class="headerlink" title="5.2.2.5 计数图（countplot）"></a>5.2.2.5 计数图（countplot）</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sns.countplot(x=<span class="string">&#x27;开设&#x27;</span>, hue=<span class="string">&quot;课程&quot;</span>, data=BSdata);</span><br></pre></td></tr></table></figure><p>​<br><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070147567.png" alt="png"><br>​    </p><h5 id="5-2-2-6-分组关系图（factorplot）"><a href="#5-2-2-6-分组关系图（factorplot）" class="headerlink" title="5.2.2.6 分组关系图（factorplot）"></a>5.2.2.6 分组关系图（factorplot）</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> warnings  </span><br><span class="line">warnings.filterwarnings(<span class="string">&quot;ignore&quot;</span>)            <span class="comment">#忽略警告信息</span></span><br><span class="line">sns.factorplot(x=<span class="string">&#x27;性别&#x27;</span>,col=<span class="string">&quot;开设&quot;</span>,col_wrap=<span class="number">3</span>,data=BSdata,kind=<span class="string">&quot;count&quot;</span>,size=<span class="number">2</span>,aspect=<span class="number">1.5</span>);</span><br></pre></td></tr></table></figure><p>​<br><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070147539.png" alt="png"><br>​    </p><h5 id="5-2-2-7-概率分布图（distplot）"><a href="#5-2-2-7-概率分布图（distplot）" class="headerlink" title="5.2.2.7 概率分布图（distplot）"></a>5.2.2.7 概率分布图（distplot）</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BSdata[<span class="string">&#x27;身高&#x27;</span>].hist(); </span><br></pre></td></tr></table></figure><p>​<br><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070147773.png" alt="png"><br>​    </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sns.distplot(BSdata[<span class="string">&#x27;身高&#x27;</span>], kde=<span class="literal">True</span>, bins=<span class="number">10</span>); </span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070147719.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#针对双变量，可使用Seaborn中的jointplot()函数。</span></span><br><span class="line">sns.jointplot(x=<span class="string">&#x27;身高&#x27;</span>, y=<span class="string">&#x27;体重&#x27;</span>, data=BSdata); </span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070147612.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sns.pairplot(BSdata[[<span class="string">&#x27;身高&#x27;</span>,<span class="string">&#x27;体重&#x27;</span>,<span class="string">&#x27;支出&#x27;</span>]]); <span class="comment">#配对散点图</span></span><br></pre></td></tr></table></figure><p>​<br><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070147316.png" alt="png"><br>​    </p><h2 id="5-3-ggplot-绘图系统"><a href="#5-3-ggplot-绘图系统" class="headerlink" title="5.3 ggplot 绘图系统"></a>5.3 ggplot 绘图系统</h2><h3 id="5-3-1-ggplot与plotnine包"><a href="#5-3-1-ggplot与plotnine包" class="headerlink" title="5.3.1 ggplot与plotnine包"></a>5.3.1 ggplot与plotnine包</h3><h4 id="5-3-1-1-包的安装"><a href="#5-3-1-1-包的安装" class="headerlink" title="5.3.1.1 包的安装"></a>5.3.1.1 包的安装</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!pip install ggplot    #在系统上安装ggplot包</span></span><br><span class="line"><span class="comment">#!pip install plotnine    #在系统上安装plotnine包</span></span><br></pre></td></tr></table></figure><h4 id="5-3-1-2-包的加载与设置"><a href="#5-3-1-2-包的加载与设置" class="headerlink" title="5.3.1.2 包的加载与设置"></a>5.3.1.2 包的加载与设置</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> plotnine <span class="keyword">import</span> *    <span class="comment">#加载和调用ggplot所有方法</span></span><br><span class="line">theme_set(theme_bw(base_family=<span class="string">&#x27;SimHei&#x27;</span>)); </span><br><span class="line"><span class="comment">#设置图形主题背景为白色bw、中文字体为黑体SimHei</span></span><br></pre></td></tr></table></figure><h3 id="5-3-2-ggplot-基本绘图"><a href="#5-3-2-ggplot-基本绘图" class="headerlink" title="5.3.2 ggplot 基本绘图"></a>5.3.2 ggplot 基本绘图</h3><h4 id="5-3-2-1-基本定义"><a href="#5-3-2-1-基本定义" class="headerlink" title="5.3.2.1  基本定义"></a>5.3.2.1  基本定义</h4><h4 id="5-3-2-2-ggplot中的图层"><a href="#5-3-2-2-ggplot中的图层" class="headerlink" title="5.3.2.2 ggplot中的图层"></a>5.3.2.2 ggplot中的图层</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GP=ggplot(BSdata,aes(x=<span class="string">&#x27;身高&#x27;</span>,y=<span class="string">&#x27;体重&#x27;</span>)); GP <span class="comment">#绘制直角坐标系</span></span><br></pre></td></tr></table></figure><p>​<br><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070147943.png" alt="png"><br>​    </p><pre><code>&lt;ggplot: (17305736)&gt;</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GP + geom_point()  <span class="comment">#增加点图</span></span><br></pre></td></tr></table></figure><p>​<br><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070147968.png" alt="png"><br>​    </p><pre><code>&lt;ggplot: (17306649)&gt;</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GP + geom_line()   <span class="comment">#增加线图</span></span><br></pre></td></tr></table></figure><p>​<br><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070147958.png" alt="png"><br>​    </p><pre><code>&lt;ggplot: (17305817)&gt;</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GP + geom_point() + geom_line()  <span class="comment">#增加点和线图</span></span><br></pre></td></tr></table></figure><p>​<br><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070147823.png" alt="png"><br>​    </p><pre><code>&lt;ggplot: (17401378)&gt;</code></pre><h4 id="5-3-3-常见统计图绘制"><a href="#5-3-3-常见统计图绘制" class="headerlink" title="5.3.3 常见统计图绘制"></a>5.3.3 常见统计图绘制</h4><h4 id="5-3-3-1-直方图"><a href="#5-3-3-1-直方图" class="headerlink" title="5.3.3.1 直方图"></a>5.3.3.1 直方图</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ggplot(BSdata,aes(x=<span class="string">&#x27;身高&#x27;</span>)) + geom_histogram()</span><br></pre></td></tr></table></figure><p>​<br><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070147885.png" alt="png"><br>​    </p><pre><code>&lt;ggplot: (17411199)&gt;</code></pre><h4 id="5-3-3-2-分组散点图"><a href="#5-3-3-2-分组散点图" class="headerlink" title="5.3.3.2 分组散点图"></a>5.3.3.2 分组散点图</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ggplot(BSdata,aes(x=<span class="string">&#x27;身高&#x27;</span>,y=<span class="string">&#x27;体重&#x27;</span>,shape=<span class="string">&#x27;性别&#x27;</span>)) + geom_point() </span><br></pre></td></tr></table></figure><p>​<br><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070144844.png" alt="png"><br>​    </p><pre><code>&lt;ggplot: (17453695)&gt;</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ggplot(BSdata,aes(x=<span class="string">&#x27;身高&#x27;</span>,y=<span class="string">&#x27;体重&#x27;</span>,color=<span class="string">&#x27;性别&#x27;</span>)) + geom_point()</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070148705.png" alt="png"></p><pre><code>&lt;ggplot: (17400528)&gt;</code></pre><h4 id="5-3-3-3-折线图"><a href="#5-3-3-3-折线图" class="headerlink" title="5.3.3.3 折线图"></a>5.3.3.3 折线图</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ggplot(BSdata,aes(x=<span class="string">&#x27;支出&#x27;</span>,y=<span class="string">&#x27;身高&#x27;</span>)) + geom_line() </span><br></pre></td></tr></table></figure><p>​<br><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070144232.png" alt="png"><br>​    </p><pre><code>&lt;ggplot: (17684008)&gt;</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#共用一个坐标，绘制不同的y值</span></span><br><span class="line">ggplot(BSdata,aes(x=<span class="string">&#x27;支出&#x27;</span>))+geom_line(aes(y=<span class="string">&#x27;身高&#x27;</span>)) + geom_line(aes(y=<span class="string">&#x27;体重&#x27;</span>))</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070148593.png" alt="png"></p><pre><code>&lt;ggplot: (17547030)&gt;</code></pre><h4 id="5-3-3-4-分面图"><a href="#5-3-3-4-分面图" class="headerlink" title="5.3.3.4 分面图"></a>5.3.3.4 分面图</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#在plotnine中可使用facet_wrap参数可以按类型绘制分面图。</span></span><br><span class="line">ggplot(BSdata,aes(<span class="string">&#x27;身高&#x27;</span>,<span class="string">&#x27;体重&#x27;</span>)) + geom_point() + facet_wrap(<span class="string">&#x27;性别&#x27;</span>,nrow=<span class="number">2</span>) </span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070148396.png" alt="png"></p><pre><code>&lt;ggplot: (17588264)&gt;</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ggplot(BSdata,aes(<span class="string">&#x27;身高&#x27;</span>,<span class="string">&#x27;体重&#x27;</span>)) + geom_point() + facet_wrap(<span class="string">&#x27;性别&#x27;</span>,nrow=<span class="number">1</span>)</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070144534.png" alt="png"></p><pre><code>&lt;ggplot: (17856503)&gt;</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ggplot(BSdata,aes(<span class="string">&#x27;身高&#x27;</span>,<span class="string">&#x27;体重&#x27;</span>)) + geom_line() + geom_point() + facet_wrap(<span class="string">&#x27;开设&#x27;</span>,nrow=<span class="number">1</span>)</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070148044.png" alt="png"></p><pre><code>&lt;ggplot: (17893885)&gt;</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(ggplot(BSdata,aes(<span class="string">&#x27;身高&#x27;</span>,<span class="string">&#x27;体重&#x27;</span>)) + geom_point() </span><br><span class="line">       + facet_wrap(<span class="string">&#x27;~性别+开设&#x27;</span>,nrow=<span class="number">3</span>))</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070148027.png" alt="png"></p><pre><code>&lt;ggplot: (17934725)&gt;</code></pre><h2 id="5-4-pyecharts动态绘图"><a href="#5-4-pyecharts动态绘图" class="headerlink" title="5.4  pyecharts动态绘图"></a>5.4  pyecharts动态绘图</h2><h3 id="5-4-1-pyecharts简介"><a href="#5-4-1-pyecharts简介" class="headerlink" title="5.4.1  pyecharts简介"></a>5.4.1  pyecharts简介</h3><h4 id="5-4-1-1-关于pyecharts"><a href="#5-4-1-1-关于pyecharts" class="headerlink" title="5.4.1.1 关于pyecharts"></a>5.4.1.1 关于pyecharts</h4><h4 id="5-4-1-2-pyecharts安装与设置"><a href="#5-4-1-2-pyecharts安装与设置" class="headerlink" title="5.4.1.2 pyecharts安装与设置"></a>5.4.1.2 pyecharts安装与设置</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!pip install pyecharts      </span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#加载 Jupyter lab中设置 pyecharts 全局显示参数</span></span><br><span class="line"><span class="keyword">from</span> pyecharts.<span class="built_in">globals</span> <span class="keyword">import</span> CurrentConfig, NotebookType</span><br><span class="line">CurrentConfig.NOTEBOOK_TYPE = NotebookType.JUPYTER_LAB     </span><br><span class="line"><span class="keyword">import</span> pyecharts.options <span class="keyword">as</span> opts                                     <span class="comment">#并加载pyecharts选项</span></span><br><span class="line">figsize=opts.InitOpts(width=<span class="string">&#x27;560px&#x27;</span>,height=<span class="string">&#x27;380px&#x27;</span>,bg_color=<span class="string">&#x27;white&#x27;</span>) <span class="comment">#设置图形大小和背景色</span></span><br></pre></td></tr></table></figure><h3 id="5-4-2-pyeharts基本绘图"><a href="#5-4-2-pyeharts基本绘图" class="headerlink" title="5.4.2  pyeharts基本绘图"></a>5.4.2  pyeharts基本绘图</h3><h4 id="5-4-2-1-仪表盘"><a href="#5-4-2-1-仪表盘" class="headerlink" title="5.4.2.1 仪表盘"></a>5.4.2.1 仪表盘</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pyecharts.charts <span class="keyword">import</span> Gauge</span><br><span class="line">Gauge().load_javascript() <span class="comment">#在Jupyterlab中制图前需加载一次JavaScript函数！！</span></span><br></pre></td></tr></table></figure><pre><code>&lt;pyecharts.render.display.Javascript at 0x1110fee0&gt;</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#Gauge().add(&quot;&quot;,[(&quot;完成率&quot;, 66.6)]).render_notebook()</span></span><br><span class="line">Gauge(figsize).add(<span class="string">&quot;&quot;</span>,[(<span class="string">&quot;完成率&quot;</span>, <span class="number">90</span>)]).render_notebook()</span><br></pre></td></tr></table></figure><!DOCTYPE html><html><head>    <meta charset="UTF-8"></head><body>        <div id="0f147b0fdf3640ce8f60025bd61b5ee3" class="chart-container" style="width:560px; height:380px;"></div>    <script>        var chart_0f147b0fdf3640ce8f60025bd61b5ee3 = echarts.init(            document.getElementById('0f147b0fdf3640ce8f60025bd61b5ee3'), 'white', {renderer: 'canvas'});        var option_0f147b0fdf3640ce8f60025bd61b5ee3 = {    "backgroundColor": "white",    "animation": true,    "animationThreshold": 2000,    "animationDuration": 1000,    "animationEasing": "cubicOut",    "animationDelay": 0,    "animationDurationUpdate": 300,    "animationEasingUpdate": "cubicOut",    "animationDelayUpdate": 0,    "color": [        "#c23531",        "#2f4554",        "#61a0a8",        "#d48265",        "#749f83",        "#ca8622",        "#bda29a",        "#6e7074",        "#546570",        "#c4ccd3",        "#f05b72",        "#ef5b9c",        "#f47920",        "#905a3d",        "#fab27b",        "#2a5caa",        "#444693",        "#726930",        "#b2d235",        "#6d8346",        "#ac6767",        "#1d953f",        "#6950a1",        "#918597"    ],    "series": [        {            "type": "gauge",            "title": {                "show": true,                "offsetCenter": [                    0,                    "-40%"                ],                "color": "#333",                "fontStyle": "normal",                "fontWeight": "normal",                "fontFamily": "sans-serif",                "fontSize": 15,                "backgroundColor": "transparent",                "borderColor": "transparent",                "borderWidth": 0,                "borderRadius": 0,                "padding": 0,                "shadowColor": "transparent",                "shadowBlur": 0,                "shadowOffsetX": 0,                "shadowOffsetY": 0            },            "detail": {                "show": true,                "backgroundColor": "transparent",                "borderWidth": 0,                "borderColor": "transparent",                "offsetCenter": [                    0,                    "-40%"                ],                "formatter": "{value}%",                "color": "auto",                "fontStyle": "normal",                "fontWeight": "normal",                "fontFamily": "sans-serif",                "fontSize": 15,                "borderRadius": 0,                "padding": 0,                "shadowColor": "transparent",                "shadowBlur": 0,                "shadowOffsetX": 0,                "shadowOffsetY": 0            },            "min": 0,            "max": 100,            "splitNumber": 10,            "radius": "75%",            "startAngle": 225,            "endAngle": -45,            "clockwise": true,            "data": [                {                    "name": "\u5b8c\u6210\u7387",                    "value": 90                }            ],            "pointer": {                "show": true,                "length": "80%",                "width": 8            }        }    ],    "legend": [        {            "data": [                ""            ],            "selected": {                "": true            }        }    ],    "tooltip": {        "show": true,        "trigger": "item",        "triggerOn": "mousemove|click",        "axisPointer": {            "type": "line"        },        "showContent": true,        "alwaysShowContent": false,        "showDelay": 0,        "hideDelay": 100,        "textStyle": {            "fontSize": 14        },        "borderWidth": 0,        "padding": 5    }};        chart_0f147b0fdf3640ce8f60025bd61b5ee3.setOption(option_0f147b0fdf3640ce8f60025bd61b5ee3);    </script></body></html><h4 id="5-4-2-2-条图"><a href="#5-4-2-2-条图" class="headerlink" title="5.4.2.2 条图"></a>5.4.2.2 条图</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#基本的pyecharts绘图是基于列表数据的</span></span><br><span class="line">X=[<span class="string">&#x27;A&#x27;</span>,<span class="string">&#x27;B&#x27;</span>,<span class="string">&#x27;C&#x27;</span>,<span class="string">&#x27;D&#x27;</span>,<span class="string">&#x27;E&#x27;</span>,<span class="string">&#x27;F&#x27;</span>,<span class="string">&#x27;G&#x27;</span>]</span><br><span class="line">Y=[<span class="number">1</span>,<span class="number">4</span>,<span class="number">7</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">5</span>,<span class="number">6</span>]</span><br><span class="line">Z=[<span class="number">6</span>,<span class="number">5</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">7</span>,<span class="number">4</span>,<span class="number">1</span>]</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pyecharts.charts <span class="keyword">import</span> Bar          <span class="comment">#加载pyecharts绘制条图(Bar)函数</span></span><br><span class="line">bar1=Bar(figsize)                         <span class="comment">#初始化条图</span></span><br><span class="line">bar1.add_xaxis(X).add_yaxis(<span class="string">&quot;垂直条图&quot;</span>,Y)   </span><br><span class="line">bar1.render_notebook()  </span><br></pre></td></tr></table></figure><!DOCTYPE html><html><head>    <meta charset="UTF-8"></head><body>        <div id="c8c0a294d15146eaacbc7841b5e54541" class="chart-container" style="width:560px; height:380px;"></div>    <script>        var chart_c8c0a294d15146eaacbc7841b5e54541 = echarts.init(            document.getElementById('c8c0a294d15146eaacbc7841b5e54541'), 'white', {renderer: 'canvas'});        var option_c8c0a294d15146eaacbc7841b5e54541 = {    "backgroundColor": "white",    "animation": true,    "animationThreshold": 2000,    "animationDuration": 1000,    "animationEasing": "cubicOut",    "animationDelay": 0,    "animationDurationUpdate": 300,    "animationEasingUpdate": "cubicOut",    "animationDelayUpdate": 0,    "color": [        "#c23531",        "#2f4554",        "#61a0a8",        "#d48265",        "#749f83",        "#ca8622",        "#bda29a",        "#6e7074",        "#546570",        "#c4ccd3",        "#f05b72",        "#ef5b9c",        "#f47920",        "#905a3d",        "#fab27b",        "#2a5caa",        "#444693",        "#726930",        "#b2d235",        "#6d8346",        "#ac6767",        "#1d953f",        "#6950a1",        "#918597"    ],    "series": [        {            "type": "bar",            "name": "\u5782\u76f4\u6761\u56fe",            "legendHoverLink": true,            "data": [                1,                4,                7,                3,                2,                5,                6            ],            "showBackground": false,            "barMinHeight": 0,            "barCategoryGap": "20%",            "barGap": "30%",            "large": false,            "largeThreshold": 400,            "seriesLayoutBy": "column",            "datasetIndex": 0,            "clip": true,            "zlevel": 0,            "z": 2,            "label": {                "show": true,                "position": "top",                "margin": 8            }        }    ],    "legend": [        {            "data": [                "\u5782\u76f4\u6761\u56fe"            ],            "selected": {                "\u5782\u76f4\u6761\u56fe": true            }        }    ],    "tooltip": {        "show": true,        "trigger": "item",        "triggerOn": "mousemove|click",        "axisPointer": {            "type": "line"        },        "showContent": true,        "alwaysShowContent": false,        "showDelay": 0,        "hideDelay": 100,        "textStyle": {            "fontSize": 14        },        "borderWidth": 0,        "padding": 5    },    "xAxis": [        {            "show": true,            "scale": false,            "nameLocation": "end",            "nameGap": 15,            "gridIndex": 0,            "inverse": false,            "offset": 0,            "splitNumber": 5,            "minInterval": 0,            "splitLine": {                "show": false,                "lineStyle": {                    "show": true,                    "width": 1,                    "opacity": 1,                    "curveness": 0,                    "type": "solid"                }            },            "data": [                "A",                "B",                "C",                "D",                "E",                "F",                "G"            ]        }    ],    "yAxis": [        {            "show": true,            "scale": false,            "nameLocation": "end",            "nameGap": 15,            "gridIndex": 0,            "inverse": false,            "offset": 0,            "splitNumber": 5,            "minInterval": 0,            "splitLine": {                "show": false,                "lineStyle": {                    "show": true,                    "width": 1,                    "opacity": 1,                    "curveness": 0,                    "type": "solid"                }            }        }    ]};        chart_c8c0a294d15146eaacbc7841b5e54541.setOption(option_c8c0a294d15146eaacbc7841b5e54541);    </script></body></html><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Bar(figsize).add_xaxis(X).add_yaxis(<span class="string">&quot;&quot;</span>,Y).render_notebook()  <span class="comment">#链式写法</span></span><br></pre></td></tr></table></figure><!DOCTYPE html><html><head>    <meta charset="UTF-8"></head><body>        <div id="46754134875e44beb57e1dfcc5ccb0fa" class="chart-container" style="width:560px; height:380px;"></div>    <script>        var chart_46754134875e44beb57e1dfcc5ccb0fa = echarts.init(            document.getElementById('46754134875e44beb57e1dfcc5ccb0fa'), 'white', {renderer: 'canvas'});        var option_46754134875e44beb57e1dfcc5ccb0fa = {    "backgroundColor": "white",    "animation": true,    "animationThreshold": 2000,    "animationDuration": 1000,    "animationEasing": "cubicOut",    "animationDelay": 0,    "animationDurationUpdate": 300,    "animationEasingUpdate": "cubicOut",    "animationDelayUpdate": 0,    "color": [        "#c23531",        "#2f4554",        "#61a0a8",        "#d48265",        "#749f83",        "#ca8622",        "#bda29a",        "#6e7074",        "#546570",        "#c4ccd3",        "#f05b72",        "#ef5b9c",        "#f47920",        "#905a3d",        "#fab27b",        "#2a5caa",        "#444693",        "#726930",        "#b2d235",        "#6d8346",        "#ac6767",        "#1d953f",        "#6950a1",        "#918597"    ],    "series": [        {            "type": "bar",            "legendHoverLink": true,            "data": [                1,                4,                7,                3,                2,                5,                6            ],            "showBackground": false,            "barMinHeight": 0,            "barCategoryGap": "20%",            "barGap": "30%",            "large": false,            "largeThreshold": 400,            "seriesLayoutBy": "column",            "datasetIndex": 0,            "clip": true,            "zlevel": 0,            "z": 2,            "label": {                "show": true,                "position": "top",                "margin": 8            }        }    ],    "legend": [        {            "data": [                ""            ],            "selected": {                "": true            }        }    ],    "tooltip": {        "show": true,        "trigger": "item",        "triggerOn": "mousemove|click",        "axisPointer": {            "type": "line"        },        "showContent": true,        "alwaysShowContent": false,        "showDelay": 0,        "hideDelay": 100,        "textStyle": {            "fontSize": 14        },        "borderWidth": 0,        "padding": 5    },    "xAxis": [        {            "show": true,            "scale": false,            "nameLocation": "end",            "nameGap": 15,            "gridIndex": 0,            "inverse": false,            "offset": 0,            "splitNumber": 5,            "minInterval": 0,            "splitLine": {                "show": false,                "lineStyle": {                    "show": true,                    "width": 1,                    "opacity": 1,                    "curveness": 0,                    "type": "solid"                }            },            "data": [                "A",                "B",                "C",                "D",                "E",                "F",                "G"            ]        }    ],    "yAxis": [        {            "show": true,            "scale": false,            "nameLocation": "end",            "nameGap": 15,            "gridIndex": 0,            "inverse": false,            "offset": 0,            "splitNumber": 5,            "minInterval": 0,            "splitLine": {                "show": false,                "lineStyle": {                    "show": true,                    "width": 1,                    "opacity": 1,                    "curveness": 0,                    "type": "solid"                }            }        }    ]};        chart_46754134875e44beb57e1dfcc5ccb0fa.setOption(option_46754134875e44beb57e1dfcc5ccb0fa);    </script></body></html><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">bar2=Bar(figsize) </span><br><span class="line">bar2.add_xaxis(X).add_yaxis(<span class="string">&quot;水平条图&quot;</span>,Y).reversal_axis()     </span><br><span class="line">bar2.render_notebook()  </span><br></pre></td></tr></table></figure><!DOCTYPE html><html><head>    <meta charset="UTF-8"></head><body>        <div id="7a76755de56c49a9b4e90bb5f7703258" class="chart-container" style="width:560px; height:380px;"></div>    <script>        var chart_7a76755de56c49a9b4e90bb5f7703258 = echarts.init(            document.getElementById('7a76755de56c49a9b4e90bb5f7703258'), 'white', {renderer: 'canvas'});        var option_7a76755de56c49a9b4e90bb5f7703258 = {    "backgroundColor": "white",    "animation": true,    "animationThreshold": 2000,    "animationDuration": 1000,    "animationEasing": "cubicOut",    "animationDelay": 0,    "animationDurationUpdate": 300,    "animationEasingUpdate": "cubicOut",    "animationDelayUpdate": 0,    "color": [        "#c23531",        "#2f4554",        "#61a0a8",        "#d48265",        "#749f83",        "#ca8622",        "#bda29a",        "#6e7074",        "#546570",        "#c4ccd3",        "#f05b72",        "#ef5b9c",        "#f47920",        "#905a3d",        "#fab27b",        "#2a5caa",        "#444693",        "#726930",        "#b2d235",        "#6d8346",        "#ac6767",        "#1d953f",        "#6950a1",        "#918597"    ],    "series": [        {            "type": "bar",            "name": "\u6c34\u5e73\u6761\u56fe",            "legendHoverLink": true,            "data": [                1,                4,                7,                3,                2,                5,                6            ],            "showBackground": false,            "barMinHeight": 0,            "barCategoryGap": "20%",            "barGap": "30%",            "large": false,            "largeThreshold": 400,            "seriesLayoutBy": "column",            "datasetIndex": 0,            "clip": true,            "zlevel": 0,            "z": 2,            "label": {                "show": true,                "position": "top",                "margin": 8            }        }    ],    "legend": [        {            "data": [                "\u6c34\u5e73\u6761\u56fe"            ],            "selected": {                "\u6c34\u5e73\u6761\u56fe": true            }        }    ],    "tooltip": {        "show": true,        "trigger": "item",        "triggerOn": "mousemove|click",        "axisPointer": {            "type": "line"        },        "showContent": true,        "alwaysShowContent": false,        "showDelay": 0,        "hideDelay": 100,        "textStyle": {            "fontSize": 14        },        "borderWidth": 0,        "padding": 5    },    "xAxis": [        {            "show": true,            "scale": false,            "nameLocation": "end",            "nameGap": 15,            "gridIndex": 0,            "inverse": false,            "offset": 0,            "splitNumber": 5,            "minInterval": 0,            "splitLine": {                "show": false,                "lineStyle": {                    "show": true,                    "width": 1,                    "opacity": 1,                    "curveness": 0,                    "type": "solid"                }            }        }    ],    "yAxis": [        {            "show": true,            "scale": false,            "nameLocation": "end",            "nameGap": 15,            "gridIndex": 0,            "inverse": false,            "offset": 0,            "splitNumber": 5,            "minInterval": 0,            "splitLine": {                "show": false,                "lineStyle": {                    "show": true,                    "width": 1,                    "opacity": 1,                    "curveness": 0,                    "type": "solid"                }            },            "data": [                "A",                "B",                "C",                "D",                "E",                "F",                "G"            ]        }    ]};        chart_7a76755de56c49a9b4e90bb5f7703258.setOption(option_7a76755de56c49a9b4e90bb5f7703258);    </script></body></html><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">bar3=Bar(figsize)</span><br><span class="line">bar3.add_xaxis(X).add_yaxis(<span class="string">&quot;条1&quot;</span>,Y).add_yaxis(<span class="string">&quot;条2&quot;</span>,Z) <span class="comment">#复试条图</span></span><br><span class="line">bar3.render_notebook()  </span><br></pre></td></tr></table></figure><!DOCTYPE html><html><head>    <meta charset="UTF-8"></head><body>        <div id="0c7a6ab65b0d4a839c802a244d85acf0" class="chart-container" style="width:560px; height:380px;"></div>    <script>        var chart_0c7a6ab65b0d4a839c802a244d85acf0 = echarts.init(            document.getElementById('0c7a6ab65b0d4a839c802a244d85acf0'), 'white', {renderer: 'canvas'});        var option_0c7a6ab65b0d4a839c802a244d85acf0 = {    "backgroundColor": "white",    "animation": true,    "animationThreshold": 2000,    "animationDuration": 1000,    "animationEasing": "cubicOut",    "animationDelay": 0,    "animationDurationUpdate": 300,    "animationEasingUpdate": "cubicOut",    "animationDelayUpdate": 0,    "color": [        "#c23531",        "#2f4554",        "#61a0a8",        "#d48265",        "#749f83",        "#ca8622",        "#bda29a",        "#6e7074",        "#546570",        "#c4ccd3",        "#f05b72",        "#ef5b9c",        "#f47920",        "#905a3d",        "#fab27b",        "#2a5caa",        "#444693",        "#726930",        "#b2d235",        "#6d8346",        "#ac6767",        "#1d953f",        "#6950a1",        "#918597"    ],    "series": [        {            "type": "bar",            "name": "\u67611",            "legendHoverLink": true,            "data": [                1,                4,                7,                3,                2,                5,                6            ],            "showBackground": false,            "barMinHeight": 0,            "barCategoryGap": "20%",            "barGap": "30%",            "large": false,            "largeThreshold": 400,            "seriesLayoutBy": "column",            "datasetIndex": 0,            "clip": true,            "zlevel": 0,            "z": 2,            "label": {                "show": true,                "position": "top",                "margin": 8            }        },        {            "type": "bar",            "name": "\u67612",            "legendHoverLink": true,            "data": [                6,                5,                3,                2,                7,                4,                1            ],            "showBackground": false,            "barMinHeight": 0,            "barCategoryGap": "20%",            "barGap": "30%",            "large": false,            "largeThreshold": 400,            "seriesLayoutBy": "column",            "datasetIndex": 0,            "clip": true,            "zlevel": 0,            "z": 2,            "label": {                "show": true,                "position": "top",                "margin": 8            }        }    ],    "legend": [        {            "data": [                "\u67611",                "\u67612"            ],            "selected": {                "\u67611": true,                "\u67612": true            }        }    ],    "tooltip": {        "show": true,        "trigger": "item",        "triggerOn": "mousemove|click",        "axisPointer": {            "type": "line"        },        "showContent": true,        "alwaysShowContent": false,        "showDelay": 0,        "hideDelay": 100,        "textStyle": {            "fontSize": 14        },        "borderWidth": 0,        "padding": 5    },    "xAxis": [        {            "show": true,            "scale": false,            "nameLocation": "end",            "nameGap": 15,            "gridIndex": 0,            "inverse": false,            "offset": 0,            "splitNumber": 5,            "minInterval": 0,            "splitLine": {                "show": false,                "lineStyle": {                    "show": true,                    "width": 1,                    "opacity": 1,                    "curveness": 0,                    "type": "solid"                }            },            "data": [                "A",                "B",                "C",                "D",                "E",                "F",                "G"            ]        }    ],    "yAxis": [        {            "show": true,            "scale": false,            "nameLocation": "end",            "nameGap": 15,            "gridIndex": 0,            "inverse": false,            "offset": 0,            "splitNumber": 5,            "minInterval": 0,            "splitLine": {                "show": false,                "lineStyle": {                    "show": true,                    "width": 1,                    "opacity": 1,                    "curveness": 0,                    "type": "solid"                }            }        }    ]};        chart_0c7a6ab65b0d4a839c802a244d85acf0.setOption(option_0c7a6ab65b0d4a839c802a244d85acf0);    </script></body></html><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">bar4=Bar(figsize)</span><br><span class="line">bar4.add_xaxis(X)           <span class="comment">#分段条图</span></span><br><span class="line">bar4.add_yaxis(<span class="string">&quot;条1&quot;</span>,Y,stack=<span class="string">&quot;stack1&quot;</span>)</span><br><span class="line">bar4.add_yaxis(<span class="string">&quot;条2&quot;</span>,Z,stack=<span class="string">&quot;stack1&quot;</span>)</span><br><span class="line">bar4.render_notebook()  </span><br></pre></td></tr></table></figure><!DOCTYPE html><html><head>    <meta charset="UTF-8"></head><body>        <div id="c53fedcd4b614331884f4144dddd9eff" class="chart-container" style="width:560px; height:380px;"></div>    <script>        var chart_c53fedcd4b614331884f4144dddd9eff = echarts.init(            document.getElementById('c53fedcd4b614331884f4144dddd9eff'), 'white', {renderer: 'canvas'});        var option_c53fedcd4b614331884f4144dddd9eff = {    "backgroundColor": "white",    "animation": true,    "animationThreshold": 2000,    "animationDuration": 1000,    "animationEasing": "cubicOut",    "animationDelay": 0,    "animationDurationUpdate": 300,    "animationEasingUpdate": "cubicOut",    "animationDelayUpdate": 0,    "color": [        "#c23531",        "#2f4554",        "#61a0a8",        "#d48265",        "#749f83",        "#ca8622",        "#bda29a",        "#6e7074",        "#546570",        "#c4ccd3",        "#f05b72",        "#ef5b9c",        "#f47920",        "#905a3d",        "#fab27b",        "#2a5caa",        "#444693",        "#726930",        "#b2d235",        "#6d8346",        "#ac6767",        "#1d953f",        "#6950a1",        "#918597"    ],    "series": [        {            "type": "bar",            "name": "\u67611",            "legendHoverLink": true,            "data": [                1,                4,                7,                3,                2,                5,                6            ],            "showBackground": false,            "stack": "stack1",            "barMinHeight": 0,            "barCategoryGap": "20%",            "barGap": "30%",            "large": false,            "largeThreshold": 400,            "seriesLayoutBy": "column",            "datasetIndex": 0,            "clip": true,            "zlevel": 0,            "z": 2,            "label": {                "show": true,                "position": "top",                "margin": 8            }        },        {            "type": "bar",            "name": "\u67612",            "legendHoverLink": true,            "data": [                6,                5,                3,                2,                7,                4,                1            ],            "showBackground": false,            "stack": "stack1",            "barMinHeight": 0,            "barCategoryGap": "20%",            "barGap": "30%",            "large": false,            "largeThreshold": 400,            "seriesLayoutBy": "column",            "datasetIndex": 0,            "clip": true,            "zlevel": 0,            "z": 2,            "label": {                "show": true,                "position": "top",                "margin": 8            }        }    ],    "legend": [        {            "data": [                "\u67611",                "\u67612"            ],            "selected": {                "\u67611": true,                "\u67612": true            }        }    ],    "tooltip": {        "show": true,        "trigger": "item",        "triggerOn": "mousemove|click",        "axisPointer": {            "type": "line"        },        "showContent": true,        "alwaysShowContent": false,        "showDelay": 0,        "hideDelay": 100,        "textStyle": {            "fontSize": 14        },        "borderWidth": 0,        "padding": 5    },    "xAxis": [        {            "show": true,            "scale": false,            "nameLocation": "end",            "nameGap": 15,            "gridIndex": 0,            "inverse": false,            "offset": 0,            "splitNumber": 5,            "minInterval": 0,            "splitLine": {                "show": false,                "lineStyle": {                    "show": true,                    "width": 1,                    "opacity": 1,                    "curveness": 0,                    "type": "solid"                }            },            "data": [                "A",                "B",                "C",                "D",                "E",                "F",                "G"            ]        }    ],    "yAxis": [        {            "show": true,            "scale": false,            "nameLocation": "end",            "nameGap": 15,            "gridIndex": 0,            "inverse": false,            "offset": 0,            "splitNumber": 5,            "minInterval": 0,            "splitLine": {                "show": false,                "lineStyle": {                    "show": true,                    "width": 1,                    "opacity": 1,                    "curveness": 0,                    "type": "solid"                }            }        }    ]};        chart_c53fedcd4b614331884f4144dddd9eff.setOption(option_c53fedcd4b614331884f4144dddd9eff);    </script></body></html><h4 id="5-4-2-3-饼图"><a href="#5-4-2-3-饼图" class="headerlink" title="5.4.2.3 饼图"></a>5.4.2.3 饼图</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">XY = [<span class="built_in">list</span>(z) <span class="keyword">for</span> z <span class="keyword">in</span> <span class="built_in">zip</span>(X,Y)];XY    <span class="comment">#形成饼图数据列表格式 </span></span><br><span class="line"><span class="comment">#XY.sort(key=lambda x: x[1]);XY         #数据从小到大排序  </span></span><br></pre></td></tr></table></figure><pre><code>[[&#39;A&#39;, 1], [&#39;B&#39;, 4], [&#39;C&#39;, 7], [&#39;D&#39;, 3], [&#39;E&#39;, 2], [&#39;F&#39;, 5], [&#39;G&#39;, 6]]</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pyecharts.charts <span class="keyword">import</span> Pie      <span class="comment">#加载pyecharts绘制饼图(Pie)函数</span></span><br><span class="line">Pie(figsize).add(<span class="string">&quot;饼图&quot;</span>,XY).render_notebook()      </span><br></pre></td></tr></table></figure><!DOCTYPE html><html><head>    <meta charset="UTF-8"></head><body>        <div id="01c62a6f4fd644a8b9c7f6499042d0da" class="chart-container" style="width:560px; height:380px;"></div>    <script>        var chart_01c62a6f4fd644a8b9c7f6499042d0da = echarts.init(            document.getElementById('01c62a6f4fd644a8b9c7f6499042d0da'), 'white', {renderer: 'canvas'});        var option_01c62a6f4fd644a8b9c7f6499042d0da = {    "backgroundColor": "white",    "animation": true,    "animationThreshold": 2000,    "animationDuration": 1000,    "animationEasing": "cubicOut",    "animationDelay": 0,    "animationDurationUpdate": 300,    "animationEasingUpdate": "cubicOut",    "animationDelayUpdate": 0,    "color": [        "#c23531",        "#2f4554",        "#61a0a8",        "#d48265",        "#749f83",        "#ca8622",        "#bda29a",        "#6e7074",        "#546570",        "#c4ccd3",        "#f05b72",        "#ef5b9c",        "#f47920",        "#905a3d",        "#fab27b",        "#2a5caa",        "#444693",        "#726930",        "#b2d235",        "#6d8346",        "#ac6767",        "#1d953f",        "#6950a1",        "#918597"    ],    "series": [        {            "type": "pie",            "name": "\u997c\u56fe",            "clockwise": true,            "data": [                {                    "name": "A",                    "value": 1                },                {                    "name": "B",                    "value": 4                },                {                    "name": "C",                    "value": 7                },                {                    "name": "D",                    "value": 3                },                {                    "name": "E",                    "value": 2                },                {                    "name": "F",                    "value": 5                },                {                    "name": "G",                    "value": 6                }            ],            "radius": [                "0%",                "75%"            ],            "center": [                "50%",                "50%"            ],            "label": {                "show": true,                "position": "top",                "margin": 8            }        }    ],    "legend": [        {            "data": [                "A",                "B",                "C",                "D",                "E",                "F",                "G"            ],            "selected": {}        }    ],    "tooltip": {        "show": true,        "trigger": "item",        "triggerOn": "mousemove|click",        "axisPointer": {            "type": "line"        },        "showContent": true,        "alwaysShowContent": false,        "showDelay": 0,        "hideDelay": 100,        "textStyle": {            "fontSize": 14        },        "borderWidth": 0,        "padding": 5    }};        chart_01c62a6f4fd644a8b9c7f6499042d0da.setOption(option_01c62a6f4fd644a8b9c7f6499042d0da);    </script></body></html><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">(Pie(figsize)</span><br><span class="line">     .add(<span class="string">&quot;&quot;</span>,XY)</span><br><span class="line">     .set_series_opts(opts.LabelOpts(formatter=<span class="string">&quot;&#123;b&#125;:&#123;c&#125;&quot;</span>)) <span class="comment">#加标签饼图 </span></span><br><span class="line">     .render_notebook() </span><br><span class="line">)</span><br></pre></td></tr></table></figure><!DOCTYPE html><html><head>    <meta charset="UTF-8"></head><body>        <div id="36296169f50a486988f8ffa13a655b5c" class="chart-container" style="width:560px; height:380px;"></div>    <script>        var chart_36296169f50a486988f8ffa13a655b5c = echarts.init(            document.getElementById('36296169f50a486988f8ffa13a655b5c'), 'white', {renderer: 'canvas'});        var option_36296169f50a486988f8ffa13a655b5c = {    "backgroundColor": "white",    "animation": true,    "animationThreshold": 2000,    "animationDuration": 1000,    "animationEasing": "cubicOut",    "animationDelay": 0,    "animationDurationUpdate": 300,    "animationEasingUpdate": "cubicOut",    "animationDelayUpdate": 0,    "color": [        "#c23531",        "#2f4554",        "#61a0a8",        "#d48265",        "#749f83",        "#ca8622",        "#bda29a",        "#6e7074",        "#546570",        "#c4ccd3",        "#f05b72",        "#ef5b9c",        "#f47920",        "#905a3d",        "#fab27b",        "#2a5caa",        "#444693",        "#726930",        "#b2d235",        "#6d8346",        "#ac6767",        "#1d953f",        "#6950a1",        "#918597"    ],    "series": [        {            "type": "pie",            "clockwise": true,            "data": [                {                    "name": "A",                    "value": 1                },                {                    "name": "B",                    "value": 4                },                {                    "name": "C",                    "value": 7                },                {                    "name": "D",                    "value": 3                },                {                    "name": "E",                    "value": 2                },                {                    "name": "F",                    "value": 5                },                {                    "name": "G",                    "value": 6                }            ],            "radius": [                "0%",                "75%"            ],            "center": [                "50%",                "50%"            ],            "label": {                "show": true,                "position": "top",                "margin": 8,                "formatter": "{b}:{c}"            },            "rippleEffect": {                "show": true,                "brushType": "stroke",                "scale": 2.5,                "period": 4            }        }    ],    "legend": [        {            "data": [                "A",                "B",                "C",                "D",                "E",                "F",                "G"            ],            "selected": {}        }    ],    "tooltip": {        "show": true,        "trigger": "item",        "triggerOn": "mousemove|click",        "axisPointer": {            "type": "line"        },        "showContent": true,        "alwaysShowContent": false,        "showDelay": 0,        "hideDelay": 100,        "textStyle": {            "fontSize": 14        },        "borderWidth": 0,        "padding": 5    }};        chart_36296169f50a486988f8ffa13a655b5c.setOption(option_36296169f50a486988f8ffa13a655b5c);    </script></body></html><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Pie(figsize).add(<span class="string">&quot;玫瑰饼图&quot;</span>,XY,rosetype=<span class="string">&quot;radius&quot;</span>).render_notebook()</span><br></pre></td></tr></table></figure><!DOCTYPE html><html><head>    <meta charset="UTF-8"></head><body>        <div id="f0d0f75399c54d9a996a2b323d5b2f88" class="chart-container" style="width:560px; height:380px;"></div>    <script>        var chart_f0d0f75399c54d9a996a2b323d5b2f88 = echarts.init(            document.getElementById('f0d0f75399c54d9a996a2b323d5b2f88'), 'white', {renderer: 'canvas'});        var option_f0d0f75399c54d9a996a2b323d5b2f88 = {    "backgroundColor": "white",    "animation": true,    "animationThreshold": 2000,    "animationDuration": 1000,    "animationEasing": "cubicOut",    "animationDelay": 0,    "animationDurationUpdate": 300,    "animationEasingUpdate": "cubicOut",    "animationDelayUpdate": 0,    "color": [        "#c23531",        "#2f4554",        "#61a0a8",        "#d48265",        "#749f83",        "#ca8622",        "#bda29a",        "#6e7074",        "#546570",        "#c4ccd3",        "#f05b72",        "#ef5b9c",        "#f47920",        "#905a3d",        "#fab27b",        "#2a5caa",        "#444693",        "#726930",        "#b2d235",        "#6d8346",        "#ac6767",        "#1d953f",        "#6950a1",        "#918597"    ],    "series": [        {            "type": "pie",            "name": "\u73ab\u7470\u997c\u56fe",            "clockwise": true,            "data": [                {                    "name": "A",                    "value": 1                },                {                    "name": "B",                    "value": 4                },                {                    "name": "C",                    "value": 7                },                {                    "name": "D",                    "value": 3                },                {                    "name": "E",                    "value": 2                },                {                    "name": "F",                    "value": 5                },                {                    "name": "G",                    "value": 6                }            ],            "radius": [                "0%",                "75%"            ],            "center": [                "50%",                "50%"            ],            "roseType": "radius",            "label": {                "show": true,                "position": "top",                "margin": 8            }        }    ],    "legend": [        {            "data": [                "A",                "B",                "C",                "D",                "E",                "F",                "G"            ],            "selected": {}        }    ],    "tooltip": {        "show": true,        "trigger": "item",        "triggerOn": "mousemove|click",        "axisPointer": {            "type": "line"        },        "showContent": true,        "alwaysShowContent": false,        "showDelay": 0,        "hideDelay": 100,        "textStyle": {            "fontSize": 14        },        "borderWidth": 0,        "padding": 5    }};        chart_f0d0f75399c54d9a996a2b323d5b2f88.setOption(option_f0d0f75399c54d9a996a2b323d5b2f88);    </script></body></html><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Pie(figsize).add(<span class="string">&#x27;圆圈图&#x27;</span>,XY,radius=[<span class="string">&#x27;10%&#x27;</span>,<span class="string">&#x27;75%&#x27;</span>]).render_notebook()</span><br></pre></td></tr></table></figure><!DOCTYPE html><html><head>    <meta charset="UTF-8"></head><body>        <div id="435eecb81cb24f5baf9c6ebb366ef981" class="chart-container" style="width:560px; height:380px;"></div>    <script>        var chart_435eecb81cb24f5baf9c6ebb366ef981 = echarts.init(            document.getElementById('435eecb81cb24f5baf9c6ebb366ef981'), 'white', {renderer: 'canvas'});        var option_435eecb81cb24f5baf9c6ebb366ef981 = {    "backgroundColor": "white",    "animation": true,    "animationThreshold": 2000,    "animationDuration": 1000,    "animationEasing": "cubicOut",    "animationDelay": 0,    "animationDurationUpdate": 300,    "animationEasingUpdate": "cubicOut",    "animationDelayUpdate": 0,    "color": [        "#c23531",        "#2f4554",        "#61a0a8",        "#d48265",        "#749f83",        "#ca8622",        "#bda29a",        "#6e7074",        "#546570",        "#c4ccd3",        "#f05b72",        "#ef5b9c",        "#f47920",        "#905a3d",        "#fab27b",        "#2a5caa",        "#444693",        "#726930",        "#b2d235",        "#6d8346",        "#ac6767",        "#1d953f",        "#6950a1",        "#918597"    ],    "series": [        {            "type": "pie",            "name": "\u5706\u5708\u56fe",            "clockwise": true,            "data": [                {                    "name": "A",                    "value": 1                },                {                    "name": "B",                    "value": 4                },                {                    "name": "C",                    "value": 7                },                {                    "name": "D",                    "value": 3                },                {                    "name": "E",                    "value": 2                },                {                    "name": "F",                    "value": 5                },                {                    "name": "G",                    "value": 6                }            ],            "radius": [                "10%",                "75%"            ],            "center": [                "50%",                "50%"            ],            "label": {                "show": true,                "position": "top",                "margin": 8            }        }    ],    "legend": [        {            "data": [                "A",                "B",                "C",                "D",                "E",                "F",                "G"            ],            "selected": {}        }    ],    "tooltip": {        "show": true,        "trigger": "item",        "triggerOn": "mousemove|click",        "axisPointer": {            "type": "line"        },        "showContent": true,        "alwaysShowContent": false,        "showDelay": 0,        "hideDelay": 100,        "textStyle": {            "fontSize": 14        },        "borderWidth": 0,        "padding": 5    }};        chart_435eecb81cb24f5baf9c6ebb366ef981.setOption(option_435eecb81cb24f5baf9c6ebb366ef981);    </script></body></html><h4 id="5-4-2-4-漏斗图"><a href="#5-4-2-4-漏斗图" class="headerlink" title="5.4.2.4 漏斗图"></a>5.4.2.4 漏斗图</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pyecharts.charts <span class="keyword">import</span> Funnel</span><br><span class="line">fun1=Funnel(figsize)</span><br><span class="line">fun1.add(<span class="string">&quot;漏斗图&quot;</span>, XY)</span><br><span class="line">fun1.render_notebook()</span><br><span class="line"><span class="comment">#Funnel(figsize).add(&quot;漏斗图&quot;, XY).render_notebook()</span></span><br></pre></td></tr></table></figure><!DOCTYPE html><html><head>    <meta charset="UTF-8"></head><body>        <div id="f87c7d278ae74c619f79100178ebe009" class="chart-container" style="width:560px; height:380px;"></div>    <script>        var chart_f87c7d278ae74c619f79100178ebe009 = echarts.init(            document.getElementById('f87c7d278ae74c619f79100178ebe009'), 'white', {renderer: 'canvas'});        var option_f87c7d278ae74c619f79100178ebe009 = {    "backgroundColor": "white",    "animation": true,    "animationThreshold": 2000,    "animationDuration": 1000,    "animationEasing": "cubicOut",    "animationDelay": 0,    "animationDurationUpdate": 300,    "animationEasingUpdate": "cubicOut",    "animationDelayUpdate": 0,    "color": [        "#c23531",        "#2f4554",        "#61a0a8",        "#d48265",        "#749f83",        "#ca8622",        "#bda29a",        "#6e7074",        "#546570",        "#c4ccd3",        "#f05b72",        "#ef5b9c",        "#f47920",        "#905a3d",        "#fab27b",        "#2a5caa",        "#444693",        "#726930",        "#b2d235",        "#6d8346",        "#ac6767",        "#1d953f",        "#6950a1",        "#918597"    ],    "series": [        {            "type": "funnel",            "name": "\u6f0f\u6597\u56fe",            "data": [                {                    "name": "A",                    "value": 1                },                {                    "name": "B",                    "value": 4                },                {                    "name": "C",                    "value": 7                },                {                    "name": "D",                    "value": 3                },                {                    "name": "E",                    "value": 2                },                {                    "name": "F",                    "value": 5                },                {                    "name": "G",                    "value": 6                }            ],            "sort": "descending",            "gap": 0,            "label": {                "show": true,                "position": "top",                "margin": 8            }        }    ],    "legend": [        {            "data": [                "C",                "B",                "F",                "D",                "A",                "G",                "E"            ],            "selected": {                "A": true,                "B": true,                "C": true,                "D": true,                "E": true,                "F": true,                "G": true            }        }    ],    "tooltip": {        "show": true,        "trigger": "item",        "triggerOn": "mousemove|click",        "axisPointer": {            "type": "line"        },        "showContent": true,        "alwaysShowContent": false,        "showDelay": 0,        "hideDelay": 100,        "textStyle": {            "fontSize": 14        },        "borderWidth": 0,        "padding": 5    }};        chart_f87c7d278ae74c619f79100178ebe009.setOption(option_f87c7d278ae74c619f79100178ebe009);    </script></body></html><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fun2=Funnel(figsize)</span><br><span class="line">fun2.add(<span class="string">&quot;漏斗图&quot;</span>, XY,label_opts=opts.LabelOpts(position=<span class="string">&quot;inside&quot;</span>))     </span><br><span class="line">fun2.render_notebook()</span><br></pre></td></tr></table></figure><!DOCTYPE html><html><head>    <meta charset="UTF-8"></head><body>        <div id="a8845244b55a48bea0574ec31d5f2339" class="chart-container" style="width:560px; height:380px;"></div>    <script>        var chart_a8845244b55a48bea0574ec31d5f2339 = echarts.init(            document.getElementById('a8845244b55a48bea0574ec31d5f2339'), 'white', {renderer: 'canvas'});        var option_a8845244b55a48bea0574ec31d5f2339 = {    "backgroundColor": "white",    "animation": true,    "animationThreshold": 2000,    "animationDuration": 1000,    "animationEasing": "cubicOut",    "animationDelay": 0,    "animationDurationUpdate": 300,    "animationEasingUpdate": "cubicOut",    "animationDelayUpdate": 0,    "color": [        "#c23531",        "#2f4554",        "#61a0a8",        "#d48265",        "#749f83",        "#ca8622",        "#bda29a",        "#6e7074",        "#546570",        "#c4ccd3",        "#f05b72",        "#ef5b9c",        "#f47920",        "#905a3d",        "#fab27b",        "#2a5caa",        "#444693",        "#726930",        "#b2d235",        "#6d8346",        "#ac6767",        "#1d953f",        "#6950a1",        "#918597"    ],    "series": [        {            "type": "funnel",            "name": "\u6f0f\u6597\u56fe",            "data": [                {                    "name": "A",                    "value": 1                },                {                    "name": "B",                    "value": 4                },                {                    "name": "C",                    "value": 7                },                {                    "name": "D",                    "value": 3                },                {                    "name": "E",                    "value": 2                },                {                    "name": "F",                    "value": 5                },                {                    "name": "G",                    "value": 6                }            ],            "sort": "descending",            "gap": 0,            "label": {                "show": true,                "position": "inside",                "margin": 8            }        }    ],    "legend": [        {            "data": [                "C",                "B",                "F",                "D",                "A",                "G",                "E"            ],            "selected": {                "A": true,                "B": true,                "C": true,                "D": true,                "E": true,                "F": true,                "G": true            }        }    ],    "tooltip": {        "show": true,        "trigger": "item",        "triggerOn": "mousemove|click",        "axisPointer": {            "type": "line"        },        "showContent": true,        "alwaysShowContent": false,        "showDelay": 0,        "hideDelay": 100,        "textStyle": {            "fontSize": 14        },        "borderWidth": 0,        "padding": 5    }};        chart_a8845244b55a48bea0574ec31d5f2339.setOption(option_a8845244b55a48bea0574ec31d5f2339);    </script></body></html><h4 id="5-4-2-5-折线图"><a href="#5-4-2-5-折线图" class="headerlink" title="5.4.2.5 折线图"></a>5.4.2.5 折线图</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pyecharts.charts <span class="keyword">import</span> Line  <span class="comment">#加载pyecharts绘制线图（Line）函数</span></span><br><span class="line">Line(figsize).add_xaxis(X).add_yaxis(<span class="string">&#x27;线图&#x27;</span>,Y).render_notebook()</span><br></pre></td></tr></table></figure><!DOCTYPE html><html><head>    <meta charset="UTF-8"></head><body>        <div id="fbaafe1592d941599f54a8814e1ca1f8" class="chart-container" style="width:560px; height:380px;"></div>    <script>        var chart_fbaafe1592d941599f54a8814e1ca1f8 = echarts.init(            document.getElementById('fbaafe1592d941599f54a8814e1ca1f8'), 'white', {renderer: 'canvas'});        var option_fbaafe1592d941599f54a8814e1ca1f8 = {    "backgroundColor": "white",    "animation": true,    "animationThreshold": 2000,    "animationDuration": 1000,    "animationEasing": "cubicOut",    "animationDelay": 0,    "animationDurationUpdate": 300,    "animationEasingUpdate": "cubicOut",    "animationDelayUpdate": 0,    "color": [        "#c23531",        "#2f4554",        "#61a0a8",        "#d48265",        "#749f83",        "#ca8622",        "#bda29a",        "#6e7074",        "#546570",        "#c4ccd3",        "#f05b72",        "#ef5b9c",        "#f47920",        "#905a3d",        "#fab27b",        "#2a5caa",        "#444693",        "#726930",        "#b2d235",        "#6d8346",        "#ac6767",        "#1d953f",        "#6950a1",        "#918597"    ],    "series": [        {            "type": "line",            "name": "\u7ebf\u56fe",            "connectNulls": false,            "symbolSize": 4,            "showSymbol": true,            "smooth": false,            "clip": true,            "step": false,            "data": [                [                    "A",                    1                ],                [                    "B",                    4                ],                [                    "C",                    7                ],                [                    "D",                    3                ],                [                    "E",                    2                ],                [                    "F",                    5                ],                [                    "G",                    6                ]            ],            "hoverAnimation": true,            "label": {                "show": true,                "position": "top",                "margin": 8            },            "lineStyle": {                "show": true,                "width": 1,                "opacity": 1,                "curveness": 0,                "type": "solid"            },            "areaStyle": {                "opacity": 0            },            "zlevel": 0,            "z": 0        }    ],    "legend": [        {            "data": [                "\u7ebf\u56fe"            ],            "selected": {                "\u7ebf\u56fe": true            }        }    ],    "tooltip": {        "show": true,        "trigger": "item",        "triggerOn": "mousemove|click",        "axisPointer": {            "type": "line"        },        "showContent": true,        "alwaysShowContent": false,        "showDelay": 0,        "hideDelay": 100,        "textStyle": {            "fontSize": 14        },        "borderWidth": 0,        "padding": 5    },    "xAxis": [        {            "show": true,            "scale": false,            "nameLocation": "end",            "nameGap": 15,            "gridIndex": 0,            "inverse": false,            "offset": 0,            "splitNumber": 5,            "minInterval": 0,            "splitLine": {                "show": false,                "lineStyle": {                    "show": true,                    "width": 1,                    "opacity": 1,                    "curveness": 0,                    "type": "solid"                }            },            "data": [                "A",                "B",                "C",                "D",                "E",                "F",                "G"            ]        }    ],    "yAxis": [        {            "show": true,            "scale": false,            "nameLocation": "end",            "nameGap": 15,            "gridIndex": 0,            "inverse": false,            "offset": 0,            "splitNumber": 5,            "minInterval": 0,            "splitLine": {                "show": false,                "lineStyle": {                    "show": true,                    "width": 1,                    "opacity": 1,                    "curveness": 0,                    "type": "solid"                }            }        }    ]};        chart_fbaafe1592d941599f54a8814e1ca1f8.setOption(option_fbaafe1592d941599f54a8814e1ca1f8);    </script></body></html><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">line2=Line(figsize)</span><br><span class="line">line2.add_xaxis(X).add_yaxis(<span class="string">&quot;线1&quot;</span>,Y).add_yaxis(<span class="string">&quot;线2&quot;</span>,Z)</span><br><span class="line">line2.render_notebook()</span><br></pre></td></tr></table></figure><!DOCTYPE html><html><head>    <meta charset="UTF-8"></head><body>        <div id="8c6f387ca5e14c4f9965a71fe6576318" class="chart-container" style="width:560px; height:380px;"></div>    <script>        var chart_8c6f387ca5e14c4f9965a71fe6576318 = echarts.init(            document.getElementById('8c6f387ca5e14c4f9965a71fe6576318'), 'white', {renderer: 'canvas'});        var option_8c6f387ca5e14c4f9965a71fe6576318 = {    "backgroundColor": "white",    "animation": true,    "animationThreshold": 2000,    "animationDuration": 1000,    "animationEasing": "cubicOut",    "animationDelay": 0,    "animationDurationUpdate": 300,    "animationEasingUpdate": "cubicOut",    "animationDelayUpdate": 0,    "color": [        "#c23531",        "#2f4554",        "#61a0a8",        "#d48265",        "#749f83",        "#ca8622",        "#bda29a",        "#6e7074",        "#546570",        "#c4ccd3",        "#f05b72",        "#ef5b9c",        "#f47920",        "#905a3d",        "#fab27b",        "#2a5caa",        "#444693",        "#726930",        "#b2d235",        "#6d8346",        "#ac6767",        "#1d953f",        "#6950a1",        "#918597"    ],    "series": [        {            "type": "line",            "name": "\u7ebf1",            "connectNulls": false,            "symbolSize": 4,            "showSymbol": true,            "smooth": false,            "clip": true,            "step": false,            "data": [                [                    "A",                    1                ],                [                    "B",                    4                ],                [                    "C",                    7                ],                [                    "D",                    3                ],                [                    "E",                    2                ],                [                    "F",                    5                ],                [                    "G",                    6                ]            ],            "hoverAnimation": true,            "label": {                "show": true,                "position": "top",                "margin": 8            },            "lineStyle": {                "show": true,                "width": 1,                "opacity": 1,                "curveness": 0,                "type": "solid"            },            "areaStyle": {                "opacity": 0            },            "zlevel": 0,            "z": 0        },        {            "type": "line",            "name": "\u7ebf2",            "connectNulls": false,            "symbolSize": 4,            "showSymbol": true,            "smooth": false,            "clip": true,            "step": false,            "data": [                [                    "A",                    6                ],                [                    "B",                    5                ],                [                    "C",                    3                ],                [                    "D",                    2                ],                [                    "E",                    7                ],                [                    "F",                    4                ],                [                    "G",                    1                ]            ],            "hoverAnimation": true,            "label": {                "show": true,                "position": "top",                "margin": 8            },            "lineStyle": {                "show": true,                "width": 1,                "opacity": 1,                "curveness": 0,                "type": "solid"            },            "areaStyle": {                "opacity": 0            },            "zlevel": 0,            "z": 0        }    ],    "legend": [        {            "data": [                "\u7ebf1",                "\u7ebf2"            ],            "selected": {                "\u7ebf1": true,                "\u7ebf2": true            }        }    ],    "tooltip": {        "show": true,        "trigger": "item",        "triggerOn": "mousemove|click",        "axisPointer": {            "type": "line"        },        "showContent": true,        "alwaysShowContent": false,        "showDelay": 0,        "hideDelay": 100,        "textStyle": {            "fontSize": 14        },        "borderWidth": 0,        "padding": 5    },    "xAxis": [        {            "show": true,            "scale": false,            "nameLocation": "end",            "nameGap": 15,            "gridIndex": 0,            "inverse": false,            "offset": 0,            "splitNumber": 5,            "minInterval": 0,            "splitLine": {                "show": false,                "lineStyle": {                    "show": true,                    "width": 1,                    "opacity": 1,                    "curveness": 0,                    "type": "solid"                }            },            "data": [                "A",                "B",                "C",                "D",                "E",                "F",                "G"            ]        }    ],    "yAxis": [        {            "show": true,            "scale": false,            "nameLocation": "end",            "nameGap": 15,            "gridIndex": 0,            "inverse": false,            "offset": 0,            "splitNumber": 5,            "minInterval": 0,            "splitLine": {                "show": false,                "lineStyle": {                    "show": true,                    "width": 1,                    "opacity": 1,                    "curveness": 0,                    "type": "solid"                }            }        }    ]};        chart_8c6f387ca5e14c4f9965a71fe6576318.setOption(option_8c6f387ca5e14c4f9965a71fe6576318);    </script></body></html><h3 id="5-4-3-基于数据框的绘图"><a href="#5-4-3-基于数据框的绘图" class="headerlink" title="5.4.3  基于数据框的绘图"></a>5.4.3  基于数据框的绘图</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">BS=pd.read_excel(<span class="string">&#x27;DaPy_data.xlsx&#x27;</span>,<span class="string">&#x27;BSdata&#x27;</span>);  <span class="comment">#继续使用BSdata数据</span></span><br><span class="line">BS.head()</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>学号</th>      <th>性别</th>      <th>身高</th>      <th>体重</th>      <th>支出</th>      <th>开设</th>      <th>课程</th>      <th>软件</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>1510248008</td>      <td>女</td>      <td>167</td>      <td>71</td>      <td>46.0</td>      <td>不清楚</td>      <td>都未学过</td>      <td>No</td>    </tr>    <tr>      <th>1</th>      <td>1510229019</td>      <td>男</td>      <td>171</td>      <td>68</td>      <td>10.4</td>      <td>有必要</td>      <td>概率统计</td>      <td>Matlab</td>    </tr>    <tr>      <th>2</th>      <td>1512108019</td>      <td>女</td>      <td>175</td>      <td>73</td>      <td>21.0</td>      <td>有必要</td>      <td>统计方法</td>      <td>SPSS</td>    </tr>    <tr>      <th>3</th>      <td>1512332010</td>      <td>男</td>      <td>169</td>      <td>74</td>      <td>4.9</td>      <td>有必要</td>      <td>编程技术</td>      <td>Excel</td>    </tr>    <tr>      <th>4</th>      <td>1512331015</td>      <td>男</td>      <td>154</td>      <td>55</td>      <td>25.9</td>      <td>有必要</td>      <td>都学习过</td>      <td>Python</td>    </tr>  </tbody></table></div><h4 id="5-4-3-1-原始数据散点图"><a href="#5-4-3-1-原始数据散点图" class="headerlink" title="5.4.3.1 原始数据散点图"></a>5.4.3.1 原始数据散点图</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pyecharts.charts <span class="keyword">import</span> Scatter</span><br><span class="line">scatter1=Scatter(figsize)</span><br><span class="line">scatter1.add_xaxis(BS.身高).add_yaxis(<span class="string">&quot;&quot;</span>,BS.体重)</span><br><span class="line">scatter1.render_notebook()    <span class="comment">#默认散点图的x轴和y轴从0开始</span></span><br></pre></td></tr></table></figure><!DOCTYPE html><html><head>    <meta charset="UTF-8"></head><body>        <div id="86edf0a706084951bb61ce887c3bb2b7" class="chart-container" style="width:560px; height:380px;"></div>    <script>        var chart_86edf0a706084951bb61ce887c3bb2b7 = echarts.init(            document.getElementById('86edf0a706084951bb61ce887c3bb2b7'), 'white', {renderer: 'canvas'});        var option_86edf0a706084951bb61ce887c3bb2b7 = {    "backgroundColor": "white",    "animation": true,    "animationThreshold": 2000,    "animationDuration": 1000,    "animationEasing": "cubicOut",    "animationDelay": 0,    "animationDurationUpdate": 300,    "animationEasingUpdate": "cubicOut",    "animationDelayUpdate": 0,    "color": [        "#c23531",        "#2f4554",        "#61a0a8",        "#d48265",        "#749f83",        "#ca8622",        "#bda29a",        "#6e7074",        "#546570",        "#c4ccd3",        "#f05b72",        "#ef5b9c",        "#f47920",        "#905a3d",        "#fab27b",        "#2a5caa",        "#444693",        "#726930",        "#b2d235",        "#6d8346",        "#ac6767",        "#1d953f",        "#6950a1",        "#918597"    ],    "series": [        {            "type": "scatter",            "symbolSize": 10,            "data": [                [                    167,                    71                ],                [                    171,                    68                ],                [                    175,                    73                ],                [                    169,                    74                ],                [                    154,                    55                ],                [                    183,                    76                ],                [                    169,                    71                ],                [                    166,                    66                ],                [                    165,                    69                ],                [                    173,                    63                ],                [                    184,                    82                ],                [                    163,                    66                ],                [                    162,                    63                ],                [                    168,                    72                ],                [                    164,                    66                ],                [                    180,                    81                ],                [                    158,                    63                ],                [                    179,                    75                ],                [                    163,                    65                ],                [                    160,                    62                ],                [                    168,                    70                ],                [                    185,                    83                ],                [                    174,                    76                ],                [                    167,                    72                ],                [                    160,                    62                ],                [                    163,                    65                ],                [                    155,                    50                ],                [                    178,                    78                ],                [                    170,                    70                ],                [                    164,                    58                ],                [                    172,                    71                ],                [                    178,                    77                ],                [                    186,                    87                ],                [                    171,                    69                ],                [                    156,                    56                ],                [                    166,                    68                ],                [                    176,                    78                ],                [                    178,                    78                ],                [                    155,                    54                ],                [                    163,                    62                ],                [                    158,                    60                ],                [                    167,                    68                ],                [                    173,                    70                ],                [                    174,                    71                ],                [                    164,                    62                ],                [                    169,                    65                ],                [                    166,                    70                ],                [                    175,                    68                ],                [                    166,                    65                ],                [                    159,                    58                ],                [                    169,                    73                ],                [                    165,                    67                ]            ],            "label": {                "show": true,                "position": "right",                "margin": 8            }        }    ],    "legend": [        {            "data": [                ""            ],            "selected": {                "": true            }        }    ],    "tooltip": {        "show": true,        "trigger": "item",        "triggerOn": "mousemove|click",        "axisPointer": {            "type": "line"        },        "showContent": true,        "alwaysShowContent": false,        "showDelay": 0,        "hideDelay": 100,        "textStyle": {            "fontSize": 14        },        "borderWidth": 0,        "padding": 5    },    "xAxis": [        {            "show": true,            "scale": false,            "nameLocation": "end",            "nameGap": 15,            "gridIndex": 0,            "inverse": false,            "offset": 0,            "splitNumber": 5,            "minInterval": 0,            "splitLine": {                "show": false,                "lineStyle": {                    "show": true,                    "width": 1,                    "opacity": 1,                    "curveness": 0,                    "type": "solid"                }            },            "data": null        }    ],    "yAxis": [        {            "show": true,            "scale": false,            "nameLocation": "end",            "nameGap": 15,            "gridIndex": 0,            "inverse": false,            "offset": 0,            "splitNumber": 5,            "minInterval": 0,            "splitLine": {                "show": false,                "lineStyle": {                    "show": true,                    "width": 1,                    "opacity": 1,                    "curveness": 0,                    "type": "solid"                }            }        }    ]};        chart_86edf0a706084951bb61ce887c3bb2b7.setOption(option_86edf0a706084951bb61ce887c3bb2b7);    </script></body></html><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#修改x轴和y轴的刻度</span></span><br><span class="line">scatter2=(Scatter(figsize)</span><br><span class="line">   .add_xaxis(BS.身高) </span><br><span class="line">   .add_yaxis(<span class="string">&quot;散点图&quot;</span>,BS.体重,label_opts=opts.LabelOpts(is_show=<span class="literal">False</span>))  </span><br><span class="line">   .set_global_opts(</span><br><span class="line">       xaxis_opts=opts.AxisOpts(min_=<span class="number">150</span>), <span class="comment">#x轴最小150</span></span><br><span class="line">       yaxis_opts=opts.AxisOpts(min_=<span class="number">40</span>)   <span class="comment">#y轴最小40 </span></span><br><span class="line">   )</span><br><span class="line">)</span><br><span class="line">scatter2.render_notebook()</span><br></pre></td></tr></table></figure><!DOCTYPE html><html><head>    <meta charset="UTF-8"></head><body>        <div id="6ae697b9b4a743b2b581ecb436c197cf" class="chart-container" style="width:560px; height:380px;"></div>    <script>        var chart_6ae697b9b4a743b2b581ecb436c197cf = echarts.init(            document.getElementById('6ae697b9b4a743b2b581ecb436c197cf'), 'white', {renderer: 'canvas'});        var option_6ae697b9b4a743b2b581ecb436c197cf = {    "backgroundColor": "white",    "animation": true,    "animationThreshold": 2000,    "animationDuration": 1000,    "animationEasing": "cubicOut",    "animationDelay": 0,    "animationDurationUpdate": 300,    "animationEasingUpdate": "cubicOut",    "animationDelayUpdate": 0,    "color": [        "#c23531",        "#2f4554",        "#61a0a8",        "#d48265",        "#749f83",        "#ca8622",        "#bda29a",        "#6e7074",        "#546570",        "#c4ccd3",        "#f05b72",        "#ef5b9c",        "#f47920",        "#905a3d",        "#fab27b",        "#2a5caa",        "#444693",        "#726930",        "#b2d235",        "#6d8346",        "#ac6767",        "#1d953f",        "#6950a1",        "#918597"    ],    "series": [        {            "type": "scatter",            "name": "\u6563\u70b9\u56fe",            "symbolSize": 10,            "data": [                [                    167,                    71                ],                [                    171,                    68                ],                [                    175,                    73                ],                [                    169,                    74                ],                [                    154,                    55                ],                [                    183,                    76                ],                [                    169,                    71                ],                [                    166,                    66                ],                [                    165,                    69                ],                [                    173,                    63                ],                [                    184,                    82                ],                [                    163,                    66                ],                [                    162,                    63                ],                [                    168,                    72                ],                [                    164,                    66                ],                [                    180,                    81                ],                [                    158,                    63                ],                [                    179,                    75                ],                [                    163,                    65                ],                [                    160,                    62                ],                [                    168,                    70                ],                [                    185,                    83                ],                [                    174,                    76                ],                [                    167,                    72                ],                [                    160,                    62                ],                [                    163,                    65                ],                [                    155,                    50                ],                [                    178,                    78                ],                [                    170,                    70                ],                [                    164,                    58                ],                [                    172,                    71                ],                [                    178,                    77                ],                [                    186,                    87                ],                [                    171,                    69                ],                [                    156,                    56                ],                [                    166,                    68                ],                [                    176,                    78                ],                [                    178,                    78                ],                [                    155,                    54                ],                [                    163,                    62                ],                [                    158,                    60                ],                [                    167,                    68                ],                [                    173,                    70                ],                [                    174,                    71                ],                [                    164,                    62                ],                [                    169,                    65                ],                [                    166,                    70                ],                [                    175,                    68                ],                [                    166,                    65                ],                [                    159,                    58                ],                [                    169,                    73                ],                [                    165,                    67                ]            ],            "label": {                "show": false,                "position": "top",                "margin": 8            }        }    ],    "legend": [        {            "data": [                "\u6563\u70b9\u56fe"            ],            "selected": {                "\u6563\u70b9\u56fe": true            },            "show": true,            "padding": 5,            "itemGap": 10,            "itemWidth": 25,            "itemHeight": 14        }    ],    "tooltip": {        "show": true,        "trigger": "item",        "triggerOn": "mousemove|click",        "axisPointer": {            "type": "line"        },        "showContent": true,        "alwaysShowContent": false,        "showDelay": 0,        "hideDelay": 100,        "textStyle": {            "fontSize": 14        },        "borderWidth": 0,        "padding": 5    },    "xAxis": [        {            "show": true,            "scale": false,            "nameLocation": "end",            "nameGap": 15,            "gridIndex": 0,            "inverse": false,            "offset": 0,            "splitNumber": 5,            "min": 150,            "minInterval": 0,            "splitLine": {                "show": false,                "lineStyle": {                    "show": true,                    "width": 1,                    "opacity": 1,                    "curveness": 0,                    "type": "solid"                }            },            "data": null        }    ],    "yAxis": [        {            "show": true,            "scale": false,            "nameLocation": "end",            "nameGap": 15,            "gridIndex": 0,            "inverse": false,            "offset": 0,            "splitNumber": 5,            "min": 40,            "minInterval": 0,            "splitLine": {                "show": false,                "lineStyle": {                    "show": true,                    "width": 1,                    "opacity": 1,                    "curveness": 0,                    "type": "solid"                }            }        }    ],    "title": [        {            "padding": 5,            "itemGap": 10        }    ]};        chart_6ae697b9b4a743b2b581ecb436c197cf.setOption(option_6ae697b9b4a743b2b581ecb436c197cf);    </script></body></html><h3 id="5-4-3-2-统计数据的条图"><a href="#5-4-3-2-统计数据的条图" class="headerlink" title="5.4.3.2 统计数据的条图"></a>5.4.3.2 统计数据的条图</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#基本的pyecharts绘图是基于列表数据的, 通常需将数据框转换成列表</span></span><br><span class="line">pt1=BS.pivot_table(index=[<span class="string">&#x27;性别&#x27;</span>],values=[<span class="string">&#x27;学号&#x27;</span>],aggfunc=<span class="built_in">len</span>); pt1</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>学号</th>    </tr>    <tr>      <th>性别</th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>女</th>      <td>25</td>    </tr>    <tr>      <th>男</th>      <td>27</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pyecharts.charts <span class="keyword">import</span> Bar  </span><br><span class="line">(Bar(figsize)</span><br><span class="line">     .add_xaxis(<span class="built_in">list</span>(pt1.index))</span><br><span class="line">     .add_yaxis(<span class="string">&quot;性别统计图&quot;</span>,<span class="built_in">list</span>(pt1.学号))</span><br><span class="line">     .render_notebook()</span><br><span class="line">)</span><br></pre></td></tr></table></figure><!DOCTYPE html><html><head>    <meta charset="UTF-8"></head><body>        <div id="b37b1ceb88514edd96a5d766a7589bcb" class="chart-container" style="width:560px; height:380px;"></div>    <script>        var chart_b37b1ceb88514edd96a5d766a7589bcb = echarts.init(            document.getElementById('b37b1ceb88514edd96a5d766a7589bcb'), 'white', {renderer: 'canvas'});        var option_b37b1ceb88514edd96a5d766a7589bcb = {    "backgroundColor": "white",    "animation": true,    "animationThreshold": 2000,    "animationDuration": 1000,    "animationEasing": "cubicOut",    "animationDelay": 0,    "animationDurationUpdate": 300,    "animationEasingUpdate": "cubicOut",    "animationDelayUpdate": 0,    "color": [        "#c23531",        "#2f4554",        "#61a0a8",        "#d48265",        "#749f83",        "#ca8622",        "#bda29a",        "#6e7074",        "#546570",        "#c4ccd3",        "#f05b72",        "#ef5b9c",        "#f47920",        "#905a3d",        "#fab27b",        "#2a5caa",        "#444693",        "#726930",        "#b2d235",        "#6d8346",        "#ac6767",        "#1d953f",        "#6950a1",        "#918597"    ],    "series": [        {            "type": "bar",            "name": "\u6027\u522b\u7edf\u8ba1\u56fe",            "legendHoverLink": true,            "data": [                25,                27            ],            "showBackground": false,            "barMinHeight": 0,            "barCategoryGap": "20%",            "barGap": "30%",            "large": false,            "largeThreshold": 400,            "seriesLayoutBy": "column",            "datasetIndex": 0,            "clip": true,            "zlevel": 0,            "z": 2,            "label": {                "show": true,                "position": "top",                "margin": 8            }        }    ],    "legend": [        {            "data": [                "\u6027\u522b\u7edf\u8ba1\u56fe"            ],            "selected": {                "\u6027\u522b\u7edf\u8ba1\u56fe": true            }        }    ],    "tooltip": {        "show": true,        "trigger": "item",        "triggerOn": "mousemove|click",        "axisPointer": {            "type": "line"        },        "showContent": true,        "alwaysShowContent": false,        "showDelay": 0,        "hideDelay": 100,        "textStyle": {            "fontSize": 14        },        "borderWidth": 0,        "padding": 5    },    "xAxis": [        {            "show": true,            "scale": false,            "nameLocation": "end",            "nameGap": 15,            "gridIndex": 0,            "inverse": false,            "offset": 0,            "splitNumber": 5,            "minInterval": 0,            "splitLine": {                "show": false,                "lineStyle": {                    "show": true,                    "width": 1,                    "opacity": 1,                    "curveness": 0,                    "type": "solid"                }            },            "data": [                "\u5973",                "\u7537"            ]        }    ],    "yAxis": [        {            "show": true,            "scale": false,            "nameLocation": "end",            "nameGap": 15,            "gridIndex": 0,            "inverse": false,            "offset": 0,            "splitNumber": 5,            "minInterval": 0,            "splitLine": {                "show": false,                "lineStyle": {                    "show": true,                    "width": 1,                    "opacity": 1,                    "curveness": 0,                    "type": "solid"                }            }        }    ]};        chart_b37b1ceb88514edd96a5d766a7589bcb.setOption(option_b37b1ceb88514edd96a5d766a7589bcb);    </script></body></html><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pt2=BS.pivot_table([<span class="string">&#x27;学号&#x27;</span>],[<span class="string">&#x27;开设&#x27;</span>],[<span class="string">&#x27;性别&#x27;</span>],aggfunc=<span class="built_in">len</span>); pt2</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead tr th &#123;    text-align: left;&#125;.dataframe thead tr:last-of-type th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr>      <th></th>      <th colspan="2" halign="left">学号</th>    </tr>    <tr>      <th>性别</th>      <th>女</th>      <th>男</th>    </tr>    <tr>      <th>开设</th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>不必要</th>      <td>6</td>      <td>5</td>    </tr>    <tr>      <th>不清楚</th>      <td>9</td>      <td>3</td>    </tr>    <tr>      <th>有必要</th>      <td>10</td>      <td>19</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">(Bar(figsize)</span><br><span class="line">     .add_xaxis(<span class="built_in">list</span>(pt2.index))</span><br><span class="line">     .add_yaxis(<span class="string">&quot;女&quot;</span>,<span class="built_in">list</span>(pt2.学号.女))</span><br><span class="line">     .add_yaxis(<span class="string">&quot;男&quot;</span>,<span class="built_in">list</span>(pt2.学号.男))</span><br><span class="line">     .render_notebook()</span><br><span class="line">)</span><br></pre></td></tr></table></figure><!DOCTYPE html><html><head>    <meta charset="UTF-8"></head><body>        <div id="faed7b7844bd4a33a2725666a3387566" class="chart-container" style="width:560px; height:380px;"></div>    <script>        var chart_faed7b7844bd4a33a2725666a3387566 = echarts.init(            document.getElementById('faed7b7844bd4a33a2725666a3387566'), 'white', {renderer: 'canvas'});        var option_faed7b7844bd4a33a2725666a3387566 = {    "backgroundColor": "white",    "animation": true,    "animationThreshold": 2000,    "animationDuration": 1000,    "animationEasing": "cubicOut",    "animationDelay": 0,    "animationDurationUpdate": 300,    "animationEasingUpdate": "cubicOut",    "animationDelayUpdate": 0,    "color": [        "#c23531",        "#2f4554",        "#61a0a8",        "#d48265",        "#749f83",        "#ca8622",        "#bda29a",        "#6e7074",        "#546570",        "#c4ccd3",        "#f05b72",        "#ef5b9c",        "#f47920",        "#905a3d",        "#fab27b",        "#2a5caa",        "#444693",        "#726930",        "#b2d235",        "#6d8346",        "#ac6767",        "#1d953f",        "#6950a1",        "#918597"    ],    "series": [        {            "type": "bar",            "name": "\u5973",            "legendHoverLink": true,            "data": [                6,                9,                10            ],            "showBackground": false,            "barMinHeight": 0,            "barCategoryGap": "20%",            "barGap": "30%",            "large": false,            "largeThreshold": 400,            "seriesLayoutBy": "column",            "datasetIndex": 0,            "clip": true,            "zlevel": 0,            "z": 2,            "label": {                "show": true,                "position": "top",                "margin": 8            }        },        {            "type": "bar",            "name": "\u7537",            "legendHoverLink": true,            "data": [                5,                3,                19            ],            "showBackground": false,            "barMinHeight": 0,            "barCategoryGap": "20%",            "barGap": "30%",            "large": false,            "largeThreshold": 400,            "seriesLayoutBy": "column",            "datasetIndex": 0,            "clip": true,            "zlevel": 0,            "z": 2,            "label": {                "show": true,                "position": "top",                "margin": 8            }        }    ],    "legend": [        {            "data": [                "\u5973",                "\u7537"            ],            "selected": {                "\u5973": true,                "\u7537": true            }        }    ],    "tooltip": {        "show": true,        "trigger": "item",        "triggerOn": "mousemove|click",        "axisPointer": {            "type": "line"        },        "showContent": true,        "alwaysShowContent": false,        "showDelay": 0,        "hideDelay": 100,        "textStyle": {            "fontSize": 14        },        "borderWidth": 0,        "padding": 5    },    "xAxis": [        {            "show": true,            "scale": false,            "nameLocation": "end",            "nameGap": 15,            "gridIndex": 0,            "inverse": false,            "offset": 0,            "splitNumber": 5,            "minInterval": 0,            "splitLine": {                "show": false,                "lineStyle": {                    "show": true,                    "width": 1,                    "opacity": 1,                    "curveness": 0,                    "type": "solid"                }            },            "data": [                "\u4e0d\u5fc5\u8981",                "\u4e0d\u6e05\u695a",                "\u6709\u5fc5\u8981"            ]        }    ],    "yAxis": [        {            "show": true,            "scale": false,            "nameLocation": "end",            "nameGap": 15,            "gridIndex": 0,            "inverse": false,            "offset": 0,            "splitNumber": 5,            "minInterval": 0,            "splitLine": {                "show": false,                "lineStyle": {                    "show": true,                    "width": 1,                    "opacity": 1,                    "curveness": 0,                    "type": "solid"                }            }        }    ]};        chart_faed7b7844bd4a33a2725666a3387566.setOption(option_faed7b7844bd4a33a2725666a3387566);    </script></body></html><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">pt3=BS.pivot_table([<span class="string">&quot;支出&quot;</span>],[<span class="string">&#x27;开设&#x27;</span>],aggfunc=&#123;np.mean,np.std&#125;);</span><br><span class="line">pt3=pt3.<span class="built_in">round</span>(<span class="number">2</span>); pt3   <span class="comment">#pt3[&#x27;支出&#x27;][&#x27;mean&#x27;]</span></span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead tr th &#123;    text-align: left;&#125;.dataframe thead tr:last-of-type th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr>      <th></th>      <th colspan="2" halign="left">支出</th>    </tr>    <tr>      <th></th>      <th>mean</th>      <th>std</th>    </tr>    <tr>      <th>开设</th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>不必要</th>      <td>36.68</td>      <td>26.47</td>    </tr>    <tr>      <th>不清楚</th>      <td>26.29</td>      <td>20.87</td>    </tr>    <tr>      <th>有必要</th>      <td>19.16</td>      <td>18.06</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">(Bar(figsize)</span><br><span class="line">      .add_xaxis(<span class="built_in">list</span>(pt3.index))</span><br><span class="line">      .add_yaxis(<span class="string">&quot;均值&quot;</span>,<span class="built_in">list</span>(pt3[<span class="string">&#x27;支出&#x27;</span>][<span class="string">&#x27;mean&#x27;</span>]))  <span class="comment">#list(pt3.iloc[:,0])</span></span><br><span class="line">      .add_yaxis(<span class="string">&quot;标准差&quot;</span>,<span class="built_in">list</span>(pt3[<span class="string">&#x27;支出&#x27;</span>][<span class="string">&#x27;std&#x27;</span>]))</span><br><span class="line">      .render_notebook()</span><br><span class="line">)</span><br></pre></td></tr></table></figure><!DOCTYPE html><html><head>    <meta charset="UTF-8"></head><body>        <div id="a966c56b878941919a521438de07c423" class="chart-container" style="width:560px; height:380px;"></div>    <script>        var chart_a966c56b878941919a521438de07c423 = echarts.init(            document.getElementById('a966c56b878941919a521438de07c423'), 'white', {renderer: 'canvas'});        var option_a966c56b878941919a521438de07c423 = {    "backgroundColor": "white",    "animation": true,    "animationThreshold": 2000,    "animationDuration": 1000,    "animationEasing": "cubicOut",    "animationDelay": 0,    "animationDurationUpdate": 300,    "animationEasingUpdate": "cubicOut",    "animationDelayUpdate": 0,    "color": [        "#c23531",        "#2f4554",        "#61a0a8",        "#d48265",        "#749f83",        "#ca8622",        "#bda29a",        "#6e7074",        "#546570",        "#c4ccd3",        "#f05b72",        "#ef5b9c",        "#f47920",        "#905a3d",        "#fab27b",        "#2a5caa",        "#444693",        "#726930",        "#b2d235",        "#6d8346",        "#ac6767",        "#1d953f",        "#6950a1",        "#918597"    ],    "series": [        {            "type": "bar",            "name": "\u5747\u503c",            "legendHoverLink": true,            "data": [                36.68,                26.29,                19.16            ],            "showBackground": false,            "barMinHeight": 0,            "barCategoryGap": "20%",            "barGap": "30%",            "large": false,            "largeThreshold": 400,            "seriesLayoutBy": "column",            "datasetIndex": 0,            "clip": true,            "zlevel": 0,            "z": 2,            "label": {                "show": true,                "position": "top",                "margin": 8            }        },        {            "type": "bar",            "name": "\u6807\u51c6\u5dee",            "legendHoverLink": true,            "data": [                26.47,                20.87,                18.06            ],            "showBackground": false,            "barMinHeight": 0,            "barCategoryGap": "20%",            "barGap": "30%",            "large": false,            "largeThreshold": 400,            "seriesLayoutBy": "column",            "datasetIndex": 0,            "clip": true,            "zlevel": 0,            "z": 2,            "label": {                "show": true,                "position": "top",                "margin": 8            }        }    ],    "legend": [        {            "data": [                "\u5747\u503c",                "\u6807\u51c6\u5dee"            ],            "selected": {                "\u5747\u503c": true,                "\u6807\u51c6\u5dee": true            }        }    ],    "tooltip": {        "show": true,        "trigger": "item",        "triggerOn": "mousemove|click",        "axisPointer": {            "type": "line"        },        "showContent": true,        "alwaysShowContent": false,        "showDelay": 0,        "hideDelay": 100,        "textStyle": {            "fontSize": 14        },        "borderWidth": 0,        "padding": 5    },    "xAxis": [        {            "show": true,            "scale": false,            "nameLocation": "end",            "nameGap": 15,            "gridIndex": 0,            "inverse": false,            "offset": 0,            "splitNumber": 5,            "minInterval": 0,            "splitLine": {                "show": false,                "lineStyle": {                    "show": true,                    "width": 1,                    "opacity": 1,                    "curveness": 0,                    "type": "solid"                }            },            "data": [                "\u4e0d\u5fc5\u8981",                "\u4e0d\u6e05\u695a",                "\u6709\u5fc5\u8981"            ]        }    ],    "yAxis": [        {            "show": true,            "scale": false,            "nameLocation": "end",            "nameGap": 15,            "gridIndex": 0,            "inverse": false,            "offset": 0,            "splitNumber": 5,            "minInterval": 0,            "splitLine": {                "show": false,                "lineStyle": {                    "show": true,                    "width": 1,                    "opacity": 1,                    "curveness": 0,                    "type": "solid"                }            }        }    ]};        chart_a966c56b878941919a521438de07c423.setOption(option_a966c56b878941919a521438de07c423);    </script></body></html>]]></content>
      
      
      <categories>
          
          <category> 《数据可视化》——基于Python的应用 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 《数据可视化》——基于Python的应用 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>第4章-数据的探索性分析</title>
      <link href="ff915ea5.html"/>
      <url>ff915ea5.html</url>
      
        <content type="html"><![CDATA[<h2 id="第4章-数据的探索性分析"><a href="#第4章-数据的探索性分析" class="headerlink" title="第4章 数据的探索性分析"></a>第4章 数据的探索性分析</h2><h3 id="4-1-数据的描述分析"><a href="#4-1-数据的描述分析" class="headerlink" title="4.1 数据的描述分析"></a>4.1 数据的描述分析</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">pd.set_option(<span class="string">&#x27;display.max_rows&#x27;</span>, <span class="number">10</span>)</span><br><span class="line">BSdata=pd.read_excel(<span class="string">&#x27;DaPy_data.xlsx&#x27;</span>,<span class="string">&#x27;BSdata&#x27;</span>); BSdata  <span class="comment">#读取数据</span></span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>学号</th>      <th>性别</th>      <th>身高</th>      <th>体重</th>      <th>支出</th>      <th>开设</th>      <th>课程</th>      <th>软件</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>1510248008</td>      <td>女</td>      <td>167</td>      <td>71</td>      <td>46.0</td>      <td>不清楚</td>      <td>都未学过</td>      <td>No</td>    </tr>    <tr>      <th>1</th>      <td>1510229019</td>      <td>男</td>      <td>171</td>      <td>68</td>      <td>10.4</td>      <td>有必要</td>      <td>概率统计</td>      <td>Matlab</td>    </tr>    <tr>      <th>2</th>      <td>1512108019</td>      <td>女</td>      <td>175</td>      <td>73</td>      <td>21.0</td>      <td>有必要</td>      <td>统计方法</td>      <td>SPSS</td>    </tr>    <tr>      <th>3</th>      <td>1512332010</td>      <td>男</td>      <td>169</td>      <td>74</td>      <td>4.9</td>      <td>有必要</td>      <td>编程技术</td>      <td>Excel</td>    </tr>    <tr>      <th>4</th>      <td>1512331015</td>      <td>男</td>      <td>154</td>      <td>55</td>      <td>25.9</td>      <td>有必要</td>      <td>都学习过</td>      <td>Python</td>    </tr>    <tr>      <th>...</th>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>    </tr>    <tr>      <th>47</th>      <td>1538319004</td>      <td>男</td>      <td>175</td>      <td>68</td>      <td>44.4</td>      <td>不清楚</td>      <td>统计方法</td>      <td>SAS</td>    </tr>    <tr>      <th>48</th>      <td>1538254010</td>      <td>女</td>      <td>166</td>      <td>65</td>      <td>5.3</td>      <td>不清楚</td>      <td>编程技术</td>      <td>Python</td>    </tr>    <tr>      <th>49</th>      <td>1540294017</td>      <td>女</td>      <td>159</td>      <td>58</td>      <td>71.4</td>      <td>不清楚</td>      <td>都学习过</td>      <td>SPSS</td>    </tr>    <tr>      <th>50</th>      <td>1540365026</td>      <td>女</td>      <td>169</td>      <td>73</td>      <td>5.5</td>      <td>有必要</td>      <td>统计方法</td>      <td>Excel</td>    </tr>    <tr>      <th>51</th>      <td>1540388036</td>      <td>女</td>      <td>165</td>      <td>67</td>      <td>56.8</td>      <td>不必要</td>      <td>概率统计</td>      <td>SAS</td>    </tr>  </tbody></table><p>52 rows × 8 columns</p></div><h3 id="4-1-1-计数据汇总分析"><a href="#4-1-1-计数据汇总分析" class="headerlink" title="4.1.1 计数据汇总分析"></a>4.1.1 计数据汇总分析</h3><p>（1）频数：绝对数 </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">T1=BSdata[<span class="string">&#x27;性别&#x27;</span>].value_counts();T1 </span><br></pre></td></tr></table></figure><pre><code>男    27女    25Name: 性别, dtype: int64</code></pre><p>（2）频率：相对数 </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">T1/<span class="built_in">sum</span>(T1)*<span class="number">100</span></span><br></pre></td></tr></table></figure><pre><code>男    51.923077女    48.076923Name: 性别, dtype: float64</code></pre><h3 id="4-1-2-计量数据汇总分析"><a href="#4-1-2-计量数据汇总分析" class="headerlink" title="4.1.2 计量数据汇总分析"></a>4.1.2 计量数据汇总分析</h3><p>（1）均数（算术平均数）</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">X=BSdata.身高;</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">X.mean()</span><br></pre></td></tr></table></figure><pre><code>168.51923076923077</code></pre><p>（2）中位数 </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">X.median()</span><br></pre></td></tr></table></figure><pre><code>167.5</code></pre><p>（3）极差                      </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">R=X.<span class="built_in">max</span>()-X.<span class="built_in">min</span>();R</span><br></pre></td></tr></table></figure><pre><code>32</code></pre><p>（4）方差</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">X.var() </span><br></pre></td></tr></table></figure><pre><code>64.29374057315235</code></pre><p>（5）标准差</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">X.std() </span><br></pre></td></tr></table></figure><pre><code>8.01833776871194</code></pre><p>（6）四分位数间距（IQR）                     </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">X.quantile(<span class="number">0.75</span>)-X.quantile(<span class="number">0.25</span>) </span><br></pre></td></tr></table></figure><pre><code>11.0</code></pre><p>（7）偏度</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">X.skew() </span><br></pre></td></tr></table></figure><pre><code>0.29880755120910174</code></pre><p>（8）峰度</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">X.kurt()</span><br></pre></td></tr></table></figure><pre><code>-0.42072371559816935</code></pre><h3 id="4-1-3-汇总性统计量"><a href="#4-1-3-汇总性统计量" class="headerlink" title="4.1.3 汇总性统计量"></a>4.1.3 汇总性统计量</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BSdata.describe()   <span class="comment">#默认为计算计量数据的基本统计量</span></span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>学号</th>      <th>身高</th>      <th>体重</th>      <th>支出</th>    </tr>  </thead>  <tbody>    <tr>      <th>count</th>      <td>5.200000e+01</td>      <td>52.000000</td>      <td>52.000000</td>      <td>52.000000</td>    </tr>    <tr>      <th>mean</th>      <td>1.523270e+09</td>      <td>168.519231</td>      <td>68.500000</td>      <td>24.511538</td>    </tr>    <tr>      <th>std</th>      <td>1.899525e+07</td>      <td>8.018338</td>      <td>7.711718</td>      <td>21.432060</td>    </tr>    <tr>      <th>min</th>      <td>1.438120e+09</td>      <td>154.000000</td>      <td>50.000000</td>      <td>2.500000</td>    </tr>    <tr>      <th>25%</th>      <td>1.520377e+09</td>      <td>163.000000</td>      <td>63.000000</td>      <td>9.500000</td>    </tr>    <tr>      <th>50%</th>      <td>1.526685e+09</td>      <td>167.500000</td>      <td>68.500000</td>      <td>15.450000</td>    </tr>    <tr>      <th>75%</th>      <td>1.532229e+09</td>      <td>174.000000</td>      <td>73.000000</td>      <td>35.600000</td>    </tr>    <tr>      <th>max</th>      <td>1.540388e+09</td>      <td>186.000000</td>      <td>87.000000</td>      <td>85.600000</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#BSdata[[&#x27;性别&#x27;,&#x27;开设&#x27;,&#x27;课程&#x27;,&#x27;软件&#x27;]].describe() #计数数据统计</span></span><br></pre></td></tr></table></figure><blockquote><p>自编计算基本统计量函数</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">stats</span>(<span class="params">x</span>):</span> </span><br><span class="line">    stat=[x.count(),x.mean(),x.std(),x.<span class="built_in">min</span>(),x.quantile(<span class="number">.25</span>),x.median(), x.quantile(<span class="number">.75</span>),x.<span class="built_in">max</span>(),x.skew(),x.kurt()] </span><br><span class="line">    stat=pd.Series(stat,index=[<span class="string">&#x27;count&#x27;</span>,<span class="string">&#x27;mean&#x27;</span>,<span class="string">&#x27;std&#x27;</span>,<span class="string">&#x27;Min&#x27;</span>, <span class="string">&#x27;25%&#x27;</span>,<span class="string">&#x27;50%&#x27;</span>,<span class="string">&#x27;75%&#x27;</span>, <span class="string">&#x27;max&#x27;</span>,<span class="string">&#x27;skew&#x27;</span>,<span class="string">&#x27;kurt&#x27;</span>])</span><br><span class="line">    <span class="keyword">return</span>(stat) </span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">stats(BSdata.身高)</span><br></pre></td></tr></table></figure><pre><code>count     52.000000mean     168.519231std        8.018338Min      154.00000025%      163.00000050%      167.50000075%      174.000000max      186.000000skew       0.298808kurt      -0.420724dtype: float64</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">stats(BSdata.支出)</span><br></pre></td></tr></table></figure><pre><code>count    52.000000mean     24.511538std      21.432060Min       2.50000025%       9.50000050%      15.45000075%      35.600000max      85.600000skew      1.268351kurt      0.673127dtype: float64</code></pre><h3 id="4-2-数据的直观分析"><a href="#4-2-数据的直观分析" class="headerlink" title="4.2 数据的直观分析"></a>4.2 数据的直观分析</h3><h4 id="4-2-1-常用的绘图函数"><a href="#4-2-1-常用的绘图函数" class="headerlink" title="4.2.1 常用的绘图函数"></a>4.2.1 常用的绘图函数</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#绘制图形时，须作一些基本设置</span></span><br><span class="line">%config InlineBackend.figure_format=<span class="string">&#x27;retina&#x27;</span>   <span class="comment">#提高图形显示的清晰度</span></span><br></pre></td></tr></table></figure><h4 id="4-2-1-1-计数数据统计图"><a href="#4-2-1-1-计数数据统计图" class="headerlink" title="4.2.1.1  计数数据统计图"></a>4.2.1.1  计数数据统计图</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">X=[<span class="string">&#x27;A&#x27;</span>,<span class="string">&#x27;B&#x27;</span>,<span class="string">&#x27;C&#x27;</span>,<span class="string">&#x27;D&#x27;</span>,<span class="string">&#x27;E&#x27;</span>,<span class="string">&#x27;F&#x27;</span>,<span class="string">&#x27;G&#x27;</span>] </span><br><span class="line">Y=[<span class="number">1</span>,<span class="number">4</span>,<span class="number">7</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">5</span>,<span class="number">6</span>] </span><br></pre></td></tr></table></figure><ul><li>条图（bar） </li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt     <span class="comment">#加载基本绘图包</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plt.bar(X,Y);</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070136969.png" alt="png"></p><ul><li>饼图（pie） </li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plt.pie(Y,labels=X); </span><br></pre></td></tr></table></figure><p>​<br><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070136681.png" alt="png"><br>​    </p><h4 id="4-2-1-2-计量数据统计图"><a href="#4-2-1-2-计量数据统计图" class="headerlink" title="4.2.1.2  计量数据统计图"></a>4.2.1.2  计量数据统计图</h4><ul><li>线图（plot）</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plt.plot(X,Y);</span><br></pre></td></tr></table></figure><p>​<br><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070136109.png" alt="png"><br>​    </p><ul><li>直方图（hist） </li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plt.hist(BSdata.身高)    <span class="comment">#频数直方图 ，默认density=False</span></span><br></pre></td></tr></table></figure><pre><code>(array([4., 5., 5., 9., 9., 6., 5., 4., 1., 4.]), array([154. , 157.2, 160.4, 163.6, 166.8, 170. , 173.2, 176.4, 179.6,        182.8, 186. ]), &lt;BarContainer object of 10 artists&gt;)</code></pre><p>​<br><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070136032.png" alt="png"><br>​    </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plt.hist(BSdata.体重)    <span class="comment">#频率直方图 ，density=True</span></span><br></pre></td></tr></table></figure><pre><code>(array([ 1.,  3.,  3.,  7., 12., 12.,  4.,  6.,  3.,  1.]), array([50. , 53.7, 57.4, 61.1, 64.8, 68.5, 72.2, 75.9, 79.6, 83.3, 87. ]), &lt;BarContainer object of 10 artists&gt;)</code></pre><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070136470.png" alt="png"></p><ul><li>散点图（scatter） </li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plt.scatter(BSdata.身高, BSdata.体重); </span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070136972.png" alt="png"></p><h4 id="4-2-1-3-图形参数的设置"><a href="#4-2-1-3-图形参数的设置" class="headerlink" title="4.2.1.3  图形参数的设置"></a>4.2.1.3  图形参数的设置</h4><blockquote><p>标题、标签、标尺及颜色</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plt.plot(X,Y);                      <span class="comment">#控制图形的颜色colors，c=&#x27;red&#x27; 为红色</span></span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070136443.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">plt.plot(X,Y,c=<span class="string">&#x27;red&#x27;</span>);                      <span class="comment">#控制图形的颜色colors，c=&#x27;red&#x27; 为红色</span></span><br><span class="line">plt.ylim(<span class="number">0</span>,<span class="number">8</span>); </span><br><span class="line">plt.rcParams[<span class="string">&#x27;font.sans-serif&#x27;</span>]=[<span class="string">&#x27;SimHei&#x27;</span>];  <span class="comment">#设置中文黑体 </span></span><br><span class="line">plt.xlabel(<span class="string">&#x27;姓名&#x27;</span>); plt.ylabel(<span class="string">&#x27;取值&#x27;</span>);  <span class="comment">#plt.xlabel、plt.ylabel：设置坐标轴名称；</span></span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070136024.png" alt="png"></p><blockquote><p>线型和符号 </p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">plt.plot(X,Y, linestyle=<span class="string">&#x27;:&#x27;</span>, marker=<span class="string">&#x27;o&#x27;</span>); </span><br><span class="line"><span class="comment"># linestyle：控制连线的线型（-: 实线，--: 虚线，.: 点线）；</span></span><br><span class="line"><span class="comment"># marker：控制符号的类型，例如，&#x27;o&#x27; 绘制实心圆点图。</span></span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070136899.png" alt="png"></p><blockquote><p>绘图函数附加图形 </p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">plt.plot(X,Y,<span class="string">&#x27;o--&#x27;</span>);</span><br><span class="line">plt.axvline(x=<span class="number">4</span>);  <span class="comment"># 水平线：在横坐标x处画水平（plt.axhline）</span></span><br><span class="line">plt.axhline(y=<span class="number">4</span>);  <span class="comment"># 垂直线：在纵坐标y处画垂直线（plt.axvline）</span></span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070137621.png" alt="png"></p><blockquote><p>文字函数：text(x, y, labels,…)，在(x, y)处添加用 labels 指定的文字</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">plt.plot(X,Y,<span class="string">&#x27;o--&#x27;</span>);</span><br><span class="line">plt.axvline(x=<span class="number">4</span>);  <span class="comment"># 水平线：在横坐标x处画水平（plt.axhline）</span></span><br><span class="line">plt.axhline(y=<span class="number">4</span>);  <span class="comment"># 垂直线：在纵坐标y处画垂直线（plt.axvline）</span></span><br><span class="line">plt.text(<span class="number">2</span>, <span class="number">7</span>, <span class="string">&#x27; peak point&#x27;</span>);</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070137640.png" alt="png"></p><blockquote><p>图例：绘制图形后，可使用 legend 函数给图形加图例</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plt.plot(X,Y,<span class="string">&#x27;.&#x27;</span>, label=<span class="string">&#x27;point&#x27;</span>); plt.legend();</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070137900.png" alt="png"></p><blockquote><p>误差线图</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">s=[<span class="number">0.1</span>,<span class="number">0.4</span>,<span class="number">0.7</span>,<span class="number">0.3</span>,<span class="number">0.2</span>,<span class="number">0.5</span>,<span class="number">0.6</span>]   <span class="comment">#误差值</span></span><br><span class="line">plt.plot(X,Y); plt.errorbar(X,Y,yerr=s,fmt=<span class="string">&#x27;o&#x27;</span>,capsize=<span class="number">4</span>);  </span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070137870.png" alt="png"></p><blockquote><p>误差条图</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plt.bar(X,Y,yerr=s,capsize=<span class="number">4</span>);   <span class="comment">#kw=&#123;&#x27;capsize&#x27;:4&#125;</span></span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070137838.png" alt="png"></p><h4 id="4-2-1-4-多图的排列与绘制"><a href="#4-2-1-4-多图的排列与绘制" class="headerlink" title="4.2.1.4 多图的排列与绘制"></a>4.2.1.4 多图的排列与绘制</h4><p>一行绘制两个图形 </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">plt.subplot(<span class="number">121</span>); plt.bar(X,Y); </span><br><span class="line">plt.subplot(<span class="number">122</span>); plt.plot(Y);</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070137219.png" alt="png"></p><p>一列绘制两个图形</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">plt.subplot(<span class="number">211</span>); plt.bar(X,Y);</span><br><span class="line">plt.subplot(<span class="number">212</span>); plt.plot(Y);</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070137632.png" alt="png"></p><p>根据页面大小绘制两个图形</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">fig,ax = plt.subplots(<span class="number">1</span>,<span class="number">2</span>,figsize=(<span class="number">12</span>,<span class="number">6</span>))  </span><br><span class="line">ax[<span class="number">0</span>].bar(X,Y); ax[<span class="number">1</span>].plot(X,Y);</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070137784.png" alt="png"></p><p>一页绘制四个图形 </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">fig,ax=plt.subplots(<span class="number">2</span>,<span class="number">2</span>,figsize=(<span class="number">10</span>,<span class="number">8</span>)) </span><br><span class="line">ax[<span class="number">0</span>,<span class="number">0</span>].bar(X,Y)</span><br><span class="line">ax[<span class="number">0</span>,<span class="number">1</span>].pie(Y,labels=X)</span><br><span class="line">ax[<span class="number">1</span>,<span class="number">0</span>].plot(Y); </span><br><span class="line">ax[<span class="number">1</span>,<span class="number">1</span>].plot(Y,<span class="string">&#x27;.-&#x27;</span>,linewidth=<span class="number">3</span>);</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070137956.png" alt="png"></p><h3 id="4-2-2-基于-pandas-的绘图"><a href="#4-2-2-基于-pandas-的绘图" class="headerlink" title="4.2.2 基于 pandas 的绘图"></a>4.2.2 基于 pandas 的绘图</h3><h4 id="4-2-2-1-计量数据统计图"><a href="#4-2-2-1-计量数据统计图" class="headerlink" title="4.2.2.1 计量数据统计图"></a>4.2.2.1 计量数据统计图</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">plt.rcParams[<span class="string">&#x27;font.sans-serif&#x27;</span>]=[<span class="string">&#x27;SimHei&#x27;</span>];  <span class="comment">#设置中文黑体 </span></span><br><span class="line">BSdata[<span class="string">&#x27;体重&#x27;</span>].plot(kind=<span class="string">&#x27;line&#x27;</span>); <span class="comment">#线图</span></span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070137634.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BSdata[<span class="string">&#x27;体重&#x27;</span>].plot(kind=<span class="string">&#x27;hist&#x27;</span>); <span class="comment">#直方图</span></span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070137088.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">stats(BSdata.体重)</span><br></pre></td></tr></table></figure><pre><code>count    52.000000mean     68.500000std       7.711718Min      50.00000025%      63.00000050%      68.50000075%      73.000000max      87.000000skew      0.002935kurt      0.045948dtype: float64</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BSdata[<span class="string">&#x27;体重&#x27;</span>].plot(kind=<span class="string">&#x27;box&#x27;</span>); <span class="comment">#箱型图</span></span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070137330.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BSdata[<span class="string">&#x27;体重&#x27;</span>].plot(kind=<span class="string">&#x27;hist&#x27;</span>); </span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070137379.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BSdata[<span class="string">&#x27;体重&#x27;</span>].plot(kind=<span class="string">&#x27;density&#x27;</span>,title=<span class="string">&#x27;Density&#x27;</span>); </span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070137309.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BSdata[[<span class="string">&#x27;身高&#x27;</span>,<span class="string">&#x27;体重&#x27;</span>,<span class="string">&#x27;支出&#x27;</span>]].plot(subplots=<span class="literal">True</span>,layout=(<span class="number">1</span>,<span class="number">3</span>),kind=<span class="string">&#x27;box&#x27;</span>,figsize=(<span class="number">10</span>,<span class="number">4</span>)); </span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070137146.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BSdata[[<span class="string">&#x27;身高&#x27;</span>,<span class="string">&#x27;体重&#x27;</span>,<span class="string">&#x27;支出&#x27;</span>]].plot(subplots=<span class="literal">True</span>,layout=(<span class="number">1</span>,<span class="number">3</span>),kind=<span class="string">&#x27;density&#x27;</span>,figsize=(<span class="number">10</span>,<span class="number">4</span>)); </span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070137058.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BSdata[[<span class="string">&#x27;身高&#x27;</span>,<span class="string">&#x27;体重&#x27;</span>,<span class="string">&#x27;支出&#x27;</span>]].plot(subplots=<span class="literal">True</span>,layout=(<span class="number">3</span>,<span class="number">1</span>),kind=<span class="string">&#x27;density&#x27;</span>,figsize=(<span class="number">10</span>,<span class="number">6</span>));</span><br></pre></td></tr></table></figure><pre><code>C:\Users\kit\miniconda3\lib\site-packages\IPython\core\pylabtools.py:151: UserWarning: Glyph 8722 (\N&#123;MINUS SIGN&#125;) missing from current font.  fig.canvas.print_figure(bytes_io, **kw)</code></pre><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070137697.png" alt="png"></p><h4 id="4-2-2-2-计数数据统计图"><a href="#4-2-2-2-计数数据统计图" class="headerlink" title="4.2.2.2  计数数据统计图"></a>4.2.2.2  计数数据统计图</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">T1=BSdata[<span class="string">&#x27;开设&#x27;</span>].value_counts();T1</span><br><span class="line">pd.DataFrame(&#123;<span class="string">&#x27;频数&#x27;</span>:T1,<span class="string">&#x27;频率&#x27;</span>:T1/T1.<span class="built_in">sum</span>()*<span class="number">100</span>&#125;) </span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>频数</th>      <th>频率</th>    </tr>  </thead>  <tbody>    <tr>      <th>有必要</th>      <td>29</td>      <td>55.769231</td>    </tr>    <tr>      <th>不清楚</th>      <td>12</td>      <td>23.076923</td>    </tr>    <tr>      <th>不必要</th>      <td>11</td>      <td>21.153846</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">T1.plot(kind=<span class="string">&#x27;bar&#x27;</span>); <span class="comment">#T1.sort_values().plot(kind=&#x27;bar&#x27;); </span></span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070138833.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">T1.plot(kind=<span class="string">&#x27;pie&#x27;</span>);</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070138003.png" alt="png"></p><h3 id="4-3-数据的分组分析"><a href="#4-3-数据的分组分析" class="headerlink" title="4.3 数据的分组分析"></a>4.3 数据的分组分析</h3><h4 id="4-3-1-一维频数表与图"><a href="#4-3-1-一维频数表与图" class="headerlink" title="4.3.1 一维频数表与图"></a>4.3.1 一维频数表与图</h4><h5 id="4-3-1-1-计数数据频数分布"><a href="#4-3-1-1-计数数据频数分布" class="headerlink" title="4.3.1.1 计数数据频数分布"></a>4.3.1.1 计数数据频数分布</h5><ul><li>（1）value_counts </li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BSdata[<span class="string">&#x27;开设&#x27;</span>].value_counts() </span><br></pre></td></tr></table></figure><pre><code>有必要    29不清楚    12不必要    11Name: 开设, dtype: int64</code></pre><ul><li>（2）自定义计数汇总函数 </li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">tab</span>(<span class="params">x, plot=<span class="literal">False</span></span>):</span> <span class="comment">#计数频数表</span></span><br><span class="line">       f=x.value_counts();f</span><br><span class="line">       s=<span class="built_in">sum</span>(f);</span><br><span class="line">       p=<span class="built_in">round</span>(f/s*<span class="number">100</span>, <span class="number">3</span>); p </span><br><span class="line">       T1=pd.concat([f,p], axis=<span class="number">1</span>); </span><br><span class="line">       T1.columns=[<span class="string">&#x27;例数&#x27;</span>,<span class="string">&#x27;构成比&#x27;</span>];</span><br><span class="line">       T2=pd.DataFrame(&#123;<span class="string">&#x27;例数&#x27;</span>:s,<span class="string">&#x27;构成比&#x27;</span>:<span class="number">100.00</span>&#125;, index=[<span class="string">&#x27;合计&#x27;</span>])</span><br><span class="line">       Tab=T1.append(T2) </span><br><span class="line">       <span class="keyword">if</span> plot: </span><br><span class="line">           fig,ax=plt.subplots(<span class="number">1</span>,<span class="number">2</span>,figsize=(<span class="number">10</span>,<span class="number">4</span>)) </span><br><span class="line">           ax[<span class="number">0</span>].bar(f.index, f); <span class="comment">#条图 </span></span><br><span class="line">           ax[<span class="number">1</span>].pie(p, labels=p.index, autopct=<span class="string">&#x27;%1.2f%%&#x27;</span>);<span class="comment">#饼图</span></span><br><span class="line">       <span class="keyword">return</span>(<span class="built_in">round</span>(Tab, <span class="number">3</span>))</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tab(BSdata.软件,<span class="literal">True</span>)</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>例数</th>      <th>构成比</th>    </tr>  </thead>  <tbody>    <tr>      <th>Excel</th>      <td>15</td>      <td>28.846</td>    </tr>    <tr>      <th>SPSS</th>      <td>9</td>      <td>17.308</td>    </tr>    <tr>      <th>R</th>      <td>7</td>      <td>13.462</td>    </tr>    <tr>      <th>Python</th>      <td>6</td>      <td>11.538</td>    </tr>    <tr>      <th>SAS</th>      <td>6</td>      <td>11.538</td>    </tr>    <tr>      <th>Matlab</th>      <td>5</td>      <td>9.615</td>    </tr>    <tr>      <th>No</th>      <td>4</td>      <td>7.692</td>    </tr>    <tr>      <th>合计</th>      <td>52</td>      <td>100.000</td>    </tr>  </tbody></table></div><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070138668.png" alt="png"></p><h4 id="4-3-1-2-计量数据频数分布"><a href="#4-3-1-2-计量数据频数分布" class="headerlink" title="4.3.1.2 计量数据频数分布"></a>4.3.1.2 计量数据频数分布</h4><p>（1）身高频数表与条图</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">H_cut=pd.cut(BSdata.身高, bins=<span class="number">10</span>); H_cut  <span class="comment">#身高分10组，bins=[150,160,170,180,190,200]</span></span><br></pre></td></tr></table></figure><pre><code>0       (166.8, 170.0]1       (170.0, 173.2]2       (173.2, 176.4]3       (166.8, 170.0]4     (153.968, 157.2]            ...       47      (173.2, 176.4]48      (163.6, 166.8]49      (157.2, 160.4]50      (166.8, 170.0]51      (163.6, 166.8]Name: 身高, Length: 52, dtype: categoryCategories (10, interval[float64, right]): [(153.968, 157.2] &lt; (157.2, 160.4] &lt; (160.4, 163.6] &lt; (163.6, 166.8] ... (173.2, 176.4] &lt; (176.4, 179.6] &lt; (179.6, 182.8] &lt; (182.8, 186.0]]</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">H_cut.value_counts() <span class="comment">#分组再统计 </span></span><br></pre></td></tr></table></figure><pre><code>(166.8, 170.0]      10(163.6, 166.8]       9(157.2, 160.4]       5(160.4, 163.6]       5(170.0, 173.2]       5(173.2, 176.4]       5(153.968, 157.2]     4(176.4, 179.6]       4(182.8, 186.0]       4(179.6, 182.8]       1Name: 身高, dtype: int64</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">H_cut.value_counts().plot(kind=<span class="string">&#x27;bar&#x27;</span>);   <span class="comment">#将结果画成垂直条图</span></span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070138344.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BSdata.身高.hist();</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070138480.png" alt="png"></p><p>（2）支出频数表 </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">O_cut=pd.cut(BSdata.支出, bins=[<span class="number">0</span>,<span class="number">10</span>,<span class="number">30</span>,<span class="number">100</span>]); <span class="comment">#O_cut</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">O_cut.value_counts() </span><br></pre></td></tr></table></figure><pre><code>(10, 30]     21(0, 10]      16(30, 100]    15Name: 支出, dtype: int64</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">O_cut.value_counts().plot(kind=<span class="string">&#x27;bar&#x27;</span>);</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070138267.png" alt="png"></p><p>（3）自定义计量频率分析函数</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">freq</span>(<span class="params">X,bins=<span class="number">10</span></span>):</span>      <span class="comment">#计量数据的频数表与直方图</span></span><br><span class="line">    H=plt.hist(X,bins);</span><br><span class="line">    a=H[<span class="number">1</span>][:-<span class="number">1</span>]; b=H[<span class="number">1</span>][<span class="number">1</span>:]; f=H[<span class="number">0</span>];    </span><br><span class="line">    p=f/<span class="built_in">sum</span>(f)*<span class="number">100</span>;p</span><br><span class="line">    cp=np.cumsum(p);cp</span><br><span class="line">    Freq=pd.DataFrame([a,b,f,p,cp])</span><br><span class="line">    Freq.index=[<span class="string">&#x27;[下限a&#x27;</span>,<span class="string">&#x27;上限b)&#x27;</span>,<span class="string">&#x27;频数f&#x27;</span>,<span class="string">&#x27;频率p(%)&#x27;</span>,<span class="string">&#x27;累计频数cp(%)&#x27;</span>]</span><br><span class="line">    <span class="keyword">return</span>(<span class="built_in">round</span>(Freq.T,<span class="number">2</span>))</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">freq(BSdata.体重) </span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>[下限a</th>      <th>上限b)</th>      <th>频数f</th>      <th>频率p(%)</th>      <th>累计频数cp(%)</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>50.0</td>      <td>53.7</td>      <td>1.0</td>      <td>1.92</td>      <td>1.92</td>    </tr>    <tr>      <th>1</th>      <td>53.7</td>      <td>57.4</td>      <td>3.0</td>      <td>5.77</td>      <td>7.69</td>    </tr>    <tr>      <th>2</th>      <td>57.4</td>      <td>61.1</td>      <td>3.0</td>      <td>5.77</td>      <td>13.46</td>    </tr>    <tr>      <th>3</th>      <td>61.1</td>      <td>64.8</td>      <td>7.0</td>      <td>13.46</td>      <td>26.92</td>    </tr>    <tr>      <th>4</th>      <td>64.8</td>      <td>68.5</td>      <td>12.0</td>      <td>23.08</td>      <td>50.00</td>    </tr>    <tr>      <th>5</th>      <td>68.5</td>      <td>72.2</td>      <td>12.0</td>      <td>23.08</td>      <td>73.08</td>    </tr>    <tr>      <th>6</th>      <td>72.2</td>      <td>75.9</td>      <td>4.0</td>      <td>7.69</td>      <td>80.77</td>    </tr>    <tr>      <th>7</th>      <td>75.9</td>      <td>79.6</td>      <td>6.0</td>      <td>11.54</td>      <td>92.31</td>    </tr>    <tr>      <th>8</th>      <td>79.6</td>      <td>83.3</td>      <td>3.0</td>      <td>5.77</td>      <td>98.08</td>    </tr>    <tr>      <th>9</th>      <td>83.3</td>      <td>87.0</td>      <td>1.0</td>      <td>1.92</td>      <td>100.00</td>    </tr>  </tbody></table></div><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070138360.png" alt="png"></p><h3 id="4-3-2-二维集聚表与图"><a href="#4-3-2-二维集聚表与图" class="headerlink" title="4.3.2 二维集聚表与图"></a>4.3.2 二维集聚表与图</h3><h4 id="4-3-2-1-计数数据的列联表"><a href="#4-3-2-1-计数数据的列联表" class="headerlink" title="4.3.2.1 计数数据的列联表"></a>4.3.2.1 计数数据的列联表</h4><p>（1）二维列联表</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#Pandas的crosstab()函数可以把双变量分类数据整理成二维表形式</span></span><br><span class="line">pd.crosstab(BSdata.开设, BSdata.课程)</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th>课程</th>      <th>概率统计</th>      <th>统计方法</th>      <th>编程技术</th>      <th>都学习过</th>      <th>都未学过</th>    </tr>    <tr>      <th>开设</th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>不必要</th>      <td>3</td>      <td>2</td>      <td>1</td>      <td>1</td>      <td>4</td>    </tr>    <tr>      <th>不清楚</th>      <td>3</td>      <td>3</td>      <td>3</td>      <td>2</td>      <td>1</td>    </tr>    <tr>      <th>有必要</th>      <td>5</td>      <td>10</td>      <td>6</td>      <td>7</td>      <td>1</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#行和列的合计可使用参数 margins=True</span></span><br><span class="line">pd.crosstab(BSdata.开设, BSdata.课程, margins=<span class="literal">True</span>) </span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th>课程</th>      <th>概率统计</th>      <th>统计方法</th>      <th>编程技术</th>      <th>都学习过</th>      <th>都未学过</th>      <th>All</th>    </tr>    <tr>      <th>开设</th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>不必要</th>      <td>3</td>      <td>2</td>      <td>1</td>      <td>1</td>      <td>4</td>      <td>11</td>    </tr>    <tr>      <th>不清楚</th>      <td>3</td>      <td>3</td>      <td>3</td>      <td>2</td>      <td>1</td>      <td>12</td>    </tr>    <tr>      <th>有必要</th>      <td>5</td>      <td>10</td>      <td>6</td>      <td>7</td>      <td>1</td>      <td>29</td>    </tr>    <tr>      <th>All</th>      <td>11</td>      <td>15</td>      <td>10</td>      <td>10</td>      <td>6</td>      <td>52</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#normalize =&#x27;index&#x27;表示各数据占行的比例</span></span><br><span class="line">pd.crosstab(BSdata.开设, BSdata.课程, margins=<span class="literal">True</span>, normalize=<span class="string">&#x27;index&#x27;</span>) </span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th>课程</th>      <th>概率统计</th>      <th>统计方法</th>      <th>编程技术</th>      <th>都学习过</th>      <th>都未学过</th>    </tr>    <tr>      <th>开设</th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>不必要</th>      <td>0.272727</td>      <td>0.181818</td>      <td>0.090909</td>      <td>0.090909</td>      <td>0.363636</td>    </tr>    <tr>      <th>不清楚</th>      <td>0.250000</td>      <td>0.250000</td>      <td>0.250000</td>      <td>0.166667</td>      <td>0.083333</td>    </tr>    <tr>      <th>有必要</th>      <td>0.172414</td>      <td>0.344828</td>      <td>0.206897</td>      <td>0.241379</td>      <td>0.034483</td>    </tr>    <tr>      <th>All</th>      <td>0.211538</td>      <td>0.288462</td>      <td>0.192308</td>      <td>0.192308</td>      <td>0.115385</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#normalize =&#x27;columns&#x27;表示各数据占列的比例</span></span><br><span class="line">pd.crosstab(BSdata.开设, BSdata.课程, margins=<span class="literal">True</span>, normalize=<span class="string">&#x27;columns&#x27;</span>) </span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th>课程</th>      <th>概率统计</th>      <th>统计方法</th>      <th>编程技术</th>      <th>都学习过</th>      <th>都未学过</th>      <th>All</th>    </tr>    <tr>      <th>开设</th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>不必要</th>      <td>0.272727</td>      <td>0.133333</td>      <td>0.1</td>      <td>0.1</td>      <td>0.666667</td>      <td>0.211538</td>    </tr>    <tr>      <th>不清楚</th>      <td>0.272727</td>      <td>0.200000</td>      <td>0.3</td>      <td>0.2</td>      <td>0.166667</td>      <td>0.230769</td>    </tr>    <tr>      <th>有必要</th>      <td>0.454545</td>      <td>0.666667</td>      <td>0.6</td>      <td>0.7</td>      <td>0.166667</td>      <td>0.557692</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#normalize =&#x27;all&#x27;，表示各数据占总和的构成比例</span></span><br><span class="line">pd.crosstab(BSdata.开设, BSdata.课程, margins=<span class="literal">True</span>, normalize=<span class="string">&#x27;all&#x27;</span>).<span class="built_in">round</span>(<span class="number">2</span>) </span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th>课程</th>      <th>概率统计</th>      <th>统计方法</th>      <th>编程技术</th>      <th>都学习过</th>      <th>都未学过</th>      <th>All</th>    </tr>    <tr>      <th>开设</th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>不必要</th>      <td>0.06</td>      <td>0.04</td>      <td>0.02</td>      <td>0.02</td>      <td>0.08</td>      <td>0.21</td>    </tr>    <tr>      <th>不清楚</th>      <td>0.06</td>      <td>0.06</td>      <td>0.06</td>      <td>0.04</td>      <td>0.02</td>      <td>0.23</td>    </tr>    <tr>      <th>有必要</th>      <td>0.10</td>      <td>0.19</td>      <td>0.12</td>      <td>0.13</td>      <td>0.02</td>      <td>0.56</td>    </tr>    <tr>      <th>All</th>      <td>0.21</td>      <td>0.29</td>      <td>0.19</td>      <td>0.19</td>      <td>0.12</td>      <td>1.00</td>    </tr>  </tbody></table></div><p>（2）复式条图</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">T2=pd.crosstab(BSdata.开设, BSdata.课程);T2 </span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th>课程</th>      <th>概率统计</th>      <th>统计方法</th>      <th>编程技术</th>      <th>都学习过</th>      <th>都未学过</th>    </tr>    <tr>      <th>开设</th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>不必要</th>      <td>3</td>      <td>2</td>      <td>1</td>      <td>1</td>      <td>4</td>    </tr>    <tr>      <th>不清楚</th>      <td>3</td>      <td>3</td>      <td>3</td>      <td>2</td>      <td>1</td>    </tr>    <tr>      <th>有必要</th>      <td>5</td>      <td>10</td>      <td>6</td>      <td>7</td>      <td>1</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">T2.plot(kind=<span class="string">&#x27;bar&#x27;</span>);</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070138236.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#stacked 参数设置为False时，作出的是分段式条形图；为True时，作出的是并列式条形图</span></span><br><span class="line">T2.plot(kind=<span class="string">&#x27;bar&#x27;</span>, stacked=<span class="literal">True</span>); </span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070138029.png" alt="png"></p><h4 id="4-3-2-2-计量数据的集聚表"><a href="#4-3-2-2-计量数据的集聚表" class="headerlink" title="4.3.2.2 计量数据的集聚表"></a>4.3.2.2 计量数据的集聚表</h4><p>（1）分组 groupby 函数 </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 按列分组 </span></span><br><span class="line">BSdata.groupby([<span class="string">&#x27;性别&#x27;</span>])</span><br><span class="line"><span class="built_in">type</span>(BSdata.groupby([<span class="string">&#x27;性别&#x27;</span>])) <span class="comment">#使用 groupby()函数生成的是一个中间分组变量，为 GroupBy 类型</span></span><br></pre></td></tr></table></figure><pre><code>pandas.core.groupby.generic.DataFrameGroupBy</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 按分组统计 </span></span><br><span class="line">BSdata.groupby([<span class="string">&#x27;性别&#x27;</span>])[<span class="string">&#x27;身高&#x27;</span>].mean() </span><br></pre></td></tr></table></figure><pre><code>性别女    165.360000男    171.444444Name: 身高, dtype: float64</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BSdata.groupby([<span class="string">&#x27;性别&#x27;</span>])[<span class="string">&#x27;身高&#x27;</span>].size() </span><br></pre></td></tr></table></figure><pre><code>性别女    25男    27Name: 身高, dtype: int64</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BSdata.groupby([<span class="string">&#x27;性别&#x27;</span>,<span class="string">&#x27;开设&#x27;</span>])[<span class="string">&#x27;身高&#x27;</span>].mean() </span><br></pre></td></tr></table></figure><pre><code>性别  开设 女   不必要    165.166667    不清楚    164.555556    有必要    166.200000男   不必要    180.200000    不清楚    173.333333    有必要    168.842105Name: 身高, dtype: float64</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 聚集函数 agg() </span></span><br><span class="line">BSdata.groupby([<span class="string">&#x27;性别&#x27;</span>])[<span class="string">&#x27;身高&#x27;</span>].agg([np.mean, np.std]) </span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>mean</th>      <th>std</th>    </tr>    <tr>      <th>性别</th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>女</th>      <td>165.360000</td>      <td>5.179125</td>    </tr>    <tr>      <th>男</th>      <td>171.444444</td>      <td>9.103395</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 应用函数 apply()</span></span><br><span class="line">BSdata.groupby([<span class="string">&#x27;性别&#x27;</span>])[<span class="string">&#x27;身高&#x27;</span>,<span class="string">&#x27;体重&#x27;</span>].apply(np.mean) </span><br></pre></td></tr></table></figure><pre><code>C:\Users\kit\AppData\Local\Temp/ipykernel_16520/1696986927.py:2: FutureWarning: Indexing with multiple keys (implicitly converted to a tuple of keys) will be deprecated, use a list instead.  BSdata.groupby([&#39;性别&#39;])[&#39;身高&#39;,&#39;体重&#39;].apply(np.mean)</code></pre><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>身高</th>      <th>体重</th>    </tr>    <tr>      <th>性别</th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>女</th>      <td>165.360000</td>      <td>66.240000</td>    </tr>    <tr>      <th>男</th>      <td>171.444444</td>      <td>70.592593</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BSdata.groupby([<span class="string">&#x27;性别&#x27;</span>,<span class="string">&#x27;开设&#x27;</span>])[<span class="string">&#x27;身高&#x27;</span>,<span class="string">&#x27;体重&#x27;</span>].apply(np.mean) </span><br></pre></td></tr></table></figure><pre><code>C:\Users\kit\AppData\Local\Temp/ipykernel_16520/3542829955.py:1: FutureWarning: Indexing with multiple keys (implicitly converted to a tuple of keys) will be deprecated, use a list instead.  BSdata.groupby([&#39;性别&#39;,&#39;开设&#39;])[&#39;身高&#39;,&#39;体重&#39;].apply(np.mean)</code></pre><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th></th>      <th>身高</th>      <th>体重</th>    </tr>    <tr>      <th>性别</th>      <th>开设</th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th rowspan="3" valign="top">女</th>      <th>不必要</th>      <td>165.166667</td>      <td>67.333333</td>    </tr>    <tr>      <th>不清楚</th>      <td>164.555556</td>      <td>64.666667</td>    </tr>    <tr>      <th>有必要</th>      <td>166.200000</td>      <td>67.000000</td>    </tr>    <tr>      <th rowspan="3" valign="top">男</th>      <th>不必要</th>      <td>180.200000</td>      <td>79.200000</td>    </tr>    <tr>      <th>不清楚</th>      <td>173.333333</td>      <td>72.666667</td>    </tr>    <tr>      <th>有必要</th>      <td>168.842105</td>      <td>68.000000</td>    </tr>  </tbody></table></div><h3 id="4-3-3-多维透视表与图"><a href="#4-3-3-多维透视表与图" class="headerlink" title="4.3.3 多维透视表与图"></a>4.3.3 多维透视表与图</h3><h4 id="4-3-3-1-计数数据透视表与图"><a href="#4-3-3-1-计数数据透视表与图" class="headerlink" title="4.3.3.1 计数数据透视表与图"></a>4.3.3.1 计数数据透视表与图</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#pt11=BSdata.pivot_table(values=[&#x27;学号&#x27;],index=[&#x27;性别&#x27;],aggfunc=len)</span></span><br><span class="line">pt11=BSdata.pivot_table([<span class="string">&#x27;学号&#x27;</span>],[<span class="string">&#x27;性别&#x27;</span>],aggfunc=<span class="built_in">len</span>); pt11   <span class="comment">#len分组长度</span></span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>学号</th>    </tr>    <tr>      <th>性别</th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>女</th>      <td>25</td>    </tr>    <tr>      <th>男</th>      <td>27</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pt11.plot(kind=<span class="string">&#x27;bar&#x27;</span>);</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070138242.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#pt12=BSdata.pivot_table(values=[&#x27;学号&#x27;],index=[&#x27;性别&#x27;,&#x27;开设&#x27;],aggfunc=len)</span></span><br><span class="line">pt12=BSdata.pivot_table([<span class="string">&#x27;学号&#x27;</span>],[<span class="string">&#x27;性别&#x27;</span>,<span class="string">&#x27;开设&#x27;</span>],aggfunc=<span class="built_in">len</span>);pt12</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th></th>      <th>学号</th>    </tr>    <tr>      <th>性别</th>      <th>开设</th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th rowspan="3" valign="top">女</th>      <th>不必要</th>      <td>6</td>    </tr>    <tr>      <th>不清楚</th>      <td>9</td>    </tr>    <tr>      <th>有必要</th>      <td>10</td>    </tr>    <tr>      <th rowspan="3" valign="top">男</th>      <th>不必要</th>      <td>5</td>    </tr>    <tr>      <th>不清楚</th>      <td>3</td>    </tr>    <tr>      <th>有必要</th>      <td>19</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pt12.plot(kind=<span class="string">&#x27;bar&#x27;</span>);</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070138608.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#pt13=BSdata.pivot_table(values=[&#x27;学号&#x27;],index=[&#x27;开设&#x27;],columns=[&#x27;性别&#x27;],aggfunc=len);</span></span><br><span class="line">pt13=BSdata.pivot_table([<span class="string">&#x27;学号&#x27;</span>], [<span class="string">&#x27;开设&#x27;</span>], [<span class="string">&#x27;性别&#x27;</span>], aggfunc=<span class="built_in">len</span>); pt13 </span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead tr th &#123;    text-align: left;&#125;.dataframe thead tr:last-of-type th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr>      <th></th>      <th colspan="2" halign="left">学号</th>    </tr>    <tr>      <th>性别</th>      <th>女</th>      <th>男</th>    </tr>    <tr>      <th>开设</th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>不必要</th>      <td>6</td>      <td>5</td>    </tr>    <tr>      <th>不清楚</th>      <td>9</td>      <td>3</td>    </tr>    <tr>      <th>有必要</th>      <td>10</td>      <td>19</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pt13.plot(kind=<span class="string">&#x27;bar&#x27;</span>);</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070138329.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pt13.plot(kind=<span class="string">&#x27;bar&#x27;</span>,stacked=<span class="literal">True</span>);</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070139167.png" alt="png"></p><h4 id="4-3-3-2-计量数据透视表与图"><a href="#4-3-3-2-计量数据透视表与图" class="headerlink" title="4.3.3.2 计量数据透视表与图"></a>4.3.3.2 计量数据透视表与图</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pt21=BSdata.pivot_table(index=[<span class="string">&#x27;性别&#x27;</span>], values=[<span class="string">&quot;身高&quot;</span>], aggfunc=np.mean);pt21</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>身高</th>    </tr>    <tr>      <th>性别</th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>女</th>      <td>165.360000</td>    </tr>    <tr>      <th>男</th>      <td>171.444444</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pt21.plot(kind=<span class="string">&#x27;bar&#x27;</span>);</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070139444.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pt22=BSdata.pivot_table(index=[<span class="string">&#x27;性别&#x27;</span>], values=[<span class="string">&quot;身高&quot;</span>], aggfunc=[np.mean,np.std]);</span><br><span class="line">pt22</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead tr th &#123;    text-align: left;&#125;.dataframe thead tr:last-of-type th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr>      <th></th>      <th>mean</th>      <th>std</th>    </tr>    <tr>      <th></th>      <th>身高</th>      <th>身高</th>    </tr>    <tr>      <th>性别</th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>女</th>      <td>165.360000</td>      <td>5.179125</td>    </tr>    <tr>      <th>男</th>      <td>171.444444</td>      <td>9.103395</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pt22.iloc[:,<span class="number">0</span>].plot(kind=<span class="string">&#x27;bar&#x27;</span>,yerr=pt22.iloc[:,<span class="number">1</span>]); <span class="comment">#标准差条图</span></span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070139267.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pt23=BSdata.pivot_table(index=[<span class="string">&quot;性别&quot;</span>], values=[<span class="string">&quot;身高&quot;</span>,<span class="string">&quot;体重&quot;</span>]);pt23 <span class="comment"># 默认计算均值 </span></span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>体重</th>      <th>身高</th>    </tr>    <tr>      <th>性别</th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>女</th>      <td>66.240000</td>      <td>165.360000</td>    </tr>    <tr>      <th>男</th>      <td>70.592593</td>      <td>171.444444</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pt23.plot(kind=<span class="string">&#x27;bar&#x27;</span>);</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070139241.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pt23.plot(kind=<span class="string">&#x27;bar&#x27;</span>,subplots=<span class="literal">True</span>,layout=(<span class="number">1</span>,<span class="number">2</span>));</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070139627.png" alt="png"></p><h4 id="4-3-3-3-复合数据透视表与图"><a href="#4-3-3-3-复合数据透视表与图" class="headerlink" title="4.3.3.3 复合数据透视表与图"></a>4.3.3.3 复合数据透视表与图</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">BSdata.pivot_table(<span class="string">&#x27;学号&#x27;</span>, [<span class="string">&#x27;性别&#x27;</span>,<span class="string">&#x27;开设&#x27;</span>], <span class="string">&#x27;课程&#x27;</span>, aggfunc=<span class="built_in">len</span>,  </span><br><span class="line">                   margins=<span class="literal">True</span>, margins_name=<span class="string">&#x27;合计&#x27;</span>)</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>课程</th>      <th>概率统计</th>      <th>统计方法</th>      <th>编程技术</th>      <th>都学习过</th>      <th>都未学过</th>      <th>合计</th>    </tr>    <tr>      <th>性别</th>      <th>开设</th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th rowspan="3" valign="top">女</th>      <th>不必要</th>      <td>1.0</td>      <td>1.0</td>      <td>NaN</td>      <td>1.0</td>      <td>3.0</td>      <td>6</td>    </tr>    <tr>      <th>不清楚</th>      <td>2.0</td>      <td>1.0</td>      <td>3.0</td>      <td>2.0</td>      <td>1.0</td>      <td>9</td>    </tr>    <tr>      <th>有必要</th>      <td>NaN</td>      <td>5.0</td>      <td>3.0</td>      <td>2.0</td>      <td>NaN</td>      <td>10</td>    </tr>    <tr>      <th rowspan="3" valign="top">男</th>      <th>不必要</th>      <td>2.0</td>      <td>1.0</td>      <td>1.0</td>      <td>NaN</td>      <td>1.0</td>      <td>5</td>    </tr>    <tr>      <th>不清楚</th>      <td>1.0</td>      <td>2.0</td>      <td>NaN</td>      <td>NaN</td>      <td>NaN</td>      <td>3</td>    </tr>    <tr>      <th>有必要</th>      <td>5.0</td>      <td>5.0</td>      <td>3.0</td>      <td>5.0</td>      <td>1.0</td>      <td>19</td>    </tr>    <tr>      <th>合计</th>      <th></th>      <td>11.0</td>      <td>15.0</td>      <td>10.0</td>      <td>10.0</td>      <td>6.0</td>      <td>52</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pt31=BSdata.pivot_table(<span class="string">&#x27;学号&#x27;</span>,[<span class="string">&#x27;性别&#x27;</span>,<span class="string">&#x27;开设&#x27;</span>],<span class="string">&#x27;课程&#x27;</span>,aggfunc=<span class="built_in">len</span>)</span><br><span class="line">pt31</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>课程</th>      <th>概率统计</th>      <th>统计方法</th>      <th>编程技术</th>      <th>都学习过</th>      <th>都未学过</th>    </tr>    <tr>      <th>性别</th>      <th>开设</th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th rowspan="3" valign="top">女</th>      <th>不必要</th>      <td>1.0</td>      <td>1.0</td>      <td>NaN</td>      <td>1.0</td>      <td>3.0</td>    </tr>    <tr>      <th>不清楚</th>      <td>2.0</td>      <td>1.0</td>      <td>3.0</td>      <td>2.0</td>      <td>1.0</td>    </tr>    <tr>      <th>有必要</th>      <td>NaN</td>      <td>5.0</td>      <td>3.0</td>      <td>2.0</td>      <td>NaN</td>    </tr>    <tr>      <th rowspan="3" valign="top">男</th>      <th>不必要</th>      <td>2.0</td>      <td>1.0</td>      <td>1.0</td>      <td>NaN</td>      <td>1.0</td>    </tr>    <tr>      <th>不清楚</th>      <td>1.0</td>      <td>2.0</td>      <td>NaN</td>      <td>NaN</td>      <td>NaN</td>    </tr>    <tr>      <th>有必要</th>      <td>5.0</td>      <td>5.0</td>      <td>3.0</td>      <td>5.0</td>      <td>1.0</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pt31.plot(kind=<span class="string">&#x27;bar&#x27;</span>,stacked=<span class="literal">False</span>);</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070139609.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pt32=BSdata.pivot_table([<span class="string">&#x27;身高&#x27;</span>,<span class="string">&#x27;体重&#x27;</span>],[<span class="string">&#x27;性别&#x27;</span>,<span class="string">&quot;开设&quot;</span>],aggfunc=[<span class="built_in">len</span>,np.mean,np.std]);pt32</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead tr th &#123;    text-align: left;&#125;.dataframe thead tr:last-of-type th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr>      <th></th>      <th></th>      <th colspan="2" halign="left">len</th>      <th colspan="2" halign="left">mean</th>      <th colspan="2" halign="left">std</th>    </tr>    <tr>      <th></th>      <th></th>      <th>体重</th>      <th>身高</th>      <th>体重</th>      <th>身高</th>      <th>体重</th>      <th>身高</th>    </tr>    <tr>      <th>性别</th>      <th>开设</th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th rowspan="3" valign="top">女</th>      <th>不必要</th>      <td>6</td>      <td>6</td>      <td>67.333333</td>      <td>165.166667</td>      <td>3.326660</td>      <td>2.786874</td>    </tr>    <tr>      <th>不清楚</th>      <td>9</td>      <td>9</td>      <td>64.666667</td>      <td>164.555556</td>      <td>6.000000</td>      <td>6.502136</td>    </tr>    <tr>      <th>有必要</th>      <td>10</td>      <td>10</td>      <td>67.000000</td>      <td>166.200000</td>      <td>5.333333</td>      <td>5.308274</td>    </tr>    <tr>      <th rowspan="3" valign="top">男</th>      <th>不必要</th>      <td>5</td>      <td>5</td>      <td>79.200000</td>      <td>180.200000</td>      <td>4.438468</td>      <td>4.147288</td>    </tr>    <tr>      <th>不清楚</th>      <td>3</td>      <td>3</td>      <td>72.666667</td>      <td>173.333333</td>      <td>5.033223</td>      <td>5.686241</td>    </tr>    <tr>      <th>有必要</th>      <td>19</td>      <td>19</td>      <td>68.000000</td>      <td>168.842105</td>      <td>9.165151</td>      <td>9.124224</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pt32.iloc[:,:<span class="number">2</span>].plot(kind=<span class="string">&#x27;bar&#x27;</span>); </span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070139188.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pt32.iloc[:,<span class="number">2</span>:<span class="number">4</span>].plot(kind=<span class="string">&#x27;bar&#x27;</span>);</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070139534.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pt32.iloc[:,<span class="number">4</span>:<span class="number">6</span>].plot(kind=<span class="string">&#x27;bar&#x27;</span>);</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070139939.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pt32.iloc[:,<span class="number">2</span>].plot(kind=<span class="string">&#x27;bar&#x27;</span>, yerr=pt32.iloc[:,<span class="number">4</span>]); <span class="comment">#基于性别和开设的体重标准差条图</span></span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070139298.png" alt="png"></p>]]></content>
      
      
      <categories>
          
          <category> 《数据可视化》——基于Python的应用 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 《数据可视化》——基于Python的应用 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>第2章-数据的收集与整理第3章-Python编程基础</title>
      <link href="2004cd38.html"/>
      <url>2004cd38.html</url>
      
        <content type="html"><![CDATA[<h2 id="第2章-数据的收集与整理"><a href="#第2章-数据的收集与整理" class="headerlink" title="第2章  数据的收集与整理"></a>第2章  数据的收集与整理</h2><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112070132206.png" alt="img"></p><h2 id="2-1-数据的类型"><a href="#2-1-数据的类型" class="headerlink" title="2.1  数据的类型"></a>2.1  数据的类型</h2><h3 id="2-1-1-按度量尺度分"><a href="#2-1-1-按度量尺度分" class="headerlink" title="2.1.1  按度量尺度分"></a>2.1.1  按度量尺度分</h3><p>2.1.1.1 定性数据</p><p>性别:女,男,男,女,男,男,女,男,女,男,女,男,女,女,男</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">性别=[<span class="string">&#x27;女&#x27;</span>,<span class="string">&#x27;男&#x27;</span>,<span class="string">&#x27;男&#x27;</span>,<span class="string">&#x27;女&#x27;</span>,<span class="string">&#x27;男&#x27;</span>,<span class="string">&#x27;男&#x27;</span>,<span class="string">&#x27;女&#x27;</span>,<span class="string">&#x27;男&#x27;</span>,<span class="string">&#x27;女&#x27;</span>,<span class="string">&#x27;男&#x27;</span>,<span class="string">&#x27;女&#x27;</span>,<span class="string">&#x27;男&#x27;</span>,<span class="string">&#x27;女&#x27;</span>,<span class="string">&#x27;女&#x27;</span>,<span class="string">&#x27;男&#x27;</span>];性别</span><br></pre></td></tr></table></figure><pre><code>[&#39;女&#39;, &#39;男&#39;, &#39;男&#39;, &#39;女&#39;, &#39;男&#39;, &#39;男&#39;, &#39;女&#39;, &#39;男&#39;, &#39;女&#39;, &#39;男&#39;, &#39;女&#39;, &#39;男&#39;, &#39;女&#39;, &#39;女&#39;, &#39;男&#39;]</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sex=[<span class="string">&#x27;女&#x27;</span>,<span class="string">&#x27;男&#x27;</span>,<span class="string">&#x27;男&#x27;</span>,<span class="string">&#x27;女&#x27;</span>,<span class="string">&#x27;男&#x27;</span>,<span class="string">&#x27;男&#x27;</span>,<span class="string">&#x27;女&#x27;</span>,<span class="string">&#x27;男&#x27;</span>,<span class="string">&#x27;女&#x27;</span>,<span class="string">&#x27;男&#x27;</span>,<span class="string">&#x27;女&#x27;</span>,<span class="string">&#x27;男&#x27;</span>,<span class="string">&#x27;女&#x27;</span>,<span class="string">&#x27;女&#x27;</span>,<span class="string">&#x27;男&#x27;</span>];sex</span><br></pre></td></tr></table></figure><pre><code>[&#39;女&#39;, &#39;男&#39;, &#39;男&#39;, &#39;女&#39;, &#39;男&#39;, &#39;男&#39;, &#39;女&#39;, &#39;男&#39;, &#39;女&#39;, &#39;男&#39;, &#39;女&#39;, &#39;男&#39;, &#39;女&#39;, &#39;女&#39;, &#39;男&#39;]</code></pre><p>2.1.1.2 定量数据</p><p>体重:67,66,83,68,70,90,70,58,63,72,65,76,71,66,77</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">体重=[<span class="number">67</span>,<span class="number">66</span>,<span class="number">83</span>,<span class="number">68</span>,<span class="number">70</span>,<span class="number">90</span>,<span class="number">70</span>,<span class="number">58</span>,<span class="number">63</span>,<span class="number">72</span>,<span class="number">65</span>,<span class="number">76</span>,<span class="number">71</span>,<span class="number">66</span>];体重</span><br></pre></td></tr></table></figure><pre><code>[67, 66, 83, 68, 70, 90, 70, 58, 63, 72, 65, 76, 71, 66]</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">weight=[<span class="number">67</span>,<span class="number">66</span>,<span class="number">83</span>,<span class="number">68</span>,<span class="number">70</span>,<span class="number">90</span>,<span class="number">70</span>,<span class="number">58</span>,<span class="number">63</span>,<span class="number">72</span>,<span class="number">65</span>,<span class="number">76</span>,<span class="number">71</span>,<span class="number">66</span>];weight</span><br></pre></td></tr></table></figure><pre><code>[67, 66, 83, 68, 70, 90, 70, 58, 63, 72, 65, 76, 71, 66]</code></pre><h3 id="2-1-2-按时间状况分"><a href="#2-1-2-按时间状况分" class="headerlink" title="2.1.2  按时间状况分"></a>2.1.2  按时间状况分</h3><p>2.1.2.1 纵向数据</p><p>2.1.2.2 面板数据</p><h2 id="2-2-数据的收集"><a href="#2-2-数据的收集" class="headerlink" title="2.2  数据的收集"></a>2.2  数据的收集</h2><h3 id="2-2-1-横向数据的收集"><a href="#2-2-1-横向数据的收集" class="headerlink" title="2.2.1 横向数据的收集"></a>2.2.1 横向数据的收集</h3><p>使用问卷星设计网络化调查问卷，进入问卷星 <a href="https://www.wjx.cn/">https://www.wjx.cn</a> 网站可快速设计。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">pd.set_option(<span class="string">&#x27;display.max_rows&#x27;</span>, <span class="number">10</span>)</span><br><span class="line">pd.read_excel(<span class="string">&#x27;DaPy_data.xlsx&#x27;</span>,<span class="string">&#x27;BSdata&#x27;</span>)</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>学号</th>      <th>性别</th>      <th>身高</th>      <th>体重</th>      <th>支出</th>      <th>开设</th>      <th>课程</th>      <th>软件</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>1510248008</td>      <td>女</td>      <td>167</td>      <td>71</td>      <td>46.0</td>      <td>不清楚</td>      <td>都未学过</td>      <td>No</td>    </tr>    <tr>      <th>1</th>      <td>1510229019</td>      <td>男</td>      <td>171</td>      <td>68</td>      <td>10.4</td>      <td>有必要</td>      <td>概率统计</td>      <td>Matlab</td>    </tr>    <tr>      <th>2</th>      <td>1512108019</td>      <td>女</td>      <td>175</td>      <td>73</td>      <td>21.0</td>      <td>有必要</td>      <td>统计方法</td>      <td>SPSS</td>    </tr>    <tr>      <th>3</th>      <td>1512332010</td>      <td>男</td>      <td>169</td>      <td>74</td>      <td>4.9</td>      <td>有必要</td>      <td>编程技术</td>      <td>Excel</td>    </tr>    <tr>      <th>4</th>      <td>1512331015</td>      <td>男</td>      <td>154</td>      <td>55</td>      <td>25.9</td>      <td>有必要</td>      <td>都学习过</td>      <td>Python</td>    </tr>    <tr>      <th>...</th>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>    </tr>    <tr>      <th>47</th>      <td>1538319004</td>      <td>男</td>      <td>175</td>      <td>68</td>      <td>44.4</td>      <td>不清楚</td>      <td>统计方法</td>      <td>SAS</td>    </tr>    <tr>      <th>48</th>      <td>1538254010</td>      <td>女</td>      <td>166</td>      <td>65</td>      <td>5.3</td>      <td>不清楚</td>      <td>编程技术</td>      <td>Python</td>    </tr>    <tr>      <th>49</th>      <td>1540294017</td>      <td>女</td>      <td>159</td>      <td>58</td>      <td>71.4</td>      <td>不清楚</td>      <td>都学习过</td>      <td>SPSS</td>    </tr>    <tr>      <th>50</th>      <td>1540365026</td>      <td>女</td>      <td>169</td>      <td>73</td>      <td>5.5</td>      <td>有必要</td>      <td>统计方法</td>      <td>Excel</td>    </tr>    <tr>      <th>51</th>      <td>1540388036</td>      <td>女</td>      <td>165</td>      <td>67</td>      <td>56.8</td>      <td>不必要</td>      <td>概率统计</td>      <td>SAS</td>    </tr>  </tbody></table><p>52 rows × 8 columns</p></div><h3 id="2-2-2-纵向数据的收集"><a href="#2-2-2-纵向数据的收集" class="headerlink" title="2.2.2 纵向数据的收集"></a>2.2.2 纵向数据的收集</h3><p>例2.2 季节数据：经济数据</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pd.read_excel(<span class="string">&#x27;DaPy_data.xlsx&#x27;</span>,<span class="string">&#x27;YQdata&#x27;</span>) <span class="comment">#横向表</span></span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>Year</th>      <th>Q1</th>      <th>Q2</th>      <th>Q3</th>      <th>Q4</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>2001</td>      <td>2.330</td>      <td>2.565</td>      <td>2.687</td>      <td>3.384</td>    </tr>    <tr>      <th>1</th>      <td>2002</td>      <td>2.536</td>      <td>2.797</td>      <td>2.972</td>      <td>3.728</td>    </tr>    <tr>      <th>2</th>      <td>2003</td>      <td>2.886</td>      <td>3.101</td>      <td>3.346</td>      <td>4.249</td>    </tr>    <tr>      <th>3</th>      <td>2004</td>      <td>3.342</td>      <td>3.699</td>      <td>3.956</td>      <td>4.991</td>    </tr>    <tr>      <th>4</th>      <td>2005</td>      <td>3.912</td>      <td>4.280</td>      <td>4.474</td>      <td>5.828</td>    </tr>    <tr>      <th>...</th>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>    </tr>    <tr>      <th>10</th>      <td>2011</td>      <td>9.748</td>      <td>10.901</td>      <td>11.586</td>      <td>15.076</td>    </tr>    <tr>      <th>11</th>      <td>2012</td>      <td>10.837</td>      <td>11.963</td>      <td>12.574</td>      <td>16.573</td>    </tr>    <tr>      <th>12</th>      <td>2013</td>      <td>11.886</td>      <td>12.916</td>      <td>13.908</td>      <td>20.092</td>    </tr>    <tr>      <th>13</th>      <td>2014</td>      <td>12.821</td>      <td>14.083</td>      <td>15.086</td>      <td>21.656</td>    </tr>    <tr>      <th>14</th>      <td>2015</td>      <td>14.067</td>      <td>17.351</td>      <td>17.316</td>      <td>18.937</td>    </tr>  </tbody></table><p>15 rows × 5 columns</p></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pd.read_excel(<span class="string">&#x27;DaPy_data.xlsx&#x27;</span>,<span class="string">&#x27;QTdata&#x27;</span>) <span class="comment">#纵向表</span></span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>YQ</th>      <th>GDP</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>2001Q1</td>      <td>2.330</td>    </tr>    <tr>      <th>1</th>      <td>2001Q2</td>      <td>2.565</td>    </tr>    <tr>      <th>2</th>      <td>2001Q3</td>      <td>2.687</td>    </tr>    <tr>      <th>3</th>      <td>2001Q4</td>      <td>3.384</td>    </tr>    <tr>      <th>4</th>      <td>2002Q1</td>      <td>2.536</td>    </tr>    <tr>      <th>...</th>      <td>...</td>      <td>...</td>    </tr>    <tr>      <th>55</th>      <td>2014Q4</td>      <td>21.656</td>    </tr>    <tr>      <th>56</th>      <td>2015Q1</td>      <td>14.067</td>    </tr>    <tr>      <th>57</th>      <td>2015Q2</td>      <td>17.351</td>    </tr>    <tr>      <th>58</th>      <td>2015Q3</td>      <td>17.316</td>    </tr>    <tr>      <th>59</th>      <td>2015Q4</td>      <td>18.937</td>    </tr>  </tbody></table><p>60 rows × 2 columns</p></div><p>例2.3  日期数据：股票数据</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">pd.read_excel(<span class="string">&#x27;DaPy_data.xlsx&#x27;</span>,<span class="string">&#x27;Stock&#x27;</span>)</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>date</th>      <th>Open</th>      <th>High</th>      <th>Low</th>      <th>Close</th>      <th>Volume</th>      <th>Adjusted</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>2005-01-03</td>      <td>0.70247</td>      <td>0.71728</td>      <td>0.70247</td>      <td>0.71296</td>      <td>0.0</td>      <td>0.618499</td>    </tr>    <tr>      <th>1</th>      <td>2005-01-04</td>      <td>0.70988</td>      <td>0.72145</td>      <td>0.69414</td>      <td>0.69599</td>      <td>10958717.0</td>      <td>0.603777</td>    </tr>    <tr>      <th>2</th>      <td>2005-01-05</td>      <td>0.69506</td>      <td>0.70818</td>      <td>0.69506</td>      <td>0.70525</td>      <td>6165072.0</td>      <td>0.611810</td>    </tr>    <tr>      <th>3</th>      <td>2005-01-06</td>      <td>0.70231</td>      <td>0.70648</td>      <td>0.69614</td>      <td>0.69676</td>      <td>9845971.0</td>      <td>0.604445</td>    </tr>    <tr>      <th>4</th>      <td>2005-01-07</td>      <td>0.69599</td>      <td>0.70957</td>      <td>0.69460</td>      <td>0.70201</td>      <td>13667162.0</td>      <td>0.608999</td>    </tr>    <tr>      <th>...</th>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>    </tr>    <tr>      <th>3175</th>      <td>2017-12-25</td>      <td>12.73000</td>      <td>12.74000</td>      <td>12.25000</td>      <td>12.38000</td>      <td>65681626.0</td>      <td>12.380000</td>    </tr>    <tr>      <th>3176</th>      <td>2017-12-26</td>      <td>12.46000</td>      <td>12.54000</td>      <td>12.37000</td>      <td>12.52000</td>      <td>30913299.0</td>      <td>12.520000</td>    </tr>    <tr>      <th>3177</th>      <td>2017-12-27</td>      <td>12.54000</td>      <td>12.57000</td>      <td>12.10000</td>      <td>12.18000</td>      <td>53813380.0</td>      <td>12.180000</td>    </tr>    <tr>      <th>3178</th>      <td>2017-12-28</td>      <td>12.20000</td>      <td>12.28000</td>      <td>12.06000</td>      <td>12.18000</td>      <td>33692919.0</td>      <td>12.180000</td>    </tr>    <tr>      <th>3179</th>      <td>2017-12-29</td>      <td>12.18000</td>      <td>12.33000</td>      <td>12.14000</td>      <td>12.29000</td>      <td>25372331.0</td>      <td>12.290000</td>    </tr>  </tbody></table><p>3180 rows × 7 columns</p></div><h2 id="2-3-数据的管理"><a href="#2-3-数据的管理" class="headerlink" title="2.3  数据的管理"></a>2.3  数据的管理</h2><h3 id="2-3-1-表格管理数据"><a href="#2-3-1-表格管理数据" class="headerlink" title="2.3.1 表格管理数据"></a>2.3.1 表格管理数据</h3><h3 id="2-3-2-数据库管理数据"><a href="#2-3-2-数据库管理数据" class="headerlink" title="2.3.2 数据库管理数据"></a>2.3.2 数据库管理数据</h3><h3 id="2-3-3-Python数据管理"><a href="#2-3-3-Python数据管理" class="headerlink" title="2.3.3 Python数据管理"></a>2.3.3 Python数据管理</h3><h2 id="第3章-Python-编程基础"><a href="#第3章-Python-编程基础" class="headerlink" title="第3章 Python 编程基础"></a>第3章 Python 编程基础</h2><ul><li>网上有大量的Python编程基础知识介绍，如 <a href="http://www.runoob.com/Python/Python-dictionary.html">http://www.runoob.com/Python/Python-dictionary.html</a> </li></ul><blockquote><p>由于本书重点介绍Python的数据分析，所以对Python编程的基础知识将不展开讨论。</p></blockquote><h2 id="3-1-Python-编程运算"><a href="#3-1-Python-编程运算" class="headerlink" title="3.1 Python 编程运算"></a>3.1 Python 编程运算</h2><h3 id="3-1-1-基本运算"><a href="#3-1-1-基本运算" class="headerlink" title="3.1.1 基本运算"></a>3.1.1 基本运算</h3><h3 id="3-1-2-控制语句"><a href="#3-1-2-控制语句" class="headerlink" title="3.1.2 控制语句"></a>3.1.2 控制语句</h3><ul><li>3.1.2.1 循环语句</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]: <span class="comment">#range(1,n)表示1到n-1的列表</span></span><br><span class="line">    print(i) </span><br></pre></td></tr></table></figure><pre><code>1234</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">5</span>)]  <span class="comment">#循环的简洁写法</span></span><br></pre></td></tr></table></figure><pre><code>[1, 2, 3, 4]</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#fruits = [&#x27;banana&#x27;, &#x27;apple&#x27;, &#x27;mango&#x27;] </span></span><br><span class="line"><span class="keyword">for</span> fruit <span class="keyword">in</span> [<span class="string">&#x27;banana&#x27;</span>,<span class="string">&#x27;apple&#x27;</span>,<span class="string">&#x27;mango&#x27;</span>]:  <span class="comment">#fruits: </span></span><br><span class="line">    print(<span class="string">&#x27;当前水果 :&#x27;</span>, fruit)</span><br></pre></td></tr></table></figure><pre><code>当前水果 : banana当前水果 : apple当前水果 : mango</code></pre><ul><li>3.1.2.2 条件语句</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">a = -<span class="number">100</span></span><br><span class="line"><span class="keyword">if</span> a &lt; <span class="number">100</span>:</span><br><span class="line">    print(<span class="string">&quot;a的数值小于 100&quot;</span>) </span><br><span class="line"><span class="keyword">else</span>: </span><br><span class="line">    print(<span class="string">&quot;a的数值大于 100&quot;</span>)</span><br></pre></td></tr></table></figure><pre><code>a的数值小于 100</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a <span class="keyword">if</span> a&lt;<span class="number">0</span> <span class="keyword">else</span> a   <span class="comment">#ifelse的简洁语法</span></span><br></pre></td></tr></table></figure><pre><code>-100</code></pre><h3 id="3-1-3-函数定义"><a href="#3-1-3-函数定义" class="headerlink" title="3.1.3 函数定义"></a>3.1.3 函数定义</h3><ul><li><p>3.1.3.1 内置函数</p></li><li><p>3.1.3.2 自定义函数</p></li></ul><p>def 函数名(参数1, 参数2, …)：<br>      函数体<br>    return</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">xbar</span>(<span class="params">x</span>):</span> </span><br><span class="line">    n=<span class="built_in">len</span>(x) </span><br><span class="line">    S=<span class="built_in">sum</span>([i <span class="keyword">for</span> i <span class="keyword">in</span> x])    </span><br><span class="line">    xbar=S/n              <span class="comment">#sum(x)/n</span></span><br><span class="line">    <span class="keyword">return</span>(xbar) </span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">X=[<span class="number">1</span>,<span class="number">3</span>,<span class="number">6</span>,<span class="number">4</span>,<span class="number">9</span>,<span class="number">7</span>,<span class="number">5</span>,<span class="number">8</span>,<span class="number">2</span>]; X </span><br></pre></td></tr></table></figure><pre><code>[1, 3, 6, 4, 9, 7, 5, 8, 2]</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xbar(X)</span><br></pre></td></tr></table></figure><pre><code>5.0</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">np.mean(X)         <span class="comment">#Python已内建这些函数命令，可直接使用</span></span><br></pre></td></tr></table></figure><pre><code>5.0</code></pre><h3 id="3-1-4-面向对象"><a href="#3-1-4-面向对象" class="headerlink" title="3.1.4 面向对象"></a>3.1.4 面向对象</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">SS1</span>(<span class="params">x</span>):</span>                       <span class="comment">#计算离均差平方和函数</span></span><br><span class="line">    n=<span class="built_in">len</span>(x) </span><br><span class="line">    S1=<span class="built_in">sum</span>([i <span class="keyword">for</span> i <span class="keyword">in</span> x])        <span class="comment">#计算列表的和</span></span><br><span class="line">    S2x=<span class="built_in">sum</span>([i*i <span class="keyword">for</span> i <span class="keyword">in</span> x])     <span class="comment">#计算列表的平方和</span></span><br><span class="line">    Sx2=<span class="built_in">sum</span>([i <span class="keyword">for</span> i <span class="keyword">in</span> x])**<span class="number">2</span>    <span class="comment">#计算列表和的平方</span></span><br><span class="line">    SS=S2x-Sx2/n     </span><br><span class="line">    <span class="keyword">return</span>(SS)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">X=[<span class="number">1</span>,<span class="number">3</span>,<span class="number">6</span>,<span class="number">4</span>,<span class="number">9</span>,<span class="number">7</span>,<span class="number">5</span>,<span class="number">8</span>,<span class="number">2</span>]</span><br><span class="line">SS1(X) </span><br></pre></td></tr></table></figure><pre><code>60.0</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">SS2</span>(<span class="params">x</span>):</span>                       <span class="comment">#返回多个值函数</span></span><br><span class="line">    n=<span class="built_in">len</span>(x) </span><br><span class="line">    S1=<span class="built_in">sum</span>([i <span class="keyword">for</span> i <span class="keyword">in</span> x])        <span class="comment">#计算列表的和</span></span><br><span class="line">    xbar=S1/n</span><br><span class="line">    S2x=<span class="built_in">sum</span>([i*i <span class="keyword">for</span> i <span class="keyword">in</span> x])     <span class="comment">#计算列表的平方和</span></span><br><span class="line">    Sx2=<span class="built_in">sum</span>([i <span class="keyword">for</span> i <span class="keyword">in</span> x])**<span class="number">2</span>    <span class="comment">#计算列表和的平方</span></span><br><span class="line">    SS=S2x-Sx2/n     </span><br><span class="line">    <span class="keyword">return</span>[n,S1,xbar,S2x,Sx2,SS]  </span><br><span class="line">    <span class="comment">#返回例数、均值、平方和、和的平方、离均差平方和的列表</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SS2(X)  </span><br></pre></td></tr></table></figure><pre><code>[9, 45, 5.0, 285, 2025, 60.0]</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SS2(X)[<span class="number">0</span>] <span class="comment">#取第 1 个对象 </span></span><br></pre></td></tr></table></figure><pre><code>9</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SS2(X)[<span class="number">1</span>] <span class="comment">#取第 2 个对象 </span></span><br></pre></td></tr></table></figure><pre><code>45</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SS2(X)[<span class="number">2</span>] <span class="comment">#取第 3 个对象 </span></span><br></pre></td></tr></table></figure><pre><code>5.0</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SS2(X)[<span class="number">3</span>] <span class="comment">#取第 4 个对象 </span></span><br></pre></td></tr></table></figure><pre><code>285</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SS2(X)[<span class="number">4</span>] <span class="comment">#取第 5 个对象</span></span><br></pre></td></tr></table></figure><pre><code>2025</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SS2(X)[<span class="number">5</span>] <span class="comment">#取第 6 个对象</span></span><br></pre></td></tr></table></figure><pre><code>60.0</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#可以使用 type 函数来查看数据或对象的类型</span></span><br><span class="line"><span class="built_in">type</span>(SS2(X)) </span><br></pre></td></tr></table></figure><pre><code>list</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">type</span>(SS2(X)[<span class="number">3</span>]) </span><br></pre></td></tr></table></figure><pre><code>int</code></pre><h2 id="3-2-数值分析库-numpy"><a href="#3-2-数值分析库-numpy" class="headerlink" title="3.2 数值分析库 numpy"></a>3.2 数值分析库 numpy</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> IPython.core.interactiveshell <span class="keyword">import</span> InteractiveShell <span class="keyword">as</span> IS</span><br><span class="line">IS.ast_node_interactivity = <span class="string">&quot;all&quot;</span>            <span class="comment">#多行命令一次输出</span></span><br></pre></td></tr></table></figure><h2 id="3-2-1-一维数组"><a href="#3-2-1-一维数组" class="headerlink" title="3.2.1 一维数组"></a>3.2.1 一维数组</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np         <span class="comment">#加载数组包</span></span><br><span class="line">np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>])      <span class="comment">#一维数组</span></span><br></pre></td></tr></table></figure><pre><code>array([1, 2, 3, 4, 5])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,np.nan,<span class="number">5</span>]) <span class="comment">#包含缺失值的数</span></span><br></pre></td></tr></table></figure><pre><code>array([ 1.,  2.,  3., nan,  5.])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.arange(<span class="number">9</span>)               <span class="comment">#数组序列 </span></span><br></pre></td></tr></table></figure><pre><code>array([0, 1, 2, 3, 4, 5, 6, 7, 8])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.arange(<span class="number">1</span>,<span class="number">19</span>,<span class="number">0.5</span>)         <span class="comment">#等差数列 </span></span><br></pre></td></tr></table></figure><pre><code>array([ 1. ,  1.5,  2. ,  2.5,  3. ,  3.5,  4. ,  4.5,  5. ,  5.5,  6. ,        6.5,  7. ,  7.5,  8. ,  8.5,  9. ,  9.5, 10. , 10.5, 11. , 11.5,       12. , 12.5, 13. , 13.5, 14. , 14.5, 15. , 15.5, 16. , 16.5, 17. ,       17.5, 18. , 18.5])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.linspace(<span class="number">1</span>,<span class="number">19</span>,<span class="number">5</span>)         <span class="comment">#等距数列</span></span><br></pre></td></tr></table></figure><pre><code>array([ 1. ,  5.5, 10. , 14.5, 19. ])</code></pre><h3 id="3-2-2-二维数组"><a href="#3-2-2-二维数组" class="headerlink" title="3.2.2 二维数组"></a>3.2.2 二维数组</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">B=np.array([[<span class="number">1</span>,<span class="number">2</span>],[<span class="number">3</span>,<span class="number">4</span>],[<span class="number">5</span>,<span class="number">7</span>]]);B   <span class="comment">#二维数组</span></span><br></pre></td></tr></table></figure><pre><code>array([[1, 2],       [3, 4],       [5, 7]])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.array([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>],[<span class="number">5</span>,<span class="number">6</span>,<span class="number">6</span>]])   <span class="comment">#二维数组</span></span><br></pre></td></tr></table></figure><pre><code>array([[1, 2, 3],       [3, 4, 5],       [5, 6, 6]])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">A=np.arange(<span class="number">9</span>).reshape((<span class="number">3</span>,<span class="number">3</span>));A <span class="comment">#形成 3×3 矩阵</span></span><br></pre></td></tr></table></figure><pre><code>array([[0, 1, 2],       [3, 4, 5],       [6, 7, 8]])</code></pre><h3 id="3-2-3-数组的操作"><a href="#3-2-3-数组的操作" class="headerlink" title="3.2.3 数组的操作"></a>3.2.3 数组的操作</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">A.shape            <span class="comment">#数组的维度</span></span><br></pre></td></tr></table></figure><pre><code>(3, 3)</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">A.shape[<span class="number">0</span>]        <span class="comment">#数组的行数</span></span><br></pre></td></tr></table></figure><pre><code>3</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">A.shape[<span class="number">1</span>]        <span class="comment">#数组的列数</span></span><br></pre></td></tr></table></figure><pre><code>3</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">B.shape</span><br></pre></td></tr></table></figure><pre><code>(3, 2)</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.diag(A)         <span class="comment">#对角阵    </span></span><br></pre></td></tr></table></figure><pre><code>array([0, 4, 8])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Z=np.zeros((<span class="number">3</span>,<span class="number">3</span>));Z    <span class="comment">#零矩阵 </span></span><br></pre></td></tr></table></figure><pre><code>array([[0., 0., 0.],       [0., 0., 0.],       [0., 0., 0.]])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">J=np.ones((<span class="number">3</span>,<span class="number">3</span>));J     <span class="comment">#1矩阵</span></span><br></pre></td></tr></table></figure><pre><code>array([[1., 1., 1.],       [1., 1., 1.],       [1., 1., 1.]])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">I=np.eye(<span class="number">3</span>);I          <span class="comment">#单位阵</span></span><br></pre></td></tr></table></figure><pre><code>array([[1., 0., 0.],       [0., 1., 0.],       [0., 0., 1.]])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Z+J+I</span><br></pre></td></tr></table></figure><pre><code>array([[2., 1., 1.],       [1., 2., 1.],       [1., 1., 2.]])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">I*J</span><br></pre></td></tr></table></figure><pre><code>array([[1., 0., 0.],       [0., 1., 0.],       [0., 0., 1.]])</code></pre><h2 id="3-3-数据分析库-pandas"><a href="#3-3-数据分析库-pandas" class="headerlink" title="3.3 数据分析库 pandas"></a>3.3 数据分析库 pandas</h2><h3 id="3-3-1-序列：Series"><a href="#3-3-1-序列：Series" class="headerlink" title="3.3.1 序列：Series"></a>3.3.1 序列：Series</h3><p>（1）创建序列（向量、一维数组）</p><p>（2）生成序列 </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd   <span class="comment">#加载数据分析包</span></span><br><span class="line"><span class="comment">#pd.Series()           #生成空序列 </span></span><br></pre></td></tr></table></figure><p>（3）根据列表构建序列</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">X=[<span class="number">1</span>,<span class="number">3</span>,<span class="number">6</span>,<span class="number">4</span>,<span class="number">9</span>];X</span><br><span class="line">weight=[<span class="number">67</span>,<span class="number">66</span>,<span class="number">83</span>,<span class="number">68</span>,<span class="number">70</span>]; weight</span><br><span class="line">sex=[<span class="string">&#x27;女&#x27;</span>,<span class="string">&#x27;男&#x27;</span>,<span class="string">&#x27;男&#x27;</span>,<span class="string">&#x27;女&#x27;</span>,<span class="string">&#x27;男&#x27;</span>]; sex</span><br></pre></td></tr></table></figure><pre><code>[1, 3, 6, 4, 9][67, 66, 83, 68, 70][&#39;女&#39;, &#39;男&#39;, &#39;男&#39;, &#39;女&#39;, &#39;男&#39;]</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">S1=pd.Series(X);S1 </span><br></pre></td></tr></table></figure><pre><code>0    11    32    63    44    9dtype: int64</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">S2=pd.Series(weight);S2 </span><br></pre></td></tr></table></figure><pre><code>0    671    662    833    684    70dtype: int64</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">S3=pd.Series(sex);S3</span><br></pre></td></tr></table></figure><pre><code>0    女1    男2    男3    女4    男dtype: object</code></pre><p>（4）序列合并 </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pd.concat([S2,S3],axis=<span class="number">0</span>)   <span class="comment">#按行合并</span></span><br></pre></td></tr></table></figure><pre><code>0    671    662    833    684    700     女1     男2     男3     女4     男dtype: object</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pd.concat([S1,S3],axis=<span class="number">1</span>)  <span class="comment">#按列合并</span></span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>0</th>      <th>1</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>1</td>      <td>女</td>    </tr>    <tr>      <th>1</th>      <td>3</td>      <td>男</td>    </tr>    <tr>      <th>2</th>      <td>6</td>      <td>男</td>    </tr>    <tr>      <th>3</th>      <td>4</td>      <td>女</td>    </tr>    <tr>      <th>4</th>      <td>9</td>      <td>男</td>    </tr>  </tbody></table></div><p>（5）序列切片</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">S1[<span class="number">2</span>] </span><br></pre></td></tr></table></figure><pre><code>6</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">S3[<span class="number">1</span>:<span class="number">4</span>]</span><br></pre></td></tr></table></figure><pre><code>1    男2    男3    女dtype: object</code></pre><h3 id="3-3-2-数据框：DataFrame"><a href="#3-3-2-数据框：DataFrame" class="headerlink" title="3.3.2 数据框：DataFrame"></a>3.3.2 数据框：DataFrame</h3><p>（1）生成数据框 </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pd.DataFrame()      <span class="comment">#生成空数据框</span></span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>    </tr>  </thead>  <tbody>  </tbody></table></div><p>（2）根据列表创建数据框</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pd.DataFrame(X) </span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>0</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>1</td>    </tr>    <tr>      <th>1</th>      <td>3</td>    </tr>    <tr>      <th>2</th>      <td>6</td>    </tr>    <tr>      <th>3</th>      <td>4</td>    </tr>    <tr>      <th>4</th>      <td>9</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pd.DataFrame(weight,columns=[<span class="string">&#x27;weight&#x27;</span>], index=[<span class="string">&#x27;A&#x27;</span>,<span class="string">&#x27;B&#x27;</span>,<span class="string">&#x27;C&#x27;</span>,<span class="string">&#x27;D&#x27;</span>,<span class="string">&#x27;E&#x27;</span>])</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>weight</th>    </tr>  </thead>  <tbody>    <tr>      <th>A</th>      <td>67</td>    </tr>    <tr>      <th>B</th>      <td>66</td>    </tr>    <tr>      <th>C</th>      <td>83</td>    </tr>    <tr>      <th>D</th>      <td>68</td>    </tr>    <tr>      <th>E</th>      <td>70</td>    </tr>  </tbody></table></div><p>（3）根据字典创建数据框</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df1=pd.DataFrame(&#123;<span class="string">&#x27;S1&#x27;</span>:S1,<span class="string">&#x27;S2&#x27;</span>:S2,<span class="string">&#x27;S3&#x27;</span>:S3&#125;); df1 </span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>S1</th>      <th>S2</th>      <th>S3</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>1</td>      <td>67</td>      <td>女</td>    </tr>    <tr>      <th>1</th>      <td>3</td>      <td>66</td>      <td>男</td>    </tr>    <tr>      <th>2</th>      <td>6</td>      <td>83</td>      <td>男</td>    </tr>    <tr>      <th>3</th>      <td>4</td>      <td>68</td>      <td>女</td>    </tr>    <tr>      <th>4</th>      <td>9</td>      <td>70</td>      <td>男</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df2=pd.DataFrame(&#123;<span class="string">&#x27;sex&#x27;</span>:sex,<span class="string">&#x27;weight&#x27;</span>:weight&#125;,index=X);df2 </span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>sex</th>      <th>weight</th>    </tr>  </thead>  <tbody>    <tr>      <th>1</th>      <td>女</td>      <td>67</td>    </tr>    <tr>      <th>3</th>      <td>男</td>      <td>66</td>    </tr>    <tr>      <th>6</th>      <td>男</td>      <td>83</td>    </tr>    <tr>      <th>4</th>      <td>女</td>      <td>68</td>    </tr>    <tr>      <th>9</th>      <td>男</td>      <td>70</td>    </tr>  </tbody></table></div><p>（4）增加数据框列</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df2[<span class="string">&#x27;weight2&#x27;</span>]=df2[<span class="string">&#x27;weight&#x27;</span>]**<span class="number">2</span>; df2 </span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>sex</th>      <th>weight</th>      <th>weight2</th>    </tr>  </thead>  <tbody>    <tr>      <th>1</th>      <td>女</td>      <td>67</td>      <td>4489</td>    </tr>    <tr>      <th>3</th>      <td>男</td>      <td>66</td>      <td>4356</td>    </tr>    <tr>      <th>6</th>      <td>男</td>      <td>83</td>      <td>6889</td>    </tr>    <tr>      <th>4</th>      <td>女</td>      <td>68</td>      <td>4624</td>    </tr>    <tr>      <th>9</th>      <td>男</td>      <td>70</td>      <td>4900</td>    </tr>  </tbody></table></div><p>（5）删除数据框列</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">del</span> df2[<span class="string">&#x27;weight2&#x27;</span>]; df2</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>sex</th>      <th>weight</th>    </tr>  </thead>  <tbody>    <tr>      <th>1</th>      <td>女</td>      <td>67</td>    </tr>    <tr>      <th>3</th>      <td>男</td>      <td>66</td>    </tr>    <tr>      <th>6</th>      <td>男</td>      <td>83</td>    </tr>    <tr>      <th>4</th>      <td>女</td>      <td>68</td>    </tr>    <tr>      <th>9</th>      <td>男</td>      <td>70</td>    </tr>  </tbody></table></div><p>（6）缺失值处理</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df3=pd.DataFrame(&#123;<span class="string">&#x27;S2&#x27;</span>:S2,<span class="string">&#x27;S3&#x27;</span>:S3&#125;,index=S1);df3 </span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>S2</th>      <th>S3</th>    </tr>  </thead>  <tbody>    <tr>      <th>1</th>      <td>66.0</td>      <td>男</td>    </tr>    <tr>      <th>3</th>      <td>68.0</td>      <td>女</td>    </tr>    <tr>      <th>6</th>      <td>NaN</td>      <td>NaN</td>    </tr>    <tr>      <th>4</th>      <td>70.0</td>      <td>男</td>    </tr>    <tr>      <th>9</th>      <td>NaN</td>      <td>NaN</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df3.isnull()        <span class="comment">#是缺失值则返回 True，否则返回 False </span></span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>S2</th>      <th>S3</th>    </tr>  </thead>  <tbody>    <tr>      <th>1</th>      <td>False</td>      <td>False</td>    </tr>    <tr>      <th>3</th>      <td>False</td>      <td>False</td>    </tr>    <tr>      <th>6</th>      <td>True</td>      <td>True</td>    </tr>    <tr>      <th>4</th>      <td>False</td>      <td>False</td>    </tr>    <tr>      <th>9</th>      <td>True</td>      <td>True</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df3.isnull().<span class="built_in">sum</span>()  <span class="comment">#返回每列包含的缺失值的个数 </span></span><br></pre></td></tr></table></figure><pre><code>S2    2S3    2dtype: int64</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df3.dropna()       <span class="comment">#直接删除含有缺失值的行，多变量谨慎使用 </span></span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>S2</th>      <th>S3</th>    </tr>  </thead>  <tbody>    <tr>      <th>1</th>      <td>66.0</td>      <td>男</td>    </tr>    <tr>      <th>3</th>      <td>68.0</td>      <td>女</td>    </tr>    <tr>      <th>4</th>      <td>70.0</td>      <td>男</td>    </tr>  </tbody></table></div><p>（7）数据框排序 </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">df3</span><br><span class="line">df3.sort_index()         <span class="comment">#按index排序 </span></span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>S2</th>      <th>S3</th>    </tr>  </thead>  <tbody>    <tr>      <th>1</th>      <td>66.0</td>      <td>男</td>    </tr>    <tr>      <th>3</th>      <td>68.0</td>      <td>女</td>    </tr>    <tr>      <th>6</th>      <td>NaN</td>      <td>NaN</td>    </tr>    <tr>      <th>4</th>      <td>70.0</td>      <td>男</td>    </tr>    <tr>      <th>9</th>      <td>NaN</td>      <td>NaN</td>    </tr>  </tbody></table></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>S2</th>      <th>S3</th>    </tr>  </thead>  <tbody>    <tr>      <th>1</th>      <td>66.0</td>      <td>男</td>    </tr>    <tr>      <th>3</th>      <td>68.0</td>      <td>女</td>    </tr>    <tr>      <th>4</th>      <td>70.0</td>      <td>男</td>    </tr>    <tr>      <th>6</th>      <td>NaN</td>      <td>NaN</td>    </tr>    <tr>      <th>9</th>      <td>NaN</td>      <td>NaN</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df3.sort_values(by=<span class="string">&#x27;S3&#x27;</span>) <span class="comment">#按S3列值排序 </span></span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>S2</th>      <th>S3</th>    </tr>  </thead>  <tbody>    <tr>      <th>3</th>      <td>68.0</td>      <td>女</td>    </tr>    <tr>      <th>1</th>      <td>66.0</td>      <td>男</td>    </tr>    <tr>      <th>4</th>      <td>70.0</td>      <td>男</td>    </tr>    <tr>      <th>6</th>      <td>NaN</td>      <td>NaN</td>    </tr>    <tr>      <th>9</th>      <td>NaN</td>      <td>NaN</td>    </tr>  </tbody></table></div><h3 id="3-3-3-数据框的读写"><a href="#3-3-3-数据框的读写" class="headerlink" title="3.3.3 数据框的读写"></a>3.3.3 数据框的读写</h3><ul><li>3.3.3.1 pandas 读取数据集 </li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">pd.set_option(<span class="string">&#x27;display.max_rows&#x27;</span>, <span class="number">10</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#BSdata=pd.read_clipboard(); #从剪切板上复制数据 </span></span><br><span class="line"><span class="comment">#BSdata   #BSdata.head() 见下节</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">BSdata=pd.read_csv(<span class="string">&quot;DaPy_BS.csv&quot;</span>,encoding=<span class="string">&#x27;utf-8&#x27;</span>)  <span class="comment">#GBK </span></span><br><span class="line">BSdata</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>学号</th>      <th>性别</th>      <th>身高</th>      <th>体重</th>      <th>支出</th>      <th>开设</th>      <th>课程</th>      <th>软件</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>1510248008</td>      <td>女</td>      <td>167</td>      <td>71</td>      <td>46.0</td>      <td>不清楚</td>      <td>都未学过</td>      <td>No</td>    </tr>    <tr>      <th>1</th>      <td>1510229019</td>      <td>男</td>      <td>171</td>      <td>68</td>      <td>10.4</td>      <td>有必要</td>      <td>概率统计</td>      <td>Matlab</td>    </tr>    <tr>      <th>2</th>      <td>1512108019</td>      <td>女</td>      <td>175</td>      <td>73</td>      <td>21.0</td>      <td>有必要</td>      <td>统计方法</td>      <td>SPSS</td>    </tr>    <tr>      <th>3</th>      <td>1512332010</td>      <td>男</td>      <td>169</td>      <td>74</td>      <td>4.9</td>      <td>有必要</td>      <td>编程技术</td>      <td>Excel</td>    </tr>    <tr>      <th>4</th>      <td>1512331015</td>      <td>男</td>      <td>154</td>      <td>55</td>      <td>25.9</td>      <td>有必要</td>      <td>都学习过</td>      <td>Python</td>    </tr>    <tr>      <th>...</th>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>    </tr>    <tr>      <th>47</th>      <td>1538319004</td>      <td>男</td>      <td>175</td>      <td>68</td>      <td>44.4</td>      <td>不清楚</td>      <td>统计方法</td>      <td>SAS</td>    </tr>    <tr>      <th>48</th>      <td>1538254010</td>      <td>女</td>      <td>166</td>      <td>65</td>      <td>5.3</td>      <td>不清楚</td>      <td>编程技术</td>      <td>Python</td>    </tr>    <tr>      <th>49</th>      <td>1540294017</td>      <td>女</td>      <td>159</td>      <td>58</td>      <td>71.4</td>      <td>不清楚</td>      <td>都学习过</td>      <td>SPSS</td>    </tr>    <tr>      <th>50</th>      <td>1540365026</td>      <td>女</td>      <td>169</td>      <td>73</td>      <td>5.5</td>      <td>有必要</td>      <td>统计方法</td>      <td>Excel</td>    </tr>    <tr>      <th>51</th>      <td>1540388036</td>      <td>女</td>      <td>165</td>      <td>67</td>      <td>56.8</td>      <td>不必要</td>      <td>概率统计</td>      <td>SAS</td>    </tr>  </tbody></table><p>52 rows × 8 columns</p></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BSdata=pd.read_excel(<span class="string">&#x27;DaPy_data.xlsx&#x27;</span>,<span class="string">&#x27;BSdata&#x27;</span>);<span class="comment"># BSdata</span></span><br></pre></td></tr></table></figure><p>3.3.3.2 pandas 数据集的保存 </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BSdata.to_csv(<span class="string">&#x27;BSdata1.csv&#x27;</span>)    <span class="comment">#将数据框BSdata保存到BSdata.csv文档中</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#将数据框 BSdata 保存到BSdata1.xlsx 文档中</span></span><br><span class="line">BSdata.to_excel(<span class="string">&#x27;BSdata.xlsx&#x27;</span>,index=<span class="literal">False</span>)  <span class="comment">#index=False表示不保存行标签</span></span><br></pre></td></tr></table></figure><h3 id="3-3-4-数据框的操作"><a href="#3-3-4-数据框的操作" class="headerlink" title="3.3.4 数据框的操作"></a>3.3.4 数据框的操作</h3><ul><li>（1）基本信息</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BSdata.info()     <span class="comment">#数据框信息</span></span><br></pre></td></tr></table></figure><pre><code>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;RangeIndex: 52 entries, 0 to 51Data columns (total 8 columns): #   Column  Non-Null Count  Dtype  ---  ------  --------------  -----   0   学号      52 non-null     int64   1   性别      52 non-null     object  2   身高      52 non-null     int64   3   体重      52 non-null     int64   4   支出      52 non-null     float64 5   开设      52 non-null     object  6   课程      52 non-null     object  7   软件      52 non-null     object dtypes: float64(1), int64(3), object(4)memory usage: 3.4+ KB</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BSdata.head(<span class="number">10</span>)     <span class="comment">#显示前5行 </span></span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>学号</th>      <th>性别</th>      <th>身高</th>      <th>体重</th>      <th>支出</th>      <th>开设</th>      <th>课程</th>      <th>软件</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>1510248008</td>      <td>女</td>      <td>167</td>      <td>71</td>      <td>46.0</td>      <td>不清楚</td>      <td>都未学过</td>      <td>No</td>    </tr>    <tr>      <th>1</th>      <td>1510229019</td>      <td>男</td>      <td>171</td>      <td>68</td>      <td>10.4</td>      <td>有必要</td>      <td>概率统计</td>      <td>Matlab</td>    </tr>    <tr>      <th>2</th>      <td>1512108019</td>      <td>女</td>      <td>175</td>      <td>73</td>      <td>21.0</td>      <td>有必要</td>      <td>统计方法</td>      <td>SPSS</td>    </tr>    <tr>      <th>3</th>      <td>1512332010</td>      <td>男</td>      <td>169</td>      <td>74</td>      <td>4.9</td>      <td>有必要</td>      <td>编程技术</td>      <td>Excel</td>    </tr>    <tr>      <th>4</th>      <td>1512331015</td>      <td>男</td>      <td>154</td>      <td>55</td>      <td>25.9</td>      <td>有必要</td>      <td>都学习过</td>      <td>Python</td>    </tr>    <tr>      <th>5</th>      <td>1516248014</td>      <td>男</td>      <td>183</td>      <td>76</td>      <td>85.6</td>      <td>不必要</td>      <td>编程技术</td>      <td>Excel</td>    </tr>    <tr>      <th>6</th>      <td>1516352030</td>      <td>女</td>      <td>169</td>      <td>71</td>      <td>9.1</td>      <td>有必要</td>      <td>编程技术</td>      <td>Excel</td>    </tr>    <tr>      <th>7</th>      <td>1516171019</td>      <td>女</td>      <td>166</td>      <td>66</td>      <td>2.5</td>      <td>不必要</td>      <td>都未学过</td>      <td>Excel</td>    </tr>    <tr>      <th>8</th>      <td>1516391008</td>      <td>女</td>      <td>165</td>      <td>69</td>      <td>35.6</td>      <td>不必要</td>      <td>都未学过</td>      <td>Excel</td>    </tr>    <tr>      <th>9</th>      <td>1520395019</td>      <td>男</td>      <td>173</td>      <td>63</td>      <td>22.8</td>      <td>有必要</td>      <td>统计方法</td>      <td>R</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BSdata.tail(<span class="number">10</span>)     <span class="comment">#显示后5行</span></span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>学号</th>      <th>性别</th>      <th>身高</th>      <th>体重</th>      <th>支出</th>      <th>开设</th>      <th>课程</th>      <th>软件</th>    </tr>  </thead>  <tbody>    <tr>      <th>42</th>      <td>1537288004</td>      <td>女</td>      <td>173</td>      <td>70</td>      <td>19.1</td>      <td>不清楚</td>      <td>编程技术</td>      <td>Python</td>    </tr>    <tr>      <th>43</th>      <td>1537359035</td>      <td>女</td>      <td>174</td>      <td>71</td>      <td>17.6</td>      <td>不清楚</td>      <td>概率统计</td>      <td>No</td>    </tr>    <tr>      <th>44</th>      <td>1438391022</td>      <td>女</td>      <td>164</td>      <td>62</td>      <td>10.3</td>      <td>有必要</td>      <td>编程技术</td>      <td>Python</td>    </tr>    <tr>      <th>45</th>      <td>1538399025</td>      <td>男</td>      <td>169</td>      <td>65</td>      <td>9.5</td>      <td>有必要</td>      <td>统计方法</td>      <td>SAS</td>    </tr>    <tr>      <th>46</th>      <td>1438120022</td>      <td>男</td>      <td>166</td>      <td>70</td>      <td>35.6</td>      <td>有必要</td>      <td>统计方法</td>      <td>R</td>    </tr>    <tr>      <th>47</th>      <td>1538319004</td>      <td>男</td>      <td>175</td>      <td>68</td>      <td>44.4</td>      <td>不清楚</td>      <td>统计方法</td>      <td>SAS</td>    </tr>    <tr>      <th>48</th>      <td>1538254010</td>      <td>女</td>      <td>166</td>      <td>65</td>      <td>5.3</td>      <td>不清楚</td>      <td>编程技术</td>      <td>Python</td>    </tr>    <tr>      <th>49</th>      <td>1540294017</td>      <td>女</td>      <td>159</td>      <td>58</td>      <td>71.4</td>      <td>不清楚</td>      <td>都学习过</td>      <td>SPSS</td>    </tr>    <tr>      <th>50</th>      <td>1540365026</td>      <td>女</td>      <td>169</td>      <td>73</td>      <td>5.5</td>      <td>有必要</td>      <td>统计方法</td>      <td>Excel</td>    </tr>    <tr>      <th>51</th>      <td>1540388036</td>      <td>女</td>      <td>165</td>      <td>67</td>      <td>56.8</td>      <td>不必要</td>      <td>概率统计</td>      <td>SAS</td>    </tr>  </tbody></table></div><ul><li>（2）数据框列名（变量名） </li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BSdata.columns    <span class="comment">#查看列名称 </span></span><br></pre></td></tr></table></figure><pre><code>Index([&#39;学号&#39;, &#39;性别&#39;, &#39;身高&#39;, &#39;体重&#39;, &#39;支出&#39;, &#39;开设&#39;, &#39;课程&#39;, &#39;软件&#39;], dtype=&#39;object&#39;)</code></pre><ul><li>（3）数据框行名（样品名） </li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BSdata.index      <span class="comment">#数据框行名 </span></span><br></pre></td></tr></table></figure><pre><code>RangeIndex(start=0, stop=52, step=1)</code></pre><ul><li>（4）数据框维度</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BSdata.shape      <span class="comment">#显示数据框的行数和列数</span></span><br></pre></td></tr></table></figure><pre><code>(52, 8)</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BSdata.shape[<span class="number">0</span>]   <span class="comment">#数据框行数 </span></span><br></pre></td></tr></table></figure><pre><code>52</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BSdata.shape[<span class="number">1</span>]   <span class="comment">#数据框列数</span></span><br></pre></td></tr></table></figure><pre><code>8</code></pre><ul><li>（5）数据框值（数组） </li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BSdata.values[:<span class="number">5</span>] <span class="comment">#数据框值数组 </span></span><br></pre></td></tr></table></figure><pre><code>array([[1510248008, &#39;女&#39;, 167, 71, 46.0, &#39;不清楚&#39;, &#39;都未学过&#39;, &#39;No&#39;],       [1510229019, &#39;男&#39;, 171, 68, 10.4, &#39;有必要&#39;, &#39;概率统计&#39;, &#39;Matlab&#39;],       [1512108019, &#39;女&#39;, 175, 73, 21.0, &#39;有必要&#39;, &#39;统计方法&#39;, &#39;SPSS&#39;],       [1512332010, &#39;男&#39;, 169, 74, 4.9, &#39;有必要&#39;, &#39;编程技术&#39;, &#39;Excel&#39;],       [1512331015, &#39;男&#39;, 154, 55, 25.9, &#39;有必要&#39;, &#39;都学习过&#39;, &#39;Python&#39;]],      dtype=object)</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">BSdata.head()</span><br><span class="line">BSdata.tail()</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>学号</th>      <th>性别</th>      <th>身高</th>      <th>体重</th>      <th>支出</th>      <th>开设</th>      <th>课程</th>      <th>软件</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>1510248008</td>      <td>女</td>      <td>167</td>      <td>71</td>      <td>46.0</td>      <td>不清楚</td>      <td>都未学过</td>      <td>No</td>    </tr>    <tr>      <th>1</th>      <td>1510229019</td>      <td>男</td>      <td>171</td>      <td>68</td>      <td>10.4</td>      <td>有必要</td>      <td>概率统计</td>      <td>Matlab</td>    </tr>    <tr>      <th>2</th>      <td>1512108019</td>      <td>女</td>      <td>175</td>      <td>73</td>      <td>21.0</td>      <td>有必要</td>      <td>统计方法</td>      <td>SPSS</td>    </tr>    <tr>      <th>3</th>      <td>1512332010</td>      <td>男</td>      <td>169</td>      <td>74</td>      <td>4.9</td>      <td>有必要</td>      <td>编程技术</td>      <td>Excel</td>    </tr>    <tr>      <th>4</th>      <td>1512331015</td>      <td>男</td>      <td>154</td>      <td>55</td>      <td>25.9</td>      <td>有必要</td>      <td>都学习过</td>      <td>Python</td>    </tr>  </tbody></table></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>学号</th>      <th>性别</th>      <th>身高</th>      <th>体重</th>      <th>支出</th>      <th>开设</th>      <th>课程</th>      <th>软件</th>    </tr>  </thead>  <tbody>    <tr>      <th>47</th>      <td>1538319004</td>      <td>男</td>      <td>175</td>      <td>68</td>      <td>44.4</td>      <td>不清楚</td>      <td>统计方法</td>      <td>SAS</td>    </tr>    <tr>      <th>48</th>      <td>1538254010</td>      <td>女</td>      <td>166</td>      <td>65</td>      <td>5.3</td>      <td>不清楚</td>      <td>编程技术</td>      <td>Python</td>    </tr>    <tr>      <th>49</th>      <td>1540294017</td>      <td>女</td>      <td>159</td>      <td>58</td>      <td>71.4</td>      <td>不清楚</td>      <td>都学习过</td>      <td>SPSS</td>    </tr>    <tr>      <th>50</th>      <td>1540365026</td>      <td>女</td>      <td>169</td>      <td>73</td>      <td>5.5</td>      <td>有必要</td>      <td>统计方法</td>      <td>Excel</td>    </tr>    <tr>      <th>51</th>      <td>1540388036</td>      <td>女</td>      <td>165</td>      <td>67</td>      <td>56.8</td>      <td>不必要</td>      <td>概率统计</td>      <td>SAS</td>    </tr>  </tbody></table></div><ul><li>3.3.4.2 选取变量</li></ul><p>（1）[‘ ‘]或“.”法或：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BSdata[<span class="string">&#x27;身高&#x27;</span>].head()          <span class="comment">#取一列数据，一列时也可用BSdata.身高</span></span><br></pre></td></tr></table></figure><pre><code>0    1671    1712    1753    1694    154Name: 身高, dtype: int64</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BSdata.身高.head()</span><br></pre></td></tr></table></figure><pre><code>0    1671    1712    1753    1694    154Name: 身高, dtype: int64</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BSdata[[<span class="string">&#x27;性别&#x27;</span>,<span class="string">&#x27;身高&#x27;</span>,<span class="string">&#x27;体重&#x27;</span>]].head() <span class="comment">#取两列数据 </span></span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>性别</th>      <th>身高</th>      <th>体重</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>女</td>      <td>167</td>      <td>71</td>    </tr>    <tr>      <th>1</th>      <td>男</td>      <td>171</td>      <td>68</td>    </tr>    <tr>      <th>2</th>      <td>女</td>      <td>175</td>      <td>73</td>    </tr>    <tr>      <th>3</th>      <td>男</td>      <td>169</td>      <td>74</td>    </tr>    <tr>      <th>4</th>      <td>男</td>      <td>154</td>      <td>55</td>    </tr>  </tbody></table></div><p>（2）下标法：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BSdata.iloc[<span class="number">1</span>:<span class="number">3</span>,<span class="number">2</span>:<span class="number">4</span>]      <span class="comment">#取第1列 </span></span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>身高</th>      <th>体重</th>    </tr>  </thead>  <tbody>    <tr>      <th>1</th>      <td>171</td>      <td>68</td>    </tr>    <tr>      <th>2</th>      <td>175</td>      <td>73</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BSdata.iloc[<span class="number">1</span>:<span class="number">10</span>,<span class="number">2</span>:<span class="number">4</span>]   <span class="comment">#取3、4列 </span></span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>身高</th>      <th>体重</th>    </tr>  </thead>  <tbody>    <tr>      <th>1</th>      <td>171</td>      <td>68</td>    </tr>    <tr>      <th>2</th>      <td>175</td>      <td>73</td>    </tr>    <tr>      <th>3</th>      <td>169</td>      <td>74</td>    </tr>    <tr>      <th>4</th>      <td>154</td>      <td>55</td>    </tr>    <tr>      <th>5</th>      <td>183</td>      <td>76</td>    </tr>    <tr>      <th>6</th>      <td>169</td>      <td>71</td>    </tr>    <tr>      <th>7</th>      <td>166</td>      <td>66</td>    </tr>    <tr>      <th>8</th>      <td>165</td>      <td>69</td>    </tr>    <tr>      <th>9</th>      <td>173</td>      <td>63</td>    </tr>  </tbody></table></div><ul><li>3.3.4.3 提取样品 </li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BSdata.loc[<span class="number">3</span>]        <span class="comment">#取第4行 </span></span><br></pre></td></tr></table></figure><pre><code>学号    1512332010性别             男身高           169体重            74支出           4.9开设           有必要课程          编程技术软件         ExcelName: 3, dtype: object</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BSdata.loc[<span class="number">3</span>:<span class="number">5</span>]      <span class="comment">#取3至5行 </span></span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>学号</th>      <th>性别</th>      <th>身高</th>      <th>体重</th>      <th>支出</th>      <th>开设</th>      <th>课程</th>      <th>软件</th>    </tr>  </thead>  <tbody>    <tr>      <th>3</th>      <td>1512332010</td>      <td>男</td>      <td>169</td>      <td>74</td>      <td>4.9</td>      <td>有必要</td>      <td>编程技术</td>      <td>Excel</td>    </tr>    <tr>      <th>4</th>      <td>1512331015</td>      <td>男</td>      <td>154</td>      <td>55</td>      <td>25.9</td>      <td>有必要</td>      <td>都学习过</td>      <td>Python</td>    </tr>    <tr>      <th>5</th>      <td>1516248014</td>      <td>男</td>      <td>183</td>      <td>76</td>      <td>85.6</td>      <td>不必要</td>      <td>编程技术</td>      <td>Excel</td>    </tr>  </tbody></table></div><ul><li>3.3.4.4  选取观测与变量</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BSdata.loc[<span class="number">1</span>:<span class="number">3</span>,[<span class="string">&#x27;身高&#x27;</span>,<span class="string">&#x27;体重&#x27;</span>]] <span class="comment"># 按照标签</span></span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>身高</th>      <th>体重</th>    </tr>  </thead>  <tbody>    <tr>      <th>1</th>      <td>171</td>      <td>68</td>    </tr>    <tr>      <th>2</th>      <td>175</td>      <td>73</td>    </tr>    <tr>      <th>3</th>      <td>169</td>      <td>74</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BSdata.iloc[<span class="number">1</span>:<span class="number">3</span>,<span class="number">1</span>:<span class="number">5</span>]  <span class="comment">#0至2行和1至5列数据</span></span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>性别</th>      <th>身高</th>      <th>体重</th>      <th>支出</th>    </tr>  </thead>  <tbody>    <tr>      <th>1</th>      <td>男</td>      <td>171</td>      <td>68</td>      <td>10.4</td>    </tr>    <tr>      <th>2</th>      <td>女</td>      <td>175</td>      <td>73</td>      <td>21.0</td>    </tr>  </tbody></table></div><ul><li>3.3.4.5 条件选取 </li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BSdata[BSdata[<span class="string">&#x27;身高&#x27;</span>]&gt;<span class="number">180</span>] </span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>学号</th>      <th>性别</th>      <th>身高</th>      <th>体重</th>      <th>支出</th>      <th>开设</th>      <th>课程</th>      <th>软件</th>    </tr>  </thead>  <tbody>    <tr>      <th>5</th>      <td>1516248014</td>      <td>男</td>      <td>183</td>      <td>76</td>      <td>85.6</td>      <td>不必要</td>      <td>编程技术</td>      <td>Excel</td>    </tr>    <tr>      <th>10</th>      <td>1520100029</td>      <td>男</td>      <td>184</td>      <td>82</td>      <td>10.3</td>      <td>有必要</td>      <td>都学习过</td>      <td>SAS</td>    </tr>    <tr>      <th>21</th>      <td>1525352033</td>      <td>男</td>      <td>185</td>      <td>83</td>      <td>5.1</td>      <td>有必要</td>      <td>都学习过</td>      <td>SPSS</td>    </tr>    <tr>      <th>32</th>      <td>1530243029</td>      <td>男</td>      <td>186</td>      <td>87</td>      <td>9.5</td>      <td>不必要</td>      <td>都未学过</td>      <td>No</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BSdata[(BSdata[<span class="string">&#x27;身高&#x27;</span>]&gt;<span class="number">180</span>) &amp; (BSdata[<span class="string">&#x27;体重&#x27;</span>]&gt;<span class="number">80</span>)] </span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>学号</th>      <th>性别</th>      <th>身高</th>      <th>体重</th>      <th>支出</th>      <th>开设</th>      <th>课程</th>      <th>软件</th>    </tr>  </thead>  <tbody>    <tr>      <th>10</th>      <td>1520100029</td>      <td>男</td>      <td>184</td>      <td>82</td>      <td>10.3</td>      <td>有必要</td>      <td>都学习过</td>      <td>SAS</td>    </tr>    <tr>      <th>21</th>      <td>1525352033</td>      <td>男</td>      <td>185</td>      <td>83</td>      <td>5.1</td>      <td>有必要</td>      <td>都学习过</td>      <td>SPSS</td>    </tr>    <tr>      <th>32</th>      <td>1530243029</td>      <td>男</td>      <td>186</td>      <td>87</td>      <td>9.5</td>      <td>不必要</td>      <td>都未学过</td>      <td>No</td>    </tr>  </tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BSdata[(BSdata[<span class="string">&#x27;身高&#x27;</span>]&gt;<span class="number">180</span>) | (BSdata[<span class="string">&#x27;体重&#x27;</span>]&gt;<span class="number">80</span>)] </span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>学号</th>      <th>性别</th>      <th>身高</th>      <th>体重</th>      <th>支出</th>      <th>开设</th>      <th>课程</th>      <th>软件</th>    </tr>  </thead>  <tbody>    <tr>      <th>5</th>      <td>1516248014</td>      <td>男</td>      <td>183</td>      <td>76</td>      <td>85.6</td>      <td>不必要</td>      <td>编程技术</td>      <td>Excel</td>    </tr>    <tr>      <th>10</th>      <td>1520100029</td>      <td>男</td>      <td>184</td>      <td>82</td>      <td>10.3</td>      <td>有必要</td>      <td>都学习过</td>      <td>SAS</td>    </tr>    <tr>      <th>15</th>      <td>1523376027</td>      <td>男</td>      <td>180</td>      <td>81</td>      <td>64.1</td>      <td>有必要</td>      <td>统计方法</td>      <td>Excel</td>    </tr>    <tr>      <th>21</th>      <td>1525352033</td>      <td>男</td>      <td>185</td>      <td>83</td>      <td>5.1</td>      <td>有必要</td>      <td>都学习过</td>      <td>SPSS</td>    </tr>    <tr>      <th>32</th>      <td>1530243029</td>      <td>男</td>      <td>186</td>      <td>87</td>      <td>9.5</td>      <td>不必要</td>      <td>都未学过</td>      <td>No</td>    </tr>  </tbody></table></div><ul><li>3.3.4.6 数据框的运算 </li></ul><p>（1）生成新的数据框 </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">BSdata[<span class="string">&#x27;体重指数&#x27;</span>]=BSdata[<span class="string">&#x27;体重&#x27;</span>]/(BSdata[<span class="string">&#x27;身高&#x27;</span>]/<span class="number">100</span>)**<span class="number">2</span></span><br><span class="line"><span class="built_in">round</span>(BSdata[:<span class="number">5</span>],<span class="number">2</span>) </span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>学号</th>      <th>性别</th>      <th>身高</th>      <th>体重</th>      <th>支出</th>      <th>开设</th>      <th>课程</th>      <th>软件</th>      <th>体重指数</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>1510248008</td>      <td>女</td>      <td>167</td>      <td>71</td>      <td>46.0</td>      <td>不清楚</td>      <td>都未学过</td>      <td>No</td>      <td>25.46</td>    </tr>    <tr>      <th>1</th>      <td>1510229019</td>      <td>男</td>      <td>171</td>      <td>68</td>      <td>10.4</td>      <td>有必要</td>      <td>概率统计</td>      <td>Matlab</td>      <td>23.26</td>    </tr>    <tr>      <th>2</th>      <td>1512108019</td>      <td>女</td>      <td>175</td>      <td>73</td>      <td>21.0</td>      <td>有必要</td>      <td>统计方法</td>      <td>SPSS</td>      <td>23.84</td>    </tr>    <tr>      <th>3</th>      <td>1512332010</td>      <td>男</td>      <td>169</td>      <td>74</td>      <td>4.9</td>      <td>有必要</td>      <td>编程技术</td>      <td>Excel</td>      <td>25.91</td>    </tr>    <tr>      <th>4</th>      <td>1512331015</td>      <td>男</td>      <td>154</td>      <td>55</td>      <td>25.9</td>      <td>有必要</td>      <td>都学习过</td>      <td>Python</td>      <td>23.19</td>    </tr>  </tbody></table></div><p>（2）数据框的合并 concat() </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pd.concat([BSdata.身高, BSdata.体重],axis=<span class="number">0</span>) <span class="comment"># 按行合并 axis=0</span></span><br></pre></td></tr></table></figure><pre><code>0     1671     1712     1753     1694     154     ... 47     6848     6549     5850     7351     67Length: 104, dtype: int64</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pd.concat([BSdata.身高, BSdata.体重],axis=<span class="number">1</span>) <span class="comment">#按列合并 axis=1 </span></span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>身高</th>      <th>体重</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>167</td>      <td>71</td>    </tr>    <tr>      <th>1</th>      <td>171</td>      <td>68</td>    </tr>    <tr>      <th>2</th>      <td>175</td>      <td>73</td>    </tr>    <tr>      <th>3</th>      <td>169</td>      <td>74</td>    </tr>    <tr>      <th>4</th>      <td>154</td>      <td>55</td>    </tr>    <tr>      <th>...</th>      <td>...</td>      <td>...</td>    </tr>    <tr>      <th>47</th>      <td>175</td>      <td>68</td>    </tr>    <tr>      <th>48</th>      <td>166</td>      <td>65</td>    </tr>    <tr>      <th>49</th>      <td>159</td>      <td>58</td>    </tr>    <tr>      <th>50</th>      <td>169</td>      <td>73</td>    </tr>    <tr>      <th>51</th>      <td>165</td>      <td>67</td>    </tr>  </tbody></table><p>52 rows × 2 columns</p></div><p>（3）数据框转置</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BSdata.iloc[:<span class="number">5</span>,:<span class="number">8</span>].T       <span class="comment">#数据框转置 .T</span></span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>0</th>      <th>1</th>      <th>2</th>      <th>3</th>      <th>4</th>    </tr>  </thead>  <tbody>    <tr>      <th>学号</th>      <td>1510248008</td>      <td>1510229019</td>      <td>1512108019</td>      <td>1512332010</td>      <td>1512331015</td>    </tr>    <tr>      <th>性别</th>      <td>女</td>      <td>男</td>      <td>女</td>      <td>男</td>      <td>男</td>    </tr>    <tr>      <th>身高</th>      <td>167</td>      <td>171</td>      <td>175</td>      <td>169</td>      <td>154</td>    </tr>    <tr>      <th>体重</th>      <td>71</td>      <td>68</td>      <td>73</td>      <td>74</td>      <td>55</td>    </tr>    <tr>      <th>支出</th>      <td>46.0</td>      <td>10.4</td>      <td>21.0</td>      <td>4.9</td>      <td>25.9</td>    </tr>    <tr>      <th>开设</th>      <td>不清楚</td>      <td>有必要</td>      <td>有必要</td>      <td>有必要</td>      <td>有必要</td>    </tr>    <tr>      <th>课程</th>      <td>都未学过</td>      <td>概率统计</td>      <td>统计方法</td>      <td>编程技术</td>      <td>都学习过</td>    </tr>    <tr>      <th>软件</th>      <td>No</td>      <td>Matlab</td>      <td>SPSS</td>      <td>Excel</td>      <td>Python</td>    </tr>  </tbody></table></div>]]></content>
      
      
      <categories>
          
          <category> 《数据可视化》——基于Python的应用 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 《数据可视化》——基于Python的应用 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>第1章-数据分析软件简介</title>
      <link href="799f587.html"/>
      <url>799f587.html</url>
      
        <content type="html"><![CDATA[<h1 id="《数据可视化》——-基于Python的应用"><a href="#《数据可视化》——-基于Python的应用" class="headerlink" title="《数据可视化》—— 基于Python的应用"></a>《数据可视化》—— 基于Python的应用</h1><h2 id="课程特点"><a href="#课程特点" class="headerlink" title="课程特点"></a>课程特点</h2><h3 id="Python应用-数据的分析-可视化展示"><a href="#Python应用-数据的分析-可视化展示" class="headerlink" title="Python应用 + 数据的分析 + 可视化展示"></a>Python应用 + 数据的分析 + 可视化展示</h3><h2 id="课程教材"><a href="#课程教材" class="headerlink" title="课程教材"></a>课程教材</h2><p><strong>Python数据分析基础教程——数据可视化（第2版）</strong></p><p><strong>王斌会 王术 电子工业出版社 2021.1</strong></p><h2 id="课程资源"><a href="#课程资源" class="headerlink" title="课程资源"></a>课程资源</h2><blockquote><p>课程博客：<a href="http://rstat.leanote.com/">http://Rstat.leanote.com</a> </p></blockquote><blockquote><p>课程平台：<a href="http://47.113.88.40:3838/Rstat">http://47.113.88.40:3838/Rstat</a></p></blockquote><h2 id="第1章-数据分析软件介绍"><a href="#第1章-数据分析软件介绍" class="headerlink" title="第1章  数据分析软件介绍"></a>第1章  数据分析软件介绍</h2><h2 id="1-1-数据分析软件简介"><a href="#1-1-数据分析软件简介" class="headerlink" title="1.1  数据分析软件简介"></a>1.1  数据分析软件简介</h2><h2 id="1-2-Python语言介绍"><a href="#1-2-Python语言介绍" class="headerlink" title="1.2  Python语言介绍"></a>1.2  Python语言介绍</h2><h3 id="1-2-1-Python简介"><a href="#1-2-1-Python简介" class="headerlink" title="1.2.1  Python简介"></a>1.2.1  Python简介</h3><h3 id="1-2-2-Python的功能"><a href="#1-2-2-Python的功能" class="headerlink" title="1.2.2  Python的功能"></a>1.2.2  Python的功能</h3><p>1.2.2.1  Python的特色</p><p>1.2.2.2  Python的特点</p><p>1.2.2.3  Python的库</p><h3 id="1-2-3-Python编程环境"><a href="#1-2-3-Python编程环境" class="headerlink" title="1.2.3  Python编程环境"></a>1.2.3  Python编程环境</h3><p>1.2.3.1  Python基础编程环境</p><blockquote><p>本书采用基于Anaconda的Jupyter平台进行数据分析。</p></blockquote><p>1.2.3.2  Anaconda计算发行包</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#在Jupyter中安装包夜很容易，执行下面的命令</span></span><br><span class="line"><span class="comment">#!pip install plotnine</span></span><br></pre></td></tr></table></figure><h2 id="1-3-Python数据分析平台"><a href="#1-3-Python数据分析平台" class="headerlink" title="1.3  Python数据分析平台"></a>1.3  Python数据分析平台</h2><h3 id="1-3-1-Jupyter数据分析平台"><a href="#1-3-1-Jupyter数据分析平台" class="headerlink" title="1.3.1  Jupyter数据分析平台"></a>1.3.1  Jupyter数据分析平台</h3><p>1.3.1.1  Jupyter 简介</p><p>1.3.1.2  Jupyter 的使用</p><ul><li>在AnacondaPrompt命令行输入</li></ul><blockquote><p>jupyter lab –notebook-dir=D:\DaPy2  </p></blockquote><blockquote><p>jupyter notebook –notebook-dir=D:\DaPy2</p></blockquote><p>1.3.1.3  Jupyter 的优点</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 无格式输出</span></span><br><span class="line"><span class="number">1</span> * <span class="number">8</span> + <span class="number">1</span></span><br><span class="line"><span class="number">12</span> * <span class="number">8</span> + <span class="number">2</span></span><br><span class="line"><span class="number">123</span> * <span class="number">8</span> + <span class="number">3</span> </span><br><span class="line"><span class="number">1234</span> * <span class="number">8</span> + <span class="number">4</span></span><br><span class="line"><span class="number">12345</span> * <span class="number">8</span> + <span class="number">5</span></span><br><span class="line"><span class="number">123456</span> * <span class="number">8</span> + <span class="number">6</span></span><br><span class="line"><span class="number">1234567</span> * <span class="number">8</span> + <span class="number">7</span></span><br><span class="line"><span class="number">12345678</span> * <span class="number">8</span> + <span class="number">8</span></span><br><span class="line"><span class="number">123456789</span> * <span class="number">8</span> + <span class="number">9</span></span><br></pre></td></tr></table></figure><pre><code>987654321</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 有格式输出</span></span><br><span class="line">print(<span class="string">&#x27;        1 * 8 + 1 =&#x27;</span>, <span class="number">1</span> * <span class="number">8</span> + <span class="number">1</span>)</span><br><span class="line">print(<span class="string">&#x27;       12 * 8 + 2 =&#x27;</span>, <span class="number">12</span> * <span class="number">8</span> + <span class="number">2</span>)</span><br><span class="line">print(<span class="string">&#x27;      123 * 8 + 3 =&#x27;</span>, <span class="number">123</span> * <span class="number">8</span> + <span class="number">3</span>) </span><br><span class="line">print(<span class="string">&#x27;     1234 * 8 + 4 =&#x27;</span>, <span class="number">1234</span> * <span class="number">8</span> + <span class="number">4</span>)</span><br><span class="line">print(<span class="string">&#x27;    12345 * 8 + 5 =&#x27;</span>, <span class="number">12345</span> * <span class="number">8</span> + <span class="number">5</span>)</span><br><span class="line">print(<span class="string">&#x27;   123456 * 8 + 6 =&#x27;</span>, <span class="number">123456</span> * <span class="number">8</span> + <span class="number">6</span>)</span><br><span class="line">print(<span class="string">&#x27;  1234567 * 8 + 7 =&#x27;</span>, <span class="number">1234567</span> * <span class="number">8</span> + <span class="number">7</span>)</span><br><span class="line">print(<span class="string">&#x27; 12345678 * 8 + 8 =&#x27;</span>, <span class="number">12345678</span> * <span class="number">8</span> + <span class="number">8</span>)</span><br><span class="line">print(<span class="string">&#x27;123456789 * 8 + 9 =&#x27;</span>, <span class="number">123456789</span> * <span class="number">8</span> + <span class="number">9</span>)</span><br></pre></td></tr></table></figure><pre><code>        1 * 8 + 1 = 9       12 * 8 + 2 = 98      123 * 8 + 3 = 987     1234 * 8 + 4 = 9876    12345 * 8 + 5 = 98765   123456 * 8 + 6 = 987654  1234567 * 8 + 7 = 9876543 12345678 * 8 + 8 = 98765432123456789 * 8 + 9 = 987654321</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 乘法口诀</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">10</span>): <span class="comment">#range(1,10)=[1,2,3,4,5,6,7,8,9]</span></span><br><span class="line">     <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,i+<span class="number">1</span>):</span><br><span class="line">        print(<span class="string">&quot;%d×%d=%d&quot;</span>%(j,i,j*i),end=<span class="string">&#x27; &#x27;</span>)</span><br><span class="line">     print(<span class="string">&quot;&quot;</span>)</span><br></pre></td></tr></table></figure><pre><code>1×1=1 1×2=2 2×2=4 1×3=3 2×3=6 3×3=9 1×4=4 2×4=8 3×4=12 4×4=16 1×5=5 2×5=10 3×5=15 4×5=20 5×5=25 1×6=6 2×6=12 3×6=18 4×6=24 5×6=30 6×6=36 1×7=7 2×7=14 3×7=21 4×7=28 5×7=35 6×7=42 7×7=49 1×8=8 2×8=16 3×8=24 4×8=32 5×8=40 6×8=48 7×8=56 8×8=64 1×9=9 2×9=18 3×9=27 4×9=36 5×9=45 6×9=54 7×9=63 8×9=72 9×9=81 </code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x=[<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">9</span>];x</span><br><span class="line">y=[<span class="number">2</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">10</span>];y         <span class="comment">#y=2x</span></span><br></pre></td></tr></table></figure><pre><code>[2, 4, 6, 8, 10]</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt <span class="comment">#加载基本绘图包   </span></span><br><span class="line">plt.plot(x,y);                  <span class="comment">#线图</span></span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112061836589.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plt.plot(x,y,<span class="string">&#x27;o-&#x27;</span>);            <span class="comment">#点线图</span></span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112061836346.png" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> numpy <span class="keyword">import</span> *    <span class="comment">#加载数值运算包</span></span><br><span class="line">t=linspace(<span class="number">0</span>,<span class="number">2</span>*pi)</span><br><span class="line">x=<span class="number">2</span>*sin(t);y=<span class="number">3</span>*cos(t)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt    <span class="comment">#加载基本绘图包</span></span><br><span class="line">plt.plot(x,y,c=<span class="string">&#x27;red&#x27;</span>); plt.axvline(x=<span class="number">0</span>); plt.axhline(y=<span class="number">0</span>);</span><br><span class="line">plt.text(<span class="number">0.2</span>,<span class="number">1</span>,<span class="string">r&#x27;$\frac&#123;x^2&#125;&#123;2^2&#125;+\frac&#123;y^2&#125;&#123;3^2&#125;=1$&#x27;</span>,fontsize=<span class="number">15</span>);</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202112061836351.png" alt="png"></p><h3 id="1-3-2-Python在线分析平台"><a href="#1-3-2-Python在线分析平台" class="headerlink" title="1.3.2  Python在线分析平台"></a>1.3.2  Python在线分析平台</h3><p>国外（较慢）：<a href="http://www.jupyter.org/">www.jupyter.org</a></p><p>国内（注册）：<a href="https://www.heywhale.com/mw/project/5f619f7aae300e004602aa3d?token=3aff97571dcb6299">https://www.heywhale.com/mw/project/5f619f7aae300e004602aa3d?token=3aff97571dcb6299</a></p><h2 id="1-4-Python编程入门"><a href="#1-4-Python编程入门" class="headerlink" title="1.4  Python编程入门"></a>1.4  Python编程入门</h2><h3 id="1-4-1-Python的工作目录"><a href="#1-4-1-Python的工作目录" class="headerlink" title="1.4.1  Python的工作目录"></a>1.4.1  Python的工作目录</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#获得当前目录</span></span><br><span class="line">%pwd</span><br></pre></td></tr></table></figure><pre><code>&#39;E:\\6.py\\Course\\DaPy\\DaPy2-Code&#39;</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#改变工作目录</span></span><br><span class="line">%cd <span class="string">&quot;D:\\DaPy&quot;</span></span><br><span class="line">%pwd  </span><br></pre></td></tr></table></figure><pre><code>[WinError 2] 系统找不到指定的文件。: &#39;D:\\\\DaPy&#39;E:\6.py\Course\DaPy\DaPy2-Code&#39;E:\\6.py\\Course\\DaPy\\DaPy2-Code&#39;</code></pre><h3 id="1-4-2-Python的分析用包"><a href="#1-4-2-Python的分析用包" class="headerlink" title="1.4.2  Python的分析用包"></a>1.4.2  Python的分析用包</h3><p>1.4.2.1 常用的数据分析包1.4.2.2 Python包的安装与加载</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">!pip install plotnine  <span class="comment">#安装 plotnine 包</span></span><br></pre></td></tr></table></figure><pre><code>ERROR: Invalid requirement: &#39;#安装&#39;</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> math            <span class="comment">#基础数学包</span></span><br><span class="line"><span class="keyword">import</span> numpy           <span class="comment">#数值分析包</span></span><br><span class="line"><span class="keyword">import</span> pandas          <span class="comment">#数据操作包</span></span><br><span class="line"><span class="keyword">import</span> matplotlib      <span class="comment">#基本绘图包</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> matplotlib <span class="keyword">as</span> plt</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> math <span class="keyword">import</span> sqrt, log, pi</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> IPython.core.interactiveshell <span class="keyword">import</span> InteractiveShell <span class="keyword">as</span> IS</span><br><span class="line">IS.ast_node_interactivity = <span class="string">&quot;all&quot;</span>            <span class="comment">#多行命令一次输出</span></span><br></pre></td></tr></table></figure><h3 id="1-4-3-Python的数据类型"><a href="#1-4-3-Python的数据类型" class="headerlink" title="1.4.3  Python的数据类型"></a>1.4.3  Python的数据类型</h3><p>1.4.3.1  Python对象</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#查看数据对象</span></span><br><span class="line"><span class="comment">#%who</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#生成数据对象 </span></span><br><span class="line">x=<span class="number">10.12</span> <span class="comment">#创建对象 x</span></span><br><span class="line"><span class="comment">#%who</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#删除数据对象 </span></span><br><span class="line"><span class="keyword">del</span> x <span class="comment">#删除对象 x</span></span><br><span class="line"><span class="comment">#%who</span></span><br></pre></td></tr></table></figure><p>1.4.3.2  基本数据类型<br>（1）数值型 </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">n=<span class="number">10</span>             <span class="comment">#整数</span></span><br><span class="line">n                <span class="comment">#无格式输出，相当于 print(n)</span></span><br></pre></td></tr></table></figure><pre><code>10</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">&quot;n=&quot;</span>,n)    <span class="comment">#有格式输出</span></span><br><span class="line">x=<span class="number">10.234</span>         <span class="comment">#实数</span></span><br><span class="line">x</span><br><span class="line">print(x) </span><br><span class="line">print(<span class="string">&quot;x=%10.5f&quot;</span>%x)</span><br></pre></td></tr></table></figure><pre><code>n= 1010.23410.234x=  10.23400</code></pre><p>（2）逻辑型 </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a=<span class="literal">True</span>;a </span><br><span class="line">b=<span class="literal">False</span>;b</span><br></pre></td></tr></table></figure><pre><code>TrueFalse</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>&gt;<span class="number">3</span></span><br><span class="line"><span class="number">10</span>&lt;<span class="number">3</span></span><br></pre></td></tr></table></figure><pre><code>TrueFalse</code></pre><p>（3）字符型 </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">s = <span class="string">&#x27;I love Python&#x27;</span>;</span><br><span class="line">s</span><br><span class="line">s[<span class="number">7</span>]</span><br><span class="line">s[<span class="number">2</span>:<span class="number">6</span>] </span><br><span class="line">s+<span class="string">&#x27; &#x27;</span>+s </span><br><span class="line">s*<span class="number">2</span></span><br></pre></td></tr></table></figure><pre><code>&#39;I love Python&#39;&#39;P&#39;&#39;love&#39;&#39;I love Python I love Python&#39;&#39;I love PythonI love Python&#39;</code></pre><p>1.4.3.3 标准数据类型<br>（1）List（列表）</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">list1 =[]          <span class="comment"># 空列表</span></span><br><span class="line">list1 </span><br></pre></td></tr></table></figure><pre><code>[]</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">list1 = [<span class="string">&#x27;Python&#x27;</span>, <span class="number">786</span> , <span class="number">2.23</span>, <span class="string">&#x27;R&#x27;</span>, <span class="number">70.2</span>]</span><br><span class="line">list1               <span class="comment"># 输出完整列表</span></span><br></pre></td></tr></table></figure><pre><code>[&#39;Python&#39;, 786, 2.23, &#39;R&#39;, 70.2]</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">list1[<span class="number">0</span>]            <span class="comment"># 输出列表的第一个元素 </span></span><br></pre></td></tr></table></figure><pre><code>&#39;Python&#39;</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">list1[<span class="number">1</span>:<span class="number">3</span>]          <span class="comment"># 输出第二个至第三个元素 </span></span><br></pre></td></tr></table></figure><pre><code>[786, 2.23]</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">list1[<span class="number">2</span>:]           <span class="comment"># 输出从第三个开始至列表末尾的所有元素</span></span><br><span class="line">list1 * <span class="number">2</span>           <span class="comment"># 输出列表两次 </span></span><br><span class="line">list1 + list1[<span class="number">2</span>:<span class="number">4</span>]  <span class="comment"># 打印组合的列表</span></span><br></pre></td></tr></table></figure><pre><code>[2.23, &#39;R&#39;, 70.2][&#39;Python&#39;, 786, 2.23, &#39;R&#39;, 70.2, &#39;Python&#39;, 786, 2.23, &#39;R&#39;, 70.2][&#39;Python&#39;, 786, 2.23, &#39;R&#39;, 70.2, 2.23, &#39;R&#39;]</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">X=[<span class="number">1</span>,<span class="number">3</span>,<span class="number">6</span>,<span class="number">4</span>,<span class="number">9</span>];X</span><br></pre></td></tr></table></figure><pre><code>[1, 3, 6, 4, 9]</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sex=[<span class="string">&#x27;女&#x27;</span>,<span class="string">&#x27;男&#x27;</span>,<span class="string">&#x27;男&#x27;</span>,<span class="string">&#x27;女&#x27;</span>,<span class="string">&#x27;男&#x27;</span>]</span><br><span class="line">sex </span><br></pre></td></tr></table></figure><pre><code>[&#39;女&#39;, &#39;男&#39;, &#39;男&#39;, &#39;女&#39;, &#39;男&#39;]</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">weight=[<span class="number">67</span>,<span class="number">66</span>,<span class="number">83</span>,<span class="number">68</span>,<span class="number">70</span>]; </span><br><span class="line">weight</span><br></pre></td></tr></table></figure><pre><code>[67, 66, 83, 68, 70]</code></pre><p>（2）Dictionary（字典） </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#125; <span class="comment">#空字典</span></span><br></pre></td></tr></table></figure><pre><code>&#123;&#125;</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dict1=&#123;<span class="string">&#x27;name&#x27;</span>:<span class="string">&#x27;john&#x27;</span>,<span class="string">&#x27;code&#x27;</span>:<span class="number">6734</span>,<span class="string">&#x27;dept&#x27;</span>:<span class="string">&#x27;sales&#x27;</span>&#125;;dict1 <span class="comment">#定义字典 </span></span><br></pre></td></tr></table></figure><pre><code>&#123;&#39;name&#39;: &#39;john&#39;, &#39;code&#39;: 6734, &#39;dept&#39;: &#39;sales&#39;&#125;</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dict1[<span class="string">&#x27;code&#x27;</span>] <span class="comment"># 输出键为&#x27;code&#x27; 的值</span></span><br></pre></td></tr></table></figure><pre><code>6734</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dict1.keys() <span class="comment"># 输出所有键 </span></span><br></pre></td></tr></table></figure><pre><code>dict_keys([&#39;name&#39;, &#39;code&#39;, &#39;dept&#39;])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dict1.values() <span class="comment"># 输出所有值</span></span><br></pre></td></tr></table></figure><pre><code>dict_values([&#39;john&#39;, 6734, &#39;sales&#39;])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dict2=&#123;<span class="string">&#x27;sex&#x27;</span>: sex,<span class="string">&#x27;weight&#x27;</span>:weight&#125;; dict2 <span class="comment">#根据列表构成字典</span></span><br></pre></td></tr></table></figure><pre><code>&#123;&#39;sex&#39;: [&#39;女&#39;, &#39;男&#39;, &#39;男&#39;, &#39;女&#39;, &#39;男&#39;], &#39;weight&#39;: [67, 66, 83, 68, 70]&#125;</code></pre>]]></content>
      
      
      <categories>
          
          <category> 《数据可视化》——基于Python的应用 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 《数据可视化》——基于Python的应用 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>石河子大学网络教育平台ppt不限制批量下载pdf</title>
      <link href="c29e6364.html"/>
      <url>c29e6364.html</url>
      
        <content type="html"><![CDATA[<h1 id="石河子大学网络教育平台ppt不限制批量下载pdf"><a href="#石河子大学网络教育平台ppt不限制批量下载pdf" class="headerlink" title="石河子大学网络教育平台ppt不限制批量下载pdf"></a>石河子大学网络教育平台ppt不限制批量下载pdf</h1><h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><p>这不是老有些朋友让把学校网络教育平台的老师在线课件下载下来，闲时就整理下思路，写好代码并且封装成软件，下次再出现这种事就简单了</p><h2 id="CONTENT"><a href="#CONTENT" class="headerlink" title="CONTENT"></a>CONTENT</h2><h3 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h3><p>石河子大学网络教育平台ppt不限制批量下载pdf</p><p><strong>注意！！！</strong></p><p><strong>本程序会获取你的账户信息，网上ppt都为石大老师精心编排，特别是只让在线看的，仅供学习交流用完资料请删除，切勿牟利传播</strong></p><p><strong>本程序会获取你的账户信息，网上ppt都为石大老师精心编排，特别是只让在线看的，仅供学习交流用完资料请删除，切勿牟利传播</strong></p><p><strong>本程序会获取你的账户信息，网上ppt都为石大老师精心编排，特别是只让在线看的，仅供学习交流用完资料请删除，切勿牟利传播</strong></p><p>用户只用获取ppt列表页面链接和输入账户信息Cookies即可不限制批量下载pdf课件</p><h3 id="下载代码或者软件"><a href="#下载代码或者软件" class="headerlink" title="下载代码或者软件"></a>下载代码或者软件</h3><ol><li><a href="https://gitee.com/zhangkaiheng/shzu_eol_down_pdf">代码</a></li><li><a href="https://gitee.com/zhangkaiheng/shzu_eol_down_pdf/releases/1.0">exe软件</a></li></ol><h3 id="获取ppt列表页面链接和账户信息Cookies"><a href="#获取ppt列表页面链接和账户信息Cookies" class="headerlink" title="获取ppt列表页面链接和账户信息Cookies"></a>获取ppt列表页面链接和账户信息Cookies</h3><ol><li><p>登录网络教育平台——选择课程进入——课程资源找到ppt页面按钮</p></li><li><p>右键在新标签页打开</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202111141306461.png" alt="image-20211114130655487"></p></li><li><p>在新的页面右键检查或者直接F12后，点击网络-文档-清理图标-刷新网页</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202111141308319.png" alt="image-20211114130853986"></p></li><li><p>网页地址栏链接即ppt列表页面链接，再点击唯一的文档会出现详情页面，找到Cookie后面的右键复制值即可得到账户信息Cookies</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202111141314768.png" alt="image-20211114131441104"></p></li></ol><h3 id="运行PY文件或exe软件"><a href="#运行PY文件或exe软件" class="headerlink" title="运行PY文件或exe软件"></a>运行PY文件或exe软件</h3><ol><li>如果你有Python环境就可以直接运行.py文件</li><li>如果没有就下载发行版的.exe文件在本地运行然后根据提示粘贴上面获取到的链接和Cookies</li></ol><h2 id="END"><a href="#END" class="headerlink" title="END"></a>END</h2><p>总的来说，爬虫就是可见即可爬，就是通过网页抓包链接来抓取数据嘛</p><p>后期有闲情时再做个用户界面吧</p><p>参考文章：</p><ul><li>无</li></ul>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>miniconda+vscode+aixcoder+git配置</title>
      <link href="c7abe168.html"/>
      <url>c7abe168.html</url>
      
        <content type="html"><![CDATA[<h1 id="miniconda-vscode-aixcoder-git配置"><a href="#miniconda-vscode-aixcoder-git配置" class="headerlink" title="miniconda+vscode+aixcoder+git配置"></a>miniconda+vscode+aixcoder+git配置</h1><h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><p>用了好多Pyhton环境和编辑器，觉得还是miniconda+vscode+aixcoder+git小巧灵活高效，故在此分享一下</p><h2 id="CONTENT"><a href="#CONTENT" class="headerlink" title="CONTENT"></a>CONTENT</h2><ol><li><p>应付二级python考试，下载<a href="http://ncre.neea.edu.cn/html1/report/1807/2866-1.htm">python</a>，建议先按照后面的配置学Python然后学有所得考前配置一下备考考完删除</p></li><li><p>在清华镜像下载<a href="https://mirrors.tuna.tsinghua.edu.cn/anaconda/miniconda/?C=M&O=A">minconda</a>，傻瓜式安装（注意勾选add to path）</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202111120111556.png" alt="image-20211112011124535"></p></li><li><p>官网下载相应版本<a href="https://code.visualstudio.com/Download">VScode</a>，傻瓜式安装</p></li><li><p>配置vscode插件，安装python自推荐插件、aixcoder、coderunner等插件（见视频）</p></li><li><p>官网下载相应版本<a href="https://git-scm.com/downloads">Git</a>，上<a href="https://gitee.com/">Gitee</a>用邮箱手机注册，用户名设置需谨慎禁止胡乱其不然你会后悔的</p></li><li><p>电脑配置git账号，保证以后代码上传到gitee身份认证正确</p><p>格式为</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.email “邮箱”</span><br><span class="line">git config --global user.name &quot;用户名&quot;</span><br></pre></td></tr></table></figure><p>比如我的</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.email “2514154656@qq.com”</span><br><span class="line">git config --global user.name &quot;zhangkaiheng&quot;</span><br></pre></td></tr></table></figure></li><li><p>第一次上传代码，需要登录<a href="https://gitee.com/">Gitee</a>新建仓库，然后将仓库地址用vscode克隆到本地，就可以在本地仓库代码文件夹里码代码了，码完后上传再输入账户和密码，以录入windows凭证，后面除非切换账户就不用动了。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202111120127975.png" alt="image-20211112012748458"></p></li><li><p>下面嵌入的视频有点卡还不清晰，具体细节看B站的回放吧——&gt;<a href="https://www.bilibili.com/video/BV1o44y1e77C/">miniconda+vscode+aixcoder+git配置</a></p><iframe src="//player.bilibili.com/player.html?aid=976666675&bvid=BV1o44y1e77C&cid=440596946&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" style="box-sizing: border-box; outline: 0px; margin: 0px; padding: 0px; font-weight: normal; overflow-wrap: break-word; display: block; width: 100%; height:  660px;"> </iframe></li></ol><h2 id="END"><a href="#END" class="headerlink" title="END"></a>END</h2><p>总的来说，相较于Python的简陋、anaconda的功能“全面”大碗饭但比较笨重而且现在商业限制了、Pycharm功能丰富但也是笨重每次打开新项目需要长时间加载且有付费版本，miniconda就显得小巧功能可自行配置，vscode瑞士军刀丰富插件个人自由度高，再配上aixcoder大数据算法代码提示简直无敌！并且以后我们未必只学Python一门编程语言，想我C、R、JAVA都可以在vscode中进行码代码所以vscode瑞士军刀是真的牛！但是还是要说但是了，这些都只是工具，我们不要忘记自己的初心，高效和代码成果才是一切。</p><p>最后有人说git咱经管人为啥要学，害，现在优秀的脚本呀、轮子呀还有项目呀甚至是考研资料、电子书、优秀软件都可以在Github、Gitee还有coding等git类中找到，你总的会找资源吧，还有一点就是，每次写完一个项目代码上传到gitee或者github然后删除本地代码，你会有一种豁然开朗的成就感。</p><p>参考文章：</p><ul><li><a href="https://www.bilibili.com/video/BV1et4y1S7EJ?from=search&seid=649068464216974432&spm_id_from=333.337.0.0">Windows下<em>VSCode</em>和<em>MiniConda</em>轻量环境配置</a></li><li><a href="https://zhuanlan.zhihu.com/p/404793094">miniconda+vscode环境搭建（初学） - 知乎</a></li><li><a href="https://blog.csdn.net/herocheney/article/details/117739319">【深度学习】WIN10+VSCode+Miniconda+pytorch环境安装</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo框架博客编写脚本一键编写文章-博客部署</title>
      <link href="df6316d8.html"/>
      <url>df6316d8.html</url>
      
        <content type="html"><![CDATA[<h1 id="Hexo框架博客编写脚本一键编写文章-博客部署"><a href="#Hexo框架博客编写脚本一键编写文章-博客部署" class="headerlink" title="Hexo框架博客编写脚本一键编写文章-博客部署"></a>Hexo框架博客编写脚本一键编写文章-博客部署</h1><h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><p>经常打开终端敲代码上传文章到博客，重复性工作嘛，写个脚本吧</p><h2 id="CONTENT"><a href="#CONTENT" class="headerlink" title="CONTENT"></a>CONTENT</h2><ol><li><p>编写写作脚本（因为是win端环境，所以文件格式为.bat）</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">@echo off</span><br><span class="line">cd C:\Users\kit\Desktop\zhangkaiheng_hexoblog</span><br><span class="line">set &#x2F;p name&#x3D;</span><br><span class="line">set address&#x3D;C:\Users\kit\Desktop\zhangkaiheng_hexoblog\source\_posts\%name%.md</span><br><span class="line">hexo new %name%&amp;&amp;start %address%</span><br></pre></td></tr></table></figure><p>注意最后一行创建md文件和打开md文件命令都要在一行并用&amp;&amp;隔开否则只会执行一项命令就退出终端了</p></li><li><p>编写博客部署脚本</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">@echo off</span><br><span class="line">@REM cd &#x2F;c&#x2F;Users&#x2F;kit&#x2F;Desktop&#x2F;zhangkaiheng_hexoblog</span><br><span class="line">cd C:\Users\kit\Desktop\zhangkaiheng_hexoblog</span><br><span class="line">hexo clean&amp;&amp;hexo g&amp;&amp;gulp&amp;&amp;hexo d</span><br></pre></td></tr></table></figure><p>最后一行同理也是</p></li><li><p>mac端部署脚本如下（文件格式为.sh）</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">#!&#x2F;bin&#x2F;bash</span><br><span class="line">echo &quot;Start&quot;</span><br><span class="line">hexo clean</span><br><span class="line">hexo generate</span><br><span class="line">gulp</span><br><span class="line">hexo deploy</span><br><span class="line">echo &quot;Finish&quot;</span><br><span class="line">echo 按任意键继续</span><br><span class="line">read -n 1</span><br></pre></td></tr></table></figure></li><li><p>我们把脚本放到博客文件夹目录里，并发送快捷方式到桌面，以后写文章或者发文章就可以一键开始了，是不是很方便呢</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202111111514902.png" alt="image-20211111151157315"></p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202111111512095.png" alt="image-20211111151232181"></p></li></ol><h2 id="END"><a href="#END" class="headerlink" title="END"></a>END</h2><p>一次配置，一直方便</p><p>参考文章：</p><ul><li><a href="https://blog.csdn.net/Jack_lzx/article/details/115333369">编写BAT脚本实现Hexo一键部署</a></li><li><a href="https://www.zdynb.cn/2021/hexo-yi-jian-chuang-jian-ji-bu-shu-jiao-ben.html">hexo一键创建及部署脚本 | 张登友的博客</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo框架Blog不同平台移植</title>
      <link href="cec18dd8.html"/>
      <url>cec18dd8.html</url>
      
        <content type="html"><![CDATA[<h1 id="Hexo框架Blog不同平台移植"><a href="#Hexo框架Blog不同平台移植" class="headerlink" title="Hexo框架Blog不同平台移植"></a>Hexo框架Blog不同平台移植</h1><h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><p>这不是打算把win10_LTSC系统为主力嘛，就从Mac端一直到win吧</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202111111457056.png" alt="image-20211111145744740"></p><h2 id="Content"><a href="#Content" class="headerlink" title="Content"></a>Content</h2><ol><li><p>配置Git环境（略）</p></li><li><p>配置node环境</p><p>下载<a href="http://nodejs.cn/download/">node</a>傻瓜式安装，然后换淘宝镜像</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install -g cnpm --registry&#x3D;https:&#x2F;&#x2F;registry.npm.taobao.org</span><br><span class="line">npm root -g</span><br></pre></td></tr></table></figure><p>node安装hexo框架</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-cli -g</span><br><span class="line">hexo -v</span><br></pre></td></tr></table></figure><p>切换到blog文件夹，安装hexo插件（注：因为之前的本地hexo安装都是本地而不是全局所以只需安装全局的就行）</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd zhangkaiheng_hexoblog</span><br><span class="line">cnpm install --global gulp-cli</span><br><span class="line">cnpm install gulp --save</span><br></pre></td></tr></table></figure></li><li><p>正常写文章后，本地上传即可</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">cd C:\Users\kit\Desktop\zhangkaiheng_hexoblog</span><br><span class="line">hexo clean</span><br><span class="line">hexo g</span><br><span class="line">gulp</span><br><span class="line">hexo d</span><br></pre></td></tr></table></figure><h2 id="END"><a href="#END" class="headerlink" title="END"></a>END</h2></li></ol><p>移植后一定要检查一下博客是不是有一些插件没安装好</p><p>参考文章：</p><ul><li><a href="https://zhangkaiheng.gitee.io/1640c2dd.html">第一篇 Hexo blog 文章 ——Hexo + Gitee 部署个人博客</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Git多账号配置WIN10版</title>
      <link href="16742c97.html"/>
      <url>16742c97.html</url>
      
        <content type="html"><![CDATA[<h1 id="Git多账号配置WIN10版"><a href="#Git多账号配置WIN10版" class="headerlink" title="Git多账号配置WIN10版"></a>Git多账号配置WIN10版</h1><h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><p>重装了win10LTSC系统，发现挺流畅挺稳定的，就打算配置一下Git环境</p><h2 id="Content"><a href="#Content" class="headerlink" title="Content"></a>Content</h2><p>1.下载<a href="https://git-scm.com/download">Git</a>，选择对应版本就行</p><p>2.傻瓜式安装</p><p>3.清除全局设置（所在系统第一次安装Git可忽略），win还需要再控制面板删除windows凭证，例如我的</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git config --global --list</span><br><span class="line">git config --global --<span class="built_in">unset</span> user.name <span class="string">&quot;zhangkaiheng&quot;</span></span><br><span class="line">git config --global --<span class="built_in">unset</span> user.email <span class="string">&quot;2514154656@qq.com&quot;</span></span><br><span class="line">git config --global --list</span><br></pre></td></tr></table></figure><p>4.生成各git版本相应各账号ssh，若账户文件夹没有.ssh文件夹请手动创建，其中gitee、coding生成ssh时用ed25519而不是rsa（<strong>踩坑</strong>！！！），格式为</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t 生成方式 -f ~&#x2F;.ssh&#x2F;文件名 -C &quot;邮箱&quot;</span><br></pre></td></tr></table></figure><p>例如我的</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t ed25519 -f ~&#x2F;.ssh&#x2F;id_rsa_ltsc_gitee -C &quot;2514154656@qq.com&quot;</span><br><span class="line">ssh-keygen -t rsa -f ~&#x2F;.ssh&#x2F;id_rsa_ltsc_github -C &quot;2514154656@qq.com&quot;</span><br><span class="line">ssh-keygen -t ed25519 -f ~&#x2F;.ssh&#x2F;id_rsa_ltsc_coding -C &quot;2514154656@qq.com&quot;</span><br><span class="line">ssh-keygen -t ed25519 -f ~&#x2F;.ssh&#x2F;id_rsa_ltsc_gitee_citk -C &quot;3496524469@qq.com&quot;</span><br><span class="line">ssh-keygen -t rsa -f ~&#x2F;.ssh&#x2F;id_rsa_ltsc_github_citk -C &quot;3496524469@qq.com&quot;</span><br></pre></td></tr></table></figure><p>5.把密钥添加到 ssh-agent 的高速缓存（可有可无）</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ssh-agent bash</span><br><span class="line">ssh-add ~&#x2F;.ssh&#x2F;id_rsa_ltsc_gitee</span><br><span class="line">ssh-add ~&#x2F;.ssh&#x2F;id_rsa_ltsc_github</span><br><span class="line">ssh-add ~&#x2F;.ssh&#x2F;id_rsa_ltsc_coding</span><br></pre></td></tr></table></figure><p>6.在.ssh文件创建config</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202111102202072.png" alt="image-20211110220214853"></p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202111102159170.png" alt="在这里插入图片描述"></p><p>我的内容如下</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"># gitee</span><br><span class="line">    Host gitee.com</span><br><span class="line">    HostName gitee.com</span><br><span class="line">    User zhangkaiheng</span><br><span class="line">    IdentityFile ~&#x2F;.ssh&#x2F;id_rsa_ltsc_gitee</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line"># gitee1</span><br><span class="line">    Host gitee_citk</span><br><span class="line">    HostName gitee.com</span><br><span class="line">    User CIT_K</span><br><span class="line">    IdentityFile ~&#x2F;.ssh&#x2F;id_rsa_ltsc_gitee_citk</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># coding</span><br><span class="line">    Host coding</span><br><span class="line">    HostName e.coding.net</span><br><span class="line">    User zhangkaiheng</span><br><span class="line">    IdentityFile ~&#x2F;.ssh&#x2F;id_rsa_ltsc_coding</span><br><span class="line"></span><br><span class="line"># gitHub</span><br><span class="line">    Host github.com</span><br><span class="line">    HostName github.com</span><br><span class="line">    User Kit139</span><br><span class="line">    IdentityFile ~&#x2F;.ssh&#x2F;id_rsa_ltsc_github</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line"># gitHub</span><br><span class="line">    Host github_citk</span><br><span class="line">    HostName github.com</span><br><span class="line">    User CIT-K</span><br><span class="line">    IdentityFile ~&#x2F;.ssh&#x2F;id_rsa_ltsc_github_citk</span><br></pre></td></tr></table></figure><p>7.网页git添加公钥</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202111102204438.jpeg" alt="img"></p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202111102203174.png" alt="02"></p><p>8.验证是否连接成功，格式为ssh -T git@config的Host，如我的</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ssh -T git@gitee.com</span><br><span class="line">ssh -T git@github.com</span><br><span class="line">ssh -T git@coding</span><br></pre></td></tr></table></figure><h2 id="END"><a href="#END" class="headerlink" title="END"></a>END</h2><p>之前感觉win因为有凭证挺拉的，现在觉得还是能Git多账号配置的，大致流程和Mac差不多，但win10因为有凭证还是得不停的敲代码换账号</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202111102211694.png" alt="image-20211110221105857"></p><p>切换账号</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config user.email &quot;2514154656@qq.com&quot;</span><br><span class="line">git config user.name &quot;zhangkaiheng&quot;</span><br></pre></td></tr></table></figure><p>或直接定全局</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.email “2514154656@qq.com”</span><br><span class="line">git config --global user.name &quot;zhangkaiheng&quot;</span><br></pre></td></tr></table></figure><p>参考文章：</p><ul><li><a href="https://blog.csdn.net/dubulingbo/article/details/108549185">windows10 上 git 配置 github 和 gitee</a></li><li><a href="https://blog.csdn.net/MACHENIC/article/details/116212321">从永远到永远-Windows10配置多个git账号（以两个gitee账号为例）</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> GIT </category>
          
      </categories>
      
      
        <tags>
            
            <tag> GIT </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Smallpdf1.24.2win安装包与无限期试用安装教程</title>
      <link href="1659fa3e.html"/>
      <url>1659fa3e.html</url>
      
        <content type="html"><![CDATA[<h1 id="Smallpdf1-24-2win安装包与无限期试用安装教程"><a href="#Smallpdf1-24-2win安装包与无限期试用安装教程" class="headerlink" title="Smallpdf1.24.2win安装包与无限期试用安装教程"></a>Smallpdf1.24.2win安装包与无限期试用安装教程</h1><h2 id="软件官网"><a href="#软件官网" class="headerlink" title="软件官网"></a>软件官网</h2><h2 id="https-smallpdf-com-cn"><a href="#https-smallpdf-com-cn" class="headerlink" title="https://smallpdf.com/cn"></a><a href="https://smallpdf.com/cn">https://smallpdf.com/cn</a></h2><h2 id="功能介绍"><a href="#功能介绍" class="headerlink" title="功能介绍"></a>功能介绍</h2><h2 id="安装包下载"><a href="#安装包下载" class="headerlink" title="  安装包下载"></a><img src="https://gitee.com/cit_k/pictures/raw/master/picture/142104hyyqrp3wzfwqvuqw.png" alt="0.png">  安装包下载</h2><p>链接：<a href="https://pan.baidu.com/s/13_r7x9YjMnAMP4jlmoGvGg">https://pan.baidu.com/s/13_r7x9YjMnAMP4jlmoGvGg</a> 提取码：vw4d 安装包大小超过100M，不能上传蓝奏云，只能上传百度网盘了，各位请见谅。  </p><h2 id="安装教程"><a href="#安装教程" class="headerlink" title="安装教程"></a>安装教程</h2><p> 1、打开安装包，会自动安装，安装完在左上角关闭软件（不要直接右上角关闭！因为不能完全退出）。 </p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/142106yh88ejd78bkdglj2.png"></p><p>2、用记事本打开如下路径的文件，拉到最底下，把试用期5天修改为36500（100年），保存。 C:\Users\你的用户名\AppData\Roaming\Smallpdf\preferences.json</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/142108hfxaw995m8mff88m.png"></p><p>3、重新打开软件，看到顶部试用天数为36500则安装成功。 </p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/142110k6yyc4bnl3y114yy.png" alt="3.png">  </p><h2 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h2><p> 1、此软件的试用版与正式版的功能完全一致，所以只要修改试用天数即可。 </p><p>2、本安装教程参考了如下网址，不过我在反复卸载与安装实测后，对安装流程进行了简化。 <a href="https://www.52pojie.cn/thread-899911-1-1.html">https://www.52pojie.cn/thread-899911-1-1.html</a> </p><p>3、为什么提供这个安装包？因为现在官网的安装包要购买后才能下载，这个安装包是之前免费下载时保存的。 </p><p>4、此软件没有中文界面，如果有大神进行汉化就好了，虽然英文不算难，也能看得懂。</p><h3 id=""><a href="#" class="headerlink" title=""></a></h3>]]></content>
      
      
      <categories>
          
          <category> 破解 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 破解 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>服务兵团，助力连队两委换届</title>
      <link href="a0c0ece2.html"/>
      <url>a0c0ece2.html</url>
      
        <content type="html"><![CDATA[<h1 id="服务兵团，助力连队两委换届"><a href="#服务兵团，助力连队两委换届" class="headerlink" title="服务兵团，助力连队两委换届"></a>服务兵团，助力连队两委换届</h1><p>7月16日，由石河子大学经济与管理学院4名学生和一名带队老师组成的社会实践团队在一四三团十四连开展社会实践活动。正值十四连职工代表大会和管理委员会换届，石河子大学“计算机知识培训小分队”了解到一四三团十四连将要召开非常重要的会议后，师生与连队工作人员一起，积极为会议正常召开做好各种准备工作，会议召开过程中，同学们协助做好会议现场工作和会议记录，会议取得了圆满成功。</p><p>团队成员张同学表示，正值连队两委换届，作为石大学子，能有机会近距离感受到团场连队委员会选举过程，并能够发挥自身专业知识为大会顺利进行助力，感到非常的幸运。自己将会更加积极地将自己融入社会，服务兵团，播撒青春与汗水。</p><table><thead><tr><th align="center"><img src="https://gitee.com/cit_k/pictures/raw/master/picture/1huvshlgxlbsp.jpg"></th><th align="center"><img src="https://gitee.com/cit_k/pictures/raw/master/picture/2gyobvpiubsnp;ib;xcbjup.jpg"></th></tr></thead><tbody><tr><td align="center">一四三团十四连书记与我团队对接</td><td align="center">深夜帮助会议做前期准备工作</td></tr><tr><td align="center"><img src="https://gitee.com/cit_k/pictures/raw/master/picture/3hvyolsbpvyb;si.jpg"></td><td align="center"><img src="https://gitee.com/cit_k/pictures/raw/master/picture/4juipchbspyvgxsb;i.jpg"></td></tr><tr><td align="center">帮助职工代表记录出勤</td><td align="center">时刻准备提供帮助</td></tr><tr><td align="center"><img src="https://gitee.com/cit_k/pictures/raw/master/picture/5vgxcyugbapsfdvybh.jpg"></td><td align="center"><img src="https://gitee.com/cit_k/pictures/raw/master/picture/6dvhxuighbipsgv7p;.jpg"></td></tr><tr><td align="center">做好会议记录</td><td align="center">连队职工认真聆听会议</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> 三下乡 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 三下乡 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>红酒市场需求线上购买需求度调研可视化</title>
      <link href="a138b51e.html"/>
      <url>a138b51e.html</url>
      
        <content type="html"><![CDATA[<h1 id="红酒市场需求线上购买需求度调研可视化"><a href="#红酒市场需求线上购买需求度调研可视化" class="headerlink" title="红酒市场需求线上购买需求度调研可视化"></a>红酒市场需求线上购买需求度调研可视化</h1><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210326012940155.png" alt="image-20210326012940155"></p><h2 id="京东"><a href="#京东" class="headerlink" title="京东"></a>京东</h2><p><a href="https://zhangkaiheng.gitee.io/keshihua/j1">红酒线上市场价格销售分析</a></p><p><a href="https://zhangkaiheng.gitee.io/keshihua/j2">线上红酒标题词云图</a></p><p><a href="https://zhangkaiheng.gitee.io/keshihua/j3">线上红酒类型</a></p><h2 id="淘宝"><a href="#淘宝" class="headerlink" title="淘宝"></a>淘宝</h2><p><a href="https://zhangkaiheng.gitee.io/keshihua/t1">红酒线上市场价格销售分析</a></p><p><a href="https://zhangkaiheng.gitee.io/keshihua/t2">线上红酒标题词云图</a></p><h2 id="拼多多"><a href="#拼多多" class="headerlink" title="拼多多"></a>拼多多</h2><p><a href="https://zhangkaiheng.gitee.io/keshihua/p1">红酒线上市场价格销售分析</a></p><p><a href="https://zhangkaiheng.gitee.io/keshihua/p2">线上红酒标题词云图</a></p>]]></content>
      
      
      <categories>
          
          <category> 数据可视化 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> pyecharts </tag>
            
            <tag> 数据可视化 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>师弟面对近10万数据向我求救，我：你学的Python呢？</title>
      <link href="7c3563b0.html"/>
      <url>7c3563b0.html</url>
      
        <content type="html"><![CDATA[<h1 id="师弟面对近10万数据向我求救，我：你学的Python呢？"><a href="#师弟面对近10万数据向我求救，我：你学的Python呢？" class="headerlink" title="师弟面对近10万数据向我求救，我：你学的Python呢？"></a>师弟面对近10万数据向我求救，我：你学的Python呢？</h1><h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><p>事情是上星期了发生的了，此时显得没事随时随地记录新鲜事：师弟突然发了一个固定资产增长率的表格，数据近10万，需求是去掉每个股票代码不完整的数据。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210314175411436.png" alt="image-20210314175411436"></p><p>当时一看，害，这不就是数据清理吗。excel当然也行，但是Python显得更优雅简单快速！</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/Screenshot_20210314_180238.jpg" alt="Screenshot_20210314_180238"></p><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><p>Python数据清洗当然首选Pandas库了，当时因为刚看到时刚要开班级会议，就提示师弟pandas库。我回到寝室拿到电脑仔细分析一下数据，一会就有了具体思路：需求是去除不完整的数据，只要去除年份少于20101231-20191231即10年数据不就行了吗</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210314180809610.png" alt="image-20210314180809610"></p><h2 id="开干"><a href="#开干" class="headerlink" title="开干"></a>开干</h2><p>使用Pandas的value_counts()函数对股票代码列进行词频统计，去除词频少于10的股票然后保存：</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210314181323735.png" alt="image-20210314181323735"></p><p>具体代码如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd <span class="comment"># 思路：去除年份出现少于40的行</span></span><br><span class="line"></span><br><span class="line">df1 = pd.read_excel(<span class="string">&#x27;/Users/k/Desktop/gogogo/CIT_Teaching/lichuanxi/qu_years/固定资产增长率最新版.xlsx&#x27;</span>) <span class="comment"># 读取数据</span></span><br><span class="line">df = pd.DataFrame(df1.Stkcd.value_counts()) <span class="comment"># 获取频率统计并转化为表格，频率降序排列</span></span><br><span class="line">value = df.index.tolist() <span class="comment"># 股票代码列表</span></span><br><span class="line">value_counts = df.Stkcd.tolist() <span class="comment"># 频率列表</span></span><br><span class="line">removes = value[value_counts.index(<span class="number">39</span>)::] <span class="comment"># 获取要去除的股票代码列表</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> removes:</span><br><span class="line">    df1 = df1[~df1[<span class="string">&#x27;Stkcd&#x27;</span>].isin([i])] <span class="comment"># 循环去除，本想一次多行去除，但很难定位到行数</span></span><br><span class="line">df1.to_csv(<span class="string">&#x27;removes_years.csv&#x27;</span>) <span class="comment"># 保存数据</span></span><br></pre></td></tr></table></figure><p>害，还不到10行代码。同时注意到股票代码在csv或excel表格会出现000001变为1的情况，此时我们只需要将股票代码那一列格式改为邮编即可。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210314182500659.png" alt="image-20210314182500659"></p><p>同时注意到日期列时间显示不全，此时只需拉宽列宽就行。</p><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>思路清晰了就容易实现了，花个几分钟写好代码，运行也就十几秒钟，同时以后触类旁通，类似数据清洗的可提高效率。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210314182800348.png" alt="image-20210314182800348"></p><p>参考：</p><ul><li><a href="https://www.pypandas.cn/docs/">Pandas: 强大的 Python 数据分析支持库</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> CIT </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CIT </tag>
            
            <tag> 数据清洗 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MagicBook (Pro)修改CFG-Lock和DVMT 64M数值的方法</title>
      <link href="f50b5182.html"/>
      <url>f50b5182.html</url>
      
        <content type="html"><![CDATA[<h1 id="MagicBook-Pro-修改CFG-Lock和DVMT-64M数值的方法"><a href="#MagicBook-Pro-修改CFG-Lock和DVMT-64M数值的方法" class="headerlink" title="MagicBook (Pro)修改CFG-Lock和DVMT 64M数值的方法"></a>MagicBook (Pro)修改CFG-Lock和DVMT 64M数值的方法</h1><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>本文借助Insyde的官方工具对BIOS进行修改，以下会介绍GUI方法来修改CFG-Lock和DVMT Pre-Allocated数值。</p><h2 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h2><p><strong>以下的所有操作均会涉及BIOS，稍有不慎就会导致主板损坏，无法开机，如果决定跟着做，请务必小心谨慎，不可跳步，漏步！！！</strong></p><h2 id="GUI方法步骤（2019机型）"><a href="#GUI方法步骤（2019机型）" class="headerlink" title="GUI方法步骤（2019机型）"></a>GUI方法步骤（2019机型）</h2><ol><li><p>下载<a href="https://cit.lanzoui.com/iPNgMmw5b0f">修改工具文件</a>，密码：cit</p></li><li><p>打开InsydeH2OUVE文件夹，先以管理员身份运行WDFInst.exe安装工具驱动</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210313184924032.png" alt="image-20210313184924032"></p></li><li><p>以管理员身份运行H2OUVE-W-GUIx64.exe程序</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210313184952113.png" alt="image-20210313184952113"></p></li><li><p>选择File – Load runtime读取当前BIOS状态</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210313185024752.png" alt="image-20210313185024752"></p></li><li><p>选择左侧Variable菜单，获取当前BIOS变量</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210313185504599.png" alt="image-20210313185504599"></p></li><li><p>找到名称为<strong>SaSetup</strong>的空间（双击后可看到该空间内的所有变量，可根据最后一个变量所在的偏移地址得出空间大小，与步骤0中的空间大小比对，从而确定找到的空间是正确的），并找到偏移量为<strong>0x107</strong>的数值，修改该数值的<strong>01</strong>为<strong>02</strong>（确认该空间被选中——前方的√打上,此处可以先不着急按左上角的保存按钮）</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210313185533544.png" alt="image-20210313185533544"></p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210313185601806.png" alt="image-20210313185601806"></p></li><li><p>然后找到CpuSetup 003E的位置，双击，修改该数值的<strong>01</strong>为<strong>00</strong></p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210313185620597.png" alt="image-20210313185620597"></p></li><li><p>确保两个√都打上以后，点击左上角的按钮保存（Sastup和CpuSetup的位置可能不在一起，只要确保修改位置正确、√都打上了就没问题，记得保存！）看到提示保存变量成功的提示后，说明已修改成功，此时可重启电脑让其生效。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210313185631306.png" alt="image-20210313185631306"></p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210313185631306.png"></p></li></ol><h2 id="GUI方法步骤（2018机型）"><a href="#GUI方法步骤（2018机型）" class="headerlink" title="GUI方法步骤（2018机型）"></a>GUI方法步骤（2018机型）</h2><p>方法同上，不同的是：</p><p>Magicbook 2018的Cfg-lock：CPUsetup 0x3c 01改成00</p><p>DVMT：Sasetup 0xDF 01改成 02</p><h2 id="如何测试是否修改成功"><a href="#如何测试是否修改成功" class="headerlink" title="如何测试是否修改成功"></a>如何测试是否修改成功</h2><p>使用对应的config.plist能进入系统的话，即说明修改成功，可结合群文件中的图片加以识别！</p><p>参考：</p><ul><li><a href="https://github.com/GatesYang/Magicbook-Pro-16.1-Hackintosh">Magicbook-(Pro)-16.1-Hackintosh-2019&amp;2020 黑苹果稳定版</a></li><li><a href="https://zhuanlan.zhihu.com/p/266400995">关于笔记本BIOS如何修改dvmt容量为64M和解锁cfg lock</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> 黑苹果 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 黑苹果 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MATLAB R2020b官方v9.8.0Mac/Win原版及安装激活教程</title>
      <link href="6933ffae.html"/>
      <url>6933ffae.html</url>
      
        <content type="html"><![CDATA[<h1 id="MATLAB-R2020b官方v9-8-0Mac-Win原版及安装激活教程"><a href="#MATLAB-R2020b官方v9-8-0Mac-Win原版及安装激活教程" class="headerlink" title="MATLAB R2020b官方v9.8.0Mac/Win原版及安装激活教程"></a>MATLAB R2020b官方v9.8.0Mac/Win原版及安装激活教程</h1><h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><p>MathWorks MATLAB R2020a v9.8.0.1323502 x64 最新版已经更新;Matlab是matrix&amp;laboratory两个词的组合，意为矩阵工厂（矩阵实验室）。是由美国mathworks公司发布的主要面对科学计算、可视化以及交互式程序设计的高科技计算环境。它将数值分析、矩阵计算、科学数据可视化以及非线性动态系统的建模和仿真等诸多强大功能集成在一个易于使用的视窗环境中，为科学研究、工程设计以及必须进行有效数值计算的众多科学领域提供了一种全面的解决方案，并在很大程度上摆脱了传统非交互式程序设计语言（如C、Fortran）的编辑模式，代表了当今国际科学计算软件的先进水平。<br> MATLAB和Mathematica、Maple并称为三大数学软件。它在数学类科技应用软件中在数值计算方面首屈一指。MATLAB可以进行矩阵运算、绘制函数和数据、实现算法、创建用户界面、连接其他编程语言的程序等，主要应用于工程计算、控制设计、信号处理与通讯、图像处理、信号检测、金融建模设计与分析等领域。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/E73OEnn4aq6kajdTgg90dxIKjvgp4CMI.png" alt="img"></p><h2 id="Mac环境安装"><a href="#Mac环境安装" class="headerlink" title="Mac环境安装"></a>Mac环境安装</h2><h3 id="Mac版Matlab-R2020b下载"><a href="#Mac版Matlab-R2020b下载" class="headerlink" title="Mac版Matlab R2020b下载"></a>Mac版Matlab R2020b下载</h3><p><a href="https://citpan.herokuapp.com/CITpan/CIT%E5%B0%8F%E7%BB%84%E8%B5%84%E6%BA%90/MatLab/">不限速下载链接</a>，建议NDM等多线程下载，可达到最佳速度</p><h3 id="Mac安装过程"><a href="#Mac安装过程" class="headerlink" title="Mac安装过程"></a>Mac安装过程</h3><p>Mac版本安装包极大,如果出现错误请先对比MD5码;</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/mstsc_e0DVNgGgBV.png" alt="img"></p><p> 1.先断网！之后打开安装包,双击InstallForMacOSX开始安装;(文件太大,安装程序启动很慢,耐心等待) </p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/mstsc_sMyZ9HlHoo.png" alt="img"></p><p> 2.同意一些协之后输入安装Key:<code>09806-07443-53955-64350-21751-41297</code></p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/mstsc_kjyvnpdFgy.png" alt="img"></p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/mstsc_rKaAfFvf03.png" alt="img"></p><p>3.提示选择许可证，解压Matlabr2020_Mac_Patch.zip文件,得到Crack文件夹,选择其中的<code>license_standalone.lic</code>许可证文件,点击下一步;选择安装位置,默认下一步即可</p><p><img src="https://img2.macxin.com/images/2020/04/16/vVJ7BKGuwc.gif"></p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/%E6%88%AA%E5%B1%8F2021-03-04%2001.55.44.png"></p><p>4.选择要安装的组件,自己选择,如果全选也可以,就是安装时间较长;点击下一步开始安装过程,大概半小时左右可以安装完成;(视磁盘性能而定)</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/mstsc_JTFrGviXk9.png"></p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/mstsc_3UOorU2m69.png"></p><p> 5.安装完成后,拷贝Crack文件夹中的<code>libmwlmgrimpl.dylib</code>文件到目录<code>/applications/Polyspace/r2020a/bin/maci64/matlab_startup_plugins/lmgrimpl/</code>替换同名文件即可;</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/mstsc_rEXwPA4h2U.png"></p><p> 6.完成了;关于启动程序,在路径<code>/applications/Polyspace/r2020a/bin/maci64/MATLABWindow</code>中,右键新建一个替身拖到桌面即可;</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/mstsc_7OV80PvUHt.png"></p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/7XCnOGx4Nq.gif"></p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/mstsc_MOtBJE1B9b.png"></p><h2 id="Win安装过程"><a href="#Win安装过程" class="headerlink" title="Win安装过程"></a>Win安装过程</h2><h3 id="下载安装包"><a href="#下载安装包" class="headerlink" title="下载安装包"></a>下载安装包</h3><p>如果没有毒盘VIP或者一定手段，不建议用下面链接（由于文件太大手机能打开，电脑网页端等会显示404）</p><p>链接：<a href="https://pan.baidu.com/s/1QFnBlCFjIfOh8ggEudtZXQ">https://pan.baidu.com/s/1QFnBlCFjIfOh8ggEudtZXQ</a> 提取码：sx6r</p><p>建议用下面👇链接</p><p><a href="https://zuaazjueducn-my.sharepoint.com/:f:/g/personal/zy2018_zuaa_zju_edu_cn/EicaBPZ5-uJEjwXrW3w98msBGWFXbT1SUhXVSdIrwRMh2w?e=KBYkCP">Onedrive链接</a>，密码：2020，解压密码：<a href="http://www.macxin.com/">www.macxin.com</a></p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210306025815946.png" alt="image-20210306025815946"></p><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><p>1.断网,右击ISO镜像文件选择挂载(我用了2019的图演示,道理是一样的)这个时候计算机里就会出现一个虚拟光驱,右击打开虚拟光驱之后进入bin文件夹,选择以管理员身份运行Setup.exe启动安装程序(如动图<br><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210306024702234.png" alt="image-20210306024702234"><br> 2.同意一些协议之类的,之后输入安装Key:<code>09806-07443-53955-64350-21751-41297</code><strong>注意:这个时候你的电脑一定要断网!</strong></p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/mstsc_rNaSGia6eR.png"></p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/mstsc_JMPDcASpx4.png"></p><p>3.之后会提示让你选择许可证,解压下载的<code>Matlab R2020a Win64 Crack.zip</code>文件,选择里面的<code>icense_standalone.lic</code>文件,点击下一步,之后选择要安装的位置,安装大概需要30G+的硬盘空间;之后选择安装组件,推荐勾掉第一个Server组件,其他的自己选择就行了,之后就是漫长的等待安装完成;(如图<br> <img src="https://img2.macxin.com/images/2020/03/26/9Ob37kWPRb.gif" alt="img"></p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/mstsc_0a0JTvJrF4.png"></p><p>4.软件激活,替换文件,打开解压好的<code>Matlab R2020a Win64 Crack</code>文件夹复制里面的R2020a文件夹,替换到软件安装目录{如图</p><p><img src="https://img2.macxin.com/images/2020/03/26/RSbCluaTTv.gif"></p><p>5.创建快捷方式,默认软件安装完成只创建一个Polyspace R2020a快捷方式,我们可以进入安装目录再创建一个Matlab的快捷方式,如图</p><p><img src="https://img2.macxin.com/images/2020/03/26/QR1DarNaFx.gif"></p><p> 6.试运行</p><p><img src="https://img2.macxin.com/images/2020/03/27/8jbC6jTTwa.gif"></p><p>参考：</p><ul><li><a href="https://www.macxin.com/archives/18891.html">MATLAB R2020a v9.8.0 Mac/Win/Linux 官方原版+安装激活教程</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> 数学建模 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 数学建模 </tag>
            
            <tag> Matlab </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ffmpeg无损快速剪切截取合并视频</title>
      <link href="fe4b7fcd.html"/>
      <url>fe4b7fcd.html</url>
      
        <content type="html"><![CDATA[<h1 id="FFmpeg无损快速剪切截取合并视频"><a href="#FFmpeg无损快速剪切截取合并视频" class="headerlink" title="FFmpeg无损快速剪切截取合并视频"></a>FFmpeg无损快速剪切截取合并视频</h1><h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><p>市场调研培训的视频时长10个多小时，太大（B站过审限制为10G，超过的要分P），但我只想把其中的广告剪去掉就能满足要求。用Final Cut Pro剪辑视频时导出367G？？？压缩还得好几十G。无奈，只好无损剪切视频。</p><h2 id="目的"><a href="#目的" class="headerlink" title="目的"></a>目的</h2><p>很多人都有这样的需求：就是把一部电影中的某一段单独保存下来。或用于编辑或用于保存这样的事情，通常被称为“分割”，或“切割”。其实，说截取比较好一些。就是从一段视频中把一小段截取出来做为已用。视频的截取，分为两种。一种是另存，一种是分割。这二者的区别在于：分割是无损的，速度快，基本上和拷贝的速度差不多；而另存，是重新编码，速度慢，如果你的机器很慢的话，那么就不是一个<em>“</em>慢<em>”</em>字了得了，如果你感情足够脆弱的话，会哭的<em>……</em></p><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><p>感谢<a href="https://github.com/FFmpeg/FFmpeg">FFmpeg</a></p><p>Mac安装</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install ffmpeg</span><br></pre></td></tr></table></figure><p>其他环境请自行百度谷歌</p><h2 id="截取视频"><a href="#截取视频" class="headerlink" title="截取视频"></a>截取视频</h2><p>截取INPUT视频从START到DURATION的片段输出为OUTPUT：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -y -ss START -t DURATION -i INPUT -c copy OUTPUT</span><br></pre></td></tr></table></figure><p>-y 覆盖已经存在的文件；</p><p>-ss 开始时间，如： 0:5:20，表示从5分20秒开始；</p><p>-t 时长，如： 0:9:39，表示截取4分19秒长的视频；</p><p>-i 输入，后面是空格，紧跟着就是输入视频文件；</p><p>-c copy，拷贝所有流；</p><p>INPUT，输入视频文件；</p><p>OUTPUT，输出视频文件；</p><p>例如截取input.mp4视频从0:5:20到0:9:39的片段输出为output.mp4：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -y -ss 0:5:20 -t 0:9:39 -i input.mp4 -c copy output.mp4</span><br></pre></td></tr></table></figure><h2 id="合并视频"><a href="#合并视频" class="headerlink" title="合并视频"></a>合并视频</h2><p>FFmpeg合并视频有很多方法，但首推使用<strong>FFmpeg concat 分离器</strong></p><p>先在要合并视频的文件夹内新建list.txt，里面编辑格式为：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">file &#39;input1.mp4&#39;</span><br><span class="line">file &#39;input2.mp4&#39;</span><br><span class="line">file &#39;input3.mp4&#39;</span><br><span class="line">···</span><br></pre></td></tr></table></figure><p>然后进行读取txt文件里文件名进行concat合并视频：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -f concat -i list.txt -c copy output.mp4</span><br></pre></td></tr></table></figure><p>例如：将1.mp4与2.mp4进行合并，先打开终端切换到视频文件路径，在创建list.txt文件后进行编辑保存：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">file 1.mp4</span><br><span class="line">file 2.mp4</span><br></pre></td></tr></table></figure><p>终端执行下面代码进行合并</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -f concat -i list.txt -c copy output.mp4</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210305114637107.png" alt="image-20210305114637107"></p><h2 id="案例"><a href="#案例" class="headerlink" title="案例"></a>案例</h2><p>我的要传到的B站视频有1.67G，时长10:47:07，按照要求要把视频时长减为10小时以内，这样就只许把里面的广告剪切掉就行：首先利用截取视频提取不是广告的片段，然后利用合并视频将视频片段按照顺序进行合并。全程不到5分钟，而且视频无损，效率远大于视频剪辑。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210305115405989.png" alt="image-20210305115405989"></p><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>FFmpeg能力不止于此，还是非常强大的，比如视频格式转化、下载You-get不能下载的保护视频等</p>]]></content>
      
      
      <categories>
          
          <category> FFmpeg </category>
          
      </categories>
      
      
        <tags>
            
            <tag> FFmpeg </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vercel加速GitHub Pages</title>
      <link href="d746f3f.html"/>
      <url>d746f3f.html</url>
      
        <content type="html"><![CDATA[<h1 id="Vercel加速GitHub-Pages"><a href="#Vercel加速GitHub-Pages" class="headerlink" title="Vercel加速GitHub Pages"></a>Vercel加速GitHub Pages</h1><h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><p>CloudFlare加速Github Page国内延迟和速度不是最优的，碰巧了解到Vercel也能加速Github Pages，效果还更好，故在此进行记录总结。</p><h2 id="Vercel是什么"><a href="#Vercel是什么" class="headerlink" title="Vercel是什么"></a>Vercel是什么</h2><p>前身是Zeit now（电信线路极为优秀），后改名改名为 Vercel了（好像被收购了）。相比于Netlify，Vercel（下文全都用此名称）CDN分布广、免费功能较为齐全（Vercel免费用户提供每个月100GB的流量，跟Github Pages是一样的）、在中国大陆访问站点在台湾速度快以及有命令行程序CLI等，但缺点也有许多：不能像Netlify那样插入代码等。但对于我的博客实在够用了，话不多说，开干！！！</p><h2 id="准备"><a href="#准备" class="headerlink" title="准备"></a>准备</h2><ul><li>Github Pages博客</li><li>域名</li><li>电子邮箱（最好谷歌邮箱，QQ邮箱有部分人反应会出错）</li></ul><h2 id="注册Vercel账号"><a href="#注册Vercel账号" class="headerlink" title="注册Vercel账号"></a>注册Vercel账号</h2><p>在<a href="https://zeit.co/">Vercel官方网站</a>用准备好的邮箱注册一个账号，可以用Github/Gitlab登陆，然后点击Sign Up注册一个账号或者点击Login登录。<br><img src="https://gitee.com/cit_k/pictures/raw/master/picture/format,png.png" alt="在这里插入图片描述"></p><h2 id="导入仓库"><a href="#导入仓库" class="headerlink" title="导入仓库"></a>导入仓库</h2><p>点击<a href="https://vercel.com/dashboard">New Project</a>进入给予github权限选择github账户下的你的博客仓库。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210301170211828.png" alt="image-20210301170211828"></p><h2 id="部署及域名绑定"><a href="#部署及域名绑定" class="headerlink" title="部署及域名绑定"></a>部署及域名绑定</h2><p>导入之后会发现它已经分配给你一个.verel.app的域名，此时我们只需在上面的输入框输入自己的域名点击add后按照提示绑定就行</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210301171704544.png" alt="image-20210301171704544"></p><h2 id="部署后"><a href="#部署后" class="headerlink" title="部署后"></a>部署后</h2><p>ping一下，几乎都是绿的</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210301172647731.png" alt="image-20210301172647731"></p><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>挺不错的，暂时用它了！</p><p>参考：</p><ul><li><a href="https://www.tangruiping.com/post/zeit-github-pages-hexo-sync.html#Zeit-Github-Cloudflare-Netlify%E9%80%9F%E5%BA%A6%E5%AF%B9%E6%AF%94">Vercel Zeit now自动部署Github为hexo博客加速</a></li><li><a href="https://www.iaia.cc/posts/2418998582.html">优雅的使用Vercel加速GitHub Pages</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Namesilo购买解析域名+CloudFlare加速Github Page</title>
      <link href="a10d2364.html"/>
      <url>a10d2364.html</url>
      
        <content type="html"><![CDATA[<h1 id="Namesilo购买解析域名-CloudFlare加速Github-Page"><a href="#Namesilo购买解析域名-CloudFlare加速Github-Page" class="headerlink" title="Namesilo购买解析域名+CloudFlare加速Github Page"></a>Namesilo购买解析域名+CloudFlare加速Github Page</h1><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>在gitee、github双部署后，github pages国内速度太慢，有点强迫症，就套一层 cloudflare CDN加速github page（需要域名，免费版本是有请求次数限制的，每天 10W 次，博客足够了；哪天官方不提供免费套餐了，把 DNS 的 NS 解析记录回去就行）。可又没有域名，无奈，就花点小钱买来玩玩吧。</p><h2 id="域名选择"><a href="#域名选择" class="headerlink" title="域名选择"></a>域名选择</h2><p><strong>如果准备买国内服务器，建议在阿里云或者腾讯云购买域名，虽然要实名认证，但是国内服务器本身也要备案</strong>。如果是准备购买国外服务器，建议在 Namesilo 购买域名。千万 千万 不要在 Godaddy 购买域名，这是个坑！！</p><h2 id="Namesilo"><a href="#Namesilo" class="headerlink" title="Namesilo"></a>Namesilo</h2><p>如果有优惠码，价格不错，虽说可能没 Godaddy 便宜，但是至少比国内域名便宜，而且 Godaddy 的便宜是有代价的。最后域名本身也不贵，也没必要在乎十多块钱的差价。主要还是体验，Namesilo 续费不会留坑，隐私保护的好，Godaddy 如果用信用卡付款，还会被抽到验证身份，这是最坑的，可能需要上传身份证照片，贼恶心。</p><h2 id="注册"><a href="#注册" class="headerlink" title="注册"></a>注册</h2><p>namesilo注册视频的话可以看<a href="https://www.bilibili.com/video/BV11E411L7AA?from=search&seid=15025364950076604501">这个</a></p><p>总之邮箱注册+身份填写+域名搜索+选择购买下单，很简单。其中这一步要留意</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/2-2.png" alt="《2019 Namesilo 购买域名 解析域名 图文教程》"></p><p>这里内容比较多，最为重要。第一个箭头和我一样即可。第二个箭头位置 Auto-Renew，设置域名是否自动续费，自行确定，支付宝不虚。第三个箭头位置 Privacy Setting 代表域名隐私保护设置，建议设置成 WHOIS Privacy ，反正是免费的。第四个箭头代表 购买几年。使用优惠码好像第一次只能一年。。。最后箭头代表优惠码，如果填写优惠码会便宜 1 美元。本来我这里是 $6.99 ，优惠会是 $5.99。</p><h2 id="解析域名"><a href="#解析域名" class="headerlink" title="解析域名"></a>解析域名</h2><p>通过域名提供商，修改刚刚的域名解析，通过 A 记录分别解析到以下 4 个 IP：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">185.199.108.153</span><br><span class="line">185.199.109.153</span><br><span class="line">185.199.110.153</span><br><span class="line">185.199.111.153</span><br></pre></td></tr></table></figure><p>比如我的：</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210224195345660.png" alt="image-20210224195345660"></p><p>设置完之后通过命令行验证：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dig monkeywie.cn +noall +answer</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210224184654805.png" alt="image-20210224184654805"></p><p>如果ip是上面的就代表已经生效了。当记录全部解析生效时，就可以通过<code>http://zhangkh.top</code>访问到博客了，这个时候再开启<code>HTTPS</code>，示例图：</p><p><img src="https://monkeywie.cn/2020/08/20/fast-github-page-with-cloudflare/2020-08-20-18-24-13.png" alt="img"></p><p>然后 github 会自动签发提供给<code>zhangkh.top</code>域名使用的 SSL 证书，等待一段时间后，就可以通过<code>HTTPS</code>即<code>https://zhangkh.top</code>访问博客了。</p><h3 id="CloudFlare-CDN配置"><a href="#CloudFlare-CDN配置" class="headerlink" title="CloudFlare CDN配置"></a>CloudFlare CDN配置</h3><p>先通过<a href="https://dash.cloudflare.com/sign-up%E9%93%BE%E6%8E%A5%E8%BF%9B%E8%A1%8C%E6%B3%A8%E5%86%8C%EF%BC%8C%E7%84%B6%E5%90%8E%E6%B7%BB%E5%8A%A0%E7%AB%99%E7%82%B9%EF%BC%88%E6%B3%A8%E6%84%8F%E6%98%AF%E5%A1%AB%E5%86%99%E5%9F%9F%E5%90%8D%EF%BC%89%EF%BC%8C%E6%8F%90%E4%BA%A4%E4%B9%8B%E5%90%8E%E4%BC%9A%E8%87%AA%E5%8A%A8%E6%89%AB%E6%8F%8F%E5%9F%9F%E5%90%8D%E5%AF%B9%E5%BA%94%E7%9A%84%E8%A7%A3%E6%9E%90%E8%AE%B0%E5%BD%95%EF%BC%8C%E4%B8%8B%E4%B8%80%E6%AD%A5%E5%B0%B1%E6%98%AF%E6%BF%80%E6%B4%BB%E4%BA%86%EF%BC%9A%E9%80%9A%E8%BF%87%E5%9F%9F%E5%90%8D%E7%9A%84%E8%BF%90%E8%90%A5%E5%95%86%E4%BF%AE%E6%94%B9%E5%AF%B9%E5%BA%94%E7%9A%84">https://dash.cloudflare.com/sign-up链接进行注册，然后添加站点（注意是填写域名），提交之后会自动扫描域名对应的解析记录，下一步就是激活了：通过域名的运营商修改对应的</a> NS 记录</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210224174816363.png" alt="image-20210224174816363"></p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210224174902676.png" alt="image-20210224174902676"></p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210224175004015.png" alt="image-20210224175004015"></p><p>反正都免费，能开的都开</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210224175126008.png" alt="image-20210224175126008"></p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210224175215210.png" alt="image-20210224175215210"></p><p>这样就设置完毕了，等一段时间再用命令行验证一下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dig monkeywie.cn +noall +answer</span><br></pre></td></tr></table></figure><p>例如我的</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210224185800492.png" alt="image-20210224185800492"></p><p>可以看到 dns 解析的 ip 已经变了，已经被 cloudflare 接管了，<br>然后清除下浏览器 DNS 缓存，chrome 浏览器输入<code>chrome://net-internals/#dns</code>进入清除页：</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/2020-08-20-18-41-14.png" alt="img"></p><p>再次访问<code>https://monkeywie.cn</code>，F12 打开网络面板可以看到已经用上了 CDN 了：</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-2021022419buibl8404%202.png" alt="image-2021022419buibl8404 2"></p><p>参考：</p><ul><li><a href="https://guozh.net/buy-domain-name-from-namesilo-course/">2019 Namesilo 购买域名 解析域名 图文教程</a></li><li><a href="https://monkeywie.cn/2020/08/20/fast-github-page-with-cloudflare/">使用cloudflare免费加速github page</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo Gitee与Github Pages 自动部署站点</title>
      <link href="d3134430.html"/>
      <url>d3134430.html</url>
      
        <content type="html"><![CDATA[<h1 id="Hexo-Gitee与Github-Pages-自动部署站点"><a href="#Hexo-Gitee与Github-Pages-自动部署站点" class="headerlink" title="Hexo Gitee与Github Pages 自动部署站点"></a>Hexo Gitee与Github Pages 自动部署站点</h1><h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><p>Github在国内访问还是偏慢的，尽管我们将所有能弄的静态资源都移到拥有国内节点的JSDelivr上了。这里决定将博客在Gitee建立一个镜像，这样如果国内访问太慢的话我们可以从Gitee也就是“码云”来访问网站。</p><p>这样博客站点使用了Github作为主站，又使用了Gitee作为镜像站。但是Gitee免费账户是不支持提交后自动部署的，所以有大佬开发了在Github上使用的动作：<code>gitee-pages-action</code>（<a href="https://github.com/yanglbme/gitee-pages-action">点击查看</a>）。只要在某个仓库配置好这个动作就能在往这个仓库提交任何内容时自动让Gitee部署Gitee里面指定仓库的内容。</p><h2 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h2><p>我们按照这个仓库的文档往Hexo站点的<code>source</code>目录添加<code>.github\workflows\sync.yml</code>这个文件，并在这个文件里面配置要使用的Gitee站点仓库和用户名。</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">name:</span> <span class="string">Sync</span></span><br><span class="line"></span><br><span class="line"><span class="attr">on:</span></span><br><span class="line">  <span class="attr">push:</span></span><br><span class="line">    <span class="attr">branches:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">master</span></span><br><span class="line"></span><br><span class="line"><span class="attr">jobs:</span></span><br><span class="line">  <span class="attr">build:</span></span><br><span class="line">    <span class="attr">runs-on:</span> <span class="string">ubuntu-latest</span></span><br><span class="line">    <span class="attr">steps:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Build</span> <span class="string">Gitee</span> <span class="string">Pages</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">yanglbme/gitee-pages-action@main</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="comment"># 注意替换为你的 Gitee 用户名</span></span><br><span class="line">          <span class="attr">gitee-username:</span> <span class="string">改成你的Gitee用户名</span></span><br><span class="line">          <span class="comment"># 注意在 Settings-&gt;Secrets 配置 GITEE_PASSWORD</span></span><br><span class="line">          <span class="attr">gitee-password:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.GITEE_PASSWORD</span> <span class="string">&#125;&#125;</span></span><br><span class="line">          <span class="comment"># 注意替换为你的 Gitee 仓库，仓库名严格区分大小写，请准确填写，否则会出错</span></span><br><span class="line">          <span class="attr">gitee-repo:</span> <span class="string">改成你的Gitee仓库（用户名斜杠仓库名）</span></span><br><span class="line">          <span class="comment"># 要部署的分支，默认是 master，若是其他分支，则需要指定（指定的分支必须存在）</span></span><br><span class="line">          <span class="attr">branch:</span> <span class="string">master</span></span><br></pre></td></tr></table></figure><p>对于我来说就是</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">name:</span> <span class="string">Sync</span></span><br><span class="line"></span><br><span class="line"><span class="attr">on:</span></span><br><span class="line">  <span class="attr">push:</span></span><br><span class="line">    <span class="attr">branches:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">master</span></span><br><span class="line"></span><br><span class="line"><span class="attr">jobs:</span></span><br><span class="line">  <span class="attr">build:</span></span><br><span class="line">    <span class="attr">runs-on:</span> <span class="string">ubuntu-latest</span></span><br><span class="line">    <span class="attr">steps:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Build</span> <span class="string">Gitee</span> <span class="string">Pages</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">yanglbme/gitee-pages-action@main</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="comment"># 注意替换为你的 Gitee 用户名</span></span><br><span class="line">          <span class="attr">gitee-username:</span> <span class="string">zhangkaiheng</span></span><br><span class="line">          <span class="comment"># 注意在 Settings-&gt;Secrets 配置 GITEE_PASSWORD</span></span><br><span class="line">          <span class="attr">gitee-password:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.GITEE_PASSWORD</span> <span class="string">&#125;&#125;</span></span><br><span class="line">          <span class="comment"># 注意替换为你的 Gitee 仓库，仓库名严格区分大小写，请准确填写，否则会出错</span></span><br><span class="line">          <span class="attr">gitee-repo:</span> <span class="string">zhangkaiheng/zhangkaiheng</span></span><br><span class="line">          <span class="comment"># 要部署的分支，默认是 master，若是其他分支，则需要指定（指定的分支必须存在）</span></span><br><span class="line">          <span class="attr">branch:</span> <span class="string">master</span></span><br></pre></td></tr></table></figure><p>注意Github的部署仓库后台的Settings里面也要按照最上面那个仓库说明中那样配置Secrets（<code>GITEE_RSA_PRIVATE_KEY</code>和<code>GITEE_PASSWORD</code>的两个密钥。其中：<code>GITEE_RSA_PRIVATE_KEY</code>存放<code>id_rsa</code>私钥；<code>GITEE_PASSWORD</code>存放Gitee帐号的密码），这一步不要忘记了。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210223225834378.png" alt="image-20210223225834378"></p><p>但是一个比较严重的问题是鄙人要让Github这边部署站点的仓库更新时触发这个动作，鄙人用的是Hexo，如果鄙人在<code>source</code>目录配置了<code>.github</code>目录时使用Hexo的<code>generate</code>命令是不会向Github提交这个动作的配置的。国内也没有一个比较好的解决方案，只好去查Hexo的文档。</p><p>经过查阅<a href="https://hexo.io/zh-cn/docs/configuration">Hexo文档</a>发现，Hexo默认会忽略隐藏文件和文件夹（包括名称以下划线和 <strong><code>.</code>开头的文件和文件夹</strong>，Hexo的<code>_posts</code>和<code>_data</code>等目录除外）。因此需要在后台仓库的<code>_config.yml</code>文件添加这样的配置才能把<code>.github</code>的目录也给带进来。可能已经预留了<code>include</code>属性，建议先搜索这个属性，然后直接往这里面添加。</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">include:</span> </span><br><span class="line">  <span class="bullet">-</span> <span class="string">&quot;.github/**/*&quot;</span></span><br></pre></td></tr></table></figure><p>但是这样即使配置了添加这些文件，他默认也会把这个源文件也给渲染，所以我们还需要设置忽略这个文件的渲染。继续在<code>_config.yml</code>文件查找<code>skip_render</code>属性，添加这个文件名。</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">skip_render:</span> </span><br><span class="line">  <span class="bullet">-</span> <span class="string">&quot;.github/**/*&quot;</span></span><br></pre></td></tr></table></figure><p>还有一处也需要修改，往远程仓库部署时要设置不能跳过隐藏的文件，因为Git Bash是按Linux设计的，默认会将<code>.</code>开头的文件和文件夹视为隐藏文件。所以要继续在<code>_config.yml</code>文件查找<code>deploy</code>属性，设置里面<code>ignore_hidden</code>为<code>false</code>。</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">  <span class="attr">ignore_hidden:</span> <span class="literal">false</span> <span class="comment"># 添加这个属性值为false</span></span><br><span class="line">  <span class="attr">repo:</span> </span><br><span class="line">    <span class="attr">gitee:</span> <span class="string">git@gitee.com:你的Gitee仓库.git,要使用的分支名</span></span><br><span class="line">    <span class="attr">github:</span> <span class="string">git@github.com:你的Github仓库.git,要使用的分支名</span></span><br><span class="line">    <span class="comment"># 可以先提交Gitee然后再提交Github，也就是把这个Gitee的地址放在前面。这样保证Gitee的站点内容能在Github开始动作之前完成提交。</span></span><br></pre></td></tr></table></figure><p>这样设置之后就可以在Github完成部署仓库提交之后通过配置的动作自动使Gitee也部署站点。</p><p>参考：</p><ul><li><a href="https://github.com/yanglbme/gitee-pages-action">gitee-pages-action</a></li><li><a href="https://blog.csdn.net/qq_35977139/article/details/113764322">Hexo Gitee Pages 自动部署站点</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Mac 配置多 Git 账户</title>
      <link href="a3cc4771.html"/>
      <url>a3cc4771.html</url>
      
        <content type="html"><![CDATA[<h1 id="Mac-配置多-Git-账户"><a href="#Mac-配置多-Git-账户" class="headerlink" title="Mac 配置多 Git 账户"></a>Mac 配置多 Git 账户</h1><h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><p>我们经常将代码托管到github、gitlab这样的网站上。为了避免每次push代码时都要输入用户名和密码，通常会选择使用ssh协议，将公钥保存到托管网站上。在实际开发中，往往要将代码托管到多个不同的网站上。比如，公司的代码需要托管到coding上，自己的开源代码托管到GitHub上，私有代码托管到gitlab上等等，每个托管网站都对应一个git账户。默认情况下，一台电脑的Git只对应一个账户，只能往一个网站push代码，非常不便。这就需要配置多个 Git 账户，以向不同的网站 push 代码。本文将介绍如何在一个Git终端中配置多个账户，同时管理多个托管网站的代码。</p><h2 id="准备"><a href="#准备" class="headerlink" title="准备"></a>准备</h2><p>首先，需要准备好对Git的全局用户进行配置。在初次安装Git时，往往会使用如下的命令配置全局用户名和邮箱：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name &quot;xxx&quot; &#x2F;&#x2F; 配置全局用户名，如Github上注册的用户名</span><br><span class="line">git config --global user.email &quot;yyy@mail.com&quot; &#x2F;&#x2F; 配置全局邮箱，如Github上配置的邮箱</span><br></pre></td></tr></table></figure><p>这个<code>--global</code>选项，是指这里配置的<code>user.name</code>和<code>user.email</code>是相对于全局进行配置的，即不同的Git仓库默认的用户名和邮箱都是这个值。由于需要管理多个账户，所以仅仅使用这个全局值是不够的，<strong>需要在每个仓库中单独配置</strong>。对此，有两种处理方法：</p><p>如果之前已经使用该命令进行配置，则先使用如下命令清除</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global --unset user.name</span><br><span class="line">git config --global --unset user.email</span><br></pre></td></tr></table></figure><p>如果不确定是否已经配置过，可以使用下面的命令查看</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name</span><br><span class="line">git config --global user.email</span><br></pre></td></tr></table></figure><h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><h3 id="对每个账户生成一对密钥"><a href="#对每个账户生成一对密钥" class="headerlink" title="对每个账户生成一对密钥"></a>对每个账户生成一对密钥</h3><p>首先进入保存秘钥的目录：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd ~&#x2F;.ssh &#x2F;&#x2F; 进入目录，该目录下保存生成的秘钥</span><br></pre></td></tr></table></figure><p>然后，根据账户或者账户邮箱生成秘钥。例如我在GitHub账户是Kit139，账户邮箱是<a href="mailto:&#x32;&#x35;&#49;&#52;&#49;&#x35;&#x34;&#x36;&#53;&#54;&#64;&#x71;&#x71;&#46;&#x63;&#111;&#x6d;">&#x32;&#x35;&#49;&#52;&#49;&#x35;&#x34;&#x36;&#53;&#54;&#64;&#x71;&#x71;&#46;&#x63;&#111;&#x6d;</a>，则命令为：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C &quot;Kit139&quot;</span><br></pre></td></tr></table></figure><p>或</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C &quot;Kit139&quot;</span><br></pre></td></tr></table></figure><p>输入完成后，会有如下提示：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Generating public&#x2F;private rsa key pair.</span><br><span class="line">Enter file in which to save the key (&#x2F;Users&#x2F;liugui&#x2F;.ssh&#x2F;id_rsa):</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/1hiafgblagiqyvglb.jpg" alt="1hiafgblagiqyvglb"></p><p>这里要求对秘钥进行命名，默认的文件名是<code>id_rsa</code>。为了方便区分，我这里命名为<code>id_rsa_github</code>。接下来的提示都直接进行回车，直到秘钥生成。通过<code>ls</code>命令，可以看到刚刚生成的密钥对<code>id_rsa_github</code>和<code>id_rsa_github.pub</code>。其中<code>id_rsa_github.pub</code>是公钥。</p><p>同样，对于GitLab上的账户，我是用另一个邮箱注册的，按照同样的步骤生成<code>id_rsa_gitlab</code>的秘钥对。接下来的步骤，除额外说明外，两个账户的操作完全相同。</p><h3 id="私钥添加到本地"><a href="#私钥添加到本地" class="headerlink" title="私钥添加到本地"></a>私钥添加到本地</h3><p>SSH协议的原理，就是在托管网站上使用公钥，在本地使用私钥，这样本地仓库就可以和远程仓库进行通信。在上一步已经生成了秘钥文件，接下来需要使用秘钥文件，首先是在本地使用秘钥文件：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ssh-add ~&#x2F;.ssh&#x2F;id_rsa_github &#x2F;&#x2F; 将GitHub私钥添加到本地</span><br><span class="line">ssh-add ~&#x2F;.ssh&#x2F;id_rsa_gitlab &#x2F;&#x2F; 将GitLab私钥添加到本地</span><br></pre></td></tr></table></figure><p>为了检验本地是否添加成功，可以使用<code>ssh-add -l</code>命令进行查看</p><h3 id="对本地秘钥进行配置"><a href="#对本地秘钥进行配置" class="headerlink" title="对本地秘钥进行配置"></a>对本地秘钥进行配置</h3><p>由于添加了多个密钥文件，所以需要对这多个密钥进行管理。在<code>.ssh</code>目录下新建一个config文件：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">touch config</span><br></pre></td></tr></table></figure><p>文件中的内容如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Host github &#x2F;&#x2F; 网站的别名，随意取</span><br><span class="line">HostName github.com &#x2F;&#x2F; 托管网站的域名</span><br><span class="line">User liugui &#x2F;&#x2F; 托管网站上的用户名</span><br><span class="line">IdentityFile ~&#x2F;.ssh&#x2F;id_rsa_github &#x2F;&#x2F; 使用的密钥文件</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; GitLab的配置相同</span><br><span class="line">Host gitlab</span><br><span class="line">HostName gitlab.com</span><br><span class="line">User liugui</span><br><span class="line">IdentityFile ~&#x2F;.ssh&#x2F;id_rsa_gitlab</span><br></pre></td></tr></table></figure><p>例如我的是</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Host github.com</span><br><span class="line">HostName github.com</span><br><span class="line">User Kit139</span><br><span class="line">IdentityFile ~&#x2F;.ssh&#x2F;id_rsa_kit139_mac</span><br><span class="line"></span><br><span class="line">Host gitee.com</span><br><span class="line">HostName gitee.com</span><br><span class="line">User zhangkaiheng</span><br><span class="line">IdentityFile ~&#x2F;.ssh&#x2F;id_rsa_zkh_gitee</span><br></pre></td></tr></table></figure><h3 id="公钥添加到托管网站"><a href="#公钥添加到托管网站" class="headerlink" title="公钥添加到托管网站"></a>公钥添加到托管网站</h3><p>以GitHub为例，先在本地复制公钥。进入<code>.ssh</code>目录，使用<code>cat id_rsa_github.pub</code>或者用vscode打开id_rsa_github.pub文件查看生成的GitHub公钥，全选进行复制。</p><p>登录GitHub，点击右上角头像选择<code>settings</code>，在打开的页面中选择SSH and GPG keys，</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/3250450123-5b8e880ae25ea_articlex.png" alt="图片描述"></p><p>在打开的页面的Key输入框中粘贴刚刚复制的公钥，title的名字自己随便去，然后点击下方的<code>Add SSH key</code>按钮：<br><img src="https://gitee.com/cit_k/pictures/raw/master/picture/1793513036-5b8e88180ee14_articlex.png" alt="图片描述"></p><h2 id="验证"><a href="#验证" class="headerlink" title="验证"></a>验证</h2><p>至此，托管网站的公钥添加完成。总结来说，就是针对每个托管网站分别生成一对密钥，然后分别添加到本地和托管网站。</p><p>这时候，可以测试一下配置是否成功，测试命令使用别名。例如，对于GitHub，本来应该使用的测试命令是：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -T git@github.com</span><br></pre></td></tr></table></figure><p>在config文件中，给GitHub网站配置的别名就是github，所以直接使用别名，就是</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -T git@github</span><br></pre></td></tr></table></figure><blockquote><p>如果你配置的 Coding ，需要注意 <code>HostName</code> 要填写你的团队的地址，Coding 现在对于新用户都是注册为团队，并为每个团队单独创建了一个二级域名，比如我的账户二级域名：<code>sjzcode.coding.net</code>。直接写 <code>coding.net</code> 无法认证成功。</p></blockquote><p>命令 <code>ssh -T git@别名</code> 验证是否配置成功。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">~&#x2F;.ssh ssh -T git@github.com</span><br><span class="line">Hi xxx! You&#39;ve successfully authenticated, but GitHub does not provide shell access.</span><br><span class="line"></span><br><span class="line">~&#x2F;.ssh ssh -T git@sjzcode.coding.net</span><br><span class="line">Coding 提示: Hello xxx, You&#39;ve connected to Coding.net via SSH. This is a personal key.</span><br><span class="line">xx，你好，你已经通过 SSH 协议认证 Coding.net 服务，这是一个个人公钥.</span><br><span class="line">公钥指纹：xxxxxxxxx</span><br></pre></td></tr></table></figure><p>参考：</p><ul><li><a href="https://juejin.cn/post/6844904132990468103">Mac 多 Git 账户配置</a></li><li><a href="https://blog.csdn.net/weixin_34355559/article/details/88748270">Mac下配置多个Git账户</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> GIT </category>
          
      </categories>
      
      
        <tags>
            
            <tag> GIT </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo博客优化——推荐插件</title>
      <link href="d340ea43.html"/>
      <url>d340ea43.html</url>
      
        <content type="html"><![CDATA[<h1 id="Hexo博客优化——推荐插件"><a href="#Hexo博客优化——推荐插件" class="headerlink" title="Hexo博客优化——推荐插件"></a>Hexo博客优化——推荐插件</h1><h1 id="Hexo-abbrlink生成唯一永久文章链接"><a href="#Hexo-abbrlink生成唯一永久文章链接" class="headerlink" title="Hexo-abbrlink生成唯一永久文章链接"></a>Hexo-abbrlink生成唯一永久文章链接</h1><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>在做次优化之前，hexo-next文章链接默认的生成规则是：<code>:year/:month/:day/:title</code>，是按照年、月、日、标题来生成的。<br>比如：<code>https://www.liaofuzhan.com/2019/08/12/hello-world/</code> 这样，如果文章标题是中文的话，URL链接是也会是中文，</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/agdyuaccbslc.png" alt="agdyuaccbslc"></p><p>复制后的链接是一长串，非常不利于阅读，也不简洁。。。😢</p><p><a href="https://links.jianshu.com/go?to=http://localhost:4000/2019/08/13/tech/hexo/Hexo%20Next%E4%B8%BB%E9%A2%98%E6%B7%BB%E5%8A%A0%E5%93%88%E6%9E%97%E6%91%87%E7%89%B9%E6%95%88/">http://localhost:4000/2019/08/13/tech/hexo/Hexo%20Next%E4%B8%BB%E9%A2%98%E6%B7%BB%E5%8A%A0%E5%93%88%E6%9E%97%E6%91%87%E7%89%B9%E6%95%88/</a></p><p>一种解决方案是：使用**<code>hexo-permalink-pinyin插件</code>**，将中文转英文，参考这篇文章：<a href="https://www.liaofuzhan.com/posts/781435405.html">Hexo NexT中文链接转拼音(关于中文md文件名的问题)</a></p><p>这样方案也存在一定的缺陷，比如修改了文章标题，重新<code>hexo</code>三连后，<code>URL</code>就变了，以前的文章地址变成了<code>404</code>。而且这样生成的URL层级也很深，不利于SEO。</p><p>那能不能生成唯一不变的URl链接呢？答案是可以的，已经有人给我们实现了。这就是我们要说的<code>hexo-abbrlink</code>插件，简单易用</p><h2 id="安装插件"><a href="#安装插件" class="headerlink" title="安装插件"></a>安装插件</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-abbrlink --save</span><br></pre></td></tr></table></figure><blockquote><p>执行此命令可能会不成功，提示你缺少相应的依赖<br>比如<code>babel-eslint</code>、<code>mini-css-extract-plugin</code>、<code>webpack-cli</code>…<br>使用npm命令安装即可，比如<code>npm install eslint@4.x babel-eslint@8 --save-dev</code></p></blockquote><h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><p>修改根目录站点配置文件<code>config.yml</code>，改为：</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">permalink: posts/:abbrlink.html  # 此处可以自己设置，也可以直接使用 :/abbrlink</span><br><span class="line">abbrlink:</span><br><span class="line">    alg: crc32   #算法： crc16(default) and crc32</span><br><span class="line">    rep: hex     #进制： dec(default) and hex</span><br></pre></td></tr></table></figure><p>生成的链接将会是这样的(官方样例)：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">crc16 &amp; hex</span><br><span class="line">https:<span class="comment">//post.zz173.com/posts/66c8.html</span></span><br><span class="line"></span><br><span class="line">crc16 &amp; dec</span><br><span class="line">https:<span class="comment">//post.zz173.com/posts/65535.html</span></span><br><span class="line">crc32 &amp; hex</span><br><span class="line">https:<span class="comment">//post.zz173.com/posts/8ddf18fb.html</span></span><br><span class="line"></span><br><span class="line">crc32 &amp; dec</span><br><span class="line">https:<span class="comment">//post.zz173.com/posts/1690090958.html</span></span><br></pre></td></tr></table></figure><p>生成完后，原<code>md</code>文件的Front-matter 内会增加<code>abbrlink</code> 字段，值为生成的ID 。这个字段确保了在我们修改了Front-matter 内的博客标题title或创建日期date字段之后而不会改变链接地址。</p><h1 id="hexo-generator-feed生成RSS文件的插件"><a href="#hexo-generator-feed生成RSS文件的插件" class="headerlink" title="hexo-generator-feed生成RSS文件的插件"></a>hexo-generator-feed生成RSS文件的插件</h1><h2 id="安装所需插件"><a href="#安装所需插件" class="headerlink" title="安装所需插件"></a>安装所需插件</h2><p>hexo博客中有一个可以生成RSS的xml文件的插件<code>hexo-generator-feed</code>，使用命令行对其进行安装</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">BASH</span><br><span class="line">npm install hexo-generator-feed</span><br></pre></td></tr></table></figure><h2 id="启用插件"><a href="#启用插件" class="headerlink" title="启用插件"></a>启用插件</h2><p>安装成功之后通过hexo博客根目录下的<code>_config.yml</code>文件的修改来启用插件，修改如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">YAML</span><br><span class="line"># Extensions</span><br><span class="line">plugins:</span><br><span class="line">    hexo-generator-feed</span><br><span class="line">#Feed Atom</span><br><span class="line">feed:</span><br><span class="line">    type: atom # 生成的类型，RSS对应atom</span><br><span class="line">    path: atom.xml # 生成的文件名</span><br><span class="line">    limit: 20 # 选取推送的文章数量</span><br></pre></td></tr></table></figure><h2 id="生成文件"><a href="#生成文件" class="headerlink" title="生成文件"></a>生成文件</h2><p>通过<code>hexo g</code>生成新的public目录，已经能看到里面有atom.xml文件了。</p><p>发布之后就可以进行正常使用</p><h1 id="Hexo自动为站内链接加上nofollow插件"><a href="#Hexo自动为站内链接加上nofollow插件" class="headerlink" title="Hexo自动为站内链接加上nofollow插件"></a>Hexo自动为站内链接加上nofollow插件</h1><p><a href="https://blog.kaygb.com/go/aHR0cHM6Ly9naXRodWIuY29tL2hleG9qcy9oZXhvLWZpbHRlci1ub2ZvbGxvdw==">hexo-filter-nofollow</a> 是一个自动为 Hexo 博客中的外链添加 <code>rel=&quot;external nofollow noreferrer&quot;</code> 的插件。</p><h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p><a href="https://blog.kaygb.com/go/aHR0cHM6Ly9naXRodWIuY29tL2hleG9qcy9oZXhvLWZpbHRlci1ub2ZvbGxvdw==">hexo-filter-nofollow</a> 会为你的博客中的外链自动添加 <code>rel=&quot;external nofollow noreferrer&quot;</code> 属性，从而 <a href="https://blog.kaygb.com/go/aHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSFRNTC9MaW5rX3R5cGVz">改善你的网站的安全性和 SEO</a>。</p><p>关于SEO这点，网站内部有大量的外链会影响网站的权重,不利于SEO。</p><p>“nofollow” 标签是Google、Yahoo和微软公司前几年一起提出的一个标签，链接加上这个标签后就不会被计算权值，搜索引擎支持nofollow属性，在很大程度上抑制博客或论坛的垃圾留言。对站长来说是一件大好事。</p><p>nofollow是HTML元标签(meta)的content属性和链接标签(a)的rel属性的一个值，告诉机器(爬虫)无需追踪目标页，为了对抗blogspam(博客垃圾留言信息)，Google推荐使用nofollow，告诉搜索引擎爬虫无需抓取目标页，同时告诉搜索引擎无需将的当前页的Pagerank传递到目标页。但是如果你是通过sitemap直接提交该页面，爬虫还是会爬取，这里的nofollow只是当前页对目标页的一种态度，并不代表其他页对目标页的态度。</p><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm i hexo-filter-nofollow --save</span><br></pre></td></tr></table></figure><p>如果你使用 yarn 作为你的 Hexo 的包管理器，你也可以使用下述命令：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn add hexo-filter-nofollow</span><br></pre></td></tr></table></figure><h2 id="配置-1"><a href="#配置-1" class="headerlink" title="配置"></a>配置</h2><p>打开hexo的配置文件_config.yml，注意是hexo而不是主题。</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">nofollow:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">field:</span> <span class="string">site</span></span><br><span class="line">  <span class="attr">exclude:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&#x27;exclude1.com&#x27;</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&#x27;exclude2.com&#x27;</span></span><br></pre></td></tr></table></figure><ul><li><strong>enable</strong> - 是否启用插件，默认值为 <code>true</code></li><li><strong>field</strong> - 插件的处理范围，默认值为 <code>site</code>，可选 <code>post</code> 或 <code>site</code><ul><li><code>post</code> - 仅处理文章内容</li><li><code>site</code> - 处理全站所有页面</li></ul></li><li><strong>exclude</strong> - 域名白名单，不同的子域名视为不同的域名（如 <code>www</code>）<ul><li><code>exclude1.com</code>不包括 <code>www.exclude1.com</code> 或 <code>en.exclude1.com</code></li></ul></li></ul><h2 id="从-hexo-autonofollow-迁移"><a href="#从-hexo-autonofollow-迁移" class="headerlink" title="从 hexo-autonofollow 迁移"></a>从 hexo-autonofollow 迁移</h2><p><a href="https://blog.kaygb.com/go/aHR0cHM6Ly93d3cubnBtanMuY29tL3BhY2thZ2UvaGV4by1hdXRvbm9mb2xsb3c=">hexo-autonofollow</a> 是由 liuzc 在 2016 年开发的为 Hexo 所有页面中的外链添加 <code>rel=&quot;external nofollow&quot;</code> 属性的插件。hexo-filter-nofollow 相比 hexo-autonofollow 有以下区别：</p><ul><li><code>enable</code> 配置 默认值为 <code>true</code>，默认启用插件</li><li>新增 <code>field</code> 配置，支持设置插件处理范围</li><li>移除 cheerio 依赖，使用正则表达式匹配</li><li>已加入 Hexo 官方插件，由 Hexo 官方团队维护</li></ul><p>如果你之前已经安装了 hexo-autonofollow，可以直接卸载 hexo-autonofollow 并安装 hexo-filter-nofollow。hexo-filter-nofollow 的配置和 hexo-autonofollow 的配置完全兼容。</p><p>原文链接：<a href="https://blog.kaygb.com/go/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2JpZ2JlYXIwMDAwNy9hcnRpY2xlL2RldGFpbHMvODA3NTgyNzk=">https://blog.csdn.net/bigbear00007/article/details/80758279</a></p><p>原文链接：<a href="https://blog.kaygb.com/go/aHR0cHM6Ly9ibG9nLnNray5tb2UvcG9zdC9oZXhvLWZpbHRlci1ub2ZvbGxvdy1qb2luZWQtaGV4by1vZmZpY2lhbC1wbHVnaW4v">https://blog.skk.moe/post/hexo-filter-nofollow-joined-hexo-official-plugin/</a></p><h1 id="hexo-generator-sitemap等插件生成sitemap"><a href="#hexo-generator-sitemap等插件生成sitemap" class="headerlink" title="hexo-generator-sitemap等插件生成sitemap"></a>hexo-generator-sitemap等插件生成sitemap</h1><h2 id="目的"><a href="#目的" class="headerlink" title="目的"></a>目的</h2><p>为了让博文被google或百度检索</p><h2 id="安装-1"><a href="#安装-1" class="headerlink" title="安装"></a>安装</h2><p>sitemap:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-sitemap --save</span><br></pre></td></tr></table></figure><p>baidusitemap:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-baidu-sitemap --save</span><br></pre></td></tr></table></figure><h2 id="配置-config-yml"><a href="#配置-config-yml" class="headerlink" title="配置_config.yml"></a>配置_config.yml</h2><p>sitemap: You can configure this plugin in <code>_config.yml</code>.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">sitemap:</span><br><span class="line">  path: sitemap.xml</span><br><span class="line">  template: .&#x2F;sitemap_template.xml</span><br><span class="line">  rel: false</span><br><span class="line">  tags: true</span><br><span class="line">  categories: true</span><br></pre></td></tr></table></figure><p>baidusitemap: You can configure this plugin in <code>_config.yml</code>.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">baidusitemap: </span><br><span class="line">path: baidusitemap.xml</span><br></pre></td></tr></table></figure><h1 id="添加-robots-txt"><a href="#添加-robots-txt" class="headerlink" title="添加 robots.txt"></a>添加 robots.txt</h1><p><code>robots.txt</code>是搜索引擎蜘蛛协议，告诉引擎哪些要收录，哪些禁止收录，这样显得更规范一些。<br><code>source</code>文件夹下新建 robots.txt，内容如下:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">User-agent: *</span><br><span class="line">Allow: &#x2F;</span><br><span class="line">Allow: &#x2F;home&#x2F;</span><br><span class="line">Allow: &#x2F;about&#x2F;</span><br><span class="line">Allow: &#x2F;archives&#x2F;</span><br><span class="line">Allow: &#x2F;categories&#x2F;</span><br><span class="line">Allow: &#x2F;tags&#x2F;</span><br><span class="line">Disallow: &#x2F;js&#x2F;</span><br><span class="line">Disallow: &#x2F;css&#x2F;</span><br><span class="line">Disallow: &#x2F;fonts&#x2F;</span><br><span class="line"></span><br><span class="line">Sitemap: https:&#x2F;&#x2F;zhangkaiheng.gitee.io&#x2F;sitemap.xml</span><br><span class="line">Sitemap: https:&#x2F;&#x2F;zhangkaiheng.gitee.io&#x2F;baidusitemap.xml</span><br></pre></td></tr></table></figure><h3 id=""><a href="#" class="headerlink" title=""></a></h3><p>参考：</p><ul><li><a href="https://github.com/rozbo/hexo-abbrlink">hexo-abbrlink</a></li><li><a href="https://github.com/hexojs/hexo-generator-feed">hexo-generator-feed</a></li><li><a href="https://github.com/hexojs/hexo-filter-nofollow">hexo-filter-nofollow</a></li><li><a href="https://github.com/hexojs/hexo-generator-sitemap">hexo-generator-sitemap</a></li><li><a href="https://github.com/coneycode/hexo-generator-baidu-sitemap">hexo-generator-baidu-sitemap</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>爬取蛋卷基金各类数据+动态可视化展示</title>
      <link href="af10e3f2.html"/>
      <url>af10e3f2.html</url>
      
        <content type="html"><![CDATA[<h2 id="爬取蛋卷基金各类数据-动态可视化展示"><a href="#爬取蛋卷基金各类数据-动态可视化展示" class="headerlink" title="爬取蛋卷基金各类数据+动态可视化展示"></a>爬取蛋卷基金各类数据+动态可视化展示</h2><h2 id="目的"><a href="#目的" class="headerlink" title="目的"></a>目的</h2><p>爬取『蛋卷基金』数据，通过pyecharts<strong>动图可视化</strong>方式展示基金的<strong>涨跌</strong>情况。</p><p>本文将围绕这<strong>三点</strong>去进行爬取数据，动图可视化展示数据：</p><ul><li>近一月涨跌幅前10名</li><li>基金各个阶段涨跌幅</li><li>近30个交易日净值情况</li></ul><h2 id="数据来源"><a href="#数据来源" class="headerlink" title="数据来源"></a>数据来源</h2><p>本文的数据来源：『蛋卷基金』</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https:&#x2F;&#x2F;danjuanapp.com&#x2F;</span><br></pre></td></tr></table></figure><h2 id="数据分析"><a href="#数据分析" class="headerlink" title="数据分析"></a>数据分析</h2><p>接下爬取的数据涉及五大类（五种基金）</p><ol><li><strong>股票型基金</strong></li><li><strong>混合型基金</strong></li><li><strong>债券型基金</strong></li><li><strong>指数型基金</strong></li><li><strong>QDII型基金</strong></li></ol><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/640" alt="图片"></p><p>通过抓包分析<strong>ajax异步交互</strong>链接的<strong>规律：</strong></p><ul><li><p>type是对应的五种基金的代号</p></li><li><p>order_by是对应最近多久的基金涨跌幅排序</p></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#39;近一周&#39;:&#39;1w&#39;&#39;近一月&#39;:&#39;1m&#39;&#39;近三月&#39;:&#39;3m&#39;&#39;近六月&#39;:&#39;6m&#39;&#39;近1年&#39;:&#39;1y&#39;&#39;近2年&#39;:&#39;2y&#39;&#39;近3年&#39;:&#39;3y&#39;&#39;近5年&#39;:&#39;5y&#39;</span><br></pre></td></tr></table></figure><ul><li>page是对应的页数，从第1页开始</li></ul><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/640-20210221215503923" alt="图片"></p><p><strong>备注：</strong>『蛋卷基金』这个网站<strong>没有反爬</strong>！！！，请求不需要<strong>cookie</strong>！！！</p><p>ok，这些都清楚之后，接下来就可以<strong>开始爬取</strong>数据了！</p><h2 id="数据可视化"><a href="#数据可视化" class="headerlink" title="数据可视化"></a>数据可视化</h2><p>由于<strong>『蛋卷基金』</strong>这个网站*<strong>*没有反爬\</strong>！！！**，所以数据爬取和可视化分析放一起了（直接爬取数据后就进行可视化！）</p><h3 id="分析1：近一月涨跌幅前10名"><a href="#分析1：近一月涨跌幅前10名" class="headerlink" title="分析1：近一月涨跌幅前10名"></a>分析1：近一月涨跌幅前10名</h3><h3 id="爬虫代码"><a href="#爬虫代码" class="headerlink" title="爬虫代码"></a>爬虫代码</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">###基金类型</span><br><span class="line">dict_type&#x3D;&#123;&quot;股票型&quot;:1,&quot;混合型&quot;:3,&quot;债券型&quot;:2,&quot;指数型&quot;:5,&quot;QDII型&quot;:11&#125;</span><br><span class="line">###时间</span><br><span class="line">dict_time&#x3D;&#123;&#39;近一周&#39;:&#39;1w&#39;,&#39;近一月&#39;:&#39;1m&#39;,&#39;近三月&#39;:&#39;3m&#39;,&#39;近六月&#39;:&#39;6m&#39;,&#39;近1年&#39;:&#39;1y&#39;,&#39;近2年&#39;:&#39;2y&#39;,&#39;近3年&#39;:&#39;3y&#39;,&#39;近5年&#39;:&#39;5y&#39;&#125;</span><br><span class="line"></span><br><span class="line">for key in dict_type:</span><br><span class="line">    url &#x3D; &quot;https:&#x2F;&#x2F;danjuanapp.com&#x2F;djapi&#x2F;v3&#x2F;filter&#x2F;fund?type&#x3D;&quot;+str(dict_type[key])+&quot;&amp;order_by&#x3D;1w&amp;size&#x3D;10&amp;page&#x3D;1&quot;</span><br><span class="line">    res &#x3D; requests.get(url, headers&#x3D;headers)</span><br><span class="line">    res.encoding &#x3D; &#39;utf-8&#39;</span><br><span class="line">    s &#x3D; json.loads(res.text)</span><br><span class="line">    s &#x3D; s[&#39;data&#39;][&#39;items&#39;]</span><br><span class="line">    name &#x3D; []</span><br><span class="line">    value &#x3D; []</span><br><span class="line">    for i in range(0,len(s)):</span><br><span class="line">        print(s[i][&#39;fd_name&#39;]+&quot;:&quot;+s[i][&#39;yield&#39;])</span><br><span class="line">        name.append(s[i][&#39;fd_name&#39;])</span><br><span class="line">        value.append(s[i][&#39;yield&#39;])</span><br><span class="line">    ###开始绘图</span><br><span class="line">    pie(name, value, str(key)+&quot;基金涨跌幅&quot;, &quot;[&quot;+str(key)+&quot;]基金近一月涨跌幅前10名&quot;)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/640-20210221215515468" alt="图片"></p><h3 id="饼状图可视化代码"><a href="#饼状图可视化代码" class="headerlink" title="饼状图可视化代码"></a>饼状图可视化代码</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">###饼状图</span><br><span class="line">def pie(name,value,picname,tips):</span><br><span class="line">    c &#x3D; (</span><br><span class="line">        Pie()</span><br><span class="line">            .add(</span><br><span class="line">            &quot;&quot;,</span><br><span class="line">            [list(z) for z in zip(name, value)],</span><br><span class="line">            # 饼图的中心（圆心）坐标，数组的第一项是横坐标，第二项是纵坐标</span><br><span class="line">            # 默认设置成百分比，设置成百分比时第一项是相对于容器宽度，第二项是相对于容器高度</span><br><span class="line">            center&#x3D;[&quot;35%&quot;, &quot;50%&quot;],</span><br><span class="line">        )</span><br><span class="line">            .set_colors([&quot;blue&quot;, &quot;green&quot;, &quot;yellow&quot;, &quot;red&quot;, &quot;pink&quot;, &quot;orange&quot;, &quot;purple&quot;])  # 设置颜色</span><br><span class="line">            .set_global_opts(</span><br><span class="line">            title_opts&#x3D;opts.TitleOpts(title&#x3D;&quot;&quot;+str(tips)),</span><br><span class="line">            legend_opts&#x3D;opts.LegendOpts(type_&#x3D;&quot;scroll&quot;, pos_left&#x3D;&quot;70%&quot;, orient&#x3D;&quot;vertical&quot;),  # 调整图例位置</span><br><span class="line">        )</span><br><span class="line">            .set_series_opts(label_opts&#x3D;opts.LabelOpts(formatter&#x3D;&quot;&#123;b&#125;: &#123;c&#125;&quot;))</span><br><span class="line">            .render(str(picname)+&quot;.html&quot;)</span><br><span class="line">    )</span><br></pre></td></tr></table></figure><p>这里将饼状图可视化代码封装成函数，绘制五种基金的饼状图只需调用这个函数即可</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">###开始绘图</span><br><span class="line">pie(name, value, str(key)+&quot;基金涨跌幅&quot;, &quot;[&quot;+str(key)+&quot;]基金近一月涨跌幅前10名&quot;)</span><br></pre></td></tr></table></figure><p>1.股票型基金</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/640.gif" alt="图片"></p><p>2.混合型基金</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/640-20210221215530326.gif" alt="图片"></p><p>3.债券型基金</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/640-20210221215536437.gif" alt="图片"></p><p>4.指数型基金</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/640-20210221215542121.gif" alt="图片"></p><p>5.QDII型基金</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/640-20210221215551484.gif" alt="图片"></p><h3 id="分析"><a href="#分析" class="headerlink" title="分析"></a>分析</h3><p>上图中是<strong>五大类基金</strong>的选取<strong>近一个月涨跌幅最高前10名</strong>的基金进行绘图。</p><p>同理近一周、近三个月、近一年也可以通过这个代码进行绘制，只需要将参数order_by修改即可</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#39;近一周&#39;:&#39;1w&#39;&#39;近一月&#39;:&#39;1m&#39;&#39;近三月&#39;:&#39;3m&#39;&#39;近六月&#39;:&#39;6m&#39;&#39;近1年&#39;:&#39;1y&#39;&#39;近2年&#39;:&#39;2y&#39;&#39;近3年&#39;:&#39;3y&#39;&#39;近5年&#39;:&#39;5y&#39;</span><br></pre></td></tr></table></figure><h2 id="分析2：基金各个阶段涨跌幅"><a href="#分析2：基金各个阶段涨跌幅" class="headerlink" title="分析2：基金各个阶段涨跌幅"></a>分析2：基金各个阶段涨跌幅</h2><p>上面分析中可以清楚这五类基金近一个月最高的涨跌幅排名情况，下面从排名中选取第一名基金（五类中各选取第一名）分别展示该基金<strong>各个阶段的涨跌幅</strong>情况</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#39;近一周&#39;:&#39;1w&#39;&#39;近一月&#39;:&#39;1m&#39;&#39;近三月&#39;:&#39;3m&#39;&#39;近六月&#39;:&#39;6m&#39;&#39;近1年&#39;:&#39;1y&#39;&#39;近2年&#39;:&#39;2y&#39;&#39;近3年&#39;:&#39;3y&#39;&#39;近5年&#39;:&#39;5y&#39;</span><br></pre></td></tr></table></figure><h3 id="爬虫代码-1"><a href="#爬虫代码-1" class="headerlink" title="爬虫代码"></a>爬虫代码</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line">####分析2：基金各个阶段涨跌幅</span><br><span class="line">def analysis2():</span><br><span class="line">    name &#x3D;[&#39;近1周&#39;,&#39;近1月&#39;,&#39;近3月&#39;,&#39;近6月&#39;,&#39;近1年&#39;,&#39;近3年&#39;,&#39;近5年&#39;]</span><br><span class="line">    ##五类基金</span><br><span class="line">    dict_value&#x3D;&#123;&#125;</span><br><span class="line"></span><br><span class="line">    for key in dict_type:</span><br><span class="line">        #### 获取排名第一名基金代号</span><br><span class="line">        url &#x3D; &quot;https:&#x2F;&#x2F;danjuanapp.com&#x2F;djapi&#x2F;v3&#x2F;filter&#x2F;fund?type&#x3D;&quot;+str(dict_type[key])+&quot;&amp;order_by&#x3D;1w&amp;size&#x3D;10&amp;page&#x3D;1&quot;</span><br><span class="line">        res &#x3D; requests.get(url, headers&#x3D;headers)</span><br><span class="line">        res.encoding &#x3D; &#39;utf-8&#39;</span><br><span class="line">        s &#x3D; json.loads(res.text)</span><br><span class="line">        ###取第一名</span><br><span class="line">        fd_code &#x3D; s[&#39;data&#39;][&#39;items&#39;][0][&#39;fd_code&#39;]</span><br><span class="line"></span><br><span class="line">        #### 获取排名第一名基金各个阶段情况</span><br><span class="line">        fu_url &#x3D; &quot;https:&#x2F;&#x2F;danjuanapp.com&#x2F;djapi&#x2F;fund&#x2F;derived&#x2F;&quot;+str(fd_code)</span><br><span class="line">        res &#x3D; requests.get(fu_url, headers&#x3D;headers)</span><br><span class="line">        res.encoding &#x3D; &#39;utf-8&#39;</span><br><span class="line">        s &#x3D; json.loads(res.text)</span><br><span class="line">        data &#x3D; s[&#39;data&#39;]</span><br><span class="line"></span><br><span class="line">        valuess&#x3D;[]</span><br><span class="line"></span><br><span class="line">        ####防止基金最长时间不够1年、2年、5年的情况报错，用0填充</span><br><span class="line">        ##近1周</span><br><span class="line">        try:</span><br><span class="line">            valuess.append(data[&#39;nav_grl1w&#39;])</span><br><span class="line">        except:</span><br><span class="line">            valuess.append(0)</span><br><span class="line">        ##近1月</span><br><span class="line">        try:</span><br><span class="line">            valuess.append(data[&#39;nav_grl1m&#39;])</span><br><span class="line">        except:</span><br><span class="line">            valuess.append(0)</span><br><span class="line">        ##近3月</span><br><span class="line">        try:</span><br><span class="line">            valuess.append(data[&#39;nav_grl3m&#39;])</span><br><span class="line">        except:</span><br><span class="line">            valuess.append(0)</span><br><span class="line">        ##近6月</span><br><span class="line">        try:</span><br><span class="line">            valuess.append(data[&#39;nav_grl6m&#39;])</span><br><span class="line">        except:</span><br><span class="line">            valuess.append(0)</span><br><span class="line">        ##近1年</span><br><span class="line">        try:</span><br><span class="line">            valuess.append(data[&#39;nav_grl1y&#39;])</span><br><span class="line">        except:</span><br><span class="line">            valuess.append(0)</span><br><span class="line">        ##近3年</span><br><span class="line">        try:</span><br><span class="line">            valuess.append(data[&#39;nav_grl3y&#39;])</span><br><span class="line">        except:</span><br><span class="line">            valuess.append(0)</span><br><span class="line">        ##近5年</span><br><span class="line">        try:</span><br><span class="line">            valuess.append(data[&#39;nav_grl5y&#39;])</span><br><span class="line">        except:</span><br><span class="line">            valuess.append(0)</span><br><span class="line">        ###添加到集合中</span><br><span class="line">        dict_value[key]&#x3D;valuess</span><br><span class="line">    bars(name,dict_value)</span><br></pre></td></tr></table></figure><h3 id="可视化代码"><a href="#可视化代码" class="headerlink" title="可视化代码"></a>可视化代码</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">###柱形图</span><br><span class="line">def bars(name,dict_values):</span><br><span class="line"></span><br><span class="line">    # 链式调用</span><br><span class="line">    c &#x3D; (</span><br><span class="line">        Bar(</span><br><span class="line">            init_opts&#x3D;opts.InitOpts(  # 初始配置项</span><br><span class="line">                theme&#x3D;ThemeType.MACARONS,</span><br><span class="line">                animation_opts&#x3D;opts.AnimationOpts(</span><br><span class="line">                    animation_delay&#x3D;1000, animation_easing&#x3D;&quot;cubicOut&quot;  # 初始动画延迟和缓动效果</span><br><span class="line">                ))</span><br><span class="line">        )</span><br><span class="line">            .add_xaxis(xaxis_data&#x3D;name)  # x轴</span><br><span class="line">            .add_yaxis(series_name&#x3D;&quot;股票型&quot;, yaxis_data&#x3D;dict_values[&#39;股票型&#39;])  # y轴</span><br><span class="line">            .add_yaxis(series_name&#x3D;&quot;混合型&quot;, yaxis_data&#x3D;dict_values[&#39;混合型&#39;])  # y轴</span><br><span class="line">            .add_yaxis(series_name&#x3D;&quot;债券型&quot;, yaxis_data&#x3D;dict_values[&#39;债券型&#39;])  # y轴</span><br><span class="line">            .add_yaxis(series_name&#x3D;&quot;指数型&quot;, yaxis_data&#x3D;dict_values[&#39;指数型&#39;])  # y轴</span><br><span class="line">            .add_yaxis(series_name&#x3D;&quot;QDII型&quot;, yaxis_data&#x3D;dict_values[&#39;QDII型&#39;])  # y轴</span><br><span class="line">            .set_global_opts(</span><br><span class="line">            title_opts&#x3D;opts.TitleOpts(title&#x3D;&#39;涨跌幅&#39;, subtitle&#x3D;&#39;李运辰绘制&#39;,  # 标题配置和调整位置</span><br><span class="line">                                      title_textstyle_opts&#x3D;opts.TextStyleOpts(</span><br><span class="line">                                          font_family&#x3D;&#39;SimHei&#39;, font_size&#x3D;25, font_weight&#x3D;&#39;bold&#39;, color&#x3D;&#39;red&#39;,</span><br><span class="line">                                      ), pos_left&#x3D;&quot;90%&quot;, pos_top&#x3D;&quot;10&quot;,</span><br><span class="line">                                      ),</span><br><span class="line">            xaxis_opts&#x3D;opts.AxisOpts(name&#x3D;&#39;阶段&#39;, axislabel_opts&#x3D;opts.LabelOpts(rotate&#x3D;45)),</span><br><span class="line">            # 设置x名称和Label rotate解决标签名字过长使用</span><br><span class="line">            yaxis_opts&#x3D;opts.AxisOpts(name&#x3D;&#39;涨跌点&#39;),</span><br><span class="line"></span><br><span class="line">        )</span><br><span class="line">            .render(&quot;基金各个阶段涨跌幅.html&quot;)</span><br><span class="line">    )</span><br></pre></td></tr></table></figure><p><img src="https://mmbiz.qpic.cn/sz_mmbiz_gif/mWFUNMBWzibKBY9Hbxkn45TnbCfibwo2eZ0ezEwY6tfc97DIp1R9VHTaiaW5ia0YCSsR1rqOdOENhcfFdF5mB9yWBw/640?wx_fmt=gif&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="图片"></p><h3 id="分析-1"><a href="#分析-1" class="headerlink" title="分析"></a>分析</h3><p>从上面动图可以清楚这五类基金第一名基金<strong>各个阶段的涨跌幅</strong>情况。</p><p>有的基金最长时间没有达到3年或者5年，这里使用<strong>填充0</strong>处理。</p><h2 id="分析3：近30个交易日净值情况"><a href="#分析3：近30个交易日净值情况" class="headerlink" title="分析3：近30个交易日净值情况"></a>分析3：近30个交易日净值情况</h2><p>同理，上面分析中可以清楚这五类基金近一个月最高的涨跌幅排名情况，下面从排名中选取第一名基金（五类中各选取第一名）分别展示该基金<strong>近30个交易日净值情况。</strong></p><h3 id="爬虫代码-2"><a href="#爬虫代码-2" class="headerlink" title="爬虫代码"></a>爬虫代码</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">####分析3：近30个交易日净值情况</span><br><span class="line">def analysis3():</span><br><span class="line">    for key in dict_type:</span><br><span class="line">        #### 获取排名第一名基金代号</span><br><span class="line">        url &#x3D; &quot;https:&#x2F;&#x2F;danjuanapp.com&#x2F;djapi&#x2F;v3&#x2F;filter&#x2F;fund?type&#x3D;&quot; + str(</span><br><span class="line">            dict_type[key]) + &quot;&amp;order_by&#x3D;1w&amp;size&#x3D;10&amp;page&#x3D;1&quot;</span><br><span class="line">        res &#x3D; requests.get(url, headers&#x3D;headers)</span><br><span class="line">        res.encoding &#x3D; &#39;utf-8&#39;</span><br><span class="line">        s &#x3D; json.loads(res.text)</span><br><span class="line">        ###取第一名</span><br><span class="line">        fd_code &#x3D; s[&#39;data&#39;][&#39;items&#39;][0][&#39;fd_code&#39;]</span><br><span class="line"></span><br><span class="line">        #### 获取排名第一名基金近30个交易日净值情况</span><br><span class="line">        fu_url &#x3D; &quot;https:&#x2F;&#x2F;danjuanapp.com&#x2F;djapi&#x2F;fund&#x2F;nav&#x2F;history&#x2F;&quot;+str(fd_code)+&quot;?size&#x3D;30&amp;page&#x3D;1&quot;</span><br><span class="line">        res &#x3D; requests.get(fu_url, headers&#x3D;headers)</span><br><span class="line">        res.encoding &#x3D; &#39;utf-8&#39;</span><br><span class="line">        s &#x3D; json.loads(res.text)</span><br><span class="line">        data &#x3D; s[&#39;data&#39;][&#39;items&#39;]</span><br><span class="line">        name&#x3D;[]</span><br><span class="line">        value&#x3D;[]</span><br><span class="line">        for k in range(0,len(data)):</span><br><span class="line">            name.append(data[k][&#39;date&#39;])</span><br><span class="line">            value.append(data[k][&#39;nav&#39;])</span><br><span class="line"></span><br><span class="line">        silder(name, value,key)</span><br></pre></td></tr></table></figure><h3 id="可视化代码-1"><a href="#可视化代码-1" class="headerlink" title="可视化代码"></a>可视化代码</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">###拉伸图</span><br><span class="line">def silder(name,value,tips):</span><br><span class="line">    c &#x3D; (</span><br><span class="line">        Bar(init_opts&#x3D;opts.InitOpts(theme&#x3D;ThemeType.DARK))</span><br><span class="line">            .add_xaxis(xaxis_data&#x3D;name)</span><br><span class="line">            .add_yaxis(tips, yaxis_data&#x3D;value)</span><br><span class="line">            .set_global_opts(</span><br><span class="line">            title_opts&#x3D;opts.TitleOpts(title&#x3D;str(tips)+&quot;近30个交易日净值情况&quot;),</span><br><span class="line">            datazoom_opts&#x3D;[opts.DataZoomOpts(), opts.DataZoomOpts(type_&#x3D;&quot;inside&quot;)],</span><br><span class="line">        )</span><br><span class="line">            .render(str(tips)+&quot;近30个交易日净值情况.html&quot;)</span><br><span class="line">    )</span><br></pre></td></tr></table></figure><p>1.股票型</p><p><img src="https://mmbiz.qpic.cn/sz_mmbiz_gif/mWFUNMBWzibKBY9Hbxkn45TnbCfibwo2eZLN6C8cmNYYJlqzdVC7SibQGlVvedSkA2ZrgyriaHHyJfgg9nt4pCVwcQ/640?wx_fmt=gif&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="图片"></p><p>2.混合型</p><p><img src="https://mmbiz.qpic.cn/sz_mmbiz_gif/mWFUNMBWzibKBY9Hbxkn45TnbCfibwo2eZYvL3ibibJcm9KGe5f0Lefzqib2yibwia0nA1xgHuNwiazVpzYVZ9WOfXhOXw/640?wx_fmt=gif&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="图片"></p><p>3.债券型</p><p><img src="https://mmbiz.qpic.cn/sz_mmbiz_gif/mWFUNMBWzibKBY9Hbxkn45TnbCfibwo2eZ0yKzfb7gmiaDJZAjCakRQxz8TaXm5ywVtw4p2hIbunuohbDmcC4iagag/640?wx_fmt=gif&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="图片"></p><p>4.指数型</p><p><img src="https://mmbiz.qpic.cn/sz_mmbiz_gif/mWFUNMBWzibKBY9Hbxkn45TnbCfibwo2eZX5rQYpibUEuIFPicLcG77dXBrHP5aSMdEGqrHhOVUiclf98tt4jhQQB0Q/640?wx_fmt=gif&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="图片"></p><p>5.QDII型</p><p><img src="https://mmbiz.qpic.cn/sz_mmbiz_gif/mWFUNMBWzibKBY9Hbxkn45TnbCfibwo2eZdsFO6z4MFgpMpZiafkNPLjibg8kLYfYmy6geG79Q23WibfyEyWxSnMbZA/640?wx_fmt=gif&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="图片"></p><h3 id="分析-2"><a href="#分析-2" class="headerlink" title="分析"></a>分析</h3><p>从上面动图可以清楚这五类基金第一名基金*<strong>*近30个交易日净值情况**</strong>。</p><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>以上就是爬取基金数据并通过pyecharts<strong>动图可视化</strong>方式展示基金的<strong>涨跌</strong>情况。</p><p>代码：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https:&#x2F;&#x2F;github.com&#x2F;Kit139&#x2F;funds</span><br></pre></td></tr></table></figure><p>围绕这<strong>三点</strong>去进行爬取数据，动图可视化展示数据：</p><ul><li>近一月涨跌幅前10名</li><li>基金各个阶段涨跌幅</li><li>近30个交易日净值情况</li></ul><p>参考：</p><ul><li><a href="https://mp.weixin.qq.com/s?src=11&timestamp=1613902103&ver=2904&signature=vu2-Zw24ViKNuLNWqk58lppojxOkWFmMENyNW2ph559o-P-JJocW43LwkHkSGFZuzN6BAkf48yayN3DKvawiKz9Tj2Fye2A3hCqMGnmvNZoGILpXIF92FAD6PTPNaK6x&new=1">绝了！Python爬取各类基金数据，并以动态可视化展示！</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> CIT </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 爬虫 </tag>
            
            <tag> pyecharts </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>第七讲 数据分析方法</title>
      <link href="91005645.html"/>
      <url>91005645.html</url>
      
        <content type="html"><![CDATA[<h1 id="第七讲-数据分析方法"><a href="#第七讲-数据分析方法" class="headerlink" title="第七讲 数据分析方法"></a>第七讲 数据分析方法</h1><h2 id="SPSS数据文件的建立"><a href="#SPSS数据文件的建立" class="headerlink" title="SPSS数据文件的建立"></a>SPSS数据文件的建立</h2><p>各位同学大家好，欢迎来到市场调研的课堂，在这一讲，我们将学习SPSS数据文件的建立。本讲主要包含以下两个内容，首先我们会简单介绍一下SPSS软件，其次，我们将学习并掌握在SPSS软件中建立数据文件的方法。</p><p>SPSS软件的全称是社会科学统计软件的缩写，是一款历史悠久的统计软件包，可以帮助我们快速查看数据并且轻松做好数据分析。我们可以运用SPSS软件轻松设计图表，分析大量数据，深入探索假设检验，厘清变量之间的关系，解释并进行预测，建立聚类分析使市场调研的分析更加容易且更加具有效率。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210216224516783.png" alt="image-20210216224516783"></p><p>SPSS软件在功能上分为基础功能和进阶功能两类，其中基础功能是我们在社会调查中经常会使用的一些工具，如<strong>描述性统计分析、均值比较分析</strong>等等</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210216225328997.png" alt="image-20210216225328997"></p><p>而进阶工具呢则包括一些较为高级的统计分析方法如回归分析等等。在这个表格中，我们列举了一些SPSS软件的基础功能和部分集结功能，方便各位同学在课后进行学习和理解。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210216224838102.png" alt="image-20210216224838102"></p><p>下面回到本讲的关键内容，如何在SPSS软件中建立数据文件。如何建立一个SPSS的数据分析的文件是市场调研分析的第一步，数据模块的建立程度也决定了后续分析的质量。在这里主要介绍SPSS软件的两种数据建立方法。下图是SPSS软件数据文件的基本步骤。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210216225444285.png" alt="image-20210216225444285"></p><p>一般而言，我们在SPSS软件中建立数据文件，首先需要在变量视图中对变量的名称、标签以及对应的取值范围进行定义。只有在对这些基础的信息进行定义后，我们才可以在数据视图里进行数据的输入或导入，并最终存储为SPSS可以编辑的SAV格式的文档。下面我们用一个例题来进行具体的演示，我们以大学生为例，抽样调查十二个大学生的编号、性别、学习成绩以及每月花费、家庭收入区域等等。信息详细资料如下表。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210216225545756.png" alt="image-20210216225545756"></p><p>我们首先根据流程在变量视图中对此涉及的变量及取值进行定义，以income家庭收入这一项为例，我们在名称这里为了简化输入，将名称定为income，而是标签定义为家庭收入。在取值范围处，我们点选取值范围外带有三个句号的那个按钮，会弹出一个定义变量的对话框。根据提议，我们在职这一项填写一，而在标签这一项中填写低收入，然后点击添加按钮，这样我们对这个一这个值就完成了一个定义。当我们对家庭收入进行后续分析时，若样本中出现了一则会自动被确认为低收入群体。同样，我们在职这一项中填写二，在标签这一项上填写高收入，然后点击添加，同样完成了对于二这个值的定义。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210216225728556.png" alt="image-20210216225728556"></p><p>好了，各位同学可以自己动手对剩下的几个变量进行定义了，构建好变量视图后便可以在数据视图上进行数据的输入或录入。第一种办法就是在SPSS软件的数据视图中直接输入数字，系统会自动识别输入的数字所代表的统计含义。第二种方法就是从其他格式的文件，如excel的文件中直接复制粘贴，将其他文档中的数据直接粘贴到新的SAV文档中，也可以达到数据录入的目的。在数据录入完毕后，记得将文件进行存储，存储过后文件便可以进行后续的统计分析了。</p><h2 id="描述性统计分析方法"><a href="#描述性统计分析方法" class="headerlink" title="描述性统计分析方法"></a>描述性统计分析方法</h2><p>各位同学大家好，欢迎大家进入市场调研的课堂，在这一讲，我们将学习描述性统计分析方法。描述性统计是将收集到的数据，使用各种统计图表及统计量进行计算，以清楚地呈现统计结果的过程，运用简单的描述统计分析，可以求得各<strong>样本、各项变动数据的最小值、最大值。平均值、标准误差、频率分布、相对频率分布、累计百分比</strong>等项目。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210216230008575.png" alt="image-20210216230008575"></p><p>例如，我们将问卷中李克特无尺度量表和回答经过编码量化后，计算出频率分布、平均值、百分比以及标准误差、相对频数分布、累积频数分布、百分比分布等相关数据。利用平均值了解各项问项概念之间相互程度的看法，再利用标准误差来测度数据间相互的差异性标准误差越大，显示数据的差异性越大，标准误差越小，则表示该指标重要性的看法越一致。主要用于各指标间的差异性以及了解单一绩效指标项在重要性以及一致性的差异。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210216230049095.png" alt="image-20210216230049095"></p><p>我们将用一个案例的形式来讲解在SPSS软件中进行描述性统计分析的具体方法。这是一个关于企业使用ERP问题的研究量表，在问卷收集过程中，共收集九百五十七份，回收三百七十二分，扣除填答不全与胡乱填答的无效问卷二十二分，有效问卷三百五十份，有效回收率为百分之三十六点五七。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210216230717034.png" alt="image-20210216230717034"></p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210216230835573.png" alt="image-20210216230835573"></p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210216231002590.png" alt="image-20210216231002590"></p><p>在SPSS软件中，我们选择使用分析板块中的描述统计命令，在描述统计这一个对话框中选择频率这一个选项，在弹出的对话中，将ERP员工人数、资本额、营业额、项目预算、产业类别与以调查产业类别选项置变量栏，并点选右上角的统计选项，会弹出一个新的对话框，以方便我们进行描述性统计分析。在新弹出的对话框中，根据描述性统计分析的要求，勾选标准偏差、方差、范围、最小值、最大值及平均值的标准误差后点击继续，回到频率对话框中，点击确定。这样SPSS软件就会自动对相关变量进行描述性统计分析。以下就是之后的结果，我们进一步进行整理，最终得到ERP员工人数、资本额、营业额、项目预算、产业类别与已调查产业类别等相关研究项目，我们将相关的数据进行整理，并汇总成表格。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210216231121293.png" alt="image-20210216231121293"></p><p>首先来看资本额，企业年资本额如下表所示，以两亿至十亿占最多，共一百五十二家，占全部样本的百分之四十三点四。其次是十亿至五十亿，占全部样本的百分之二十五点一，两亿以上的企业共占七十九点七。在公司员工总人数方面，如下表所示，以一百至四百九十五元为最多，共有一百七十九家，占全部样本总量的百分之五十一点一。其次是一百人以下，占样本的百分之十六点六，五百至九百人占样本的百分之十五点一，一千至一千九百九十九人为最少，共二十二家，占全部样本的百分之六点三。而对于其他几项的数据整理，给同学们自己进行尝试并练习。</p><h2 id="差异分析方法"><a href="#差异分析方法" class="headerlink" title="差异分析方法"></a>差异分析方法</h2><p>各位同学大家好，欢迎来到市场调研的课堂，今天我们来共同学习差异分析方法。本讲主要由三个部分来组成，首先是单样本T检验，其次是独立样本T检验，最后是配对样本T检验。</p><p>首先我们来介绍一下<strong>单样本T检验</strong>，这种方法适用于用单变量的平均值做检验，也就是说检验样本中某一个变量的平均值是否与总体的平均值有显著的不同。条件是总体的平均值必须为已知。在进行具体的单样本T检验之前，我们必须构建研究假设。其中虚无假设是意味着样本数据与总体均值之间没有任何差别，而对立假设则是证明样本数据与总体均值之间具有显著的差别。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210216231316645.png" alt="image-20210216231316645"></p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210216231501077.png" alt="image-20210216231501077"></p><p>其理论模型如图中所示，我们用SPSS软件来进行具体的分析，请各位同学打开范例文档Costa.sav，打开SPSS文档后，选择分析-比较平均值-单样本T检验这个选项，我们来分析每月花费cost的这个变量和总体样本的每月花费均值之间的差异。首先将从cost加入到变量栏中，然后将检验值设为六千，点击选项，在选项中将置信区间设置为百分之九十五，点击继续，选择完毕后选择确定键。在结果中我们可以看到，抽样样本中同学们的平均月收入均值为八千二百五十元。在T统计量上，检验统计量T等于二点六五九，显著性P值为零点零二二，小于零点零五，拒绝虚无法假设。在阿尔法等于零点零五的水平下，大学生的平均每月花费为八千二百五十元，和家长给的平均生活费六千元有显著的差异。因此可以解释为许多大学生为了生活费而不得不外出打工。以上就是单样本t检验的方法。</p><p>下面我们来介绍第二个内容，<strong>独立样本t检验</strong>。独立样本t检验是被试随机分派到不同的组别，各组别的被试没有任何关系，也被称为完全随机化的设计。t检验是用来检验两个独立样本的平均值差异是否达到显著的水平，也就是说这两个独立样本可以透过分组来达成。计算t检验时会需要两个变量会将自变量X分为两个不同的组别，检验两个独立样本的平均值是否有差异，也就是意味着两者之间是否达到一个显著的差异水平。和单样本体检验一样，我们在具体的计算之前，先提出具体的研究假设。虚无假设是认为两组之间没有差异，而对立假设呢则认为两者之间存在显著的差异。我们同样用一个例子来讲解独立样本T检验如何来计算。请各位同学打开cos.sav文件，点击分析比较平均值，独立样本T检验，选择选取Score与Cost至检验变量字段。同时把性别Sex之至分组变量，我们来检验不同性别的被试在分数活跃、生活支出方面是否具有显著的差异。在分组变量这里，我们要设置组别的参数，并选定一组，在弹出的对话框中对分组变量进行赋值，选择完毕后即点击继续。在结果中，我们可以看到你性别一男性、二女性作为分组，显示在学习成绩检验统计量P等于负的零点四三四，显著性P值等于零点六七三大于零点零五，那么这意味着接受虚无假设在阿尔法等于零点零五的水平下，大学生男女性别的分数平均值是一样的，没有显著的差异。而在每月花费上，检验统计量T等于负的二点四四五，显著性，P值为零点零三五，小于零点零五就意味着拒绝虚无假设。在阿尔法等于零点零五的水平下，大学生男女性别的每月花费平均值是不一样的，有显著的差异。女生平均每月花费九千九百六十六元，比男生平均每月花费六千五百三十三元较高。</p><p>最后一个内容是<strong>配对样本T检验</strong>，配对样本T检验是使用于相依样本最常用。在相应样本的重复测量设计上，也就是意味着同一个样本前后测量两次。例如消费者对于使用笔记本电脑前和使用笔记本电脑后态度是否有差异。同样，在正式计算之前，我们给出研究的假设，虚无假设是实验前后没有显著差异，而对立假设则是实验前后具有显著的差异。接下来是具体的计算公式，我们仍然用一个例子来进行说明。请大家打开范例文档pair.sav，点击分析-比较平均值-配对样本T检验。选取before和After为成对变量。点击选项，置信区间百分比设置为百分之九十五，点击继续，选择完毕后点击确定，显示before使用前的印象分数和after使用后印象分数的相关系数为零点九九七，p等于零点零零四，达到一个显著的水平。而从表中我们可以看到，t等于六点三九六，显著性p值为零点零零四，达到显著性水平，拒绝虚无假设。显示大学生对于某种比品牌笔记本电脑使用前和使用后的印象分数不同。因此我们可以解释，大学生对于某种品牌笔记本电脑使用前和使用后的印象有显著的差异，也就是使用后的印象比使用前的印象差。好了，差异分析的方法就介绍到这里，希望课堂上的讲解的内容，各位同学在生活中应该多训练。最后感谢各位同学的收看，谢谢大家。</p><h2 id="相关性分析方法"><a href="#相关性分析方法" class="headerlink" title="相关性分析方法"></a>相关性分析方法</h2><p>各位同学大家好，欢迎大家进入市场调研的课堂，今天我们来共同学习相关性分析方法。<strong>相关分析常常与因果关系混淆，相关分析不是因果关系，没有谁影响谁的问题，换言之，没有因影响果的问题</strong>。若是有需要<strong>分析因果关系，请使用回归分析或结构方程模型</strong>。回归分析的问题我们会在下一讲进行讲解。</p><p>相关分析探讨的是两个变量之间的关联程度，普遍运用在各个学科，如社会科学中的市场营销、人力资源、工商管理等学科。例如探讨销售量与广告金额的关联关系，信息质量与认知价值的关联程度等等。相关分析使用的是两个变量，例如A和B，这两个变量的测量尺度可以是类别、区间、比率或顺序变量，简单地进行区分为类别与数量两种变量模式。下面这张表格列举了进行相关分析、进行变量的适用条件，在一、二三种情形下，我们可以使用列联表来进行表示。可以使用卡方检验。相关分析适用于第四种情形，两个变量，例如A和B，都是区间比例或顺序的因果计算变量。在统计上使用的是两个变量关联程度的统计量，例如常用的皮尔森相关分析的<strong>皮尔森相关系数</strong>就是用来表示两个变量之间的关联程度。</p><p>相关系数是本章最重要的判断依据，有大小和方向两种特性。相关系数大小表示两个变量之间相关程度的强弱，相关系数的<strong>绝对值</strong>越大代表相关程度越强，相反，相关系数的绝对值越小，代表相关程度越弱。若是相关系数，值为零则代表邻关系，也就意味着两者之间没有任何相关。相关系数的方向表示两个变量之间是正相关还是负相关，相关系数是正值，代表两个变量中一个变量增加时，另一个变量也会增加。相关系数是负值，是它代表两个变量中的一个变量增加时，另一个变量就会减少，反之亦然。请大家来看下图，两张图片上就介绍了正相关和负相关的具体含义。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210216233149304.png" alt="image-20210216233149304"></p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210216233211954.png" alt="image-20210216233211954"></p><p>在计算公式上，根据数据来源分为两类计算公式，首先是总体样本下皮尔森相关的主要计算公式，如下图所示，皮尔森相关系数是适用于两个变量都是连续变量，其中ρXY代表着X和Y的变量的相关系数，σXY代表着XY的共变量，σX代表着X的标准误差，σY代表着Y的标准误差，小μX代表着X的平均值，小μY代表着Y的平均值。而在抽样样本的情况下，皮尔森相关系数的计算公式如下图所示，其中rXY代表着XY变量的相关系数，SXY代表着样本的共变量X，SX代表着X样本的标准误差，SY代表着Y的样本的标准误差，X的均值代表着X样本的平均值，Y的平均值则代表着Y的样本的平均值。同时我们用两张图来表示变量A和变量B之间的相关信息。图左，A变量增高代表了B变量的升也升高，而图右则相反，沃尔图左是正相关，而图右是负相关。我们在SPSS软件中用一个具体的例子来传授具体的操作方法，请大家打开相关.sav文件夹，在SPSS软件中选择分析-相关以及双变量，选择信任与风险指变量字段，勾选相关系数中的皮尔森，选择完毕即点击确定。在结果视图中，我们可以看到，信任与风险之间的显著性为零点零零一，小于零点零五，具有显著相关，其相关系数为零点二七八，属于低度相关。好了，相关分析方法就介绍到这里</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210216234257284.png" alt="image-20210216234257284"></p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210216234326151.png" alt="image-20210216234326151"></p><h2 id="回归分析方法"><a href="#回归分析方法" class="headerlink" title="回归分析方法"></a>回归分析方法</h2><p>各位同学大家好，欢迎大家进入市场调研的课堂，在本讲中，我们将共同学习回归分析方法。许多人在使用上混淆了回归分析和相关的分析，<strong>相关分析可以用来描述两个连续变量的线性关系，若要进一步确认两个变量之间的因果关系，则可以使用回归分析</strong>。回归分析可以分为一元回归和复回归，也就是所谓的多元回归。一元回归是用来探讨一个因变量和一个自变量的关系，多元回归呢则是用来探讨一个因变量和多个自变量之间的关系。下图是一元回归和多元回归在数学上的表达公式。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210216234534450.png" alt="image-20210216234534450"></p><p>同时，回归分析的使用需要满足以下几个基本的假设条件。</p><ul><li>首先是<strong>线性关系</strong>，因变量和自变量之间的关系必须是线性，也就是说因变量与自变量存在着相互固定比例的关系。若是发现因变量与自变量呈现非线性关系时，可以透过转换成线性关系再进行回归分析。</li><li>第二是<strong>正态性</strong>。若是数据呈现正态分布，则残差项也会呈现同样的分布。当样本数足够大时，检验的方式是使用简单的直方图，若是样本数较小时，检查的方式则使用正态机预图。回归模型的显著性检验一般都使用f检验。f检验将所有自变量计算进来，看因变量y和所有自变量fn是否有统计的显著性。f检验的计算公式如下图所示，同时采用拟合系数r方来解释线性回归模型的适配度。r方等于零时，代表因变量y和自变量x没有线性关系。r方不等于零时，代表因变量y和自变量x所解释的比率。R方是回归可解释的变异量，来自于因变量Y的总变异量，等于回归测量的变量+误差变异量。而在回归模型中，R方会用来说明整个模型的解释力，但是R方会受到样本大小的影响而呈现高估现象，样本越小越容易出现问题。因此大多数学者都采用调整后的R方，也就是讲误差变异量和因变量的总变异量都处于自由度。</li></ul><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210217000153292.png" alt="image-20210217000153292"></p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210217000230909.png" alt="image-20210217000230909"></p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210217000359820.png" alt="image-20210217000359820"></p><p>在下面我将用一个例题来讲解如何用SPSS软件进行回归分析。首先请看这样一个调查问卷，他讲解的主要内容是讨论高管、主管支持对于使用者满意度的影响，研究问卷共发出九百五十七份，回收有效问卷三百五十份，有效回收率为百分之三十六点五七。开启范例文件回归.sav，点击分析-回归-线性，选择CO至因变量栏目，选择MI至自变量栏目，选择方法为输入，其中CO和MI分别代表着CO一到CEO三以及MI一到MI三之间的样本均值，是经过计算变量得到，点击统计选项。勾选估计误差条形图的表征、协方差矩阵、模型拟合度、R方变化描述性、部分相关与偏相关性以及共线性诊断，点选选项，点选使用F的概率，点击继续，最后便确定。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210217000438234.png" alt="image-20210217000438234"></p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210217000457178.png" alt="image-20210217000457178"></p><p>得到结果后，我们首先来看模型摘要，有多元相关系数R等于零点三一四，R平方等于零点零九八，调整后的R平方等于零点零九六，标准估算的错误为二点二四一，阿方变化等于零点零九八，IF更改等于三十七点九四八，分子自由度等于一，分母自由度等于三百四十八，显著性F更改为零点零零零。再看系数表，回归分析的各系数值，常数项等于八点六零二，非标准化系数高阶主管支持MI等于零点二七零，标准系数Beta值等于零点三一四，P值等于六点一六零，P值等于零点零零零，小于零点零五，即达到显著水平。在模型上，我们可以进行这样的标注，来证明CO与MI之间的关系。以上就完成了我们的一元回归分析。</p><p>那么多元回归分析中，这时我们的自变量有多个，因变量只有一个，如何来操作呢？其实非常简单，类似于一元回归模型，我们在自变量处加入多个自变量，从而形成一个因变量、多个自变量的研究还是刚才那个范例，我们再次点击检索最近使用的对话框，线性回归、选取US至因变量字段，选取SAV、GQ、SQ至自变量字段，点击确定，得到一个多元回归的对话框。在结果处，我们从模型摘要和系统表中整理团队合作和服务质量的解释变量为零点四八一，显著性P等于零点零零零，而路径系数SQ到QUS等于零点二三五，证明显著。IQ至US等于零点二八二也证明显著，SV至US等于零点三三七，同样证明显著。我们整理成图示如下：以上这些内容就完成了回归分析方法的介绍。最后本次课到此结束，感谢各位同学的积极参与，谢谢大家。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210217000108734.png" alt="image-20210217000108734"></p>]]></content>
      
      
      <categories>
          
          <category> 市场调研 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 市场调研 </tag>
            
            <tag> MOOC </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>第八章 调研报告的撰写</title>
      <link href="56782db4.html"/>
      <url>56782db4.html</url>
      
        <content type="html"><![CDATA[<h1 id="第八章-调研报告的撰写"><a href="#第八章-调研报告的撰写" class="headerlink" title="第八章 调研报告的撰写"></a>第八章 调研报告的撰写</h1><h2 id="调研结果表述形式"><a href="#调研结果表述形式" class="headerlink" title="调研结果表述形式"></a>调研结果表述形式</h2><p>同学你好，今天我们来学习市场调研结果表述形式。市场调研结果表述形式有两种，一种是<strong>书面调研报告的表述形式</strong>，一种是<strong>口头表述的形式</strong>。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210217003240546.png" alt="image-20210217003240546"></p><p>首先我们来讲一讲书面调研报告的这个形式的表达。市场调研书面报告的结构没有统一固定的模式，应该依据特定阅读者和目的进行设计。不管市场调查的结构如何，每个调查报告都应该有一些特定的议题，即报告本身在结构安排和写作手法上必须能及时、准确和简洁地把信息传递给决策者。虽然书面调研报告没有固定的模式，但在长期的商务实践中，一般认为一份完整的调研报告有以下几个部分构成：<strong>前言、正文、附录</strong>。</p><p>那么前沿我们包括哪些呢？前言包括<strong>封面、标题页、授权性、提交信、目录表、图表、一览表和摘要等</strong>这些方面的内容。</p><ul><li>首先我们来讲一讲第一个方面，<strong>封面</strong>。封面一般只出现在正式的调研报告中排在标题页的前面，在调研报告结构中，它有时是可以省略的一项内容。在一个调研报告中，如果使用了封面，那么它将排在报告的第一页，但是这一页是不打印页码的。</li><li>第二是<strong>标题页</strong>。标题主要包括四个方面的内容，调研的题目、报告的日期、委托方和调查方。调查报告一般是通过标题把被调查单位调查内容明确而具体地表达出来。报告的题目应尽可能地贴切而又概括地表明调查项目的性质。有的调查报告还采用<strong>正副标题形式</strong>，一般正标题简洁、明确、醒目的表达报告的主题。而副标题则具体的表明调查的单位和问题。</li><li>第三是<strong>授权性</strong>。授权性是项目调查方从事项目的证明书，是项目执行部门的上司给该执行部门的信。这一内容在市场调查报告的结构中是属于可用可不用的，当提交信中包含了授权问题的时候，调研报告中可以不用授权性。如果报告的阅读对象不了解调研的授权情况，或者调查报告的阅读者需要了解授权的有关详细情况时，将授权性加入调查报告是比较好的一个选择。授权性包括授权对象的姓名和职务，也可能包括对调研项目一般性描述项目的完成日期、项目的报酬，以及调研者为完成项目所要求的有关调研项目的特定条件。</li><li>第四是<strong>提交性</strong>。提交信是调研报告撰写者以个人名义向调查报告的提供对象撰写的一封信，表示前者将报告提交给后者的意思。在比较正式的调研报告中，或者把调研报告提交给一个不是经常性的客户组织时，应当使用提交信。</li><li>第五是<strong>目录表</strong>。目录可以帮助报告的阅览者找出调研报告中各项信息的位置，因此，除非是所包含的内容非常少的报告，为了方便读者的阅读，一般的调研报告都应该编写目录，以便读者查阅特定的内容。</li><li>第六是<strong>图表一览表</strong>。在有些报告中，报告撰写者可能会借助图表和表格来表达信息。当一个报告里包含图形和表格的时候，为了帮助报告阅读者能够快速地找到这些信息，需要在目录表中包含一份图表目录。因为图和表是用数字分别标注的，因此在图表目录中也许既有图一也有表一。报告撰写者对图形和表格各自取名，并根据他们在报告中出现的顺序依次排序。一般来说，目录的篇幅不宜超过一页。</li><li>第七是<strong>摘要</strong>。摘要的长度最好不要超过两页。其主要内容应当包括以下几个方面：<ul><li>首先是对调查目的的简明扼要的说明及简要的说明调查的由来和委托调查的原因。</li><li>其次是要简单交代调查的范围，包括调查的时间、地点、对象、范围、调查要点及所要解答的问题等等。</li><li>第三是对所用方法的交代。一如资料收集的方法是用<strong>询问法、观察法还是实验法</strong>？在资料分析中是使用<strong>指数平滑化回归分析还是其他的方法</strong>？对所用方法的介绍有助使人确信调查结果的可信性。</li></ul></li><li>最后是结论和建议。</li></ul><p>那么下面我们来讲讲。这个调查报告的正文部分，正文是市场调查报告的主要部分，这一部分内容的写作直接决定调查报告质量的高低和作用的大小。正文包括<strong>引言、调研目的、调研方法、调研结果、不足之处、结论和建议</strong>。</p><ul><li>首先我们来讲一讲<strong>引言</strong>，引言部分主要是对调查项目的宏观背景的介绍，描述调研目的的商业或者环境方面的背景资料，他给报告阅读者一个基本的背景印象。在这一部分内容中，可能还会包括为什么委托开展调研的解释。</li><li>第二个部分是<strong>调研的目的</strong>。在交代调研的背景资料和为什么进行调研之后，调研人员应当指出该项调查的目的和范围，以便报告的阅读者一目了然，准确地理解调查报告所叙述的内容。</li><li>第三是<strong>调研的方法</strong>。调研方法是对调查过程中所用方法的介绍，包括所用的方法以及选用该方法的理由。完成一个调研项目要用到一定的方法。对调研方法的描述可以让调查报告的阅读者知道报告中的数据是如何收集的，以及结论是如何做出的。</li><li>第四是<strong>调研的结果</strong>。调研结果可以使用叙述形式来表述，以使得项目更为可信，但表述要实事求是，不可过分的吹嘘。为使得结果的表述更加直观有效，避免枯燥无味，可以使用表格和图形的形式。再加上一定的分析说明来表述调研的结果，但要注意的是，详细和深入的图表应该放在附录部分。</li><li>第五，我们来讲讲这个<strong>调研报告的不足之处</strong>的这个描述。对于报告中的不足之处，报告的撰写者不用刻意去隐藏或者掩盖，而是要指出报告中的不足之处，指出报告受到哪些条件的限制，必要的时候还需要将不足之处对调查报告的准确性有什么影响，以及影响程度有多大分析清楚，以提高整个营销调研工作的可信度。调研报告中的典型限制条件包括时间、预算、人员等。</li><li>第六，我们来讲一讲市场调查报告中的<strong>结论与建议</strong>。结论与建议。也是撰写调研报告的主要目的，结论的得出要建立在调研结果的基础上，建议是建立在结论基础上的。关于如何推进工作的提议，报告撰写者应该以客观的态度，根据调研所得出的结论，向决策制定者提出已被证明有效的措施以及解决某一具体问题的方案和建议。</li></ul><p>下面我们来讲一讲这个市场调研报告中的这个附录，附录是对报告正文的补充或更详细的说明，通常所包含的内容有<strong>数据汇总表、原始资料、背景资料、调查提纲、空白调查问卷和观察记录表、二手资料来源目录、对复杂的抽样技术的说明等等</strong>。</p><p>下面我们来讲一讲<strong>口头表述形式</strong>。除了书面的调研报告以外，许多客户希望能听到调研报告的口头报告，口头报告也是提交调研结果的一种重要形式，口头汇报主要通过语言将调研结果传递给听众，如何表达好是非常关键的。在汇报过程中，要尽量避免按照准备好的发言稿照本宣科的宣读，而是应该使用<strong>口语化</strong>的、<strong>简单的词句</strong>来叙述调研的内容。汇报要围绕所要表达的问题展开，要向听众交代清楚所要汇报的几个问题。在讲解过程中，要不断提醒听众汇报的进度，当前讲到了哪个问题，对于报告中的<strong>重点内容，要放慢讲话的速度</strong>，通过语气的变化来突出重点，引起听众的注意，必要的时候可以对重点内容进行重复性的讲述。</p><h2 id="调查报告的写作"><a href="#调查报告的写作" class="headerlink" title="调查报告的写作"></a>调查报告的写作</h2><p>同学你好，今天我们来学习市场调研报告的撰写。调研报告内容的具体写作可以参照以下三个步骤来完成。</p><p>第一是<strong>报告的构思</strong>。报告的构思是在所收集的调研资料的基础上，通过思考与分析，确立调研报告的选题，在此基础上结合调研的结果得出的观点，并对报告的文体结构、章节、段落的内容做出一个大概的写作思考框架，这是一个需要反思思考的过程。构思过程中，首先要对调研的背景资料和调研过程中所获得的实际资料进行分析，你对调研项目有一个一般性的认识，在对调研项目有一个大概的了解之后，确立调研报告的选题。选题是一个分析、发现、选择、确定报告论题的过程。<strong>论题</strong>是对报告的目的和分析对象的概括，它一般表现为调研报告的标题、观点是调研报告提供者在资料基础上得出的对分析和对对象的看法与评价。在确立了报告的选题之后，报告的撰写者可以考虑提出自己的观点，观点既有主观性又有客观性，是主观性和客观性的统一。客观性指的是观点的得出需要界定在调研结构的基础上，要以调研所得到的资料为基础，不能提出没有依据的观点。观点的主观性指的是观点是撰写报告者在分析资料基础上对分析对象的一种认识。面对同样的调研所获得的资料，不同的调研者可能会得到不同的观点。在完成上述的工作之后，对调研报告的写作应该有了一个大概的方向与范围。在此基础上，构思的最后工作是安排好文章的层次结构，即安排好文章正文的大概结构与内容，安排好文章的段落、章节，这一步骤的工作，也可以参考报告结构中的正文部分的内容。</p><p>第二是讲的是<strong>材料的这个取舍</strong>。在撰写报告之前的第一手、第二手。资料的收集过程中，因为还没有形成任何固定的观点，因此收集的资料会比较广泛，数据也会比较大，这些资料并不是都要写入调研报告中的，需要对这些材料进行取舍，对材料的取舍可以围绕主题与观点来进行，只有围绕报告的主题与观点来进行材料的取舍，才可能使得报告的主题更加突出，报告的观点更具有可靠的依据。进行材料的取舍时，一方面要与主题有关的材料提出观点，所依据的调研结果应该保留。另一方面，与主题无关的或者关系不大的材料要<strong>忍痛割爱</strong>。这些与主题无关的材料可能也是在调研过程中费了许多人力和物力获取的资料，为了避免材料的堆砌，冲淡主题和降蝶调研报告的效果，对这些材料要勇于舍弃。</p><p>下面我们来讲一讲<strong>报告的撰写</strong>。在完成报告框架和材料取舍之后，就可以进行报告的写作了。对于比较大型的调研，因为调研所涉及的内容较多，调研报告可能会比较长，报告的写作可能需要由多人合作来完成，他们先完成报告的初稿，然后征集各方的意见进行修改，形成最终的报告。在报告的写作过程中，有以下一些<strong>事项需要注意</strong>：</p><ul><li>一、要考<strong>虑读者的观点阅历</strong>，尽量使报告适合于读者阅读。不同的阅读者所关注的内容会有所不同，决策者关注的可能是报告中所提出了结论，结论提出的依据和报告中提出了建议的信息。如果报告的阅读者是专家评审者，他们可能会关注报告中的技术问题，关注报告的结论是通过什么艺术方法得到的。只有充分考虑到报告读者的特点，才能使报告受到阅读者的充分的关注。</li><li>第二、报<strong>告要简明额额要切勿拖泥带水</strong>，务必使报告所包含的全部内容都与报告的主题有关，剔除一切多余的材料，报告的阅读者可能是企业的决策者，他们的时间一般都比较宝贵，围绕主题将报告写得简明扼要，不但可以节省阅读者的时间，而且可以使得报告的主题更加的突出。</li><li>第三，<strong>认真的核对报告中所使用的全部数据和统计资料</strong>，务必使资料准确无误。数据与统计资料一般是作为调研结果和得出的结论的依据而写入报告的，如果数据发生错误，不但会使得调研报告的结果不准确，而且会影响到调研结论的可靠性，并进而影响到报告中所提出的建议的有效性。报告中对于所引用的数据与统计资料，需要在附录和文中注明出处，以方便核对。</li><li>第四，按照<strong>每一个问题的重要性来决定其篇幅的长短和强调的程度</strong>。一个调研报告中可能有几个不同的小问题，对于重要的问题应该进行重点讨论，并把它尽量安排在比较醒目的位置，以使其得到应有的重视。对于一些重要程度比较低的问题。则不应该占用过多的篇幅，以免影响主要问题的表达。第五，充分地利用图和表来说明和显示资料。图和表可以比较直观地说明问题、传递信息。在报告的写作中，可以充分利用图形与表格来进行表达。</li></ul><p>同学，我们今天的课就上到这里，谢谢。</p>]]></content>
      
      
      <categories>
          
          <category> 市场调研 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 市场调研 </tag>
            
            <tag> MOOC </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>第六讲 问卷设计</title>
      <link href="857e383e.html"/>
      <url>857e383e.html</url>
      
        <content type="html"><![CDATA[<h1 id="第六讲-问卷设计"><a href="#第六讲-问卷设计" class="headerlink" title="第六讲 问卷设计"></a>第六讲 问卷设计</h1><h2 id="问卷调查的优缺点"><a href="#问卷调查的优缺点" class="headerlink" title="问卷调查的优缺点"></a>问卷调查的优缺点</h2><p>同学们大家好，今天我们要一起学习如何进行问卷调查。这里我将主要谈两个问题，一个是问卷如何设计，一个是态度测量量表的设计。问卷调查是一种利用结构式问卷抽取一定数量的样本，依据标准化的程序来收集数据和信息的调查方式，<strong>这是市场调查中主流应用工具中最为广泛的方法</strong>。问卷调查法之所以被广泛应用，是由于它具有几个非常重要的<strong>优点</strong>。</p><ul><li><p>第一，标准化。在调查问卷中，所有被调查者要回答的问题都是一致的，而且顺序相同，可选择的备选答案也是相同的。这样标准化的问卷有利于调查者统计分析样本数据。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210215230717760.png" alt="image-20210215230717760"></p></li><li><p>第二个优点，操作容易。由于使用标准化的问卷，问卷的问题主要由选择题来构成，被调查者可以自填问卷、阅读问题和选择答案迅速简便，调查过程不需要调查者给予过多的解释和指导，所以操作起来非常容易。</p></li><li><p>第三，应用问卷调查更便于我们揭示一些隐性的问题。由于问卷填写过程大多是受访者独立的完成，而且匿名填写，所以打消了受访者在填写问卷过程当中的一些顾虑，就有可能了解一些关于受访者在事件当中的动机、细节、结果等等一些问题，甚至是他们的心理想法。由于是匿名填写，所以受访者也基本上会如实填写。</p></li><li><p>第四是易于制表和统计分析。问卷调查是一种定量的调查方法，通过问卷调查，我们一般希望使用回收的数据来进行定量的统计分析，从而得出一些重要的结论或者发现一些重要的规律。因为使用结构式问卷操作简便，所以问卷调查便于进行大样本的调查。即使调查的样本量很大，通过计算机的辅助处理，同样可以迅速地进行排序、交叉、制表等等一些统计分析。</p></li><li><p>最后，问卷调查还便于我们分析子群的差异性。使用问卷调查时，由于样本量很大，我们可以把被调查者按照一些特定的特征。细分成不同的子群，再根据不同的要求来进行分析和比较，从而来反映此群之间的差异性。比如不同性别的消费者他们的消费行为的差异性，不同地区的消费者或者不同年龄的消费者，他们的消费需求、消费行为的差异，都可以在问卷调查当中通过对被调查者细分之后进行不同群体的比较。</p></li></ul><p>下面我们来看看<strong>问卷的结构</strong>，一份问卷它的结构大体上分为三个部分，前言、主体部分和结束部分。</p><ul><li><strong>前言</strong>一般包括问卷的标题和问卷说明、问卷的标题。是概括说明调查研究的主题是被调查者对所要回答什么方面的问题有一个大致的了解，所以我们需要给调查问卷取一个合适的标题，不能简单地采用问卷调查这样的标题。同时确定标题应该简明扼要，易于引起回答者的兴趣。比如大学生手机消费状况的调查、高档住宅购买意向调查等等。问卷说明则旨在向被调查者说明调查的目的和意义，以及填写问卷的一些要求。问卷说明一般放在问卷的开头，通过它可以使被调查者了解调查的目的，消除他们的顾虑，并且按一定的要求来填写问卷。</li><li>问卷的<strong>主体内容</strong>一般也包括两个方面，一块是被调查者的基本信息，一块是调查的主题内容。被调查者的基本信息是指在问卷中我们希望了解的被调查者的一些主要特征，如被调查者的<strong>性别、年龄、民族、家庭、人口、婚姻状况、文化程度、职业、收入、所在地区等等</strong>这样一些人口统计方面的信息。如果被调查的对象不是个人，而是企业、单位，那么这部分呢。我主要要了解的是被调查企业的<strong>名称、地址、所有制性质、职工人数、资产规模、产品销售额等</strong>等这样一些情况。通过这些项目，便于我们对调查资料进行统计分组和分类分析。大家需要注意的是，在实际调查中列入哪些项目、列入多少项目应该根据我们的调查目的和调查要求而定，并非是多多益善的。调查的主题内容是调查者所要了解的基本内容，也是调查问卷中最重要的部分。消费者调查的主题内容一般包括以下几个方面，一个是。对消费者的需求、偏好进行调查，再一个是对消费者的购买行为进行调查，还有就是对消费者对某事物的态度、意见、感觉、认知进行的调查。</li><li>在问卷的<strong>结束部分</strong>，一般可以包括两个内容，一个是可以提出几个开放式的问题，让研究对象深入、自由地回答有关问题，或者让被调查者提出对本研究的建设性意见，另一个内容就是对被调查者的合作表示感谢。</li></ul><h2 id="问卷的结构"><a href="#问卷的结构" class="headerlink" title="问卷的结构"></a>问卷的结构</h2><p>下面我们来谈谈问句的设计。问卷中问句的格式类型一般有三种，开放式问句、封闭式问句和封闭与开放相结合的问句。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210215230919987.png" alt="image-20210215230919987"></p><ul><li><p>所谓开放式问句又称为<strong>非结构式问句</strong>，是指被调查者可以自由作答，不受任何限制的问句。比如问，你对该事件有何看法？这个问题不给出任何限制性的答案，被调查者可以根据自己的想法自由作答。开放式问句的优点是被调查者可以按自己的意见进行回答，回答比较真实，调查人员也可以获得足够全面的答案。但是开放式问句的缺点在于结果难以做定量的统计分析，因为开放式问句没有标准的答案，被调查者根据自己的想法自由作答，每个人的回答可能都是不同的，所以很难做<strong>归类统计</strong>。如果一定要对他们做定量分析的话，通常是调查者手工将受访者的答案根据一定的标准进行分类，然后再进行统计分析。所以开放式问句不能作为大样本的问卷调查所使用的主流问句形式，一般只是在问卷的结束部分提出一两个开放式的问句。</p></li><li><p>下面我们再看第二种类型的问句——封闭式问句。封闭式问句又称为结构式问句，是指已经事先设计了各种可能答案的问题，被调查者只要或者只能从中选定一个或几个现成答案的提问形式。封闭式问句的具体形式又可以分为两项选择问句、多项选择问句和尾部开放。是文具。例如问您使用手机吗？答案只能是是或否，这就是两项选择问句。再比如，问您使用过下列哪一种品牌的洗发水，给出的备选答案包括海飞、丝飘柔、潘婷、沙宣、清扬、五象，那么这就是一种多项选择问句。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210215231126471.png" alt="image-20210215231126471"></p></li><li><p>而尾部开放式的问句属于一种将封闭与开放相结合的问句形式，比如问您使用的电脑是哪种品牌？下面的选项一贝尔、二联想、三惠普、四苹果、五其他后面给出一个空格。受访者。如果在前面四项中没有选出他所使用的电脑品牌，则可以选择其他，并在空格中填出他所使用的电脑品牌，这就是一种尾部开放式的问题。封闭式问句的优点在于由于答案标准化，不仅受访者回答方便，而且也易于调查者进行各种统计处理和分析。但是封闭式问句的缺点在于，回答者只能在规定的范围内被迫回答，无法反映其他各种有目的的、真实的想法。</p></li></ul><p>下面我们来谈谈<strong>问句的种类</strong>，按照问句要收集的资料性来分。问句的种类可以分为三类，第一事实问句，第二，意见问句，第三，解释问句。</p><ul><li><p><strong>事实问句</strong>也就是回答是什么的问题，它是指收集的资料是事实，被调查者按照自己的实际情况回答问题的一种问句类型。事实问句一般比较容易回答，比如您在网上购买过服装吗？您使用的电脑品牌是？这些都属于事实问题，受访者只要根据自己的实际情况来作答就可以了。但是在使用事实问题时，我们也需要注意一些情况，比如如果让受访者回答下面这个问题。大家看看会产生什么问题呢？问您在网上购买过多少次服装？大家会发现这个问题很难回答，是不是？因为大多数人可能在网上购买的服装次数很多，几乎没有办法数清楚究竟购买过几次服装。因此这就提醒大家，对于事实问句，我们要注意明确询问的时间范围，以免被调查者无法叙述事实。比如像刚才这个问题可以改成您在过去一个月中购买过几次服装，下面给出几个备选的答案。零次、一到二次、三到五次、五次以上，给出一个月这样的一个时间范围之后，受访者对过去的这一个月当中，他究竟网购过几次，一般都是能够回答出来的。</p></li><li><p><strong>意见问句</strong>，也就是回答认为怎么样的问题。这是一类以收集被调查者的个人意见或评论性的见解为目的的问句，也可以认为这是一种态度调查的问题。比如你喜欢网购吗？您对网购的商品满意吗？这都属于一种意见问句。在进行态度调查时，意见问句是非常常用的一种问句类型。是我们需要注意的是，意见问句受访者常常在回答时会出现判断标准不一致的情况。比如何种程度才能称作喜欢？如果我们去调查大家对喜欢的理解，会发现答案真是五花八门。有的说喜欢就是淡淡的爱，爱就是深深地喜欢；有的说喜欢就是潜意识的爱，还有的说喜欢就是一种朦胧的爱。也有人会说，喜欢只是喜欢，喜欢不是爱，喜欢就是不讨厌。甚至有的人会说喜欢就是一种feeling啊，可见大家对喜欢这个词的理解存在着很多的差异。那么在调查时，即使大家都勾选了喜欢，其实在他们的行为表现上可能仍然存在着很大的不同。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210215231735032.png" alt="image-20210215231735032"></p><p>所以如果要避免由于受访者对某个概念理解上的分歧，所造成的调查结果的有效性受到影响，我们建议可以将意见问句转换为事实问句。比如对于你喜欢网购吗这个意见问句，我们可以把是否喜欢的判断标准确定为每月在线购买的次数，问句改为一个事实问句，最近一个月你上网购物的次数有几次？下面给出几个答案。A、零次，B、一到二次，C、三到五次，D、五次到十次，E、十次以上，受访者只要根据自己上网购物的实际情况来选择作答就可以了。而对于这五个选项，其实可以反映出受访者对待上网购物的态度。我们可以认为最近一个月上网购物一次都没有的可以说是不喜欢，一到两次的可以认为是不大喜欢，三到五次的呢，我们可以认为他对上网购物的态度是一般般，而五到十次的可以认为他是比较喜欢的，十次以上我们可以说他是非常喜欢上网购物的。</p></li><li><p>下面我们来看<strong>解释问句</strong>，解释问句也就是回答为什么这样的问题。例如你为什么选择网上购物？这类问句要收集的资料是个人意见的理由或行为的动机。大家想一想，对上面这个问题如何给出应答的选项呢？是不是觉得有点难呢？对于解释受访者行为动机和意见的问题。设计结构是问句，特别是要给出备选答案，其实并不是件简单的事，一般需要我们进行一些初步的调查，来大致了解回答的范围和内容。有时为了防止我们给出的答案不能全面覆盖，还要在最后加上其他。</p></li></ul><h2 id="问句设计"><a href="#问句设计" class="headerlink" title="问句设计"></a>问句设计</h2><p>接下来我们来谈谈问句排列的原则。一份问卷一般都有很多个问题组成，那么这些问句的排列是否有一些需要<strong>注意的原则</strong>呢？</p><ul><li>我们说问句排列的基本原则是<strong>由易到难、由简单到复杂、由浅入深</strong>。那么哪一些问句是简单的，而哪一些问句又是比较复杂难以回答的呢？我们前边讲到问句的三种类型，相对来讲，事实问句就比较简单容易回答，受访者只要根据他们的实际情况来作答就可以。而意见问句，特别是解释问句，相对来说就比较复杂难以回答，需要受访者经过认真仔细的考虑，甚至要与其他的一些因素进行比较之后，才能够做出有效的回答。如果某个受访者对这类问题没有认真考虑，就轻易作答，这份问卷可能它的有效性就会大打折扣。正是由于在问卷当中有些问题容易回答，有些问题却。需要受访者仔细考虑之后再来回答。所以为了吸引受访者一步一步地往下深入去回答这份问卷，我们在问句的排列上一般要遵循由易到难、由简单到复杂、由浅入深这样的一个基本的原则。如果问卷一开始就是一个很难回答的问题，受访者可能就会望而却步，放弃这份问卷的回答了。</li><li>问句排列的第二个原则是对于接问、跳问第几题这样的情况都要有妥善的安排，跳跃要<strong>注意逻辑性</strong>。举个例子来说，第一个问题，你问：您在网上购买过服装吗？给出两个选项，是和否。如果受访者回答是，则接下去第二题，你可以问他：你在网上购买过哪类服装等等。但是如果这个受访者回答的是否，也就是说他没有在网上购买过服装，那么你接下去问他：你在网上购买过哪类服装？这样的问题他就不能回答了。如果你想了解他没有在网上购买过服装的原因，那么你可以在后面一点的位置提出这个问题，比如说第十题，然后在否这个选项后面标注如果选，否则跳至第十题。这样，无论受访者选的是是还是否，他都可以按照自己的情形来回答相应的问题，而不至于出现逻辑上的混乱。</li><li>第三个需要注意的原则是问句排列时我们要注意相关问题的排序，一个主题或一个系列的问句要<strong>排列连贯</strong>，不能出现隔断以后又回到主题上来，这样容易使被调查者的思路发生紊乱。</li><li>此外，我们还需要注意人口统计问题的位置和一些<strong>敏感性问题的排放位置</strong>。一般来讲，人口统计问题可以放在问卷的开头或者结尾，而敏感性问题一般都放在问卷的结尾。</li></ul><p>好。接下来我们来谈谈几个在涉及<strong>问句时应该避免的问题</strong>。我们结合一些实际的例子来看。</p><ul><li><p>第一个，比如在问卷的开始这样问：您一般在哪里购买家居产品？给出两个选项，线上网店和线下实体店。这个问句大家觉得有什么问题吗？有的同学可能会说，我根本没有购买过家具产品啊。怎么回答在哪里购买呢？是的。这个问句的问题就在于他应该先<strong>设置一个过滤式的问题</strong>。比如您购买过家具产品吗？然后再问您一般在哪里购买家具产品？如果没有购买过家居产品的，他就不需要回答接下去的这个问题了。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210215232925436.png" alt="image-20210215232925436"></p></li><li><p>我们再看一个例子，问您选择电子商务BToC的原因是什么？这个问句存在什么问题呢？大家想想，是不是会有很多普通的老百姓可能不知道什么是电子商务？BToC。所以我们设计问卷时，问句的用语要适用于目标听众，<strong>尽量避免使用专业的术语</strong>。刚才这个问题更简单，而且更好的提问方法是？您选择网上购物的主要原因是什么？</p></li><li><p>好，我们再来看一个问题。问：您认为您所在的班级中有多少人毕业后会自主创业？这个问句的问题出在哪里呢？可能有的同学会说，我根本不知道班级里有多少人毕业以后会自主创业啊。是的，很显然这个问句的问题就在这里。我们应该注意，<strong>提问不应该超过受访者回答的能力和经验</strong>。</p></li><li><p>我们再来看一个问题，问您对网店销售的服装价格和款式感觉满意吗？大家看看这个问句有什么问题吗？聪明的同学肯定已经发现了，这个问句中有两个要素，服装价格和款式。也许有的人对价格满意，对款式不满意，也有的人是对款式满意，但对价格不满意。所以我们在设计问句时要<strong>尽量避免双重问题</strong>，不应该把两个观察要素合并在一个问句中，</p></li><li><p>问：在购买服装时，商家如果提供周到细致的服务，您觉得如何选项？A、很好，B、不好，C、无所谓。大家想想，如果你是受访者你会选哪个？我想不会有同学说选B，甚至不会有同学去选C。所有受访者都肯定会觉得，既然商家能够提供周到细致的服务，我肯定觉得很好啊。所以这个问句的问题就出在所提出的问题不是一个中性的问题，而是暗示出了调查者的观点和见解，力求使回答者跟着这种倾向去回答。这种提问就是一种引导性提问。我们要注意，在问卷中应该尽量避免这种现象，<strong>所提的问题不应该有暗示和引导</strong>。</p></li><li><p>最后一个问题，您一年网购多少次？总共花费有多少？这个问题一眼看上去好像没什么毛病，但是细细想来，作为受访者他能回答得出在过去一年当中他网购的次数吗？总共花费了多少吗？现在这样一个互联网的时代，网购已经成为人们生活中经常发生的事，一年网购的次数所花费的费用，如果平时没有记录，根本无法回答，所以这个问句的问题在于问句中所涉及的细节超出了受访者的记忆能力，所以<strong>问句的时间期限应当保持相对短一些</strong>，比如刚才那个问题我们可以改为在过去一周里您网购过吗？大概支出有多少？对过去一周他发生的网购行为，受访者一般都会有清晰的记忆，支出也比较容易计算。</p></li></ul><h2 id="态度测量"><a href="#态度测量" class="headerlink" title="态度测量"></a>态度测量</h2><p>下面我们来一起学习态度测量的问句和量表。消费者态度是我们在市场调查中经常要调查的一个问题，而且我们往往需要对消费者的态度进行测量从而进行量化的分析。因此态度测量的问句和量表的设计是我们在进行问卷设计时非常重要的一个问题。市场调查中<strong>使用的态度一般有三个方面的含义</strong>。</p><ul><li>一是指对某事物的认知和了解，如对某个产品及其特性的了解程度，对产品及服务功能的信任程度，以及对某些功能的重要性的判断等等。</li><li>二是指对某事物的偏好。</li><li>三是指对未来行为或状态的预期和意向。如购买某品牌的意向进行态度测量，就是调查人员根据被调查者的可能认识或认识的程度，就某一问题列出若干答案，设计态度测量表，再根据被调查者的选择来确定其认识或认识的程度。</li></ul><p>态度测量的问句类型有很多，我们这里主要是介绍<strong>五种问句的类型</strong>。</p><ul><li>第一<strong>类别式问句</strong>。举个例子来说，您是否认为网购服装价格比实体店更优惠？选项是和否。这类问句中所列的答案只表示分类，不存在比较的关系。被调查者只能从中选择一个答案，而不必对每个答案加以比较对调研结果，调研者可以对每一个类别的研究变量进行频次和百分比的计算，从而总结出消费者的态度，而计算平均数和中位数是没有任何意义的。</li><li>第二种类型<strong>顺位式问句</strong>，训练式问句，是列出若干个答案，由回答者根据自己的看法决定先后顺序。例如，您在淘宝选购服装时考虑的主要因素是哪些？请将所给的答案按重要顺序选择前三项，然后给出五、六个选项。顺位式问句便于被调查者对其意见、动机、感觉等等做衡量和比较性的表达，也便于对调查结果加以统计。但调查项目不宜过多，过多则容易分散，很难顺位。这种方法适用于对要求的答案有先后顺序的问题。</li><li>第三种类型，<strong>对比式问句</strong>在考虑的因素只有两种的时候，常用对比式问句来询问，比较简单明了。例如，购买服装时，您认为面料和款式哪个重要选项？A、面料比款式重要，B、款式比面料重要，C、面料和款式同等重要。</li><li>第四种类型的问句是<strong>语义差别式问句</strong>，语义差别是问句是通过文字含义的不同来区分态度强度的问题。比如。您对淘宝平台的服装品质满意吗？选项很不满意、不太满意、一般比较满意、很满意。通过这五个满意程度不同的词语来表示态度强度的差异。</li><li>第五种类型是<strong>数值尺度式问句</strong>，数值尺度时，问句是要求应答者用数值来表示其态度强度的问句，比如您喜欢网购吗？请在对应的数字上划勾，下面给出一个标尺，标尺上由非常不喜欢到非常喜欢，从一到十划出十个刻度。由受访者根据他的喜欢程度在相应的刻度上打勾，这就是一种竖直尺度式的问句。</li></ul><p>最后我们来谈谈<strong>态度测量的量表设计</strong>。态度测量的量表主要有两种，</p><ul><li><p>一种是<strong>单向式量表</strong>，也就是说测量量表中只包含了一项对态度的描述和测量，而更多的时候，我们在一份问卷当中，需要测量的态度项目可能有很多，所以实际中使用更多的是第二种多项式量表。</p></li><li><p><strong>多项式量表</strong>，量表当中包含了很多关于对象态度的描述，每项都有相应的量表，通过总结各个单项的评分而获得综合评分，以作为对目标对象态度的测量。多项式量表也有很多类型，这里我们主要介绍两个类型，一个是李克特量表，再一个是语义差异量表。</p><ul><li><p>我们先来看<strong>李克特量表</strong>，李克特量表是由里克特原创的一种格式，由一系列对目标的态度评价项构成，每项叙述有五项程度差异的同意到不同意、满意到不满意的这样的选项。量表中所包含的评价项数量在不同的研究中是各不相同的，这取决于评价目标有多少相关的特征。比如我们希望通过调查了解消费者对淘宝商城服装的满意度，而服装的特征又表现在很多方面，比如品质、价格、款式。款式呢又可以分为款式的多样性、款式的新潮性，还有服装描述与实物的一致性等等一些问题。而对满意度的测量，我们用五个程度不同的形容满意度的词语来表示，如非常不满意、不太满意、一般般、比较满意和非常满意。这样我们就可以用一张表格的形式，来把要测量的服装特征和态度的评价选择项放在一个表格当中，左边列出对服装评价的各种特征项，而上栏中列出各个态度的选项。受访者可以在表格当中针对每一个服装的特征要素，选择他们自己的态度选项，这样的表格就是一张里克特的五项矢量表。在量表中，我们还可以对各选项根据态度语义的差异程度来进行赋值，比如很不满意、不太满意、一般比较满意，很满意我们可以分别赋予一、二、三。三、四、五这样五个数值。这样的好处是，将来我们在做数据分析时，可以采用算术平均数来计算所有样本的态度平均值，从而给出消费者在这个测量向上的态度评价。<strong>李克特量表是我们在进行态度测量时最为常用的一种量表形式</strong>，它不仅简单直观，也便于操作。受访者在进行态度测量时，只要根据各个题项，在表格当中勾选相应的态度，即可完成态度的测量。而且这种量表的形式也非常方便在后期进行数据的统计分析。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210215234135198.png" alt="image-20210215234135198"></p></li><li><p>下面我们再来介绍一种<strong>语义差别量表</strong>。语义差别量表是一种常用于测量事物形象的方法，它可以用于测量人们对商品品牌或企业的印象，比如关于某服装品牌的品牌形象的测量。在设计语义差别量表时，首先我们要确定测量对象相关的一系列属性，比如对服装品牌形象的测量，形象属性可能包括品质、价格、款式等等，款式又分为款式多样性和款式的时尚性两个特征，而对于每个属性选择一对意义相对的形容词，然后分别放在量表的两端。中间划分为七个连续的等级，要求被调查者根据他们对被测对象的看法来评价每个属性，在合适的位置上做出标记。比如关于品质，可以用高档品质和低档品质来形容，价格可以用高价格和低价格来形容；款式多样性可以用款式非常多和款式非常少来形容，而款式的时尚性可以用款式新潮和款式陈旧来形容。这样就可以形成四条对服装品牌形象进行测量的图像，意义相对的一组形容词放在量表的两端。而被划分为七个等级的标尺放在中间，让受访者根据他们自己的态度做出相应的选择，这就是语义差别式的量表。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210215234055520.png" alt="image-20210215234055520"></p></li></ul></li></ul><h2 id="样本抽样"><a href="#样本抽样" class="headerlink" title="样本抽样"></a>样本抽样</h2><p>同学们，前边我们介绍了在问卷调查中需要学习的一些方法，如问卷的结构、问句如何设计、态度如何测量以及态度测量量表的设计等等。那么接下来我们再来说说抽样的方法——问卷调查是一种抽样调查的方法，所谓抽样调查就是说按照一定方式从调查总体中抽取部分样本进行调查，用所得的结果说明总体情况的一种调查方法。抽样调查时按照抽样方式的不同，可以分为随机抽样和非随机抽样两类。<strong>随机抽样</strong>是指在目标总体中不按任何规则抽取一定数量的个体作为样本，在随机抽样的条件下，每个个体抽中或不抽中完全凭机遇，排除了人的主观因素选择。<strong>非随机抽样</strong>则是指在目标总体中，按某种规则抽取一定数量的个体作为样本，对总体中每一个个体不具有被平等抽取的机会，而是根据一定主观标准抽选样本的抽样技术。</p><p>随机抽样按随机的程度又可以分为简单随机抽样、系统随机抽样、分群随机抽样和分层随机抽样。</p><ul><li><p><strong>简单随机抽样</strong>是指在抽样总体中，按随机原则，利用抓阄或随机数表等方法来直接选取样本的方法。</p></li><li><p><strong>系统随机抽样</strong>是指将总体各单位按一定顺序排列并编号，先随机形成起点，而后按相同间隔抽取样本，直至收购全部样本单位。</p></li><li><p><strong>分群随机抽样</strong>则是指先将总体分成若干次总体或者称群，然后随机的从中抽取若干个群，并对被抽中的群进行进行全面调查。比如要从一千个总体中抽取一百个样本，可以把这一千个样本十个一组十个一组分成了一百个小组，再从这一百个小组当中随机抽取十个小组，这样的抽样方法就是分群随机抽样。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210215234600096.png" alt="image-20210215234600096"></p></li><li><p>而<strong>分层随机抽样</strong>则是对分布不均匀且层次分明的总体，按<strong>层内方差尽量小，层间方差尽量大</strong>的原则进行分层，然后在每层中随机抽取足量样本进行调查。分层随机抽样又可以分为<strong>等比例分层抽样</strong>和<strong>非等比例分层抽样</strong>。下面我们对等比例分层抽样，举例说明，某地共有居民两万户，按经济收入高低进行分类，其中高收入的居民为四千户，占总体的百分之二十中收入的居民有一万两千户，占总体的百分之六十，而低收入的居民为四千户，占总体的百分之二十，从中抽取两百户进行消费者购买力的调查，则各类型应抽取的样本单位数经济收入高的样本单位数我们设为a，则a等于百分之二十乘以两百等于四十户。经济收入中等的样本单位数我们设为B，则B等于百分之六十乘以两百等于一百二十户。经济收入低的样本单位数我们设为C，则C等于百分之二十乘以两百等于四十户。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210215234727004.png" alt="image-20210215234727004"></p></li></ul><p>下面我们再来看看<strong>非随机抽样</strong>，非随机抽样方式主要有三种，任意抽样、判断抽样和配额抽样。</p><ul><li>其中任意抽样又称便利抽样，是根据调查者的方便与否来抽取样本的一种抽样方法。比如<strong>街头拦人法</strong>就是任意抽样最常见的方法。</li><li><strong>判断抽样</strong>又称为<strong>目的抽样</strong>。它是凭调查人员的主观意愿、经验和知识，从总体中选取具有代表性的样本作为调查对象的一种抽样方法。</li><li>而<strong>配额抽样是非随机抽样中最流行的一种</strong>，这种抽样方法是首先将总体中的所有单位按其属性特征分类，这些属性特征被称之为<strong>控制特性</strong>。例如市场调查中消费者的性别、年龄、收入、职业、文化程度等，然后按各个控制特征分配样本数额，并在规定数额内由调查人员任意抽选样本。</li></ul><p>以上我们介绍了几种常见的抽样方式，具体在调查当中应当采取哪种抽样方式，需要调查人员根据具体情况来进行选择。我们需要知道科学合理的抽样方式对调查结果的真实可靠有着非常重要的影响。</p><p>那么抽样样本的数目多少比较合适呢？一般我们认为<strong>影响抽样数目多少的主要因素</strong>有以下三个。</p><ul><li>第一，总体中各样本之间标志值的差异程度。差异程度越大，抽样数目需要的就越多。</li><li>第二是允许误差的大小。如果我们允许的误差很小，那么抽样的数目就应该比较多。</li><li>第三，不同抽样方法也会影响抽样数目的多少。一般来说，随机抽样比非随机抽样样本数目要少一些，不重复抽样比重复抽样样本单位数要少一些。</li></ul><p>具体样本容量的计算，除了可以用<strong>公式计算</strong>以外，还有一种常用的方法，也就是<strong>经验法</strong>来确定样本容量。经验确定样本容量的范围，一般来说，总体规模在一百以下样本占总体的比重要达到百分之五十左右，总体规模。佛在一百到一千之间，样本占总体的比重一般在百分之二十到百分之五十。如果总体规模在一千到五千之间，样本占总体的比重可以在百百分之十到百分之三十的范围内。如果总体规模在五千到一万，样本占总体的比重一般在百分之三到百分之十五。而如果总体规模在一万到十万之间，样本占总体的比重一般是百分之一到百分之五之间。如果总体规模在十万以上，一般样本占总体的比重可以在百分之一以下。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210215235008234.png" alt="image-20210215235008234"></p><p>同学们，关于问卷调查涉及的一些问题。我们就介绍到这里，要想做好问卷调查，还需要大家平时多多练习哦。好的，同学们，这一章我们就讲到这里，我们下次课再见。</p>]]></content>
      
      
      <categories>
          
          <category> 市场调研 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 市场调研 </tag>
            
            <tag> MOOC </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>第五讲 定性调查方法</title>
      <link href="5633b72d.html"/>
      <url>5633b72d.html</url>
      
        <content type="html"><![CDATA[<h1 id="第五讲-定性调查方法"><a href="#第五讲-定性调查方法" class="headerlink" title="第五讲 定性调查方法"></a>第五讲 定性调查方法</h1><h2 id="观察调查法"><a href="#观察调查法" class="headerlink" title="观察调查法"></a>观察调查法</h2><p>同学你好，今天我们来学习观察调研法。首先我们来讲一讲观察调研法的含义及其特点。观察调研法就是根据调查的课题，观察者利用眼睛、耳朵等感觉器官和其他科学手段及仪器，有目的的对研究对象进行考察以及取得研究所需资料的一种方法。</p><p>下面我们来讲一讲观察法的类别及其应用。研究人员为了取得合适的资料，可根据不同的情况采取不同的观察方法作为收集资料的方法。观察方法可以根据不同的标准划分为不同的类型，其中主要的分类是：</p><ul><li><p>第一种是根据观察的角色，可以分为参与观察与非参与观察。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210215215716608.png" alt="image-20210215215716608"></p></li><li><p>第二种是根据是否有详细的观察计划和严格的观察程序，可以分为结构式观察与无结构式观察。</p></li><li><p>第三种是根据观察者是否直接接触到被观察者，可以分为直接观察和间接观察。</p></li></ul><p>首先我们来讲一讲<strong>参与观察与非参与观察</strong>。这种分类是根据研究人员作为一名观察者的具体身份是否参与到被研究的群体或单位去。是否参与被观察者的活动啊划分的参与观察是观察者为了达到深入了解情况的目的，直接加入到某一群体之中，以内部成员的角色参与他们的各种活动，在共同生活中进行观察，收集与分析有关资料。例如，一个汽车厂家的产品经理在新设计的一款产品问世之初，为了解其性能是否满足消费者需要，是否与其定位的目标群体相符，就可以与一部分消费者同时使用该款车，然后通过观察来了解产品的特性。非参与观察则是观察者以旁观者身份置身于调查群体之外进行观察。在非参与观察中，观察者如同记者一样进行现场采访和观察，他们不参与观察者的任何活动。作为一名旁观者，他们只是在某些场合才有机会同被观察者交往，后者将他们视为外人，但在一定程度上允许他们参观某些活动。</p><p>下面我们来讲一讲<strong>结构式观察与无结构式观察</strong>。结构式观察是事先制定好观察计划，并严格按照规定的内容和程序实施的观察。这种观察方法的最大优点是观察过程标准化，他对观察的对象、范围、内容和程序都有严格的要求，一般不得随意改动，因而能够得到比较系统的观察材料供解释和研究使用。无结构式观察是对观察的内容、程序事先不做严格的规定。以现场的实际情况随机决定的观察。人们平时所有的观察大多数属于无结构式观察，无结构观察的优点是比较灵活，调查者在观察过程中，可以在事先拟定的初步提纲的基础上，充分发挥调查者的主观能动性和创造性，认为什么重要就调查什么。其缺点是得到的观察资料不系统、不规范，受观察者个人的影响较大，可信的程度较低。在结构式的观察中，观察员常常要为每一位被观察者填写一份问卷式表格，而在无结构式观察中，观察员只是对被观察的行为做一下备忘记录。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210215220043982.png" alt="image-20210215220043982"></p><p>下面我们来讲讲<strong>直接观察</strong>和<strong>间接观察</strong>。直接观察是观察者面对面的接触，以及观察者亲自看到被观察者的活动，例如在市场上看到消费者的购买过程，在座谈会上亲耳听到消费者的评论等。而间接观察是指观察者对自然、物品、社会环境、行为痕迹等进行观察，以便间接反映对象的状况和特征。如通过对一些城市的建筑、交通、餐饮条件和水平等的观察，就可初步对这个城市居民消费特点和消费能力有所了解。<strong>市场调研中所进行的大部分观察都是直接观察</strong>。</p><p>下面我们来讲一讲其他类型的观察。观察还有一些类型诸如<strong>自我观察</strong>、<strong>设计观察</strong>、<strong>机器观察</strong>等。自我观察是个人按照一定的观察提纲，自己记录自己的行为行动，进行自我观察。观察者既是观察主体，又是观察对象。设计观察室，专门选拔一批观察对象，以便观察他们的行为。在此情况下，被选对象可能是人或物，例如超市调查人员可将所选的多种商品更换不同陈列地点来观察消费者的反应。观察者记录下购买者在被测商品前滞留的时间、购买的动作以及对这些商品的购买量和购买频率等信息，从而对不同陈列的效果进行评价。同学，今天的课我们就上到这里，谢谢。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210215220402240.png" alt="image-20210215220402240"></p><h2 id="小组访谈法"><a href="#小组访谈法" class="headerlink" title="小组访谈法"></a>小组访谈法</h2><p>同学你好，今天我们来学习小组访谈法。那么首先我们来讲一讲小组访谈法的含义及其特点。小组访谈法也称之为<strong>焦点访谈法</strong>，是采用小型座谈会的形式，挑选一组具有代表性的消费者或客户，通常在一个特殊会场，在主持人的组织下就某个专题进行讨论，从而获得对有关问题的深入剖解。<strong>小组座谈会被视为一种最重要的定性研究法</strong>，在国外得到广泛的应用。近年来，我国许多调查机构在调研中越来越多地采用这种研究方法。小组访谈法的特点在于它所访问的不是一个一个的被调查者，而是同时访问若干个被调查者，通过与他们的座谈来了解市场的信息。因此小组座谈过程是主持人与多个被调查者相互影响、相互作用的过程。要想取得预期的效果，不仅要求主持人做好座谈会的各种准备工作，熟练掌握主持技巧，还要求有驾驭会议的能力。</p><p>那么小组访谈法呢。工作要点有哪些呢？要组织完成一项小组访谈，一般来说我们要做好三方面的工作。</p><ul><li>首先要<strong>做好座谈会前的准备工作</strong>，那么有这样一些事情需要我们去做，<ul><li>第一，确定会议的主题；</li><li>第二，确定会议的主持人；</li><li>第三，选择参加人员；</li><li>第四，学好座谈会的场所和时间。</li><li>第五，确定座谈会的次数。</li><li>第六，准备好座谈会所需要的演示和记录用具，比如录音、录像设备等。</li><li>第七，在需要同声翻译的情况下，因让我翻译了解所要讨论的大概内容。</li></ul></li><li>第二个是<strong>组织和控制好座谈会的全过程</strong>。那么在这个过程中，我们要把握三方面。<ul><li>第一，要善于把握座谈会的主题；</li><li>第二，要做好与会者之间的协调工作。</li><li>第三，要做好座谈会的记录。座谈会一般由专人负责记录，同时还常常通过录音、录像的方式记录。</li></ul></li><li>第三，我们要做好的是<strong>座谈会后的各项工作</strong>。<ul><li>第一是及时整理、分析座谈会议记录，检查记录是否准确、完整，有没有差错和遗漏。</li><li>第二是回顾和研究座谈会的情况，通过反复的听录音、看录像，加上回响会议进程是否正常。会上反映的情况是我真实可靠，观点是否具有代表性的，对讨论的结果做出评价，发现疑点和存在的问题。</li><li>第三，做必要的补充调查。对会上反映的一些关键事实和重要数据要进一步查证核实。对应当出席而没有出席座谈会的人，或在会上没有充分发言的人，如有可能，最好进行补充询问并记录。</li></ul></li></ul><p>下面我们来讲一讲<strong>小组座谈法的组织与实施</strong>。</p><ul><li>首先我们讲一讲<strong>座谈会场的布置</strong>。显然进行座谈的场所设施是否完善和是否适合讨论会十分重要。因此讨论往往安排在一个稍大的空间中，并以圆桌形式就座，广告公司的会议室、主持人的家中。某一参与者的家中，客户的办公室、酒店或会议室，也可作为讨论的场所。除了按圆形就座，使每一个人都可以看到其他人以外，该场所必须很安静，能保证座谈的进行。理想的小组座谈地点是在市场调研与咨询公司的专门用于焦点访谈的房间，这种房间通常有一张大圆桌、舒适的椅子、放松的气氛和一面单面镜，以便与委托方的代表观看讨论的情况，还应有摄像录音的位置，由于焦点访谈所获得的信息较多分散，如直凭记忆往往会出错。而单凭主持人的记录又会延缓讨论的进度，进而会影响会议的气氛，因此绝大多数这种会场都会有专人记录人员与录音。</li><li>第二个，我们要是<strong>选择合适的主持人</strong>。<strong>拥有合格的受访者和一个优秀的主持人是焦点小组访谈的成败的关键因素</strong>。主持人需要具备两方面的技能，第一是主持人必须能够恰当地组织一个合理人选的讨论小组；第二是主持人必须具备良好的商务谈判技巧，以便有效地参与访谈的人员进行互动。</li><li>第三是<strong>设计座谈会的提纲</strong>，设计好座谈会提纲既能围绕座谈主题，又能达到调查的目的，还能调节作团的气氛，是一项十分重要而又需要技巧的工作。</li></ul><p>那么下面我们来讲一讲<strong>小组访谈时应该注意的问题</strong>。市场调研人员时刻铭记选择一个良好的焦点小组测试室的重要性，要注意以下几个方面：</p><ul><li>第一是<strong>身体的舒适感</strong>。受访者和员工的身体的适应感，对组织一次成功的焦点小组访谈来说非常重要。</li><li>第二是<strong>设备</strong>，录音设备是否能保证主持人毫不费力地听听小组中所有人的观点。话筒应远离空调设备，应靠近会议桌以便记录所有人的声音。</li><li>第三是<strong>室温的控制</strong>，空调设备或采暖设备是否通风良好。如果受访者感觉太热或太冷，气氛都不会活跃，难以得到受访者的积极回应。</li></ul><h2 id="投射技术法"><a href="#投射技术法" class="headerlink" title="投射技术法"></a>投射技术法</h2><p>同学你好，今天我们来学习投射技术法。首先我们来讲讲投射技术法的含义与定义。<strong>投射技术法</strong>采用一种无结构的、非直接的询问方法，可以激励被访者将他们所关心的话题和潜在的动机、态度和情感反映出来。投射技术法是穿透人的心理防御机制，使真正的情感和态度浮现出来的一种方法。一般的来说，对被试者给出一种无限制的并且模糊的情景，要求他做出反应。由于这种情景说的很模糊，也没有什么真实的含义，受试者必须根据自己的偏好做出回答。在理论上，受试者将他们的情感投射在无规定的刺激上，因为受试者谈论的虽然只是其他的事情或其他的人，却透露了自己的内在情感。</p><p>第二我们来讲一下<strong>投射技术法的类别及其应用</strong>。在市场调研中，最常用的投射技术法是词语联想法、句子和故事的完成法、漫画测试法、照片回归法、消费者图画法和第三人称法、主题统觉法八种方法。</p><ul><li>首先我们来学一下<strong>词语联想测试法</strong>。词语联想测试法对市场调研者来说是非常实用和有效的投射方法。访问人员读一个词给受访者，然后要求他说出脑海中出现的第一种事物。通常消费者反映的同一个同义词或反义词，一般是快速念出一连串词语，不让心理防御机制有时间发挥作用。如果受访者不能在三秒六做出回答，那么可以断定他已经接受了情感因素的干扰。</li><li>第二种方法是<strong>句子和故事完成法</strong>。在完成法中给出不完全的一种四季情景，要求被调查者来完成。常用的方法有句子完成法和故事完成方法，句子完成法是提出一些不完整的句子，让被调者车完成该句子。</li><li>第三种是<strong>漫画测试法</strong>，漫画测试法通过使用与连环画册相似的漫画图像和连环画，创造出高度的投射机制。典型的漫画测试包含两个人人物，一般来说一个人的话光中写出有对话，而另一个人的画框中是空白的，要求受试者完成空白的画框，注意图像是模糊的，而且没有任何的解释，这么做是为了受试者不会得到任何暗示某种规定档案的线索。</li><li>第四种是<strong>照片回归法</strong>。环球BBDO公司是美国最大的广告代理商，它开发出一种以注册成商标的技术照片归类法。消费者通过一组特殊安排的照片来表达他们对品牌的感受，这组照片展示的是不同类型人群，从高级白领到大学生，受试者将照片与他所认为的这个人应该使用的品牌联系在一起。</li><li>第五种是<strong>消费者图画法</strong>，BBDO与啤酒市场上的一百名目标消费者进行了面试，这些人是男性年龄在二十一岁到四十九岁，每周至少喝六瓶品牌啤酒。结果受访的人认为，喝巴德啤酒的人看起来是粗鲁暴露的蓝领工人。相比之下，喝米勒啤酒的人是有教养的而且和善的高级蓝领工人，库尔啤酒给人一种更女性化的印象。</li><li>第六是<strong>故事叙述法</strong>。故事叙述法就是让消费者讲述他们自己的经历，从中洞察一些最微妙的消费行为。哈佛商学院的扎尔特曼教授为此创建了一个暗喻测试室，暗喻是用一种事物来描述另一种事物，人们用暗语来表达心照不宣的、暗含的和不可言传的想法。</li><li>第七是<strong>第三人称法</strong>。除了词语联想以外，<strong>最容易的投射方法也许要算是第三人称法了</strong>。这种方法不是直接问你。个人的感受，而是用你的邻居、大多数人或其他第三人称来表述问题。不是直接问一个人为什么他做了早餐营养总不均衡，而是问为什么许多人给家人准备的早餐营养总不均衡。第三人称法是为了避免由于直接回答可能使受试者感到尴尬，甚至激怒受试者。</li><li>第八种叫做<strong>主题统觉法</strong>。主题统觉法是将一副会有购买情况的图片出示给访问者。例如一位年轻人在一个专卖店前浏览商品的陈列，然后要求被访者将图中主人公的想法通过想象描述出来。由于图上并未提供任何的资料，回答者也不知图上的人到底想些什么，但是被访问者。往往可以说出一套图上该主人公的想法，因此他的回答无疑是反映了被告人本人的想法。</li></ul><p>同学们，我们今天的课就上到这里，谢谢。</p>]]></content>
      
      
      <categories>
          
          <category> 市场调研 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 市场调研 </tag>
            
            <tag> MOOC </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>第四讲 二手资料调查</title>
      <link href="5496aeb4.html"/>
      <url>5496aeb4.html</url>
      
        <content type="html"><![CDATA[<h1 id="第四讲-二手资料调查"><a href="#第四讲-二手资料调查" class="headerlink" title="第四讲 二手资料调查"></a>第四讲 二手资料调查</h1><h2 id="二手资料的来源与获取"><a href="#二手资料的来源与获取" class="headerlink" title="二手资料的来源与获取"></a>二手资料的来源与获取</h2><p>亲爱的同学们，大家好，今天我们要讲的内容是二手资料的获取与应用。如何有效利用二手资料进行市场调研和分析，成为企业进行市场营销、经营管理的重要依据，这需要同学们了解二手资料的来源以及掌握二手资料的步骤和方法。</p><p>首先让我们介绍一个，打个案例，以理解二手资料对于企业进行市场营销的具体价值。一九五九年九月二十六日，中国在黑龙江省松嫩平原打出第一口油井，取名大庆油田。然而由于当时国际环境复杂多变，中国并没有向外界公布大庆油田的具体的地理位置和产量。二十世纪七十年代，日本深知中国开发石油需要大量的石油设备，却又苦于信息不足。那么善于收集资料的日本人广泛地收集了中国的有关报纸、杂志，并且进行了一系列的分析研究。他们从刊登在人民画报封面上的大庆创业者王铁人的照片分析，依据王铁人身穿的大棉袄和漫天大雪的背景，判断大庆油田必定在中国的东北地区。从王进喜到了马家窑的这篇报道，推断出大庆油田所在的大体方位。你又从创业电影分析出大庆油田附近有铁路，而且道路非常的泥泞。根据人民日报刊登的一副钻井机的照片，他们推算出油井直径的大小，再根据中国政府工作报告计算出了油田的大致的产量，又将王进喜的照片放大至与本人一比一的比例。那么这个照片呢是通过王进喜与毛泽东、周恩来等国家领导人的合影，于是判断出王进喜的具体的身高，然后对照片中王进喜身后的井架进行了分析，推算初期请假的具体的高度以及颈架间的具体的密度，据此进一步地推算出中国对石油设备的需求量。当我国突然向外界宣布在国际上征求石油设备设计方案时，日本参加投标，并且一举中标，谈判成功，给日本的有关公司创造了非常丰厚的利润。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210214212513303.png" alt="image-20210214212513303"></p><p>那么从这个案例我们可以看出，日本借助现有的报纸、杂志，包括电影等资料进行分析，从中获取了有用的信息。可见现成的文献资料在决策中起到了非常重要的作用。那么怎样才能方便地获得这些信息呢？市场调研实际上是对市场信息进行收集整理所分析的全部过程，其中收集初级的市场信息是基础性的工作，其主要决定着整个调研的质量和过程。</p><p>首先我们介绍第一节的内容，<strong>二手资料的类型和来源</strong>。在市场调研中，调研资料通常要通过一定的手段和方法来获取。按照数据资料来源的不同，调研资料的获取方法可以分为两类。第一类是原始资料的收集方法，那么另一类就是二手资料的收集方法，</p><ul><li><strong>原始资料也称一手资料</strong>，是指调查者为了某种特定的目的啊，通过专门调研直接收集到的资料。</li><li>那么<strong>二手资料也称刺激资料</strong>，是按照某种目的对原始资料进行加工整理后的资料。</li></ul><p>二手资料比较容易得到，相对来说也比较的便宜，并且能够很快的获取。有些资料使用原始数据收集的方法也不可能得到所有想要的数据。举个例子，<strong>比如国家统计局提供的普查结果是不可能由任何一个调查公司能够去收集完成的</strong>。尽管二手资料不可能提供特定调研问题的全部答案，但是<strong>二手资料很有用</strong>，例如：</p><ul><li>二手资料可以帮助我们快速掌握调查问题存在的现状；</li><li>熟悉行业的状态，确定相关的概念、数据和术语；</li><li>明确调查问题的构成与成因；</li><li>寻找处理问题的途径；</li><li>通过第二手资料分析设计适当的调查方法，</li><li>那么利用二手资料就可以更深刻地解释特定调研项目所收集的原始数据。</li></ul><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210214212935357.png" alt="image-20210214212935357"></p><p>因此，考察研究可能得到的二手资料是收集原始资料的先决条件。好，接下来让我们介绍二手资料收集的特点。二手资料的收集又称文案调查，是指调查员通过搜集各种相关的文献资料，从中摘取或与调查目的有关的资料加以整理。衔接调整以及融合，进而提出市场调研报告、急市场营销建议的市场调研方法。<strong>二手资料收集的特点</strong>主要表现在如下三个方面：</p><ul><li>一、调查不受时空限制，可以搜寻古今中外有关的资料，资料范围广、数量多</li><li>二、收集相对容易，短时间内就可以获得有用的数据，节省了人力、调查经费和时间，与第一手资料收集相比，成本大大的降低</li><li>三、获取资料方式较为灵活，受外界的干扰较小，调查的方法实用性也很强。</li></ul><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210214213411118.png" alt="image-20210214213411118"></p><p>尽管二手资料收集的特点证明了这种信息的查找对调研很有帮助，但是二手资料对当前问题的帮助在一些重要方面也是<strong>有缺陷</strong>的：</p><ul><li><p>资料的相关性和准确性都不够。</p></li><li><p>一方面收集二手资料的目的、性质和方法不一定适合当前的情况。</p></li><li><p>另一方面，二手资料的时效性较差，特别是二手资料收集到的主要是有关的历史数据和资料，这样就缺乏最新的信息资料。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210214213529866.png" alt="image-20210214213529866"></p></li></ul><p>好，第一节的内容就到此结束。</p><h2 id="二手资料的应用"><a href="#二手资料的应用" class="headerlink" title="二手资料的应用"></a>二手资料的应用</h2><p>亲爱的同学们，大家好，接下来我们介绍第二节——二手资料的来源与获取。二手资料的种类繁多、数量巨大，按照来源，可以将二手资料分为两大类，<strong>内部资料和外部资料</strong>。其中内部资料指的是出自所调查的企业或公司内部的资料。这属于<strong>企业专有的资料</strong>，主要与企业生产经营和管理活动有关的各种数据记录，主要包括以下四种：</p><ul><li>一是业务资料，主要包括订货单、进货单、发货单、顾客反馈信息等。通过对这些资料的分析，就可以了解企业的生产经营情况以及地区用户的需求变化。</li><li>二是财务资料，主要包括各种会计报表、财务分析资料等。通过对这些资料的研究。可以确定企业的发展前景，考核企业的经济效益。</li><li>三是统计资料，主要包括各种统计报表和统计分析资料。通过对这些资料的分析，可以对企业的各项经济活动进行综合的反应，为企业的决策和预测提供依据。</li><li>四是一些其他的资料，包括平时的各种文件、工作计划、调研报告等这些资料。对市场调研。也有一定的参考作用。</li></ul><p><strong>外部资料</strong>指的是来自被调查的企业或公司以外的信息资料。一般来说，外部资料在二手资料调研中占据主要部分。外部资料主要包含几种渠道？</p><ul><li>一政府机构在政府收集的资料中，有很大一部分会向社会公开，例如统计年鉴、经济年鉴、统计资料汇编、人口普查数据、经济普查数据等。</li><li>二行业协会行业协会整理的行业报告、产业研究、商业评论等都是研究行业发展状况的重要依据。</li><li>三新闻媒体、电视、广播、期刊等提供的最新的信息资料，为企业的短期经营决策提供科学的依据。</li><li>四专门的调研机构，主要包括专业的咨询公司、调研公司等。</li><li>五各种的博览会、交易会、经验交流会等会议。</li><li>六其他的信息来源包括图书馆、档案馆等。</li></ul><p>总之，在进行二手资料收集时，你先收集比较容易得到的和公开发表的现成的信息资料，最好先从企业内部资料收集开始，然后在收集相关的外部信息资料。在使用二手资料之前，有必要对二手资料的质量进行评估。二手资料的获取仅仅是开展调查研究工作的第一步，更重要的是要对所收集到的资料做适当的判断和处理，使之能够满足当前调研目的的需要。那么对于市场调研者来说，主要从以下两个方面对<strong>二手资料进行评估</strong>：</p><ul><li>一、准确性评估。评估数据准确性的方法主要由两种途径。首先，检验提供数据来源渠道的专业水平、生育及可信度。其次，从不同来源的数据信息进行对比验证</li><li>二、有效性评估。由于二手资料并不是为了满足当前研究的需要而专门设计的，因此这些资料数据，你所研究项目的相关程度如何？即数据满足当前调研问题和目标需要的使用程度如何就成？作为调研人员评估二手资料的重要内容，对二手资料的<strong>有效性评估主要考虑以下方面</strong>：<ul><li>首先，分析调查资料的范围和调研问题的范围是否一致。</li><li>其次，分析数据涉及道德关键变量的定义、测量的单位使用的分类以及研究方法与调研问题是否一致。</li><li>最后，分析资料的时间范围是否恰当，有无过失。因此应该及时收集、分析和利用各种最新的资料，提高资料的时间价值。</li></ul></li></ul><p>市场调研者既可以从企业内部获取二手资料，也可以从企业外部获取二手资料。</p><ul><li><strong>从企业内部获得二手资料</strong>主要是利用企业内部报告系统中所拥有的内部数据库信息。</li><li><strong>从企业外部获得二手资料</strong>主要是利用图书馆、档案馆、信息中心等搜集各类有关的二手资料。其中从图书馆获得的调研信息中，以下七种是营销调研中常常收集的行业统计信息：某一行业的非统计性背景资料特点、公司信息、各地理区域的销售潜力的估计、媒体费用和渠道信息、关于营销调研方法的信息、针对某些题目的学术性营销调研信息等。此外，随着互联网技术的快速发展，直接利用网络数据库获取相关信息逐渐成为企业获取二手信息的主要渠道。</li></ul><p>在二手数据利用过程中，需要注意几个重要的问题。</p><ul><li><p>资料来源的识别。甄别与筛选合适的二手资料对市场调研人员来说至关重要，因此在使用二手数据应当注意对其进行评价，然后考虑如何利用。</p><ul><li><p>具体通过以下五项内容<strong>进行评价</strong>。</p><ul><li><p>一、二手资料的调研目的是什么？</p></li><li><p>二、什么人收集了什么样的资料？</p></li><li><p>三、收集了一些什么样的资料？</p></li><li><p>四、这些资料如何获取的？</p></li><li><p>五、这些资料与其他资料的一致程度。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210214215831361.png" alt="image-20210214215831361"></p></li></ul></li><li><p>如何回答这些问题有助于市场调研人员<strong>有效利用二手资料</strong>。一般来说，进行二手资料评价和利用有如下几个步骤：</p><ul><li><p>第一步，分析什么是希望得到的，什么是已经得到的。</p></li><li><p>第二步，列出关键词和人名清单。这样有助于在网上搜索或者利用图书馆、档案馆查询。</p></li><li><p>第三步，利用所拥有的所有搜索工具进行查询。</p></li><li><p>第四步，将所收集到的二手资料综合起来，并且评价他们是否是需要的。</p></li><li><p>第五步，如果仍然没有找到所需资料，就一项专业人士请求帮助。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210214215911038.png" alt="image-20210214215911038"></p></li></ul></li></ul></li><li><p>二手资料的整理方法。通过查找、搜寻就可以比较容易地获取二手资料，但要把这些资料整理加工成能够满足分析的材料，还要经过一番细致的案头工作，具体可以采用<strong>摘要、引用制表、绘图、总结等方法</strong>对所有资料进行归纳、总结成文。</p></li></ul><p>当然，在对二手资料进行加工时，应特别注意以下两点。</p><ul><li>一是加工后的内容一定要重视与原材料，避免断章取义。</li><li>二是一定要标出资料的具体来源。回过头我们再来理解导入案例。</li></ul><p>不难发现，日本企业从中国企业外部准确获取二手资料，并通过对相关数据进行准确评估，确定了数据的可靠性。然后通过有效的整理、加工、分析和总结，最后获得了准确的调研结果，并直接促进了日本企业的炼油设备销售。最后对本章内容进行简单总结。本章内容告诉我们，市场调研者既可以从企业内部获取二手资料，也可以从企业外部获取二手资料，但是在使用二手资料时，应注重对其进行评价，然后才考虑如何利用。谢谢各位同学！</p><h2 id="网络调查方法"><a href="#网络调查方法" class="headerlink" title="网络调查方法"></a>网络调查方法</h2><p>亲爱的同学们，大家好，今天我们介绍网络数据的调查技术。首先介绍第一节网络数据的获取渠道。先看一组数据：2019年2月28日，中国互联网信息中心，也就是CNNIC，发布了第四十三次中国互联网络发展状况统计报告，调查数据显示，截止2018年12月，中国网民规模达到8.9亿，普及率达到59.6%。我国手机网民规模达到8.17亿，网民通过手机接入互联网的比例高达98.6%。上述有关中国互联网发展状况统计的资料显示，互联网的发展使得信息收集变得越来越容易，二手资料的来源也越来越丰富，网络调研逐步成为二手资料调研的一种重要方式，这是一种即网络技术和传统方法为一体，方便、经济、快捷等优点为一体的调研方法。</p><p>互联网调研方法具有如下几个特点：</p><ul><li>一、查询速度快、数据信息多的特点。</li><li>二、互联网的传播没有时空限制。</li><li>三、互联网调研费用相对比较低廉。</li></ul><p>尽管互联网的调研有很多优点，但也存在很多的缺点。比如许多信息没有实际的作用，或者信息不准确、不完善，因此对收集到的资料也要进行筛选和评价。那么如何收集相关的信息资料呢？首先介绍<strong>几种常见的网络数据的获取渠道</strong>：</p><p>第一种，利用搜索引擎收集资料。搜索引擎能够阅读、分析并存储从该搜索网站网页上所获得的信息，利用搜索引擎可以进入相关的主题搜索。常用的中文搜索引擎主要有百度、搜狗搜索、有道搜索等。那么常用的英文搜索引擎主要有谷歌搜索，特别要强调的是，<strong>谷歌学术搜索是搜索学术论文的最重要的途径</strong>。</p><p>第二种，网络全文数据库，包括Elseiver、Springer等外文数据库，以及知网、维普、万方的中文数据库，有利于企业及时地获取最新的相关信息。近年来，随着数字技术的发展，也可以灵活运用各种数字图书馆去查询有关的信息资料。常用的数字图书馆主要包括超星数字图书馆、方正Apabi电子图书、书生之家数字图书馆、中国数字图书馆、OCLC的NetLibrary；常用的免费参考书，包括SpringerLink电子图书、<strong>Ebrary电子图书</strong>、John Wiley电子图书、美星外文电子图书等。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210214220905624.png" alt="image-20210214220905624"></p><p>其次，可以通过<strong>学科信息门户</strong>进行网络数据的获取。学科信息的门户是经过组织有序化和人工处理、专家盘旋、定期检查处理的学科信息导航系统，其资源都是有效的。学科信息门户也成学科门户、主题网关，是针对特定学科或主题领域，按照一定的资源选择和评价标准，规范的资源描述和组织体系，对具有一定学术价值的网络资源进行收集、选择、描述和组织，并提供浏览、检索、导航等增值服务的专门的信息网站，具有以下特征：</p><ul><li><p>提供网上大量网站或文献的链接服务。</p></li><li><p>智能化的资源选择，即根据既定的质量和范围标准来选择资源。</p></li><li><p>智能化的产生内容描述包括短的注释和评论，内容描述可以采用给定的关键词或受控的术语。</p></li><li><p>智能化的构建浏览结构，</p></li><li><p>至少部分是人工为每个资源创建（数目）元数据。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210214221609591.png" alt="image-20210214221609591"></p></li></ul><p>此外，除了这些常用的资源获取方式，在进行国际市场调研时，还需要学会运用网络查询国外的科技报告。常用的美国政府四大科技报告，包括国防部的AD报告、国家航空航天局的NASA报告，以及IAA文献，国家能源部的DE报告和政府其他部门的PB报告等。这四大体系每年公开报告高达六万多篇。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210214221834034.png" alt="image-20210214221834034"></p><p>接下来介绍常用的检索工具的类型，</p><ul><li>检索工具按照注入形式的不同，可以划分为目录型、题录型、索引型、文摘型和全文型检索工具；</li><li>按照载体形式的不同，可以分为书本式检索工具、卡片式检索工具、缩微式检索工具和机读式检索工具。</li><li>按照检索手段的不同，可以分为手工检索工具、机械检索工具以及计算机检索工具等。</li><li>按收入范围又可以划分为综合性的检索工具和专业性的检索工具，还有单一性的检索工具。</li><li>如果按照语言类检索工具，则可以划分为单语、双语和多余词典数据库。</li></ul><h2 id="网络数据的获取技术"><a href="#网络数据的获取技术" class="headerlink" title="网络数据的获取技术"></a>网络数据的获取技术</h2><p>各位同学大家好，接下来介绍第二节内容，网络数据的获取技术。随着网络技术的发展，除了常用的网络数据库类型进行信息获取以外，我们还需要学习并了解最新的技术，比如网络爬虫技术、大数据技术等。那么我们主要介绍网络爬虫技术，英文叫做<strong>Crawler</strong>或者叫做<strong>Spider</strong>，也就是网络爬虫。其定义有广义和狭义之分，</p><ul><li>狭义上是指遵循标准的http的协议，利用超链接和外部文档检索方法，便利寻找万维网的一个软件程序。</li><li>而广义的定义则是遵循http协议检索外部文档的软件，都称之为网络爬虫。</li></ul><p>网络爬虫是一个功能很强的自动提取网页的程序，是搜索引擎中最核心的部分，整个搜索引擎的素材库都来源于网络爬虫的采集。其性能好坏直接影响着搜索引擎整体性能和处理速度。例如百度Spider，汉语译为百度蜘蛛。百度蜘蛛是百度搜索引擎的一个自动程序，它的作用是有事没事都可以访问互联网上的网页，建立一个索引数据库。目前有多种类型的爬虫，其中包括基于整个外部页面的爬虫、采用资料方式的爬虫、基于网页主题的爬虫、基于用户个性化的爬虫、基于元搜索的爬虫。其中基于整个外部的爬虫，它的目标是从一个或者一些种子为起点，使得爬起的范围扩充到整个外部应用。这种爬虫的应用场景通常是搜索引擎以及用户网站的数据采集的一部分，爬去之后的数据还需要进行进一步的深入分析。由于爬取的目标是整个外部站点，因此对于计算机的内存和硬盘要求较高啊，性能这方面的要求这不是考虑的重点。通常网络爬虫是从一个或若干个初始网页上的URL开始，获得初始网页上的URL列表，在抓取网页的过程中，不断从当前页面上抽取新的URL，放入带爬行的队列，直到满足系统的停止条件。网络爬虫系统中主要的模块如下：</p><ul><li>一、控制块是网络爬虫的中央控制器，它主要是负责根据系统传过来的URL链接分配统一的线程，然后启动线程调用爬虫去爬去网页的全过程。</li><li>二、解析器是负责网络爬虫的主要部分，其负责的工作主要有对网页的文本进行处理，如过滤功能、抽取特殊的HTML标签的功能、分析数据功能，下载网页数据包括HTML、图片、DOC、PDF、多媒体动态网页等。</li><li>三、资源库，主要是用于存储网页中下载下来的数据记录的容器，并提供声称索引的目标员。其中大型的数据库的产品有Oracle和Sql Server等。</li></ul><p>然而需要注意的是，网络爬虫在数据获取中也存在一些明显的问题，从而为我们的市场调研带来了许多的挑战。</p><ul><li>其一，经常爬取太多和主题不相关的信息；</li><li>其次，由于HTML页面各不相同，导致许多网站对爬虫有所限限制。</li></ul><p>此外，网络爬虫往往下载海量的数据，如何处理成为需要解决的难题。因此这就需要大家在运用爬虫技术时，首先明确具体的调研的需求和调研的根据，其次尽量限定主题范围，限定网页的范围，特别是需要限定网页更新的时间范围，获取的最好是一些结构化的数据，从而便于爬虫进行数据爬取。常用的网络爬虫工具主要包括：</p><ul><li><strong>WebSPHINX</strong>，这是一个由java内库构成的爬虫工具，基于文本的搜索引擎，它使用多线程进行网页的检索，HTML解析，拥有一个图形用户界面用来设置开始的种子的URL和抽取下载的数据。</li><li>第二个工具<strong>Web Crawler</strong>，是一个为.net准备的开放源代码的网络检索器，一般提供了具体的代码。</li><li>第三种<strong>Ruya</strong>是一个在广度优先方面表现优秀的，基于等级抓取的一个开放源代码的网络爬虫，特别是在英语和日语界面的抓取表现非常的良好。它在GPL许可下进行发行，并且完全使用python编写的，是按照robots.txt文件有一个延时的单网域的延时的爬虫。</li></ul><p>好啦，同学们，课后我们可以自己去学习如何去利用网络爬虫抓取所需要的数据，无论是用网络数据库还是网络爬虫抓取所需要的数据，最后的目的都是为了进行网络市场调研。目前网络市场调研的应用领域十分广泛，主要集中在商品消费、广告效果、生活形态还有社情民意等多个方面的市场调查研究。</p><ul><li>第一个，产品消费调研，目的在于对。现实和潜在消费者的产品和服务的需求、动机、行为、习惯、偏好。艺校当方面进行测试与研究，帮助企业快速获得目标市场的消费需求、状况、特征和趋势等相关资讯。</li><li>二广告效果测试也就是利用电子问卷、电子邮件、在线座谈等方式，对广告的目标受众进行广告投放之后的市场测试，以便了解广告投放后的到达率、认知率和喜好率等。</li><li>第三种是生活形态。研究，主要是通过网络调研，了解特定目标群体的消费观念呀、价值观念呀等等。</li><li>第四种就是进行社情民意调研，主要是通过网络调研了解公众的消费观念的变化以及公众人物的价值认同等。</li><li>此外还可以通过网络调研了解企业生产经营状况、市场供求状况的，比如利用搜索引擎获取企业经营资料，从而满足某项研究的具体需要等等。</li></ul><p>总之，根据本节内容可以知道，随着移动互联网的快速发展，通过手机媒介进行网络调研的难度进一步的下降，但是也伴随着无效数据量的进一步的加大。无论我们是通过普通的网络信息搜索，还是通过爬虫进行数据的挖掘，都需要对数据进行有效的甄别，从而保证数据调研的准确性和有效性。好了，本节内容到此结束，谢谢各位同学的聆听。</p>]]></content>
      
      
      <categories>
          
          <category> 市场调研 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 市场调研 </tag>
            
            <tag> MOOC </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>第三讲 市场调研的类型</title>
      <link href="28580df5.html"/>
      <url>28580df5.html</url>
      
        <content type="html"><![CDATA[<h1 id="第三讲-市场调研的类型"><a href="#第三讲-市场调研的类型" class="headerlink" title="第三讲 市场调研的类型"></a>第三讲 市场调研的类型</h1><h2 id="3-1-探索性调研与描述性调研"><a href="#3-1-探索性调研与描述性调研" class="headerlink" title="3.1 探索性调研与描述性调研"></a>3.1 探索性调研与描述性调研</h2><p>同学们大家好，我是浙江财经大学工商管理学院的老师李小姐。今天我们要一起学习市场调研的类型。市场调研主要有三种类型，探索性调研、描述性调研和因果性调研。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210214163156585.png" alt="image-20210214163156585"></p><p>那么三种类型的调研究竟有什么区别？又分别应该怎样开展调研呢？我们先来看一个案例情景。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210214163251358.png" alt="image-20210214163251358"></p><p>A公司是一家生产碳酸饮料的产商，今年该公司的饮料销售量与往年相比出现了下降，可能影响销售量的原因有很多，公司决策者希望通过调研搞清销售量下降的主要原因，从而决定应该如何应对。那么我们的调研应该从何入手呢？我们知道影响一个公司销售量下降的原因有很多，比如行业整体下滑、竞争加剧、消费者偏好发生了变化，又或者说企业的产品质量发生了问题，销售渠道出现了问题等等，这些都可能造成企业销售量的下降。那么。目前所需要做的，就是从这些诸多的影响因素当中，我们找到那个最有可能的主要原因，为以后进一步深入的调研来提供方向，这就是探索性调研所要做的。一般来讲，在调研的初期，我们对问题缺乏足够的了解，尚未形成一个具体的假设，而探索性调研在增加见识和建立假设方面具有重要的作用。探索性调研他的调研目的就是要发现问题或者形成观点，并且为未来的调研提供一个方向。那么针对A公司销售量下降的各种可能的原因，我们要想搞清哪方面原因是主要？原因，应该如何开展调研呢？下面我们就来看看探索性调研的主要方法。进行探索性调研可以采用的方法有很多，</p><ul><li><p>比如<strong>二手资料法</strong>。二手资料就是那些可以从现有资料当中获取来的资料，比如人口统计资料、公布公开发布的调查以及公司的内部记录等等，都属于二手资料。二手资料调研法是进行探索性调研最经济也是最快速的方法。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210214170742540.png" alt="image-20210214170742540"></p></li><li><p>再比如<strong>知情者调查</strong>，知情者调查是通过调查那些熟悉情况的人来快速找到问题所在的一种方法。被调查者一般不使用概率抽样来抽取，而是根据问题的特点，由调查者慎重决定的。比如我们说企业销售量下降了，谁有可能最了解情况呢？当然首先是销售部门，所以我们可以把销售部门的员工召集起来开个会，让大家说一说为什么这段时间销售量会下降？他们觉得是哪里出了问题，这可能是我们发现问题的一个最直接、最有效的、简单的方法。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210214171204226.png" alt="image-20210214171204226"></p></li><li><p>第三种方法，<strong>探索性调研</strong>。还可以采用小组访谈的方法。在小组座谈当中，一些人大家坐在一起讨论调研人员感兴趣的课程。大家通过畅所欲言，汇集各方面的信息，从而从中找到问题的关键所在。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210214171242840.png" alt="image-20210214171242840"></p></li><li><p>第四种方法，我们还可以采用<strong>案例分析的方法</strong>。案例分析是指选取若干实例或者情况进行广泛调查，并且把调查到的情况同调研的具体问题进行比较，希望从案例的分析当中得到教训，帮助决策。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210214171608805.png" alt="image-20210214171608805"></p></li><li><p>最后，探索性调研还可以采用<strong>观察法</strong>，观察法就是采用人工或者机械的方法，来观察人们在购物或者消费情景当中，他的实际行为或者发生的事件。比如。消费者进入商店后的行为表现、儿童的购买行为、媒体的使用时间以及在特定网站人们花费的时间等等，这些信息都是通过观察来获得的。如果我们想要了解最近一段时间的销量下降是否源于竞争加剧的因素，那我们可以到商场当中去观察竞争对手在最近一段时间它是否推出了比较有效的促销措施，或者竞争对手在近期是否推出了一些新品，从而分流了我们的一些消费者购买。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210214171655373.png" alt="image-20210214171655373"></p></li></ul><p>以上就是进行探索性调研可以采取的一些主要的方法。总得来说，探索性调研它具有两方面的特点，</p><ul><li>一个是<strong>调研方式的灵活性</strong>，也就是说探索性调研通常不采取正规的问卷调查，而采用灵活的自由访谈、观察、二手资料等等一些方式。</li></ul><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210214171850709.png" alt="image-20210214171850709"></p><ul><li>另一个是<strong>调研对象的广泛性</strong>。探索性调研的对象通常不局限于市场对象本身，而是包括了文献资料、知情者和实际案例等等市场对象以外的对象。好，以上我们所讲的是探索性调研。</li></ul><p>那么下面我们再来看一个案例，还是讲A公司。A公司是一家生产碳酸型饮料的生产商。今年该公司饮料销售量下降。有专家指出，销售量下降的原因可能是消费者对饮料的需求偏好发生了变化。那么决策者希望通过进一步的深入调查，来了解消费者的偏好发生了怎样的变化，从而决定下一步的对策。针对这个案例所要进行的调查，显然跟我们前边所讲的第一个案例情景他的要求是不一样的。这个案例当中要求通过调研对消费者饮料需求的偏好发生了怎样的变化进行描述。这就涉及到了我们要讲的第二种调研类型，描述性调研。描述性调研，他的调研。目的是描述调研对象，特别是描述营销决策方案所涉及的市场因素的特征和变化的趋势。描述性调研有两大特点：</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210214172015744.png" alt="image-20210214172015744"></p><ul><li>第一、<strong>调研的目的明确</strong>。与探索性调研相比，描述性调研的目的更加明确，研究的问题更加具体。</li><li>第二、<strong>调研方式正规</strong>。描述性调研方式通常采用正规的、结构性很强的问卷询问方式。此外，描述性调研，他对调研结果的描述往往需要通过调研数据来反映。比如通过调研发现。五十岁以上的被调查者当中，百分之八十表示很少喝碳酸饮料，三十岁以下的被调查者当中，五百分之五十表示经常喝碳酸饮料。再比如说，通过调查发现，被调查者中百分之六十的人表示最近一个月内没有购买过碳酸饮料，其中百分之五十表示是由于季节原因，百分之二十表示不喜欢喝，百分之三十表示由于碳酸饮料不利于身体健康。</li></ul><p>以上这些都是描述性调研调研结果的表述的方式。通过描述性调研收集到的数据，可以为我们提供关于调查对象的。相关特征以及特征之间的联系，比如是否存在相关性等等这样宝贵的信息。</p><h2 id="3-2-因果性调研"><a href="#3-2-因果性调研" class="headerlink" title="3.2 因果性调研"></a>3.2 因果性调研</h2><p>前边我们介绍了描述性调研，需要注意的是，不能通过描述性调研来确定各变量之间的关系是否是因果关系。</p><p>比如通过调查发现，被调查者中百分之六十的人认为果汁饮料比碳酸性饮料更有利于健康。那么根据这个结果，饮料商是否可以认为如果推出果汁饮料一定能够获得更好的销售业绩呢？答案。然是不可以。那么怎么来验证两个变量之间是否存在着因果关系呢？这就涉及到我们下面要讲的第三种调研类型——<strong>因果性调研</strong>。因果性调研它的调研目的就是为了验证市场因素各变量之间是否存在着因果关系。比如如果降低价格，销量就会增加吗？如果增加广告的投入，销量就会增加吗？如果赠送礼品，销量一定会增加吗？如果产品当中增加一些健康概念，销量会增加吗？这些都是需要我们去验证两个变量之间因果关系的问题。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210214172522302.png" alt="image-20210214172522302"></p><p>相比描述性调研、因果性调研获得的数据能够提供因果关系的强力证明。那么究竟如何来证明变量之间的因果关系呢？因果关系的验证方法主要有两种，</p><ul><li><p>一种是通过数据之间的<strong>相关性分析和回归分析</strong>，来获得数据之间是否存在因果关系的证明。这种方法常常用于通过问卷调查获得数据之后，我们通过对数据进行相应的分析来证明。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210214172650099.png" alt="image-20210214172650099"></p></li><li><p>而另外一种方法则是<strong>采用实验的方法</strong>来进行验证，又被称为实验性调研。下面我们着重来学习如何通过。实验的方法来进行验证变量之间的因果关系。下面我们来做一个练习。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210214173006238.png" alt="image-20210214173006238"></p><p>美味食品公司为公司的冷冻披萨产品系列开发了两个非常不同的电视广告，一个是广告A，一个是广告B。在选择广告之前，公司希望了解两个备选广告对消费者购买意愿的影响。那么如果通过实验调查的方式来获得公司想要得到的信息，实验应该如何进行才能取得比较好的效果呢？我们说实验的方式可以分为两种，一种是<strong>实验室实验</strong>，一种是实地实验。比如我们可以邀请一些平时经常购买冷冻披萨的消费者，比如一百人前往公司来参加实验，将人群随机的分为两组，五十人一组，不告诉他们调研的真实目的，对每个小组播放大约一个小时的电视节目，在其中穿插两次广告片，一组收看A，一组收看B。节目播完调查了解消费者对不同广告的反应，然后比较对该公司冷冻披萨的购买意愿的平均数，来衡量广告的影响。这种做实验的方式就叫做实验室实验，它是在一个特定的实验室环境下来开展。实验的这种方式的好处是可以避免外界其他因素对因变量的影响，而只观察我们希望去了解的这个自变量对因变量的影响。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210214173044179.png" alt="image-20210214173044179"></p><p>另外一种实验的方式是<strong>实地实验</strong>。比如我们可以选择两个消费者人口统计指标相类似的城市，选择在这两个城市当中收视率差不多的同一个电视节目，而广告a和广告b分别在两个城市的同一个电视节目中播出，节目播出后，在每个城市我们随机抽取一些观众来进行电话访问，衡量观众对该冷冻披萨的反应，比较消费者意愿的。平均值。这种实验的方式就是我们所谓的实地实验。实地实验的好处是实验是在真实的场景当中进行的，所以实验结果会更加接近真实的情况。但是在实地实验中，由于试验结果往往会受到多种因素的影响，所以有的时候我们很难辨别因变量的变化是否是因为我们观测的这个自变量所带来的。此外，实地实验实验成本高、时间长，这也是一个实地实验的缺陷。</p></li></ul><p>下面我们来看看<strong>实验结果有效性的影响因素</strong>。影响实验结果有效性的因素有很多，我们这里。只着重介绍三个方面的因素。</p><ul><li><p>第一是<strong>历史效应</strong>。历史效应指的是在实验过程中可能影响到实验结果的外部事件。比如在实地实验过程当中，我们希望观察的是广告对销售量的影响。但是因为在播放广告的这一段时间，可能竞争对手采取了一些有效的促销措施，所以影响到我们的销售量的变化，从而影响到我们对自变量广告效果的观察，这就是所谓的历史效应。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210214173322890.png" alt="image-20210214173322890"></p></li><li><p>第二个影响实验结果有效性的因素是<strong>选择效应</strong>，选择效应说的是在开展实验时，由于参与实验的各个小组具备了不同特征而产生的选择性偏差。比如在实验室实验中，我们挑选了一百人来进行实验，并且把这一百人分成了两组。但是如果一组消费者本身就非常喜欢吃冷冻披萨，而另外一组却不喜欢吃冷冻披萨，那么要想了解广告对销售量的影响，结果可能就不那么准确了。再比如说，在实地实验中，如果我们选择的两个实验城市，它的人口规模差别很大，经济发展水平也差别很大，那么实验的结果就会受到严重的影响。</p></li><li><p>第三个影响因素是<strong>磨损效应</strong>。磨损效应指的是由于参与实验的部分样本。图退出了实验，结果导致完成实验的单位组和最初的单位组非常不同，从而引发了磨损效应。举个例子来说，为了衡量新改良的一款蓝月亮洗衣液的效果而开展一次消费者实验。最初样本为老产品的一百个使用者，在事前的测试中，这一百个参与者对老产品给出的评价的平均分是六分，然后参与者接受改良新产品，并且使用两个月的时间，实验结束时有七十人参加了事后的测试，给出的评价平均分是八分，这样的测试结果是否可以证明产品改良效果得到了消费者的肯定呢？答案是不一定。因为在当初参与老产品测试的一百人当中，只有七十人对新产品参加了事后的测试，也许没有参加事后测试的那三十人恰好对新产品的评价都比较低呢？这就是由于一部分样本中途退出了实验而导致实验结果的磨损效应。</p></li></ul><h2 id="3-3实验过程的设计"><a href="#3-3实验过程的设计" class="headerlink" title="3.3实验过程的设计"></a>3.3实验过程的设计</h2><p>下面我们来谈谈实验过程如何设计的问题。我们仍然以每位公司的广告效果测试的实验设计为例。味食品公司计划制作播放电视广告A，以促进该公司冷冻披萨的销售，为了测试广告A可能对冷冻披萨销售的影响，从而确定是否正式的推出该广告。公司计划进行一次实地实验，大家可以考虑一下。该实验应该如何设计呢？</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210214173937048.png" alt="image-20210214173937048"></p><p>美这里有几个常用的象征性的标记，需要我们记一下。O表示对实验结果进行观测或衡量，X表示对参与调研的样本单位进行实验处理。O和X从左到右的顺序表示它们出现的顺序，EG代表实验组，表示参与了实验处理的单位。CG代表控制组，表示参与实验但是没有进行实验处理的单位。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210214174029414.png" alt="image-20210214174029414"></p><p>实验过程的设计可以有四种方案，</p><ul><li><p>第一是、仅限事后的设计。还是用刚才每位公司广告效果调研的案例，我们打算通过实地实验，考察广告对冷冻披萨销量的影响。我们可以选择某个城市A推出冷冻披萨，在该城市的某个电视节目中播放广告，广告播出一段时间后，我们来调查愿意购买该冷冻披萨的比例即为O。如果O比较理想，这说明广告效果不错。这样的实验方案就是一组仅限事后设计的实验方案，大家可以考虑一下这样的实验过程得出的结论可靠吗？大家可能会质疑，没有。之前和事后的对比，怎么就能认为销售量的变化是由于广告带来的呢？</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210214174244153.png" alt="image-20210214174244153"></p></li><li><p>好，那么我们可以采用第二种实验过程的设计方案，叫做一组事前和事后的设计。比如还是针对刚才的案例，我们可以选择某个城市A推出冷冻披萨，在该城市的某电视节目中播放广告，播放广告前调查愿意购买该冷冻披萨的比例即为O1，广告播出一段时间后再次调查，愿意购买该冷冻披萨的比例即为O2。如果O2大于O1，则可以说明广告对销量产生了影响。前边两种方案，我们只设计了一个实验组，那么有人会说只有一个实验组，没有另外一个对照组与他对照，怎么就能说明销售结果的变化一定是由于广告的影响呢？只有设置一个对照组，而这个对照组与实验组的区别，只是在这个实验因素，也就是广告这个要素上，而在其他方面，对照组和实验组则完全相同。这样如果实验组和对照组的结果有差别，才能说明这个差别确实是由于广告带来的。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210214174338256.png" alt="image-20210214174338256"></p></li><li><p>好，那么下边我们来看第三种方案，第三种方案叫做<strong>两组事后回溯设计</strong>。就是在实验过程当中，我们既设置一个实验组，又设置一个对照组的一种实验方案。为了观察广告对冷冻披萨销量的影响，我们选择在两个各方面都相同的城市A和B推出冷冻披萨，同时在城市a的某广告电视节目中播放广告，而城市B。不播放。广告播出一段时间后，随机调查城市A的一部分收看了电视广告的消费者，消费者表示会购买该公司冷冻披萨的比例为O1。然后我们在调查城市B的一部分消费者，城市b的消费者表示会购买该冷冻披萨的比例为O2。如果O1大于O2，则可以说明电视广告对消费者偏好产生了影响。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210214174521314.png" alt="image-20210214174521314"></p></li><li><p>如果你觉得虽然有了对照组，但是只在广告播出后调查销量的变化，而没有广告播出前的销售数据来做对比，仍然是不完美的，那么我们还可以采用第四种实验方案，就是<strong>两组事前、事后设计</strong>，我们可以选择两个在人口统计、经济发展等各个方面相类似的城市A和B。广告播出前，先在两个城市分别调查该公司冷冻披萨的销售额，即为O1和O3。然后。后在城市A的某电视节目中我们播放广告，而城市b不？播放。广告播出一段时间后，调查两个城市该冷冻披萨的销售额即为o二和o四。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210214174639039.png" alt="image-20210214174639039"></p><p>最后我们比较O2减O1的值和O4减O3的值。如果O2减O1大于O4减O3，那么我们认为是广告对销售额产生了影响。O2减O1是在这段时间实验组，也就是城市A销售额发生的变化，这个变化可能是由于广告带来的，也可能是由于其他因素带来的，这是一个综合作用的结果。而O4减O3是对照组城市B在这段时间销售额发生的变化。因为城市币并没有播放广告，所以这个变化反映的是这段时间除了广告以外，市场的各种其他因素对销售额带来的变化。那么通过对比O2减O1和O4减O3的差，我们就可以得到广告究竟对销售额是否产生了影响，以及产生了多大的影响。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210214175036217.png" alt="image-20210214175036217"></p></li></ul><p>好，以上我们讲的是因果性调研的几种调研方案，最后我们来总的<strong>比较一下三种调研类型</strong>。探索性调研的目的是通过各种手段提出问题的假设，而因果性调研和描述性调研一样，属于<strong>结论性调研</strong>，也就是对探索性调研所提出的假设的验证。可以说探索性调研是大胆假设，而因果性调研和描述性调研是小心求证。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210214175231428.png" alt="image-20210214175231428"></p><p>因果性调研和描述性调研它们之间的相同之处在于都要用调研事实来证实假设和把假设转变为结论。而两者的不同之处在于，描述性调研是证实假设中有关市场因素的特征和变化趋势，而因果性调研则是要证实假设中有关市场因素之间的关系。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210214175150371.png" alt="image-20210214175150371"></p><p>同学们以上我们学习的就是市场调研的类型，大家有什么问题吗？好，我们今天就讲到这里，大家下次课再见。</p>]]></content>
      
      
      <categories>
          
          <category> 市场调研 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 市场调研 </tag>
            
            <tag> MOOC </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>第二讲 市场调研流程</title>
      <link href="783f1e5f.html"/>
      <url>783f1e5f.html</url>
      
        <content type="html"><![CDATA[<h1 id="第二讲-市场调研流程"><a href="#第二讲-市场调研流程" class="headerlink" title="第二讲 市场调研流程"></a>第二讲 市场调研流程</h1><h2 id="2-1-市场调研的立题"><a href="#2-1-市场调研的立题" class="headerlink" title="2.1 市场调研的立题"></a>2.1 市场调研的立题</h2><p>今天我们来学习市场调研的立题。首先我们来学一学立题的含义和作用。</p><p>市场调研的立题是<strong>指在了解市场营销决策问题的基础上，确定市场调研的课题、目标、提供的信息和预算，也就是将特定的市场营销决策问题转换为特定的市场营销调研问题。</strong></p><p>市场调研的立题包括两个内容，一个是了解决策的问题和确定调研的问题。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/%E6%88%AA%E5%B1%8F2021-02-14%2012.17.48.png" alt="截屏2021-02-14 12.17.48"></p><p>对<strong>营销决策问题</strong>的了解一般包括四个方面的内容：一是哪个部门提出了决策问题？二是决策过程中存在哪些问题？三是这些问题可能带来的后果是什么？四是市场调研的信息对决策有什么帮助？调研者只有掌握了上述内容，才能明确调研要解决哪些问题，通过调研要取得什么样的资料，取得这些资料有什么用途等要严问题。</p><p>下面我们来学习一下<strong>立题的作用、立题指导的调研设计与资料的收集整理和分析以及报告的撰写</strong>，它在整个市场调研过程中起着非常重要性的指导作用，意义重大。一方面立题可以确保市场调研问题很好地满足营销决策问题的需要，了解决策所要解决的问题，以及为了做好决策需要哪些信息，而了解决策问题及信息需要和由此确定调研目的及任务的工作。正是调研立题的目的和过程不重视立题，或立题工作做得比较差，就很可能使调研工作脱离决策的问题和需要，变得盲目无效。另一方面，立题移植到了整个市场调研的内容、方式和方法，例如应当设计哪些类型的调研？资料收集应当寻找哪些来源和采用哪些方式和方法？资料分析应当运用哪些模型和调研报告怎样撰写等。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/%E6%88%AA%E5%B1%8F2021-02-14%2012.22.03.png" alt="截屏2021-02-14 12.22.03">以上这些内容都受到立题的指导。如果不重视调研立题，那么后面的调研设计与资料的收集、整理和分析以及报告的撰写就可能失控，需要调研的问题就没有办法去调研，而不需要调研的问题却可能却浪费了大量的时间和经费。</p><p>下面我们来讲一讲了解<strong>营销决策问题</strong>。调研立题首先要透彻地了解决策者决策者所进行的是一个什么样的营销决策。这也就包括三个方面的问题：第一个是决策的起因，第二个是决策的目标，第三个是决策的方案。首先我们来讲一讲决策的起因。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/%E6%88%AA%E5%B1%8F2021-02-14%2012.26.26.png" alt="截屏2021-02-14 12.26.26"></p><p><strong>营销决策的起因</strong>一般有两个，一是管理者发现的营销问题，希望通过决策来解决问题。二是管理者发现的营销机会，希望通过决策来利用机会。<strong>营销问题</strong>是指营销实际没有达到或将达到达不到预定目标的情况，如产品的市场占有率低于预测的数字，推出新产品广告之后，这件新产品的知晓人数比例低于预计的比例，导入新产品的营销费用超出了预算等。<strong>营销机会</strong>是指营销环境中有可能进一步提高营销实际的有利因素。营销问题与营销机会之间有区别也有联系，区别在于问题来自营销环境中。不利的变化，而机会来自营销环境中有利的变化。问题意味着如果不能对不利的变化做出决策反应，就会带来直接的损失，而机会意味着如果不能对有利变化做出决策反应，就会带来间接的损失。两者的联系在于问题可能也是机会，而机会可能也是问题。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/%E6%88%AA%E5%B1%8F2021-02-14%2012.28.16.png" alt="截屏2021-02-14 12.28.16"></p><p>下面我们来讲一讲<strong>决策的目标</strong>。营销决策的目标是指营销决策实施后所能达到了理想的成果或成绩。营销决策的目标与起因是相联系的，如果说决策是对问题的解决和对机会的利用，那么决策的目标就是对问题解决和对机会利用的理想程度。</p><p>接着我们来讲一讲<strong>决策的方案</strong>。营销决策的方案是指为实现营销决策的目标啊。拟定的营销计划。市场调研者不仅要了解营销管理者现有的决策方案，而且要帮助营销管理者研究和提出更多的方案。事实上，在方案拟定过程中，信息具有相当大的促进作用，通过调研信息多了，方案考虑的思路就会增加。市场调研者不仅要了解方案的拟定，也要了解方案的评估和选择，并帮助营销决策者建立方案评估的体系。方案评估总的来讲就是比较方案实施后的收益和风险，而了解方案的收益和风险也是市场调研的任务。</p><p>下面我们来学习一下<strong>如何确定市场调研的问题</strong>。市场调研者在确定营销决策问题以后，就需要将决策问题转化为调研问题，也就是根据决策的需要来确定市场调研应解决的问题。在立题过程中，一项市场调研应明确的问题主要是：第一、调研的必要性；第二、调研的课题；第三，调研的目标；第四，调研应当提供的信息。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210214123217226.png" alt="image-20210214123217226"></p><p>首先我们来谈一谈<strong>调研的必要性</strong>，调研的必要性是指营销决策需要市场调研的理由。如对新产品上市的调研，决策者需要掌握新产品的市场容量、顾客对新产品的性能、价格、款式、包装的反应、目标、顾客的消费习惯、购买特征等内容。研究调研的必要性就是把调研同营销决策的各个阶段对信息的需要联系起来，也就是说明从营销问题和机会的发现，决策目标的。确定决策方案的拟定到决策方案的评估、选择乃至实施，都需要市场调研。</p><p>那么下面我们来学习一下调研的课题。<strong>调研的课题</strong>是指一项调研的题目，确定调研的题目应当既是调研任务所需，又是能够取得答案的。凡是调研的目的需要，又可以取得档案的调研目题目要充分的满足，否则不应列入。同时确定跳远的题目，应尽可能做到问题之间相互联系，使取得了资料相互对照，以便了解现象发生变化的原因、条件和后果，便于检查答案的正确性。</p><p>下面我们来谈一谈<strong>调研的目标</strong>，调研的目标是指按决策的需要，调研应当提用了最终结果。调研目标的表达必须具体化，否则就无法衡量调研的实际结果。最常用的方法就是将目标表示为数量化指标，例如新产品的市场容量，可以通过数量化指标来具体描述，合乎目标具体化的要求。</p><p>第四啊，我们应该来谈一谈是<strong>调研应当提供的信息</strong>。调研应当提供的信息就是决策者所需要的信息，它是调研目标进一步具体化的表现。调研者尽可能地将每一条信息数量化、指标化，使之具有可操作性，只有这样才有可能将调研目标细化为许多更具体的小问题，形成问卷调研设计问卷设计、资料来源的设计以及资料的收集。整理和分析，乃至最终的报告都可看作调研信息的进一步拓展和具体化。同学，我们今天的课就上到这里，谢谢。</p><h2 id="2-2-市场调研的步骤"><a href="#2-2-市场调研的步骤" class="headerlink" title="2.2 市场调研的步骤"></a>2.2 市场调研的步骤</h2><p>同学你好，我是浙江财经大学工商管理学院的谢凤华老师，今天我们来学习市场调研的步骤。</p><p><strong>市场调研的步骤</strong>是由若干互相关联且相互牵制的市场调研活动所构成，调研中的前一项作业往往会给后一项作业带来很大的影响。因此弄清楚市场调研中每一个步骤间的相互关系，有利于整个工作的顺利进行，有利于提高工作效率，节约调研经费。一般的市场调研。前应包括六个步骤。确定调研目标、制定调研计划、制定项目进度计划、制定项目预算和人员配备、实施调研计划，陈述调研结果。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210214123503976.png" alt="image-20210214123503976"></p><p>首先我们来讲一讲<strong>调研的目标的确定</strong>。市场调研目标就是调研所要达到的具体目标。市场调研的第一步就是从要调研什么这个问题开始，通过对全国市场或本部门、本企业生产经营环境的初步分析，了解存在的问题，筛选出那些值得调研的问题。最后确定市场调研的目标。在确定调研目标时，可以采取逐步深入提问、解答问题的方法，使调研目标明确，并且具体提高市场。调研工作的价值。需要提问和准确回答的有以下四个方面的问题：为什么要进行该项调研？想要知道什么？知道了以后有什么用处？能否用其他更经济有效的方法去完成？</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210214123630102.png" alt="image-20210214123630102"></p><p>在确定市场调研目标时，不但需要确定市场调研的总目标，最好还能确定调研的具体目标。在有许多人参加的市场调研中，应事先明确调研目标，即统一调研人员的思想，调动大家的积极性和创造性，齐心协力地完成调研任务。下面我们来讲一讲制定调研计划。</p><p>市场调研的第二阶段就要<strong>制定一个收集所需信息的最有效的调研计划</strong>。我称之为<strong>研究设计</strong>，研究设计就是研究人员未取得所需资料、采用的方法、程序、成本、预算的详细计划书。一般来说，这份研究计划书应包括以下方面的内容：第一个是确认研究目标和调查的内容。第二个是决定收集资料的方式和方法。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210214123741416.png" alt="image-20210214123741416"></p><p>在市场调查的目标确定了之后，接着就是根据调查的目的<strong>确定哪些资料才能全面准确地反映所要调查的内容</strong>，包括资料的地域、资料的时间、区段等。当所需调查的资料拟定后，就要确定收集资料的方式和方法，收集资料的方式、方法也就是实现调研目的的手段。市场调查的过程就是数据资料进行加工整理和分析研究的过程，而收集资料又是加工整理和分析研究的基础。收集资料的工作在确定了所要收集资料内容后，就是确定收集资料的来源和方法。资料的来源多种多样，有时甚至出现同一性质的资料会有两个以上的来源，这就需要从优选择。实际调查的方式、方法也多种多样，每种方法都有一定的优缺点及采用的条件，应根据所需资料的性质、精确程度、时间和费用等来决定。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210214125239570.png" alt="image-20210214125239570"></p><p>下面我们讲一讲<strong>制定项目进度计划</strong>。为了研究工作能够在预定的时间内完成，并保持相当水平的质量，必须预先规划好完成每一阶段任务所需的天数，并选定开始及完成日期。由于有些工作可同时进行，因此各项工作进行的时间可能会有重复之处。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210214131753326.png" alt="image-20210214131753326"></p><p>下面我们来讲一讲<strong>制定项目预算和人员配备</strong>。为了做好成本控制，需要对主要成本项目做好预算，预算和时间进度、调研的内容和要求密切相关，这些都应一起考虑。市场调研的实施机构可以是专门的市场调研咨询企业，也可以是企业内部设置的调研部门或临时召集的调研小组。其中项目主管负责总体策划，指导项目其他人员开展工作，对调研报告进行润色，法官等。另外需要根据调研内容来确定配置多少实地调查员、问卷和抽样设计人员、数据录入和分析人员等。</p><p>下面我们来讲一讲<strong>实施调研计划</strong>。实施阶段的工作就是根据研究方案抽取样本收集的资料。它是整个调研工作中最缓慢的阶段，能否收集到必要的资料并加以科学的整理，是市场调查能否取得成功的最根本的条件。实施阶段的主要步骤包括：</p><ul><li><p>第一、抽取样本。市场调查有全体调查、典型调查、抽样调查等各种方式。其中抽样调查是上网调查常用的方法，因此在实地收集调查资料以前，必须在界定的总体范围内抽取样本。抽取样本大体有两类，一类是随机抽样法，另一类是非随机抽样法。市场调查要求尽可能多用随机抽样的方法，如某研究采用分层定比随机抽样法，就是随机抽样的一种方法。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210214131957763.png" alt="image-20210214131957763"></p><p>他们从收集总体名单及数字开始，根据已掌握的总体数目，相应的确定抽样比例及各行业样本的大小，同时根据各行业内部的性质和特点，确定各单位的样本人数。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210214132446012.png" alt="image-20210214132446012"></p></li><li><p>第二是收集资料。样本确定以后就进入实地收集资料阶段。市场调查中资料的收集是向最艰苦的基础工作，他不仅要求调查研究人员没有埋头苦干、吃苦耐劳的精神和实事求是的科学态度，而且需要调查研究人员。哎熟练地掌握收集资料的方法和技术，常用的是<strong>访问法、观察法、问卷调查法、文案收集整理</strong>等各种方法。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210214132533367.png" alt="image-20210214132533367"></p></li><li><p>第三是整理资料。现场实地调查所获取的大量资料不一定每份都真实可靠，同时不加整理的资料往往会显得杂乱无章，使用价值得不到发挥。所以当你取得大量的第一手调查资料之后，首先要对每份调查资料进行审核，对不完整的或有错误的资料要补充修改，有严重错误而又无法修改更正的资料，则应重新调查或剔除，不用经过审核。调查资料符合要求后，再分类、编号、登录和汇总，然后再根据分析。研究的需要进行加工整理。</p></li><li><p>第四，分析调研资料。市场调查不能只归结为搜集资料，它的目的是对事实做出有科学依据的解释，因此必须对调研材料进行系统分析。在分析阶段，一般要做两方面的工作，即统计分析和理论分析。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210214132703366.png" alt="image-20210214132703366"></p><ul><li><p>统计分析是指两方面的内容，一个是叙述统计和推论统计。</p><ul><li><p>叙述统计也称为描述统计，主要依据样本资料，计算样本的统计值，找出这些数据的分布特征，计算出一些有代表性的统计数字。描述统计主要是描述调查观察的结果，它包括频数累计、频数、集中、趋势。离散程度、相关分析、回归分析等。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210214132916062.png" alt="image-20210214132916062"></p></li><li><p>推论统计是在描述统计的基础上，利用数据所传递的信息，通过局部去对全体的情形加以推断。也就是说它以样本的统计值去推论总体的参数值，包括区间估计、假设检验等内容。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210214132951611.png" alt="image-20210214132951611"></p></li></ul></li><li><p>第二是理论分析。理论分析是分析阶段的重要环节，他的任务是对资料整理、汇总、统计分析的基础上进行思维加工，从感性认识上升到理性认识，这个程序是各种科学认识方法的结合，即从抽象上升的具体方法分析<strong>综合方法、归纳法、演绎法、类推法、公理法、系统法及其他的方法综合</strong>。</p><p>![image-20210214133551196](/Users/k/Library/Application Support/typora-user-images/image-20210214133551196.png)</p></li></ul></li></ul><p>下面我们来讲一讲<strong>陈述调研结果</strong>。陈述调研结果是整个调研过程最后的，也是极其重要的一个步骤。如果管理人员只是盲目地接受结论，甚至误解了调研结论，则整个调研工作就会毫无意义。因此，管理人员和调研人员紧密合作、协调一致，是营销调研工作取得良好效果的基本保障。同学，我们今天的课就上到这里，谢谢。</p>]]></content>
      
      
      <categories>
          
          <category> 市场调研 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 市场调研 </tag>
            
            <tag> MOOC </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>第一讲 市场调研的涵义及内容</title>
      <link href="10308d12.html"/>
      <url>10308d12.html</url>
      
        <content type="html"><![CDATA[<h1 id="第一讲-市场调研的涵义及内容"><a href="#第一讲-市场调研的涵义及内容" class="headerlink" title="第一讲 市场调研的涵义及内容"></a>第一讲 市场调研的涵义及内容</h1><blockquote><p>好的大学没有围墙——MOOC真是个好工具。最近着手市场调研比赛，在上面看到非常合适的课——<a href="https://www.icourse163.org/course/ZUFE-1206509807">市场调研</a>，想着补充学习一些相关知识，看到此课没有讲义与PPT，在这里记录总结一下。</p></blockquote><p>欢迎大家来到市场调研的课程，在这门课程中，我们将与大家一同学习如何开展市场调研，以及如何运用有效的方法对调研数据进行分析，从而得到一些重要的信息，为企业经营决策提供有效的支持。</p><h2 id="1-1市场调研的涵义与意义"><a href="#1-1市场调研的涵义与意义" class="headerlink" title="1.1市场调研的涵义与意义"></a>1.1市场调研的涵义与意义</h2><h3 id="什么是市场调研？"><a href="#什么是市场调研？" class="headerlink" title="什么是市场调研？"></a>什么是市场调研？</h3><p>我们说市场调研，就是指<strong>为了满足营销管理的需要，而系统的收集、分析和提供市场营销信息的一种职能活动</strong>。也许有的同学会问，我们为什么要做调研？调研真的那么重要吗？我们知道古代孙子兵法曾说：<strong>知己知彼，百战不殆</strong>。所谓的知己就是要对自己有清楚的认识，而知彼呢则是要对他人，也就是对我们的敌人、我们的竞争对手要有清楚的认识。也就是说我们要想在战争中取胜，就必须要了解自己，知道他人能够对彼此的优势和劣势进行正确的分析，只有这样，我们才可能做到百战不殆、所向披靡。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/%E6%88%AA%E5%B1%8F2021-02-13%2023.57.52.png" alt="截屏2021-02-13 23.57.52"></p><p>那么怎么能够做到知己又知彼呢？我们需要掌握能够帮助我们了解自己，也认识对手的足够的信息。而这些信息从哪里来呢？那就需要我们运用调研的手段了。我们的古人已经有这样的意识，而对现代企业来说，商场如战场，企业要想在激烈的市场竞争当中取胜，同样我们也需要做到知己知彼。市场调研就是要帮助企业通过调研的各种手段，获得企业在经营决策当中所需要的各种信息，做到知己知彼，从而帮助企业做出正确的决策，以至于。在激烈的商战当中能够处于不败之地。我们知道现今的时代是一个大数据的时代，数据当中包含着丰富的信息，数据当中隐含着真相。所以企业和社会各界越来越重视从数据当中去发现真相，去寻找市场的规律，而调研就是我们获得数据的重要途径，这也是为什么市场调研这门学科现在越来越被企业各界所重视的一个重要的原因。</p><h3 id="市场调研主要调研什么？"><a href="#市场调研主要调研什么？" class="headerlink" title="市场调研主要调研什么？"></a>市场调研主要调研什么？</h3><p>这一讲我们就来看看市场调研的主要内容。总得来说，市场调研的主要内容分为两大方面——一块是市场环境调研，一块是营销要素调研。而市场环境调研又具体分为宏观环境调研、需求市场调研、供应市场调研和竞争环境调研四个方面。</p><p>我们下面先来看看宏观环境调研。我们说一个企业它的经营行为总是基于一个国家或者一个地区它的市场来开展的，所以它的经营行为必然会受到这个国家或地区它的宏观经济环境的影响，所以我们就非常有必要去了解你所处的这样一个宏观环境的情况。</p><p>那么宏观环境的分析主要包括哪些方面呢？我们说对于宏观环境的分析。一般来说，我们主要从以下六个方面来进行分析。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/%E6%88%AA%E5%B1%8F2021-02-14%2000.08.45.png" alt="截屏2021-02-14 00.08.45"></p><p>第一是<strong>政治环境</strong>。所谓的政治环境就是说要了解对市场有影响和制约的一些政治形式，或者是一些相关的方针政策。比如说我们国家自从改革开放以来，为什么会吸引大量的外资企业进入呢？就是因为在这样的一个开放的环境下，有利于企业开展投资、市场开拓等等这样的经营行为。同样的，当一个企业你想进入一个地区市场的时候，你就需要去了解这个地区的政府他是不是有相关的招商引资的政策，是不是对企业的投资有一些扶持的政策，比如说免税。税或者减税的政策，或者提供一些低息的贷款，或者低价的提供给企业土地和办公场所等等的使用等等。这样能够让企业降低我们进入市场的成本，有利于我们在这个市场当中、在这个地区进行我们的经营活动。</p><p>第二个要考虑的因素是<strong>法律环境</strong>。法律环境指的是一个国家或地区的一些相关的法律法规，比如合同法、商标法、专利法、广告法、环境保护法、反不正当竞争法等等，这一些有关经济方面的法律法规，这些都对企业营销活动会产生重要的影响。此外，在国际贸易当中，随着我国与世界各国的交往越来越密切。许多国家都制定了有各种适合本国经济的一些对外贸易法律，有其中可能规定了对某些出口国家所实施的进口管制、税收管制以及有关外汇的管理制度等等，那么这些呢都是企业进入国际市场时所必须了解的因素。</p><p>第三个宏观环境因素是<strong>经济环境</strong>。经济环境往往直接作用于市场活动，对经济环境的调研可以从生产和消费两个方面来进行。生产方面主要包括一个国家或地区它的能源和资源状况、交通运输条件、经济增长速度以及产业结构、通货膨胀率、失业率等等。消费方面的调研，主要是要了解一个国家或地区它的居民的收入水平、消费水平、消费结构啊、物价水平、物价指数等等。消费对生产具有反作用，消费规模决定着市场的容量，所以是市场环境调研当中不可忽视的一个重要的因素。</p><p>第四个方面的因素是<strong>社会文化环境</strong>。一个国家或地区它的历史、社会文化、传统观念等等，在很大程度上会决定了人们的价值观念和购买行为，它影响着消费者购买产品的动机、种类、时间、方式以及地点等等。一个国家、它一个企业，它的经营活动必须能够适应。涉及到国家或地区的社会文化和传统习惯，只有这样才能被当地的消费者所接受。比如啊一个有着宗教信仰的国家或者地区，那么他们对于某一些与他的宗教信仰相冲突的产品会有着天然的一种抵制。再比如一个地区进入老龄化的这样一个社会结构，对于老龄产品、养老产品会有着越来越多的一种需求。这些问题都表现出一个市场当中社会文化对企业经营活动的影响。</p><p>第五方面的因素是<strong>科技环境</strong>的因素。一个企业应该要及时了解市场当中的新技术、新材料。啊、新产品、新能源的情况，国内外科技方面总的它的发展水平和发展趋势，以及跟本企业所相关的、所涉及到的技术领域的发展情况、专业渗透的范围、产品技术质量检验标准和技术标准等等，这些都是科技环境调研所需要调研的主要内容。</p><p>宏观环境调研的最后一个方面是对<strong>自然地理环境</strong>的调研。世界上不同国家和地区由于地理位置不同，气候和其他自然环境也会有很大的差异，这些不是人为造成的，也很难通过人的作用去加以控制，只能在了解的基础上去适应这种环境。所以一个。企业它在进入一个国家或地区市场的时候，就应该注意对该地区的地理条件、气候条件、季节因素等等方面进行调研。</p><p>以上<strong>政治环境、法律环境、经济环境、社会文化环境、科技环境以及自然地理环境</strong>这六个方面就是我们在市场调研当中，对宏观环境调研应该着重调研的六个方面。</p><h2 id="1-2营销环境调研"><a href="#1-2营销环境调研" class="headerlink" title="1.2营销环境调研"></a>1.2营销环境调研</h2><p>下面我们来看对<strong>需求环境的调研</strong>。对需求环境的调研，我们根据需求者是消费者还是组织用户，我们又可以分为消费者的调研和组织用户调研。</p><p>下面我们先来看看<strong>消费者调研</strong>。所谓的消费者调研，调研的核心是了解和掌握消费者总体情况和影响消费者购买决策的一些关键因素。这里又包括了很多的内容，比如对一个市场当中消费者人口状况的调研，对消费者购买动机和购买行为的调研等等。一个地区它的购买力总量以及人均购买力水平的高低，往往决定了这个地区市场需求的大小。而在购买力总量一定的情况下，人均购买力的大小直接受消费者人口总数的影响。那么为了研究人口状况对市场需求的影响，便于进行市场细分，我们就应该对一个地区的人口情况进行调研，主要内容可以涉及一个地区它的总人口、家庭以及家庭平均人口人口的地理分布。年龄以及性别结构、教育程度以及民族传统习惯等等。</p><p>而对<strong>消费者购买动机的调研</strong>内容就更为丰富了。所谓购买动机就是为满足一定的需要而引起人们购买行为的愿望和意念。人们的购买动机常常是由那些最紧迫的需要决定的，而购买动机又是可以运用一些相应的手段去诱发的消费者购买动机调研的目的就是要去弄清购买动机产生的各种原因，以便于采取相应的诱发措施。而消费者购买行为是消费者购买动机在实际购买过程当中的具体表现。</p><p>对<strong>消费者购买行为的调研</strong>，就是对消费者购买模式和购买行为的调研，了解消费者究竟他买了什么，在何时购买、何处购买、由谁购买、为什么购买和如何购买，也就是我们通常所说的五个W、一个H。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/%E6%88%AA%E5%B1%8F2021-02-14%2000.09.59.png" alt="截屏2021-02-14 00.09.59"></p><p>例如，某商场在对一周内的客流进行实测调研后发现，在一周当中，客流量最多的是周日，最少的是周一，而在一天当中，客流最高峰是职工上下班的时间，也就是上午十一点和下午五点，其他时段的客流人数也都有一定的分布规律。根据这个调研结果。商场对人员和货物都做出了合理的安排，做到忙的时候多上岗，闲的时候少上岗，让售货员能在一夜高峰到来时，以最充沛的精力和最饱满的精神面貌来迎接顾客，这样就能取得比较好的经济效益和社会效益。</p><p>再比如说，一个商场在对消费者做了调研之后发现，有百分之五十九的居民购物时倾向选择离家最近的商店，而有百分之十的居民倾向选择距离工作地点最近的商店，有百分之七的居民会选择上下班沿途经过的商店，有百分之十八的居民倾向选择那些有名气的、大型的购物城。而还有百分之六的居民则对购物场所不加选择，随意性购物。基于这样的调研数据，商场就可以有针对性地去选择商店的布局地点。</p><p>关于由谁购买这个问题，我们不能简单地认为一个商品一定是由使用者去购买的，或者我们简单地说购消费者就是购买者。我们要知道研究这个问题，我们需要考虑三个问题。一是在家庭当中由谁来做出购买的决定？第二是谁去购买？而第三是和谁一起去购买？有关调研结果显示，对于家庭当中的日用品、服装。食品等等，这类商品大多是由女方做出购买的决定，同时也主要是由女方实际去购买的。而对于耐用消费品，男方做出决定的比较多，当然在许多情况下也要同女方共同的商定，最后由男方独自或者与女方一同去购买。而对于儿童商品，则常常是由孩子提出购买要求，由父母决定和孩子一同前往商店购买。此外，通过调研我们还发现，男方独自购买，女方独自购买或者男女双方一同去购买，其实对最后的实际成交都会有一定的影响。上述三个方面的调研，可以为企业经营提供许多有价值的信息。</p><p>比如我们了解到光临某商场或者某柜台的，如果大多数是年轻的女性，我们就可以刻意营造一种能够吸引他们前来购物的气氛，并且注意进销商品的颜色和包装等等。那如果是以男性为主，则可以增加特色商品或者系列商品的陈列和销售。对于为什么购买，我们需要知道消费者的购买行为可以分为两种类型，一种是理性消费，一种是非理性消费。理性消费则是指消费者他的购买决策趋于理性的它的购买。行为是在实际需要的基础上产生的，在购买过程中会去充分了解商品的价格、品质、功能、性能等等一些因素，以及对多个品牌相比较之后，再来决定是否购买。</p><p>而非理性消费则是指他的购买行为不是因为对商品实际的消费需要，在购物过程当中缺少一个理性的评价过程，而是因为受到一些外界环境的刺激或者是一些心理因素的影响而产生这些购买行为。比如由于受到促销的影响而产生的冲动性消费，或者由于看到别人购买而促使自己也产生购买行为的一种从众心理，这些都是一些非理性消费的主要表现。</p><p>如果企业它面对的客户不是普通的消费者，而是<strong>组织用户</strong>，比如工业产品的销售，它的用户是企业，那么又应该如何来做需求环境的调研呢？我们说组织用户的调研主要是为了掌握影响企业等组织用户购买活动的关键因素。组织用户跟普通的消费者有很多的不同，因此如果我们面对的是组织用户进行需求环境的调研的时候，我们的调研内容跟前边我们所讲的消费者调研会有很多的区别。比如组织用户他的购买量往往非常大，远远的大于普通的消费者的购买量。所以他在购买的时候，不仅需要考虑产品的价格、品质这些常规的要求，可能还需要涉及到付款条件、运输等等一些问题。组织用户他的购买往往是由专门的采购部门来实施的，而不是使用部门来自己来组织购买的。因此我们就需要考虑用户的采购程序是怎么样的？用户的采购评价标准是什么？有哪些人可能会参与到采购或者是对采购产生影响？而这些问题是普通消费者的购买不大涉及到的问题。</p><h2 id="1-3营销要素调研"><a href="#1-3营销要素调研" class="headerlink" title="1.3营销要素调研"></a>1.3营销要素调研</h2><p>下面我们来简单谈谈对<strong>供应市场的调研</strong>。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/%E6%88%AA%E5%B1%8F2021-02-14%2000.22.30.png" alt="截屏2021-02-14 00.22.30"></p><p>供应市场的调研它涉及到对企业上游原材料、零部件的<strong>供应市场情况的调研</strong>。供应市场的情况会影响到企业生产经营的稳定性和持续性，所以企业在市场调研时，供应市场的调研也是不可或缺的一个组成部分。具体来说，对供应市场的调研主要包括在市场中是不是能够找到合适的。原材料和零部件的供应商？供应商的数量如何？供应商的规模如何？实力如何供应？市场的竞争状况如何？是一个被某些企业垄断的市场，还是一个充分竞争的市场？那么这个问题呢又涉及到企业在和供应商谈判时，你的谈判形式。面对一个具有垄断优势的供应商，那么可能我们在谈判当中就不太有优势，而只能被动地接受对方所提出的一些条件。而面对一个充分竞争的供应市场，我们可能就更有优势去选择对我们有利的一些供应商。通过对供应市场的分析，可以帮助企业做出供应战略的决策。比如我们究竟应该与上游的供应商建立怎么样的一种关系呢？是战略合作伙伴的关系，还是普通的买卖交易关系等等？这些问题都基于我们面对的是一个什么样的供应市场环境。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/%E6%88%AA%E5%B1%8F2021-02-14%2000.21.15.png" alt="截屏2021-02-14 00.21.15"></p><p>下面我们就来看对<strong>竞争环境的调研</strong>。之前我们谈到知己知彼才能百战不殆，所谓知彼就是我们对我们的竞争对手要有充分的了解，这样我们才能够做出针对性的竞争策略。那么对竞争环境的调研包括哪些内容呢？一般来讲，我们在做竞争环境调研的时候，需要了解我们有没有直接或间接的竞争者，有哪些竞争者竞争者的。目标市场和定位是怎么样的，竞争者主要采取怎样的竞争策略，以及竞争者有哪些优势和劣势？目前市场的竞争程度如何，包括竞争者的市场占有率的情况、市场的覆盖面等等，以及企业有没有潜在的竞争者，有没有替代品的竞争等等。这些都是我们在分析竞争环境时需要去了解的。通过调研竞争环境，将本企业的现有条件和竞争对手进行对比，可以为我们制定有效的竞争策略去提供依据。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/%E6%88%AA%E5%B1%8F2021-02-14%2000.24.24.png" alt="截屏2021-02-14 00.24.24"></p><p>前面我们所讲到的是市场调研的内容当中关于市场环境的调研，那么下面我们就来简单。咱们谈谈关于营销要素的调研。我们说围绕市场营销的四个关键要素，产品、价格、渠道、促销。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/%E6%88%AA%E5%B1%8F2021-02-14%2000.25.25.png" alt="截屏2021-02-14 00.25.25"></p><p>在市场调研当中，我们往往需要对每一个要素都进行深入细致的调研，才能针对性地做出相应的决策。</p><p>比如关于<strong>产品</strong>，我们需要去调查消费者对产品的功能、性能、外观、包装等等的一些需求和他的评价。</p><p>而对于<strong>价格</strong>来说，我们需要了解企业的定价是否合理，消费者对什么样的价格容易接受，商品的价格弹性有多大。关于销售渠道，我们需要通过调研来了解企业现有的销售渠道能否买满足销售商品的需要。</p><p>消费者一般购买的主要<strong>渠道</strong>是什么？目前企业的销售渠道是否符合消费者的购买习惯？比如随着互联网的发展，网上购物成为越来越多消费者的选择，所以开辟线上销售的渠道就成为众多商家的必然选择。那如果你仍然坚守传统的线下渠道，而不去开辟线上的销售渠道，可能企业就会损失一大批的消费者。</p><p>对于<strong>促销</strong>，企业通常采取的促销手段有很多，比如广告、促销、人员推销、营业推广、公共关系等等。对于促销手段的调研，我们主要包括消费者对各。促销手段的喜好和接受程度的调研，以及对促销效果的调研等等。比如对广告促销的调研，包括对广告诉求的调研，对广告媒体的选择性调研以及对广告效果的调研等等。而对广告诉求调研，也就是说我们要通过调研来了解消费者的购买动机，只有了解了消费者的购买动机，才能制作出打动人心的好广告。了解消费者的媒体使用习惯对企业来说也是至关重要的，如果媒体选择错误，则广告效果就会受到严重的影响。因此我们需要了解我们的消费者，他们平时接触怎样的媒体？没？你的使用习惯又是怎么样的？随着互联网的发展，涌现出很多新的媒体形式，比如网上交易平台、社交平台、各种自媒体等等，一些媒体形式越来越受到消费者的关注。而传统的媒体，比如电视、广播、报刊、杂志等等，这一些原来的主流媒体形式受到新媒体的影响，受众分流非常的严重。所以企业在投放广告时，非常有必要去分析你的目标群体，他们的媒体选择习惯是怎么样的，他们倾向于选择新的媒体形式，还是倾向于选择传统的媒体形式，从而做到有的放矢地投放我们的广告。好，同学们，关于市场调研的主要内容我们就讲到这里，我们下一讲再见。</p><p>参考：</p><ul><li><a href="https://www.icourse163.org/course/ZUFE-1206509807">中国大学MOOC市场调研</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> 市场调研 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 市场调研 </tag>
            
            <tag> MOOC </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>您没有权限打开应用程序——更新到Big Sur？</title>
      <link href="c271dbbf.html"/>
      <url>c271dbbf.html</url>
      
        <content type="html"><![CDATA[<h1 id="您没有权限打开应用程序——更新到Big-Sur？"><a href="#您没有权限打开应用程序——更新到Big-Sur？" class="headerlink" title="您没有权限打开应用程序——更新到Big Sur？"></a>您没有权限打开应用程序——更新到Big Sur？</h1><h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><p>Mac更新到Big Sur打开pj软件——”您没有权限打开应用程序XXX，请联系您的电脑或者网络管理员以获得帮助。“</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/%E6%88%AA%E5%B1%8F2021-02-11%2018.31.17.png" alt="截屏2021-02-11 18.31.17"></p><p>那么如何解决呢？</p><h2 id="原因分析"><a href="#原因分析" class="headerlink" title="原因分析"></a>原因分析</h2><p>苹果推出最新macOS Big Sur 时，建立了关于被PJ软件版权的一种版权保护的机制。</p><h2 id="解决方案（二选一）"><a href="#解决方案（二选一）" class="headerlink" title="解决方案（二选一）"></a>解决方案（二选一）</h2><h3 id="简单解决"><a href="#简单解决" class="headerlink" title="简单解决"></a>简单解决</h3><p>在出现损坏的 app 上右键，依次打开 “显示包内容-Contents-MacOS”，然后把该目录下的文件，拖到下述命令的后方执行。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo chmod +x </span><br></pre></td></tr></table></figure><h3 id="利用第三方插件——upx-脱壳"><a href="#利用第三方插件——upx-脱壳" class="headerlink" title="利用第三方插件——upx 脱壳"></a>利用第三方插件——upx 脱壳</h3><p>安装upx（这里用brew安装）</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install upx</span><br></pre></td></tr></table></figure><p>打开终端输入</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">upx -d &#39;&#x2F;Applications&#x2F;xxx.app&#x2F;Contents&#x2F;MacOS&#x2F;xxxx&#39;</span><br></pre></td></tr></table></figure><p>其中xxx代表你要安装的软件</p><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>除夕之日，预祝各位</p><p>暴富又变美，脱单不脱发</p><p>横批：新年胜旧年</p><p>嘿嘿嘿</p>]]></content>
      
      
      <categories>
          
          <category> 破解 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 破解 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>记MagicBook （Pro）黑苹果系统安装教程</title>
      <link href="ee2697c6.html"/>
      <url>ee2697c6.html</url>
      
        <content type="html"><![CDATA[<h1 id="记MagicBook-（Pro）黑苹果系统安装教程"><a href="#记MagicBook-（Pro）黑苹果系统安装教程" class="headerlink" title="记MagicBook （Pro）黑苹果系统安装教程"></a>记MagicBook （Pro）黑苹果系统安装教程</h1><h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><p>本来寒假安装以及之前都安装了好几次，但是都没有记录，导致每次想升级新系统都要浪费时间东找西凑，今天有点时间总结一下以防明日之我又在浪费时间</p><h2 id="BIOS的修改"><a href="#BIOS的修改" class="headerlink" title="BIOS的修改"></a>BIOS的修改</h2><p>开机前狂按F2进BIOS界面（蓝色的）</p><p>BIOS版本：1.09</p><p>安全启动: 关闭</p><p>保存并退出</p><p>PS:不关这个的话就会出现<strong>Boot Fail</strong>的画面提示</p><h2 id="选择OpenCore引导"><a href="#选择OpenCore引导" class="headerlink" title="选择OpenCore引导"></a>选择OpenCore引导</h2><h3 id="OpenCore是什么呢？"><a href="#OpenCore是什么呢？" class="headerlink" title="OpenCore是什么呢？"></a>OpenCore是什么呢？</h3><p>OpenCore(OC)是一种新的引导方式，随着越来越多的kexts开始放弃Clover,我相信提早使用OC会对你未来使用黑苹果会有很大的帮助。这是一个自然的现象，就像变色龙被Clover淘汰，而现在OC代替Clover也是大势所趋。</p><h3 id="OpenCore替代Clover学说"><a href="#OpenCore替代Clover学说" class="headerlink" title="OpenCore替代Clover学说"></a>OpenCore替代Clover学说</h3><p>所以OpenCore真的不想替代Clover么？这句话你信么？反正我是不信的。是谁中止了对AptioFixPkg的维护？是谁宣布Lilu、AppleALC、VirtualSMC、VoodooPS2、VoodooInput、WhateverGreen在未来的开发中不再刻意照顾Clover的兼容性的？以前我们还有Rehabman,但是他在tonymacx86活跃了7年后也隐退了。未来某一天，AppleALC的一条commit可能就会让Clover陷入无限重启、或者WhateverGreen的哪个Release可能就会让Clover开始卡Hash Check Retry#40,然后大家不得不换到OpenCore、因为acidanthera团队说了他们的开发不会刻意兼容Clover。</p><h3 id="为啥选择Opencore？"><a href="#为啥选择Opencore？" class="headerlink" title="为啥选择Opencore？"></a>为啥选择Opencore？</h3><p>1.从2019年9月以后，Acidanthera开发的内核驱动（Lilu,AppleALC等等）[不再会]在Clover上做兼容性测试<br>2.OpenCore更加注重系统的安全性，提供对OpenCore自身引导文件对加密，同时对文件保险箱(FileVault)有更强大的支持，在未来会支持UEFI安全启动<br>3.OpenCore启动FileVault(硬盘保险箱）加密的分区速度远超Clover<br>4.OpenCore支持基于boot.efi的原生开机快捷键支持<br>5.OpenCore使用更加先进的方法注入第三方内核扩展驱动（Kext)且与此同时不会破坏系统完整性保护<br>6.OpenCore通过读取启动磁盘设置的NVRAM变量，可以像白苹果一样支持在设置的启动磁盘切换默认引导项<br>7.支持给其它.efi驱动或引导工具加入参数<br>8.如下UEFI驱动被合并入OpenCore,未来的开发直接与OpenCore绑定，且不再支持Clover</p><h3 id="OpenCore-的配置为什么看起来这么复杂？"><a href="#OpenCore-的配置为什么看起来这么复杂？" class="headerlink" title="OpenCore 的配置为什么看起来这么复杂？"></a>OpenCore 的配置为什么看起来这么复杂？</h3><p>OpenCore为了提高兼容性，为用户开放了更多底层的QuirkOpenCore现阶段没有可用的非常直观的GUI编辑器换位思考，如果用Xcode来编辑Clover安装包内自带的Config样本，显然OpenCore会更简单。OpenCore很多功能都有且只有一处设置，但是Clover有大量等效组合互相干扰。</p><h3 id="Acidanthera的野心"><a href="#Acidanthera的野心" class="headerlink" title="Acidanthera的野心"></a>Acidanthera的野心</h3><p>黑苹果突然这么被动了？acidanthera几乎垄断了黑苹果。SMC模拟的VirtualSMC、声卡的AppleALC、核显的WhateverGreen、蓝牙的BrcmPatchRAM、键盘、鼠标和触摸板的VoodooPS2和VoodooInput,几乎黑苹果所有的内核驱动都是acidanthera开发的、而且没有替代品。如果它们不再刻意兼容Clover,出了问题你就只能被迫换到OpenCore、你没有其它选择。</p><h2 id="解锁CFG-Lock-amp-DVMT"><a href="#解锁CFG-Lock-amp-DVMT" class="headerlink" title="解锁CFG-Lock&amp;DVMT"></a>解锁CFG-Lock&amp;DVMT</h2><p>（OpenCore引导必备，如果你选择Clover引导可以跳过此步）</p><p>方法一：</p><p>（请非常非常非常小心谨慎！如果出现问题可能导致需要更换主板！！！！！！！！！）</p><p>MagicBook 2018的请下拉至蓝色字体处！</p><p>解答：<a href="https://zhidao.baidu.com/question/456790415108635365.html">CFG-Lock是什么？</a>；为什么要修改DVMT：为了使HDMI接口能输出4k分辨率，此处请注意，使用OpenCore必须同时修改CFG和DVMT，如果出现进度条只走一半就重启，或者卡在进度条的起点等奇怪现象，就别怪没在这提醒你嗷！————此教程特别特别特别感谢“京子”嘿嘿 </p><p>首先将RU.efi放入EFI分区根目录（像放Clover的EFI文件夹一样操作）</p><p>使用easyUEFI设置RU.efi为启动项，类型选Linux，名字随便起，记得住就行（像设置Clover64.efi一样操作）</p><p>① 重启，出现此界面</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210203205939797.png" alt="image-20210203205939797"></p><p>② 按下alt和=</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210203210016534.png" alt="image-20210203210016534"></p><p>③ 按方向键下键，找到cpusetup，回车</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210203210104265.png" alt="image-20210203210104265"></p><p>④ 使用方向键，定位并更改003E位置（只看绿色底并且两位数的位置，长条八位数那个不用管它）的“01”为00，回车</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210203210123724.png" alt="image-20210203210123724"></p><p>按下Ctrl+W保存，然后按下alt和= 回到上一级界面，寻找SaSetup，定位到0107位置（需要按Ctrl+Fn+↓翻页）从01改成02，步骤和上面一模一样，记得按下Ctrl+W保存！</p><p>Ctrl+Alt+Del重启，按F12进入Windows将此启动项删除</p><p>方法二：借助Insyde的官方工具对BIOS进行修改，以下会介绍GUI方法来修改CFG-Lock和DVMT Pre-Allocated数值</p><p>文件地址：<a href="https://4m.cn/fW3yp">https://4m.cn/fW3yp</a></p><p>注意：以下的所有操作均会涉及BIOS，稍有不慎就会导致主板损坏，无法开机，如果决定跟着做，请务必小心谨慎，不可跳步，漏步！！！</p><p>如果电脑使用的是Windows Defender，请在“执行操作”里面对此程序选“允许”</p><p>（此为2019机型的步骤，2018的对应位置请下拉至蓝色字体处）</p><p>打开InsydeH2OUVE文件夹，先以管理员身份运行WDFInst.exe安装工具驱动</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210203210236040.png" alt="image-20210203210236040"></p><p>以管理员身份运行H2OUVE-W-GUIx64.exe程序</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210203210236040.png"></p><p>选择File – Load runtime读取当前BIOS状态</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210203210310135.png" alt="image-20210203210310135"></p><p>选择左侧Variable菜单，获取当前BIOS变量</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/20210203212319.png"></p><p>找到名称为SaSetup的空间（双击后可看到该空间内的所有变量，可根据最后一个变量所在的偏移地址得出空间大小，与步骤0中的空间大小比对，从而确定找到的空间是正确的），并找到偏移量为0x107的数值</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/20210203212350.png"></p><p>修改该数值的01为02（确认该空间被选中——前方的√打上,此处可以先不着急按左上角的保存按钮）</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210203212417808.png" alt="image-20210203212417808"></p><p>然后找到CpuSetup 003E的位置，双击，修改该数值的01为00</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210203212450626.png" alt="image-20210203212450626"></p><p>确保两个√都打上以后，点击左上角的按钮保存（Sastup和CpuSetup的位置可能不在一起，只要确保修改位置正确、√都打上了就没问题，记得保存！）</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210203212501315.png" alt="image-20210203212501315"></p><p>看到提示保存变量成功的提示后，说明已修改成功，此时可重启电脑让其生效。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210203212511383.png" alt="image-20210203212511383"></p><p>如何测试是否修改成功？使用对应的config.plist能进入系统的话，即说明修改成功，可文中图片加以识别！ </p><p>以上为2019&amp;2020 MagicBook（Pro）的位置，Magicbook 2018的位置：</p><p>Cfg-lock：CPUsetup 0x3c 01改成00</p><p>DVMT：Sasetup 0xDF 01改成 02</p><h2 id="Win系统下苹果系统镜像U盘制作"><a href="#Win系统下苹果系统镜像U盘制作" class="headerlink" title="Win系统下苹果系统镜像U盘制作"></a>Win系统下苹果系统镜像U盘制作</h2><ol><li><p>系统下载：建议到黑果小兵的部落阁下载最新的镜像文件：<a href="https://blog.daliansky.net/">https://blog.daliansky.net/</a></p></li><li><p>群文件或者其他地方下载etcher</p></li><li><p>准备一个8GB以上的U盘（建议16G）</p></li><li><p>用管理员身份打开etcher，记住一定要用管理员身份打开</p></li><li><p>按图片教程写入苹果原版镜像</p></li></ol><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210203212524475.png" alt="image-20210203212524475"></p><p>Etcher操作非常简单，说白了就三步↑</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210203212534524.png" alt="image-20210203212534524"></p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210203212547304.png" alt="image-20210203212547304"></p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210203212601351.png" alt="image-20210203212601351"></p><p>然后静等写入成功！</p><p>4.分区准备（会用diskgenius的话也可以自己操作）</p><p>A． 确认GPT分区表，esp(EFI分区)大小：现在黑果安装一般使用UEFI+GPT的方法安装苹果原版镜像。苹果系统安装要求efi分区大小要是200MB及以上，否则在苹果安装磁盘工具界面无法将磁盘格成苹果要求的APFS或者HFS+系统格式小Y原装win8的，基本不需要考虑这步，一般是GPT格式+260MB的esp分区大小。</p><p>B． 自己改装UEFI引导win7或者win10的，可能之前会不太注意esp分区的大小。直接用系统装的话esp分区大小会是100MB，需要进行efi分区扩容。当然还有改装MBR分区表win7的，建议进PE直接整个磁盘格成GPT格式，新建200MB的EFI分区。</p><p>C .还有机友加了磁盘的，请注意如果这个磁盘用来安装mac的话，也要是GPT格式的，efi分区大小是200MB及以上的，不然就是你另一块放有clover引导的磁盘efi分区符合要求，也可能会格不了盘的。</p><p>D.给大家看一下正确的磁盘分区格式吧，大家一般看我的磁盘2的那个分区就是了。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210203213222389.png" alt="image-20210203213222389"></p><p>E.再给大家看一下所谓的esp（efi）分区：</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210203213238926.png" alt="image-20210203213238926"></p><p>F.新建一个分区，用来安装mac,这个是基操了，右键管理，进磁盘管理，选择一个现有分区，右键选择压缩卷，大小自己看吧，跟装windows一样，一直默认下一步就是。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210203213249814.png" alt="image-20210203213249814"></p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210203213259952.png" alt="image-20210203213259952"></p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210203213309800.png" alt="image-20210203213309800"></p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210203213319692.png" alt="image-20210203213319692"></p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210203213327960.png" alt="image-20210203213327960"></p><p>5.创建系统引导</p><p>直接使用OC引导Windows10会出现很多奇奇怪怪的问题，因此，在OC引导下想用Win10就要在开机前按F12选择“Windows Boot Manager”或者：（推荐）将群文件“群主的OC”文件夹里面的Refind或者bootmenu放进EFI分区（方法接下来就能看到），然后用easyUEFI将其设置成第一启动项（方法和设置Clover64.efi;OpenCore.efi一模一样）</p><p>1.从群文件中下载所需的clover/OC附件,建议下载最新版。</p><p>2.用磁盘管理软件如DiskGenius，BOOTICE啊给内置硬盘的esp(efi)分区分配一个盘符，请注意，使用已经弄好的clover，放内置硬盘，带clover的镜像写入生成的那个在U盘中的不需要管。</p><p>3.打开esp(efi)分区，如果提示安全权限打不开的话，找到记事本程序，用管理员身份打开，点击文件-打开，选择esp(efi)盘，将配好的clover拖入esp(efi)盘的EFI文件夹就是。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210203213337774.png" alt="image-20210203213337774"></p><p>4.解压clover/OC附件</p><p>A.将附件中的boot文件夹替换esp(efi)分区中efi文件夹的BOOT文件夹。</p><p>B.将自己配好的clover/OC文件夹放入esp(efi)分区中efi文件夹中 </p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210203213350249.png" alt="image-20210203213350249"></p><p>5.管理员身份打开EasyUEFI（注：OC的路径为**EFIOCOpenCore.efi；</p><p>Refind的路径为EFIRefindrefind_x64.efi；</p><p>BootMenu的路径为EFIBootMenuBootMenu.efi）</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210203213359573.png" alt="image-20210203213359573"></p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210203213408825.png" alt="image-20210203213408825"></p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210203213422597.png" alt="image-20210203213422597"></p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210203213432084.png" alt="image-20210203213432084"></p><p>注：OC（单系统推荐）的路径为**EFIOCOpenCore.efi、</p><p>Refind（多系统推荐）的路径为EFIRefindrefind_x64.efi；</p><p>BootMenu（多系统推荐）的路径为EFIBootMenuBootMenu.efi</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210203213441506.png" alt="image-20210203213441506"></p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210203213450213.png" alt="image-20210203213450213"></p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210203213500297.png" alt="image-20210203213500297"></p><h2 id="系统安装"><a href="#系统安装" class="headerlink" title="系统安装"></a>系统安装</h2><p>大概说一下我的黑果安装过程作参考吧 （PS:装黑果要有耐心，特别是走安装进度条的时候。要记住：同机型能装的，没道理你的不能装。）mac系统安装步骤跟win一样，都是复制-展开-安装-设置套路走的。同时也会有多次正常重启。</p><p>正常来说，如果成功设置了OC为默认启动项，直接重启计算机会出现这个界面，我们选择：Install macOS Catalina，当然我这里有5个是因为我已经安装过这么多，你的第1个也可能是其它的东西，我们可以按键盘上下键来选择至Install macOS Catalina，然后Enter回车（小技巧：在这个界面按下Ctrl+Enter回车可以设置某个引导为默认启动项，当然现在先不要设置，等一切安装好以后再设置）</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210203213510554.png" alt="image-20210203213510554"></p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210203213518425.png" alt="image-20210203213518425"></p><p>1.进安装界面，磁盘工具抹安装分区盘，然后选盘安装，此时安装程序会像win一样复制安装镜像到安装分区盘，进度条剩余时长由硬盘读写能力决定，一般几分钟，然后系统自动重启，第一步镜像复制完成。如果引导在内置硬盘EFI中，后面就没U盘啥事了，如果引导在U盘中，注意保护好U盘，别乱碰到了哈。 </p><p>跟win一样选择磁盘工具（磁盘管理进行格盘操作）</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210203213527069.png" alt="image-20210203213527069"></p><p>选择要安装的盘。点抹掉</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210203213535146.png" alt="image-20210203213535146"></p><p>苹果分区格式，固态硬盘选择APFS，机械硬盘选择Mac OS扩展（日志式）</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210203213546715.png" alt="image-20210203213546715"></p><p>给新建APFS起个自定义卷标名吧，我一般是macOS的，然后点抹掉</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210203213556754.png" alt="image-20210203213556754"></p><p>自动跳到这个界面，当然是选择安装了</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210203213626235.png" alt="image-20210203213626235"></p><p>跟win一样选择安装盘进行安装</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210203213635117.png" alt="image-20210203213635117"></p><p>这就是镜像复制了，是不是跟win安装的套路差不多</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210203213644103.png" alt="image-20210203213644103"></p><p>2.重启后进入第二步，看到clover/oc界面，系统会默认选择你要安装系统的盘进入（意思是不要乱按乱选择），名字是boot install macOS from XXX,XXX为你要安装系统的分区名，而不是你的U盘。苹果进度条走到3/4时，系统自动重启。第二步镜像展开完成。</p><p>3.重启后，正常是此时系统会继续默认选择你要安装系统的盘进入，然后进入第三步，镜像安装。苹果进度条会走到上一步的3/4，然后出现安装剩余时间的提示，默默等安装走进度条就是了。安装完后系统自动重启，第三步镜像安装完成。</p><p>这个就是国家地区选择界面了，有点糊啊，默认选择第一项中国</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210203213652394.png" alt="image-20210203213652394"></p><p>键盘我一般是默认的路过</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210203213704010.png" alt="image-20210203213704010"></p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210203213711003.png" alt="image-20210203213711003"></p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210203213721023.png" alt="image-20210203213721023"></p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210203213734168.png" alt="image-20210203213734168"></p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210203213753297.png" alt="image-20210203213753297"></p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210203213802522.png" alt="image-20210203213802522"></p><p>跟win一样，创建本地账户，不过有一点mac不像win，一定要设置密码。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210203213812459.png" alt="image-20210203213812459"></p><p>一向操作是勾掉反馈</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210203213820575.png" alt="image-20210203213820575"></p><p>不用说，能开siri,当然是开了</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210203213829955.png" alt="image-20210203213829955"></p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210203213846315.png" alt="image-20210203213846315"></p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210203213856399.png" alt="image-20210203213856399"></p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210203213908038.png" alt="image-20210203213908038"></p><p>当当当，大功告成了</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/%E6%88%AA%E5%B1%8F2021-02-03%2021.391.43.png" alt="截屏2021-02-03 21.391.43"></p><p>注意事项：<br>1.机械硬盘由于读写能力可能会在安装进度条走剩余时长时在剩余最后一分钟的时候会走很长时间，没办法，等进度条走完就是，固态硬盘就要好好多</p><p>2.魔法书可跟白果一样在线系统升级，请注意，系统安装在PM981硬盘上面的话暂时不可进行系统升级</p><h2 id="Clover-替换OC"><a href="#Clover-替换OC" class="headerlink" title="Clover 替换OC"></a>Clover 替换OC</h2><p>解决 Clover 和 OpenCore 的冲突</p><p>在重启进入 OpenCore 之前, 我们还需要解决一些冲突问题:</p><p>（以下内容转自黑果小兵的博客<a href="https://blog.daliansky.net/OpenCore-BootLoader.html%EF%BC%89">https://blog.daliansky.net/OpenCore-BootLoader.html）</a></p><p>（其实就是把所有代码都输入“终端”运行！</p><p>可以大段复制粘贴）</p><p>①删除 Clover 设置面板</p><p>Clover 设置面板会和 OpenCore 产生冲突, 需要删除</p><p>Clover 设置面板位于 /Library/PreferencePanes/Clover.prefPane</p><p>终端输入 sudo rm -rf /Library/PreferencePanes/Clover.prefPane 删除</p><p>清理 Clover 的模拟 NVRAM RC 脚本 和 守护程序 CloverDaemonNew</p><h1 id="删除-RC-脚本"><a href="#删除-RC-脚本" class="headerlink" title="删除 RC 脚本"></a>删除 RC 脚本</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">rm -rf &quot;&#x2F;etc&#x2F;rc.clover.lib&quot;</span><br><span class="line"></span><br><span class="line">rm -rf &quot;&#x2F;etc&#x2F;rc.boot.d&#x2F;10.save_and_rotate_boot_log.local&quot;</span><br><span class="line"></span><br><span class="line">rm -rf &quot;&#x2F;etc&#x2F;rc.boot.d&#x2F;20.mount_ESP.local&quot;</span><br><span class="line"></span><br><span class="line">rm -rf &quot;&#x2F;etc&#x2F;rc.boot.d&#x2F;70.disable_sleep_proxy_client.local.disabled&quot;</span><br><span class="line"></span><br><span class="line">rm -rf &quot;&#x2F;etc&#x2F;rc.boot.d&#x2F;80.save_nvram_plist.local&quot;</span><br><span class="line"></span><br><span class="line">rm -rf &quot;&#x2F;etc&#x2F;rc.shutdown.local&quot;</span><br><span class="line"></span><br><span class="line">rm -rf &quot;&#x2F;etc&#x2F;rc.boot.d&quot;</span><br><span class="line"></span><br><span class="line">rm -rf &quot;&#x2F;etc&#x2F;rc.shutdown.d&quot;</span><br></pre></td></tr></table></figure><h1 id="删除-Clover-新开发的-NVRAM-守护程序-CloverDaemonNew"><a href="#删除-Clover-新开发的-NVRAM-守护程序-CloverDaemonNew" class="headerlink" title="删除 Clover 新开发的 NVRAM 守护程序 CloverDaemonNew"></a>删除 Clover 新开发的 NVRAM 守护程序 <code>CloverDaemonNew</code></h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">launchctl unload &#39;&#x2F;Library&#x2F;LaunchDaemons&#x2F;com.slice.CloverDaemonNew.plist&#39;</span><br><span class="line"></span><br><span class="line">rm -rf &#39;&#x2F;Library&#x2F;LaunchDaemons&#x2F;com.slice.CloverDaemonNew.plist&#39;</span><br><span class="line"></span><br><span class="line">rm -rf &#39;&#x2F;Library&#x2F;Application Support&#x2F;Clover&#x2F;CloverDaemonNew&#39;</span><br><span class="line"></span><br><span class="line">rm -rf &#39;&#x2F;Library&#x2F;Application Support&#x2F;Clover&#x2F;CloverLogOut&#39;</span><br><span class="line"></span><br><span class="line">rm -rf &#39;&#x2F;Library&#x2F;Application Support&#x2F;Clover&#x2F;CloverWrapper.sh&#39;</span><br></pre></td></tr></table></figure><p>终端执行：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo spctl --master-disable</span><br><span class="line"></span><br><span class="line">sudo kextcache -i &#x2F;</span><br></pre></td></tr></table></figure><p>再重启进Windows，进行启动项的设置（<a href="#easyUEFI">easyUEFI</a>），然后再次重启 </p><p>再次重启后的步骤：</p><p>第一次重启以后需要选择下图的 Reset  NVRAM（输入对应的数字键然后回车，和我的图数字位置不一定一样）；图形化的OpenCore引导（目前未更新）使用键盘上的→按键选择Reset NVRAM</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210203214509413.png" alt="image-20210203214509413"></p><p>Reset NVRAM以后，会自动进入Windows10，因为这个Reset会清除启动项建立的操作（也就是刚才easyUEFI的操作），需要完完整整不跳步地重新再操作一次（目的是重新建立引导），即可。</p><p>然后再次重启：选中 Mac 进系统（默认设置了停留3秒自动进入）</p><p>就完成了Clover 转换 OC ！</p><h2 id="注入三码"><a href="#注入三码" class="headerlink" title="注入三码"></a>注入三码</h2><p>1.第一步，下载群文件里面的OpenCore Configurator，看最上面，找到和这个一模一样的地方，点击挂载EFI</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/1.%E7%AC%AC%E4%B8%80%E6%AD%A5%EF%BC%8C%E4%B8%8B%E8%BD%BD%E7%BE%A4%E6%96%87%E4%BB%B6%E9%87%8C%E9%9D%A2%E7%9A%84OpenCore%20Configurator%EF%BC%8C%E7%9C%8B%E6%9C%80%E4%B8%8A%E9%9D%A2%EF%BC%8C%E6%89%BE%E5%88%B0%E5%92%8C%E8%BF%99%E4%B8%AA%E4%B8%80%E6%A8%A1%E4%B8%80%E6%A0%B7%E7%9A%84%E5%9C%B0%E6%96%B9%EF%BC%8C%E7%82%B9%E5%87%BB%E6%8C%82%E8%BD%BDEFI.png" alt="1.第一步，下载群文件里面的OpenCore Configurator，看最上面，找到和这个一模一样的地方，点击挂载EFI"></p><p>2.选择(挂载分区)，然后输入密码确定，然后点(打开分区)</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/2.%E9%80%89%E6%8B%A9(%E6%8C%82%E8%BD%BD%E5%88%86%E5%8C%BA)%EF%BC%8C%E7%84%B6%E5%90%8E%E8%BE%93%E5%85%A5%E5%AF%86%E7%A0%81%E7%A1%AE%E5%AE%9A%EF%BC%8C%E7%84%B6%E5%90%8E%E7%82%B9(%E6%89%93%E5%BC%80%E5%88%86%E5%8C%BA).png" alt="2.选择(挂载分区)，然后输入密码确定，然后点(打开分区)"></p><p>3.在新分区中找到图片的位置，然后按图操作，用OCG打开config</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/3.%E5%9C%A8%E6%96%B0%E5%88%86%E5%8C%BA%E4%B8%AD%E6%89%BE%E5%88%B0%E5%9B%BE%E7%89%87%E7%9A%84%E4%BD%8D%E7%BD%AE%EF%BC%8C%E7%84%B6%E5%90%8E%E6%8C%89%E5%9B%BE%E6%93%8D%E4%BD%9C%EF%BC%8C%E7%94%A8OCG%E6%89%93%E5%BC%80config.png" alt="3.在新分区中找到图片的位置，然后按图操作，用OCG打开config"></p><p>4.如图顺序进行设置，参考clover的三码教程来确定（序列号无效），别忘了保存！</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/4.%E5%A6%82%E5%9B%BE%E9%A1%BA%E5%BA%8F%E8%BF%9B%E8%A1%8C%E8%AE%BE%E7%BD%AE%EF%BC%8C%E5%8F%82%E8%80%83clover%E7%9A%84%E4%B8%89%E7%A0%81%E6%95%99%E7%A8%8B%E6%9D%A5%E7%A1%AE%E5%AE%9A%EF%BC%88%E5%BA%8F%E5%88%97%E5%8F%B7%E6%97%A0%E6%95%88%EF%BC%89%EF%BC%8C%E5%88%AB%E5%BF%98%E4%BA%86%E4%BF%9D%E5%AD%98%EF%BC%81.png" alt="4.如图顺序进行设置，参考clover的三码教程来确定（序列号无效），别忘了保存！"></p><h2 id="跳过OC引导界面"><a href="#跳过OC引导界面" class="headerlink" title="跳过OC引导界面"></a>跳过OC引导界面</h2><p>接上进入Misc-其他设置，取消勾选ShowPicker</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/%E6%88%AA%E5%B1%8F2021-02-03%2018.30.50.png" alt="截屏2021-02-03 18.30.50"></p><h2 id="进入系统的一些优化"><a href="#进入系统的一些优化" class="headerlink" title="进入系统的一些优化"></a>进入系统的一些优化</h2><p>每次OpenCore更新都要看一看压缩包里面的更新日志，里面有非常重要的注意事项！</p><ol><li>开启任何来源:</li></ol><p>在终端中输入：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo spctl --master-disable</span><br></pre></td></tr></table></figure><ol start="2"><li>安装群文件：双系统时间同步补丁,Win下导入后重启即可</li></ol><p>Win和mac实现时间同步，不然好像会相差8个小时</p><ol start="3"><li>工具和一些软件群文件里有提供，善用搜索功能</li></ol><p>注意！如果上述步骤未完成，会出现各种奇奇怪怪的BUG！！！</p><p>参考：</p><ul><li><a href="https://github.com/GatesYang/Magicbook-Pro-16.1-Hackintosh">Magicbook-(Pro)-16.1-Hackintosh-2019&amp;2020 黑苹果稳定版</a>如果你是MagicBook系列用户，强烈建议加一下里面的群</li><li><a href="https://www.bilibili.com/video/BV14E411G7Ww?t=1074">视频安装Clover/OpenCore</a></li><li><a href="https://www.bilibili.com/video/BV1s741187on?t=16">锐龙版安装视频教程</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> 黑苹果 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 黑苹果 </tag>
            
            <tag> 多系统 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Mac下Aria2c安装配置（附Win版Aria2懒人包）</title>
      <link href="b7c079be.html"/>
      <url>b7c079be.html</url>
      
        <content type="html"><![CDATA[<h1 id="Mac下Aria2c安装配置（附Win版Aria2懒人包）"><a href="#Mac下Aria2c安装配置（附Win版Aria2懒人包）" class="headerlink" title="Mac下Aria2c安装配置（附Win版Aria2懒人包）"></a>Mac下Aria2c安装配置（附Win版Aria2懒人包）</h1><h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><p>Mac系统还是有诸多不便，破解软件、软件库等资源相较于Win要少，不过用起来还是清爽有时甚至可以装X哈哈哈哈哈啊哈哈！说正题，Mac用不了亿寻、KinhDown、PD改造版等毒盘不限速神器，因为开发者基本只照顾到了Win用户、甚至是安卓用户，难道这方面的大佬都用的Win？？？不过它们的原理基本都有Aria2原理+建立VIP账号Cookies池+找到的接口等，而我查了一下资料，前几年Aria2下载以及下载毒盘资源还是异常火爆的，但近几年由于毒盘可能加了防范措施还有国内种子被某雷封锁，热度特别是在Mac上骤减。当然个人感觉，因为网上教程大多是17、18年的而且配置Aria2对小白还是有门槛的，这里记录一下Mac的简单配置，并且附录Win版Aria2懒人包。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/20190816150245.jpg"></p><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><p>Aria2作者在<a href="https://github.com/aria2/aria2">github</a>以及<a href="https://aria2.github.io/">官网</a>已经有很多介绍和教程，这里我用Homebrew安装。前提是你已经安装好了Homebrew（<a href="https://zhuanlan.zhihu.com/p/111014448">没安装的参考这个</a>），然后正常打开终端键入命令安装：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install aria2</span><br></pre></td></tr></table></figure><h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><p>配置是重中之重，很多人都在这里跳了不少坑</p><h3 id="下载配置文件（二选一）"><a href="#下载配置文件（二选一）" class="headerlink" title="下载配置文件（二选一）"></a>下载配置文件（二选一）</h3><ul><li>Aria2相关配置百度云：<a href="https://pan.baidu.com/s/1sYWQYOU4ZJnPTOmuApw-yQ">https://pan.baidu.com/s/1sYWQYOU4ZJnPTOmuApw-yQ</a> 密码：h1ep</li><li>Aria2相关配置自建云盘：<a href="https://4m.cn/ohE87">https://4m.cn/ohE87</a></li></ul><h3 id="新建建立aria2文件夹"><a href="#新建建立aria2文件夹" class="headerlink" title="新建建立aria2文件夹"></a>新建建立aria2文件夹</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// 打开终端默认在当前用户文件夹下，然后创建aria2文件夹</span><br><span class="line">mkdir ~/.aria2</span><br></pre></td></tr></table></figure><h3 id="打开刚才创建好的aria2文件夹"><a href="#打开刚才创建好的aria2文件夹" class="headerlink" title="打开刚才创建好的aria2文件夹"></a>打开刚才创建好的aria2文件夹</h3><p>可以这样：</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">open</span> ~/.aria2</span><br></pre></td></tr></table></figure><p>也可以这样：</p><p>在访达里Command+Shift+.可以看到隐藏文件夹，然后打开配隐藏的刚刚新建的aria2文件夹，像Win一样可视化操作</p><h3 id="解压下载好的配置文件，将下列文件放到到aria2文件夹内"><a href="#解压下载好的配置文件，将下列文件放到到aria2文件夹内" class="headerlink" title="解压下载好的配置文件，将下列文件放到到aria2文件夹内"></a>解压下载好的配置文件，将下列文件放到到aria2文件夹内</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">aria2</span><span class="selector-class">.conf</span></span><br><span class="line"><span class="selector-tag">aria2</span><span class="selector-class">.log</span></span><br><span class="line"><span class="selector-tag">aria2</span><span class="selector-class">.session</span></span><br><span class="line"><span class="selector-tag">com</span><span class="selector-class">.aria2c</span><span class="selector-class">.plist</span></span><br><span class="line"><span class="selector-tag">com</span><span class="selector-class">.google</span><span class="selector-class">.Chrome</span><span class="selector-class">.mobileconfig</span></span><br></pre></td></tr></table></figure><h3 id="将下载文件夹内的-aria2c-文件复制到-usr-local-Cellar-aria2-1-35-0-bin-下"><a href="#将下载文件夹内的-aria2c-文件复制到-usr-local-Cellar-aria2-1-35-0-bin-下" class="headerlink" title="将下载文件夹内的 aria2c 文件复制到 /usr/local/Cellar/aria2/1.35.0/bin 下"></a>将下载文件夹内的 aria2c 文件复制到 /usr/local/Cellar/aria2/1.35.0/bin 下</h3><p> 终端输入命令进入</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /usr/<span class="built_in">local</span>/Cellar/aria2/1.35.0/bin</span><br></pre></td></tr></table></figure><p>也可以像刚才可视化界面进入</p><p>将该文件夹里的 aria2c 文件重命名为 aria2c.bak，再将下载文件夹内的 aria2c 复制进去<br><strong>注意：</strong><br> <strong>1.理由是官方的 aria2c 版本最多支持16线程，sarkrui改好的aria2c版本支持128线程</strong><br> <strong>2.文中所说的1.35.0是我当前从brew上下载下来的版本，实际以你brew下载下来的版本为准，如果和我版本不一致，请修改相关的1.35.0这个路径</strong></p><h3 id="右键使用文本编辑或vscode打开-aria2-conf"><a href="#右键使用文本编辑或vscode打开-aria2-conf" class="headerlink" title="右键使用文本编辑或vscode打开 aria2.conf"></a>右键使用文本编辑或vscode打开 aria2.conf</h3><p> <strong>找到如下语句，将hsuyelin(本人电脑用户名)修改为你电脑的用户，修改完成 command+s 保存退出</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#文件保存路径, 默认为当前启动位置</span></span><br><span class="line">dir=/Users/hsuyelin/Downloads</span><br><span class="line"><span class="comment"># 日志保存路径</span></span><br><span class="line"><span class="built_in">log</span>=/Users/hsuyelin/.aria2/aria2.log</span><br><span class="line"><span class="comment"># 从会话文件中读取下载任务</span></span><br><span class="line">input-file=/Users/hsuyelin/.aria2/aria2.session</span><br><span class="line"><span class="comment"># 在Aria2退出时保存`错误/未完成`的下载任务到会话文件</span></span><br><span class="line">save-session=/Users/hsuyelin/.aria2/aria2.session</span><br></pre></td></tr></table></figure><h3 id="右键使用文本编辑或vscode打开-com-aria2c-plist"><a href="#右键使用文本编辑或vscode打开-com-aria2c-plist" class="headerlink" title="右键使用文本编辑或vscode打开 com.aria2c.plist"></a>右键使用文本编辑或vscode打开 com.aria2c.plist</h3><p> <strong>找到如下语句，将hsuyelin(个人人电脑用户名)修改为你电脑的用户，修改完成 command+s 保存退出</strong></p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">--conf-path=<span class="regexp">/Users/hsuyelin</span><span class="regexp">/.aria2/aria</span>2.conf</span><br></pre></td></tr></table></figure><h3 id="安装-Aria2-GUI-软件"><a href="#安装-Aria2-GUI-软件" class="headerlink" title="安装 Aria2 GUI 软件"></a>安装 Aria2 GUI 软件</h3><p> 将附件里的 Aria2 GUI.app 复制到 /Applications 目录下</p><h2 id="试运行aria2服务"><a href="#试运行aria2服务" class="headerlink" title="试运行aria2服务"></a>试运行aria2服务</h2><p>终端输入以下命令，输入如果未报错，那么Aria2服务正常运行了</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">aria2c</span><br></pre></td></tr></table></figure><p><strong>注：如果报6800错误，那么将 aria2.conf 文件里的下列语句进行修改</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#RPC端口, 仅当默认端口被占用时修改</span></span><br><span class="line">rpc-listen-port=6800</span><br></pre></td></tr></table></figure><h2 id="配置开机自启（可选）"><a href="#配置开机自启（可选）" class="headerlink" title="配置开机自启（可选）"></a>配置开机自启（可选）</h2><p>将附件包里的 com.aria2c.plist 复制到 /Users/你的用户名/.aria2/ 目录下，也就是和刚才复制配置aria2.conf在一个文件夹，然后把 com.aria2c.plist 复制到打开的LaunchAgents文件夹里：</p><p>可以键入以下命令</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">open ~<span class="regexp">/Library/</span>LaunchAgents</span><br><span class="line">launchctl load -w ~<span class="regexp">/Library/</span>LaunchAgents/com.aria2c.plist</span><br></pre></td></tr></table></figure><p>或者可视化界面复制粘贴</p><h2 id="Win下使用"><a href="#Win下使用" class="headerlink" title="Win下使用"></a>Win下使用</h2><p>直接下载<a href="https://citpan.herokuapp.com/CITpan/CIT%E5%B0%8F%E7%BB%84%E8%B5%84%E6%BA%90/%E6%AF%92%E7%9B%9820210121%E6%9C%80%E6%96%B0%E4%B8%8D%E9%99%90%E9%80%9F%E7%BD%91%E9%A1%B5%E7%89%88%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/Aria2.zip?preview">Win版Aria2懒人包</a>+<a href="https://citpan.herokuapp.com/CITpan/CIT%E5%B0%8F%E7%BB%84%E8%B5%84%E6%BA%90/%E6%AF%92%E7%9B%9820210121%E6%9C%80%E6%96%B0%E4%B8%8D%E9%99%90%E9%80%9F%E7%BD%91%E9%A1%B5%E7%89%88%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/%E6%AF%92%E7%9B%9820210121%E6%9C%80%E6%96%B0%E4%B8%8D%E9%99%90%E9%80%9F%E7%BD%91%E9%A1%B5%E7%89%88%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B.mp4?preview">使用视频</a>食用</p><h2 id="Aria2用途"><a href="#Aria2用途" class="headerlink" title="Aria2用途"></a>Aria2用途</h2><p>HTTP 下载和 BT 下载、配合不太稳定的插件或者脚本下载毒盘文件(虽然)等</p><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>Aria2，你值得试一试</p><p>参考：</p><ul><li><a href="https://zhuanlan.zhihu.com/p/161388489">轻量化后台下载工具 Aria2c安装配置 | for Mac</a></li><li><a href="https://www.jianshu.com/p/97efbb73a747">Mac下Aria2加速各种网盘下载，你值得拥有！</a></li><li><a href="https://www.jianshu.com/p/74ab7c2053ac">Mac下Aria2安装及其配置并设置开机启动（某云黑科技）</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Aria2 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Aria2 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Cloud Sharing</title>
      <link href="f58e0e38.html"/>
      <url>f58e0e38.html</url>
      
        <content type="html"><![CDATA[<h1 id="Cloud-Sharing"><a href="#Cloud-Sharing" class="headerlink" title="Cloud Sharing"></a>Cloud Sharing</h1><h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><p>害手抖把蓝奏云的网盘整理了一下，结果蓝奏云有机制——分享的链接其他人只能看到文件。也就是说我现在虽然将全部的文件通过新建文件夹的方式分了一下类，但其他人不能通过最顶层的分享链接查看最下面文件夹的内容。无奈，特此把每个分类的文件夹链接放到博客，以供大家点击跳转到分享页面。</p><p>注意：</p><ul><li>建议官方下载的文件是官方免费无需pj，而且官方实时更新，我这里只是留存旧版本</li><li>不当使用造成后果本站及本人概不负责，因此建议你食用前先百度或谷歌一下软件名</li><li>所有资源全部来自互联网收集，仅供交流学习，用完请立即删除</li></ul><h2 id="CIT小软件资料类（单文件≤100M）（密码全为cit）"><a href="#CIT小软件资料类（单文件≤100M）（密码全为cit）" class="headerlink" title="CIT小软件资料类（单文件≤100M）（密码全为cit）"></a><a href="https://cit.lanzoui.com/b01npfu1g">CIT小软件资料类</a>（单文件≤100M）（密码全为cit）</h2><ul><li><a href="https://cit.lanzoui.com/b01nzf1kb">市场调研 [一些关于市场调研比赛…]</a><ul><li><a href="https://cit.lanzoui.com/b01nzf2he">2021.1.16市调大赛线上培训会培训课件 [2021.1.16市调大赛线…]</a></li></ul></li><li><a href="https://cit.lanzoui.com/b01nzf36j">同屏软件 [AnLink等]</a></li><li><a href="https://cit.lanzoui.com/b01nzf3eh">磁盘扩容分区修复等、引导修复 [DiskGenius——磁盘分…]</a></li><li><a href="https://cit.lanzoui.com/b01nzf3ha">Pycharm专业版激活 [推荐ide-eval-resette…]</a></li><li><a href="https://cit.lanzoui.com/b01nzf3pi">科学上网 [傻瓜式科学上网 但效…]</a></li><li><a href="https://cit.lanzoui.com/b01nzf3tc">视频播放器 [优秀视频播放器…]</a></li><li><a href="https://cit.lanzoui.com/b01nzf42b">CIT_Teaching [一些教学后收集的成果…]</a></li><li><a href="https://cit.lanzoui.com/b01nzf46f">Win激活 [激活Win，kms建议去官方…]</a></li><li><a href="https://cit.lanzoui.com/b01nzf4fe">移除pdf密码限制 [移除pdf密码限制…]</a></li><li><a href="https://cit.lanzouw.com/b01nzf4mb">下载神器 [win多线程建议IDM、ma…]</a></li><li><a href="https://cit.lanzoui.com/b01nzf4va">毒盘不限速下载 [毒盘不限速下载，变化大…]</a></li><li><a href="https://cit.lanzoui.com/b01nzf52h">向日葵远控pj [HRK主控端，适用于win …]</a></li><li><a href="https://cit.lanzoui.com/b01nzf5bg">压缩软件 [一些压缩软件去广告，建…]</a></li><li><a href="https://cit.lanzoui.com/b01nzf5ni">win强力卸载软件pj [win强力卸载软件pj…]</a></li><li><a href="https://cit.lanzoui.com/b01nzf66h">QQ资料清空保护隐私 [QQ资料清空保护隐私，但…]</a></li><li><a href="https://cit.lanzoui.com/b01nzf6ef">图片查看器 [一些比较好的图片查看…]</a></li><li><a href="https://cit.lanzoui.com/b01nzf6ja">给系统安装插接件 [建议去官网，免费…]</a></li><li><a href="https://cit.lanzoui.com/b01nzf70h">win10运行内存清理 [让win10运行内存小的…]</a></li><li><a href="https://cit.lanzoui.com/b01nzf75c">win10升级最新版win10 [建议去官方，免费…]</a></li><li><a href="https://cit.lanzoui.com/b01nzf78f">百度、豆丁文库等下载 [也可以用脚本]</a></li><li><a href="https://cit.lanzoui.com/b01nzf7fc">谷歌浏览器下载 [因为边境墙厚，内地建议…]</a></li><li><a href="https://cit.lanzoui.com/b01nzf7li">hosts修改 [建议去github下载最新…]</a></li><li><a href="https://cit.lanzoui.com/b01nzf7li">win10超级终端 [win10没有win7的超级…]</a></li><li><a href="https://cit.lanzoui.com/b01nzf7pc">win10系统杀手 [慎用！！！]</a></li><li><a href="https://cit.lanzoui.com/b01nzf7xa">官网看小插件 [畅享官网看海量资源…]</a></li><li><a href="https://cit.lanzoui.com/b01nzf7zc">OCR [一些OCR软件]</a></li><li><a href="https://cit.lanzoui.com/b01nzf85i">科大讯飞语音阉割版 [科大讯飞语音阉割版…]</a></li><li><a href="https://cit.lanzoui.com/b01nzf89c">微软输入法添加词库 [给微软输入法添加词库…]</a></li><li><a href="https://cit.lanzoui.com/b01nzf8dg">DNS优选 [垃圾玩意儿！骗人的吧我…]</a></li><li><a href="https://cit.lanzoui.com/b01nzf8ib">win10火绒安全 [建议去官网]</a></li><li><a href="https://cit.lanzoui.com/b01nzf8ng">win10系统优化 [Dism++，就建议去官网…]</a></li><li><a href="https://cit.lanzoui.com/b01nzf8ra">office安装 [还是建议去亦是美官网…]</a></li><li><a href="https://cit.lanzoui.com/b01nzf98h">浏览器清除缓存提高速度 [win版，适用于谷歌、微…]</a></li><li><a href="https://cit.lanzoui.com/b01nzf9hg">截屏工具 [一些优秀的截屏工具 s…]</a></li><li><a href="https://cit.lanzoui.com/b01nzidfg">网抑云</a></li></ul><h1 id="CITPans（单文件夹-gt-100M）"><a href="#CITPans（单文件夹-gt-100M）" class="headerlink" title="CITPans（单文件夹&gt;100M）"></a><a href="https://citpan.herokuapp.com/">CITPans</a>（单文件夹&gt;100M）</h1><p>点击<a href="https://citpan.herokuapp.com/">CITPans</a>到我搭建的云盘网站吧。。。</p><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>这玩意儿花里胡哨的还浪费精力，但还是秉承着互联网分享/共享精神！（之前查了一下百度百科是分享MBA智库百科是共享）</p>]]></content>
      
      
      <categories>
          
          <category> Cloud </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Cloud </tag>
            
            <tag> 分享 </tag>
            
            <tag> 共享 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python3网络爬虫开发实战教程线上整理</title>
      <link href="fcb7524a.html"/>
      <url>fcb7524a.html</url>
      
        <content type="html"><![CDATA[<h1 id="Python3网络爬虫开发实战教程线上整理"><a href="#Python3网络爬虫开发实战教程线上整理" class="headerlink" title="Python3网络爬虫开发实战教程线上整理"></a>Python3网络爬虫开发实战教程线上整理</h1><h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><p>提起爬虫，Python爬虫界几乎无人不知崔大佬，它的爬虫书——《Python3 网络爬虫开发实战》18年一经出版就非常畅销。书籍质量很高，但爬虫是一种要与反爬不断斗争的技术，很多当时有效的爬虫随着互联网技术的飞速发展现在大多黯然失色，崔大佬本人也因此和拉勾教育合作于20年初推出《52讲轻松搞定网络爬虫》。当然时隔近一年，后者有些部分也显得跟不上时代，期待崔大神新作。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/Python-3%E7%BD%91%E6%A0%BC%E7%88%AC%E8%99%AB%E5%BC%80%E5%8F%91%E5%AE%9E%E6%88%98-%E7%AB%8B%E4%BD%93%E5%9B%BE-857x1100.jpg" alt="img"></p><p>但是还是要说但是了，有些基本知识的精华还是很有价值的，崔大佬无奈书本知识的滞后也偷偷开放付费章节到本人博客但是比较乱，因此这里整理崔庆才博客相关链接，具体内容请点击相应链接跳转到作者博客。</p><h2 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h2><p>根据崔大佬的博客在github上，检索关键字获得隐藏链接。</p><h2 id="链接整理"><a href="#链接整理" class="headerlink" title="链接整理"></a>链接整理</h2><ul><li><a href="https://cuiqingcai.com/5054.html">1 - 开发环境配置</a><ul><li><a href="https://cuiqingcai.com/5059.html">1.1-Python3 的安装</a></li><li><a href="https://cuiqingcai.com/5081.html">1.2 - 请求库的安装</a><ul><li><a href="https://cuiqingcai.com/5132.html">1.2.1-Requests 的安装</a></li><li><a href="https://cuiqingcai.com/5141.html">1.2.2-Selenium 的安装</a></li><li><a href="https://cuiqingcai.com/5135.html">1.2.3-ChromeDriver 的安装</a></li><li><a href="https://cuiqingcai.com/5153.html">1.2.4-GeckoDriver 的安装</a></li><li><a href="https://cuiqingcai.com/5159.html">1.2.5-PhantomJS 的安装</a></li><li><a href="https://cuiqingcai.com/5163.html">1.2.6-aiohttp 的安装</a></li></ul></li><li><a href="https://cuiqingcai.com/5168.html">1.3 - 解析库的安装</a><ul><li><a href="https://cuiqingcai.com/5180.html">1.3.1-lxml 的安装</a></li><li><a href="https://cuiqingcai.com/5183.html">1.3.2-Beautiful Soup 的安装</a></li><li><a href="https://cuiqingcai.com/5186.html">1.3.3-pyquery 的安装</a></li><li><a href="https://cuiqingcai.com/5189.html">1.3.4-tesserocr 的安装</a></li></ul></li><li><a href="https://cuiqingcai.com/5197.html">1.4 - 数据库的安装</a><ul><li><a href="https://cuiqingcai.com/5200.html">1.4.1-MySQL 的安装</a></li><li><a href="https://cuiqingcai.com/5205.html">1.4.2-MongoDB 安装</a></li><li><a href="https://cuiqingcai.com/5219.html">1.4.3-Redis 的安装</a></li></ul></li><li><a href="https://cuiqingcai.com/5224.html">1.5 - 存储库的安装</a><ul><li><a href="https://cuiqingcai.com/5227.html">1.5.1-PyMySQL 的安装</a></li><li><a href="https://cuiqingcai.com/5230.html">1.5.2-PyMongo 的安装</a></li><li><a href="https://cuiqingcai.com/5233.html">1.5.3-redis-py 的安装</a></li><li><a href="https://cuiqingcai.com/5236.html">1.5.4-RedisDump 的安装</a></li></ul></li><li><a href="https://cuiqingcai.com/5239.html">1.6-Web 库的安装</a><ul><li><a href="https://cuiqingcai.com/5244.html">1.6.1-Flask 的安装</a></li><li><a href="https://cuiqingcai.com/5248.html">1.6.2-Tornado 的安装</a></li></ul></li><li><a href="https://cuiqingcai.com/5252.html">1.7-App 爬取相关库的安装</a><ul><li><a href="https://cuiqingcai.com/5255.html">1.7.1-Charles 的安装</a></li><li><a href="https://cuiqingcai.com/5391.html">1.7.2-mitmproxy 的安装</a></li><li><a href="https://cuiqingcai.com/5407.html">1.7.3-Appium 的安装</a></li></ul></li><li><a href="https://cuiqingcai.com/5413.html">1.8 - 爬虫框架的安装</a><ul><li><a href="https://cuiqingcai.com/5416.html">1.8.1-pyspider 的安装</a></li><li><a href="https://cuiqingcai.com/5421.html">1.8.2-Scrapy 的安装</a></li><li><a href="https://cuiqingcai.com/5428.html">1.8.3-Scrapy-Splash 的安装</a></li><li><a href="https://cuiqingcai.com/5432.html">1.8.4-Scrapy-Redis 的安装</a></li></ul></li><li><a href="https://cuiqingcai.com/5435.html">1.9 - 部署相关库的安装</a><ul><li><a href="https://cuiqingcai.com/5438.html">1.9.1-Docker 的安装</a></li><li><a href="https://cuiqingcai.com/5445.html">1.9.2-Scrapyd 的安装</a></li><li><a href="https://cuiqingcai.com/5449.html">1.9.3-Scrapyd-Client 的安装</a></li><li><a href="https://cuiqingcai.com/5453.html">1.9.4-Scrapyd API 的安装</a></li><li><a href="https://cuiqingcai.com/5456.html">1.9.5-Scrapyrt 的安装</a></li><li><a href="https://cuiqingcai.com/5459.html">1.9.6-Gerapy 的安装</a></li></ul></li></ul></li><li><a href="https://cuiqingcai.com/5462.html">2 - 爬虫基础</a><ul><li><a href="https://cuiqingcai.com/5465.html">2.1-HTTP 基本原理</a></li><li><a href="https://cuiqingcai.com/5476.html">2.2 - 网页基础</a></li><li><a href="https://cuiqingcai.com/5484.html">2.3 - 爬虫的基本原理</a></li><li><a href="https://cuiqingcai.com/5487.html">2.4 - 会话和 Cookies</a></li><li><a href="https://cuiqingcai.com/5491.html">2.5 - 代理的基本原理</a></li></ul></li><li><a href="https://cuiqingcai.com/5494.html">3 - 基本库的使用</a><ul><li><a href="https://cuiqingcai.com/5497.html">3.1 - 使用 urllib</a><ul><li><a href="https://cuiqingcai.com/5500.html">3.1.1 - 发送请求</a></li><li><a href="https://cuiqingcai.com/5505.html">3.1.2 - 处理异常</a></li><li><a href="https://cuiqingcai.com/5508.html">3.1.3 - 解析链接</a></li><li><a href="https://cuiqingcai.com/5511.html">3.1.4 - 分析 Robots 协议</a></li></ul></li><li><a href="https://cuiqingcai.com/5514.html">3.2 - 使用 requests</a><ul><li><a href="https://cuiqingcai.com/5517.html">3.2.1 - 基本用法</a></li><li><a href="https://cuiqingcai.com/5523.html">3.2.2 - 高级用法</a></li></ul></li><li><a href="https://cuiqingcai.com/5530.html">3.3 - 正则表达式</a></li><li><a href="https://cuiqingcai.com/5534.html">3.4 - 抓取猫眼电影排行</a></li></ul></li><li><a href="https://cuiqingcai.com/5542.html">4 - 解析库的使用</a><ul><li><a href="https://cuiqingcai.com/5545.html">4.1 - 使用 XPath</a></li><li><a href="https://cuiqingcai.com/5548.html">4.2 - 使用 Beautiful Soup</a></li><li><a href="https://cuiqingcai.com/5551.html">4.3 - 使用 pyquery</a></li></ul></li><li><a href="https://cuiqingcai.com/5554.html">5 - 数据存储</a><ul><li><a href="https://cuiqingcai.com/5557.html">5.1 - 文件存储</a><ul><li><a href="https://cuiqingcai.com/5560.html">5.1.1-TXT 文本存储</a></li><li><a href="https://cuiqingcai.com/5564.html">5.1.2-JSON 文件存储</a></li><li><a href="https://cuiqingcai.com/5571.html">5.1.3-CSV 文件存储</a></li></ul></li><li><a href="https://cuiqingcai.com/5575.html">5.2 - 关系型数据库存储</a><ul><li><a href="https://cuiqingcai.com/5578.html">5.2.1-MySQL 存储</a></li></ul></li><li><a href="https://cuiqingcai.com/5581.html">5.3 - 非关系型数据库存储</a><ul><li><a href="https://cuiqingcai.com/5584.html">5.3.1-MongoDB 存储</a></li><li><a href="https://cuiqingcai.com/5587.html">5.3.2-Redis 存储</a></li></ul></li></ul></li><li><a href="https://cuiqingcai.com/5590.html">6-Ajax 数据爬取</a><ul><li><a href="https://cuiqingcai.com/5593.html">6.1 - 什么是 Ajax</a></li><li><a href="https://cuiqingcai.com/5597.html">6.2-Ajax 分析方法</a></li><li><a href="https://cuiqingcai.com/5609.html">6.3-Ajax 结果提取</a></li><li><a href="https://cuiqingcai.com/5616.html">6.4 - 分析 Ajax 爬取今日头条街拍美图</a></li></ul></li><li><a href="https://cuiqingcai.com/5627.html">7 - 动态渲染页面爬取</a><ul><li><a href="https://cuiqingcai.com/5630.html">7.1-Selenium 的使用</a></li><li><a href="https://cuiqingcai.com/5638.html">7.2-Splash 的使用</a></li><li><a href="https://cuiqingcai.com/5654.html">7.3-Splash 负载均衡配置</a></li><li><a href="https://cuiqingcai.com/5657.html">7.4 - 使用 Selenium 爬取淘宝商品</a></li></ul></li><li><a href="hhttps://cuiqingcai.com/7032.html">8 - 验证码的识别</a><ul><li><a href="https://cuiqingcai.com/7035.html">8.1 - 图形验证码的识别</a></li><li><a href="https://cuiqingcai.com/7037.html">8.2 - 极验滑动验证码的识别</a></li><li><a href="https://cuiqingcai.com/7039.html">8.3 - 点触验证码的识别</a></li><li><a href="https://cuiqingcai.com/7041.html">8.4 - 微博宫格验证码的识别</a></li></ul></li><li><a href="https://cuiqingcai.com/7043.html">9 - 代理的使用</a><ul><li><a href="https://cuiqingcai.com/7045.html">9.1 - 代理的设置</a></li><li><a href="https://cuiqingcai.com/7048.html">9.2 - 代理池的维护</a></li><li><a href="https://cuiqingcai.com/7051.html">9.3 - 付费代理的使用</a></li><li><a href="https://cuiqingcai.com/8361.html">9.4-ADSL 拨号代理</a></li><li><a href="https://cuiqingcai.com/7844.html">9.5 - 使用代理爬取微信公众号文章</a></li></ul></li><li><a href="https://cuiqingcai.com/5678.html">10 - 模拟登录</a><ul><li><a href="https://cuiqingcai.com/8229.html">10.1 - 模拟登录并爬取 GitHub</a></li><li><a href="https://cuiqingcai.com/8243.html">10.2-Cookies 池的搭建</a></li></ul></li><li><a href="https://cuiqingcai.com/5678.html">11-App 的爬取</a><ul><li><a href="https://cuiqingcai.com/8247.html">11.1-Charles 的使用</a></li><li><a href="https://cuiqingcai.com/8260.html">11.2-mitmproxy 的使用</a></li><li><a href="https://cuiqingcai.com/8263.html">11.3-mitmdump 爬取 “得到” App 电子书信息</a></li><li><a href="https://cuiqingcai.com/8290.html">11.4-Appium 的基本使用</a></li><li><a href="https://cuiqingcai.com/8293.html">11.5-Appium 爬取微信朋友圈</a></li><li><a href="https://cuiqingcai.com/8306.html">11.6-Appium+mitmdump 爬取京东商品</a></li></ul></li><li><a href="https://cuiqingcai.com/5678.html">12-pyspider 框架的使用</a><ul><li><a href="https://cuiqingcai.com/8309.html">12.1-pyspider 框架介绍</a></li><li><a href="https://cuiqingcai.com/8317.html">12.2-pyspider 的基本使用</a></li><li><a href="https://cuiqingcai.com/8320.html">12.3-pyspider 用法详解</a></li></ul></li><li><a href="https://cuiqingcai.com/5678.html">13-Scrapy 框架的使用</a><ul><li><a href="https://cuiqingcai.com/8364.html">13.1-Scrapy 框架介绍</a></li><li><a href="https://cuiqingcai.com/8337.html">13.2-Scrapy 入门</a></li><li><a href="https://cuiqingcai.com/8350.html">13.3-Selector 的用法</a></li><li><a href="https://cuiqingcai.com/8353.html">13.4-Spider 的用法</a></li><li><a href="https://cuiqingcai.com/8381.html">13.5-Downloader Middleware 的用法</a></li><li><a href="https://cuiqingcai.com/8385.html">13.6-Spider Middleware 的用法</a></li><li><a href="https://cuiqingcai.com/8394.html">13.7-Item Pipeline 的用法</a></li><li><a href="https://cuiqingcai.com/8397.html">13.8-Scrapy 对接 Selenium</a></li><li><a href="https://cuiqingcai.com/8410.html">13.9-Scrapy 对接 Splash</a></li><li><a href="https://cuiqingcai.com/8413.html">13.10-Scrapy 通用爬虫</a></li><li><a href="https://cuiqingcai.com/8445.html">13.11-Scrapyrt 的使用</a></li><li><a href="https://cuiqingcai.com/8448.html">13.12-Scrapy 对接 Docker</a></li><li><a href="https://cuiqingcai.com/8453.html">13.13-Scrapy 爬取新浪微博</a></li></ul></li><li><a href="https://cuiqingcai.com/5678.html">14 - 分布式爬虫</a><ul><li><a href="https://cuiqingcai.com/8456.html">14.1 - 分布式爬虫原理</a></li><li><a href="https://cuiqingcai.com/8465.html">14.2-Scrapy-Redis 源码解析</a></li><li><a href="https://cuiqingcai.com/8468.html">14.3-Scrapy 分布式实现</a></li><li><a href="https://cuiqingcai.com/8472.html">14.4-Bloom Filter 的对接</a></li></ul></li><li><a href="https://cuiqingcai.com/5678.html">15 - 分布式爬虫的部署</a><ul><li><a href="https://cuiqingcai.com/8475.html">15.1-Scrapyd 分布式部署</a></li><li><a href="https://cuiqingcai.com/8491.html">15.2-Scrapyd-Client 的使用</a></li><li><a href="https://cuiqingcai.com/8494.html">15.3-Scrapyd 对接 Docker</a></li><li><a href="https://cuiqingcai.com/8506.html">15.4-Scrapyd 批量部署</a></li><li><a href="https://cuiqingcai.com/8509.html">15.5-Gerapy 分布式管理</a></li></ul></li></ul><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>18年的知识有些是精华，但有些失效的部分就需要擦亮双眼分辨一下。</p><p>这里还推荐一下<a href="https://kaiwu.lagou.com/course/courseInfo.htm?courseId=46#/content">《52讲轻松搞定网络爬虫》</a>以前新用户1元白嫖任意一门课，现在好像是7天VIP会员——好像督促你7天把他学完！！！关于这个我也有一些<a href="https://gitee.com/zhangkaiheng/Python52Scrapy/tree/master/content">学习笔记</a>，当然copy+修修补补有些地方可能与崔大佬不一样，但也是可以看看的。</p><p>参考：</p><ul><li><a href="https://github.com/Germey/Blog">崔庆才博客在github的源码</a></li><li><a href="https://cuiqingcai.com/5052.html">Python3 网络爬虫开发实战教程</a>目录中13.5及以后后会跳转到购买书籍章节</li></ul>]]></content>
      
      
      <categories>
          
          <category> 爬虫 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> 爬虫 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>20210124CITPython交流+WebScraper可视化爬虫</title>
      <link href="daaed497.html"/>
      <url>daaed497.html</url>
      
        <content type="html"><![CDATA[<h1 id="20210124CITPython交流-WebScraper可视化爬虫"><a href="#20210124CITPython交流-WebScraper可视化爬虫" class="headerlink" title="20210124CITPython交流+WebScraper可视化爬虫"></a>20210124CITPython交流+WebScraper可视化爬虫</h1><h2 id="可视化爬虫"><a href="#可视化爬虫" class="headerlink" title="可视化爬虫"></a>可视化爬虫</h2><p>为什么叫可视化爬虫？（当然这里本人承认自己略有根据地随意起的哈哈哈哈哈哈）</p><ul><li><p>本教程可面向纯小白用户，不写代码不写公式，迈出数据分析的第一步。</p></li><li><p>这些操作几乎全部都是GUI可视化界面的操作，当然有点网页结构、爬虫思维更好。</p></li><li><p>生活中很多的数据分析场合，都是很轻量的，不需要上 Python 爬虫、高并发架构，机器学习等重武器，一个浏览器再加一个 Excel 就足够了：</p><p>比如说某门课程论文交稿只有几天了，急需快速爬取数据进行数据分析，这时候临阵磨枪学习 Python 爬虫知识时间完全不够；<br>做一些市场调研和运营工作需要对数据进行采集，让技术部门支持的话，走流程的周期过长，不如撸起袖子自己做；<br>工作跳槽，想知道市场上的技能要求和薪资分布，需要采集数据并分析市场需求；<br>……<br>这些都是生活中会遇到的问题，面对这些数据量不大（100~10000）的分析需求，非互联网技术人士去学习一些编程知识其实性价比并不高。我们不如利用手头最常见的工具——Excel 和 浏览器，去分析去梳理数据，辅助进行思考和更好的决策。</p></li></ul><p>这也算本门教程的目的——用 20% 的精力解决 80% 的数据分析需求，解放个人的生产力。</p><p>爬虫，即数据采集，就是利用爬虫软件从互联网上爬取想要数据，然后存储到本地；简单的可以使用Excel、WebScraper、八爪鱼等，今天我们以WebScraper为例，因为在我眼里，小组的人Excel爬虫都会点儿，而八爪鱼采集器≈浏览器+插件WebScraper！！！</p><p>而且WebScraper还有以下有点：</p><ol><li>门槛足够低，只要你电脑上安装了 Chrome 浏览器就可以用</li><li>永久免费，无付费功能，无需注册</li><li>操作简单，点几次鼠标就能爬取网页，真正意义上的 0 行代码写爬虫</li></ol><h2 id="WebScraper安装"><a href="#WebScraper安装" class="headerlink" title="WebScraper安装"></a>WebScraper安装</h2><p>会科学上网的请点击谷歌商店搜索WebScraper关键词，<a href="https://chrome.google.com/webstore/detail/web-scraper-free-web-scra/jnhgnonknehpejjnehehllkliplmbmhn?hl=zh-CN">直达通道</a></p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/p62402899.webp" alt="img"></p><p>也可到国内一些类似谷歌商店的镜像，如<a href="https://chrome.zzzmh.cn/">极简插件</a>、<a href="https://www.extfans.com/">扩展密</a>、<a href="https://www.gugeapps.net/">仿chrome 网上应用店</a>等，但因为非官方能科学上网的还是不太建议</p><h2 id="爬取一页"><a href="#爬取一页" class="headerlink" title="爬取一页"></a>爬取一页</h2><p>但凡做爬虫练手，第一个爬取的网站一般都是<a href="https://movie.douban.com/top250?start=0&filter=">豆瓣电影 TOP 250</a>，网址链接是 <a href="https://movie.douban.com/top250?start=0&amp;filter=%E3%80%82%E7%AC%AC%E4%B8%80%E6%AC%A1%E4%B8%8A%E6%89%8B%EF%BC%8C%E6%88%91%E4%BB%AC%E7%88%AC%E5%8F%96%E7%9A%84%E5%86%85%E5%AE%B9%E5%B0%BD%E9%87%8F%E7%AE%80%E5%8D%95%EF%BC%8C%E6%89%80%E4%BB%A5%E6%88%91%E4%BB%AC%E5%8F%AA%E7%88%AC%E5%8F%96%E7%AC%AC%E4%B8%80%E9%A1%B5%E7%9A%84%E7%94%B5%E5%BD%B1%E6%A0%87%E9%A2%98%E3%80%82">https://movie.douban.com/top250?start=0&amp;filter=。第一次上手，我们爬取的内容尽量简单，所以我们只爬取第一页的电影标题。</a></p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/p62697176.webp" alt="img"></p><p>浏览器按 <code>F12</code> 打开控制台，并把控制台放在网页的<strong>下方</strong>（具体操作可以看<a href="https://www.cnblogs.com/web-scraper/p/web_scraper_start_2.html">上一篇文章</a>），然后找到 Web Scraper 这个 Tab，点进去就来到了 Web Scraper 的控制页面。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/p62697178.webp" alt="img"></p><p>进入 Web Scraper 的控制页面后，我们按照 <code>Create new sitemap</code> -&gt; <code>Create Sitemap</code> 的操作路径，创建一个新的爬虫，<code>sitemap</code> 是啥意思并不重要，你就当他是个爬虫的别名就好了。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/p62697177.webp" alt="img"></p><p>我们在接下来出现的输入框里依次输入爬虫名和要爬取的链接。</p><p>爬虫名可能会有字符类型的限制，我们看一下规则规避就好了，最后点击 <code>Create Sitemap</code> 这个按钮，创建我们的第一个爬虫。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/p62697181.webp" alt="img"></p><p>这时候会跳到一个新的操作面板，不要管别的，我们直接点击 <code>Add new selector</code> 这个蓝底白字的按钮，顾名思义，创建一个选择器，用来选择我们想要抓取的元素。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/p62697180.webp" alt="img"></p><p>这时候就要开始正式的数据抓取环节了！我们先观察一下这个面板有些什么东西：</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/p62697183.webp" alt="img"></p><blockquote><p>1.首先有个 Id，这个就是给我们要爬取的内容标注一个 id，因为我们要抓取电影的名字，简单起见就取个 name 吧； 2.电影名字很明显是一段文字，所以 Type 类型肯定是 Text，在这个爬虫工具里，默认 Type 类型就是 Text，这次的爬取工作就不需要改动了； 3.我们把多选按钮 Multiple 勾选上，因为我们要抓的是批量的数据，不勾选的话只能抓取一个； 4.最后我们点击黄色圆圈里的 Select，开始在网页上勾选电影名字；</p></blockquote><p>当你把鼠标移动到网页时，会发现网页上出现了绿色的方块儿，这些方块就是网页的构成元素，当我们点击鼠标时，绿色的方块儿就会变为红色，表示这个元素被选中了：</p><p><img src="https://img2.doubanio.com/view/note/l/public/p62697182.webp" alt="img"></p><p>这时候我们就可以进行我们的抓取工作了。</p><p>我们先选择「<strong>肖生克的救赎</strong>」这个标题，然后再选择「<strong>霸王别姬</strong>」这个标题（<strong>注意：想达到多选的效果，一定要手动选取两个以上的内容</strong>）</p><p>选完这两个标题后，向下拉动网页，你就会发现所有的电影名字都被选中了：</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/p62697185.webp" alt="img"></p><p>拉动网页检查一遍，发现所有的电影标题都被选中后，我们就可以点击 <code>Done selecting!</code>这个按钮，表示选择完毕；</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/p62697184.webp" alt="img"></p><p>点击按钮后你会发现下图的红框位置会出现了一些字符，一般出现这个就表示选取成功了：</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/p62697186.webp" alt="img"></p><p>我们点击 <code>Data preview</code> 这个按钮，就可以预览我们的抓取效果了：</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/p62697187.webp" alt="img"></p><p>没什么问题的话，关闭 Data Preview 弹窗，翻到面板的最下面，有个 <code>Save selector</code> 的蓝色按钮，点击后我们会回退到上一个面板。</p><p>这时候你会发现多了一行数据，其实就是我们刚刚的操作内容被记录下来了。</p><p>在顶部的 tab 栏，有一个 <code>Sitemap top250</code> 的 tab，这个就是我们刚刚创建的爬虫。点击它，再点击下拉菜单里的 <code>Scrape</code> 按钮，开始我们的数据抓取。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/p62697188.webp" alt="img"></p><p>这时候你会跳到另一个面板，里面有两个输入框，先别管他们是什么，全部输入 2000 就好了。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/p62697189.webp" alt="img"></p><p>点击 <code>Start scraping</code> 蓝色按钮后，会跳出一个新的网页，<code>Web Scraper</code> 插件会在这里进行数据抓取：</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/p62697191.webp" alt="img"></p><p>一般弹出的网页自动关闭就代表着数据抓取结束了，我们点击面板上的 <code>refresh</code> 蓝色按钮，就可以看到我们抓取的数据了！</p><p>在这个预览面板上，第一列是 web scraper 自动添加的编号，没啥意义；第二列是抓取的链接，第三列就是我们抓取的数据了。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/p62697190.webp" alt="img"></p><p>这个数据会存储在我们的浏览器里，我们也可以点击 <code>Sitemap top250</code> 下的 <code>Export data as CSV</code>，这样就可以导出成 <code>.csv</code> 格式的数据，这种格式可以用 Excel 打开，我们可以用 Excel 做一些数据格式化的操作。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/p62697192.webp" alt="img"></p><p>接下来我们分析一下网页进行翻页（其实爬虫第一步应该是先分析网页来着哈哈哈哈哈哈哈）</p><h2 id="分析网页"><a href="#分析网页" class="headerlink" title="分析网页"></a>分析网页</h2><p>我们先看看第一页的豆瓣网址链接：</p><blockquote><p><a href="https://movie.douban.com/top250?start=0&amp;filter=">https://movie.douban.com/top250?start=0&amp;filter=</a></p></blockquote><ol><li><code>https://movie.douban.com</code> 这个很明显就是个豆瓣的电影网址，没啥好说的</li><li><code>top250</code> 这个一看就是网页的内容，豆瓣排名前 250 的电影，也没啥好说的</li><li><code>?</code> 后面有个<code>start=0&amp;filter=</code> ，根据英语提示来看，好像是说筛选（filter），从 0 开始（start）</li></ol><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/p62890353.webp" alt="img"></p><p>再看看第二页的网址链接，前面都一样，只有后面的参数变了，变成了 <code>start=25</code>，从 25 开始；</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/p62890355.webp" alt="img"></p><p>我们再看看第三页的链接，参数变成了  <code>start=50</code>，从 50 开始；</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/p62890356.webp" alt="img"></p><p>分析 3 个链接我们很容易得出规律：</p><blockquote><p>start=0，表示从排名第 1 的电影算起，展示 1-25 的电影 start=25，表示从排名第 26 的电影算起，展示 26-50 的电影 start=50，表示从排名第 51 的电影算起，展示 51-75 的电影 …… start=225，表示从排名第 226 的电影算起，展示 226-250 的电影</p></blockquote><p>规律找到了就好办了，只要技术提供支持就行。<strong>随着深入学习，你会发现 Web Scraper 的操作并不是难点，最需要思考的其实还是这个找规律。</strong></p><p>Web Scraper 针对这种通过<strong>超链接数字分页</strong>获取分页数据的网页，提供了非常便捷的操作，那就是<strong>范围指定器</strong>。</p><p>比如说你想抓取的网页链接是这样的：</p><ul><li><code>http://example.com/page/1</code></li><li><code>http://example.com/page/2</code></li><li><code>http://example.com/page/3</code></li></ul><p>你就可以写成 <a href="http://example.com/page/[1-3]%EF%BC%8C%E6%8A%8A%E9%93%BE%E6%8E%A5%E6%94%B9%E6%88%90%E8%BF%99%E6%A0%B7%EF%BC%8CWeb">http://example.com/page/[1-3]，把链接改成这样，Web</a> Scraper 就会自动抓取这三个网页的内容。</p><p>当然，你也可以写成 <a href="http://example.com/page/[1-100]%EF%BC%8C%E8%BF%99%E6%A0%B7%E5%B0%B1%E5%8F%AF%E4%BB%A5%E6%8A%93%E5%8F%96%E5%89%8D">http://example.com/page/[1-100]，这样就可以抓取前</a> 100 个网页。</p><p>那么像我们之前分析的豆瓣网页呢？它不是从 1 到 100 递增的，而是 0 -&gt; 25 -&gt; 50 -&gt; 75 这样每隔 25 跳的，这种怎么办？</p><ul><li><code>http://example.com/page/0</code></li><li><code>http://example.com/page/25</code></li><li><code>http://example.com/page/50</code></li></ul><p>其实也很简单，这种情况可以用 <code>[0-100:25]</code> 表示，每隔 25 是一个网页，100/25=4，爬取前 4 个网页，放在豆瓣电影的情景下，我们只要把链接改成下面的样子就行了；</p><p><a href="https://movie.douban.com/top250?start=%5B0-225:25%5D&amp;filter=">https://movie.douban.com/top250?start=[0-225:25]&amp;filter=</a></p><p>这样 Web Scraper 就会抓取 TOP250 的所有网页了。</p><h2 id="翻页爬取"><a href="#翻页爬取" class="headerlink" title="翻页爬取"></a>翻页爬取</h2><p>解决了链接的问题，接下来就是如何在 Web Scraper 里修改链接了，很简单，就点击两下鼠标：</p><p>**1.**点击 <code>Stiemaps</code>，在新的面板里点击 ID 为 <code>top250</code> 的这列数据；</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/p62890357.webp" alt="img"></p><p>**2.**进入新的面板后，找到 <code>Stiemap top250</code> 这个 Tab，点击，再点击下拉菜单里的 <code>Edit metadata</code>；</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/p62890358.webp" alt="img"></p><p>**3.**修改原来的网址，图中的红框是不同之处：</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/p62890359.webp" alt="img"></p><p>修改好了超链接，我们重新抓取网页就好了。操作和<a href="https://www.cnblogs.com/web-scraper/p/web_scraper_first_scrape_douban.html">上文</a>一样，我这里就简单复述一下：</p><ol><li>点击 <code>Sitemap top250</code> 下拉菜单里的 <code>Scrape</code> 按钮</li><li>新的操作面板的两个输入框都输入 2000</li><li>点击 <code>Start scraping</code> 蓝色按钮开始抓取数据</li><li>抓取结束后点击面板上的 <code>refresh</code> 蓝色按钮，检测我们抓取的数据</li></ol><p>如果你操作到这里并抓取成功的话，你会发现数据是全部抓取下来了，但是顺序都是乱的。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/p62890360.webp" alt="img"></p><p>我们这里先不管顺序问题，因为这个属于<strong>数据清洗</strong>的内容了，我们现在的专题是<strong>数据抓取</strong>。先把相关的知识点讲完，再攻克下一个知识点，才是更合理的学习方式。</p><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>总的来说，WebScraper相较于Python门槛更低、更易上手，但上限有限，也希望WebScraper社区不断改进。</p><p>但是还是要说但是了，这种自动化爬虫对于我们来说日常采集数据的需求还是够用一些了。</p><iframe id="pqvE7xEK-1596373719908" src="https://citpan.herokuapp.com/CITpan/CIT%E5%B0%8F%E7%BB%84%E8%B5%84%E6%BA%90/CIT%E5%9F%B9%E8%AE%AD%E5%9B%9E%E6%94%BE/20210124CITPython%E4%BA%A4%E6%B5%81%2BWebScraper%E5%8F%AF%E8%A7%86%E5%8C%96%E7%88%AC%E8%99%AB.mp4?preview" allowfullscreen="true" data-mediaembed="bilibili" __idm_id__="291592193" style="box-sizing: border-box; outline: 0px; margin: 0px; padding: 0px; font-weight: normal; overflow-wrap: break-word; display: block; width: 660px; height: 330px;"></iframe><p>这个插入的视频好像有点问题，去B站吧-&gt;<a href="https://www.bilibili.com/video/BV1d54y1s7hZ">回放</a>与<a href="https://github.com/Kit139/WebScraper">代码</a>献上</p><p>参考文献：</p><ul><li><a href="https://zhuanlan.zhihu.com/p/88193090">不会写Python代码如何抓取豆瓣电影 Top 250</a></li><li><a href="https://www.douban.com/note/724882625">简易数据分析 04 | Web Scraper 初尝–抓取豆瓣高分电影</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> CIT </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 爬虫 </tag>
            
            <tag> WebScraper </tag>
            
            <tag> 自动化 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pandas网页Table表格型数据爬虫+快代理实战</title>
      <link href="729dca89.html"/>
      <url>729dca89.html</url>
      
        <content type="html"><![CDATA[<h1 id="Pandas网页Table表格型数据爬虫-快代理实战"><a href="#Pandas网页Table表格型数据爬虫-快代理实战" class="headerlink" title="Pandas网页Table表格型数据爬虫+快代理实战"></a>Pandas网页Table表格型数据爬虫+快代理实战</h1><h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><p>听说有些刚入门的觉得上次的requests爬虫有点难度？那咱们就来个更简单的——pandas爬虫，虽然它很鸡肋。。。</p><p>优点：对于网页的抓取Table表格型数据专能，代码几行代码就能爬下数据，适合入门</p><p>缺点：用途单一，你想要的数据怎么可能都在表格里呢。。。学着玩玩留作备用吧哈哈哈哈哈哈哈</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/20210117180027.png"></p><h2 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h2><p>pandas是基于NumPy 的一种工具，该工具是为解决数据分析任务而创建的。Pandas 纳入了大量库和一些标准的数据模型，提供了高效地操作大型数据集所需的工具。pandas提供了大量能使我们快速便捷地处理数据的函数和方法。本次使用pandas中的pd.read_html()这个函数，功能非常强大，可以轻松实现抓取Table表格型数据。无需掌握正则表达式或者xpath等工具，短短的几行代码就可以将网页数据抓取下来。</p><h2 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h2><h3 id="1-Table表格型数据网页结构"><a href="#1-Table表格型数据网页结构" class="headerlink" title="1.Table表格型数据网页结构"></a>1.Table表格型数据网页结构</h3><p>pandas适合抓取Table表格型数据，那么咱们首先得知道什么样的网页具有Table表格型数据结构(有html基础的大佬可自行跳过这一part)。</p><p>我们先来看个简单的例子。（快捷键F12可快速查看网页的HTML结构）</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210117220259618.png" alt="image-20210117220259618"></p><p>从以上网站可以看出，数据存储在一个table表格中，thread为表头，tbody为表格数据，tbody中的一个tr对应表中的一行，一个td对应一个表中元素。</p><p>我们再来看一个例子：</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/hn2vzm93rz.png" alt="hn2vzm93rz"></p><p>也许你已经发现了规律，以Table结构展示的表格数据，大致的网页结构如下：</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;table class=&quot;...&quot; id=&quot;...&quot;&gt;</span><br><span class="line">     &lt;thead&gt;</span><br><span class="line">     &lt;tr&gt;</span><br><span class="line">     &lt;th&gt;...&lt;/th&gt;</span><br><span class="line">     &lt;/tr&gt;</span><br><span class="line">     &lt;/thead&gt;</span><br><span class="line">     &lt;tbody&gt;</span><br><span class="line">        &lt;tr&gt;</span><br><span class="line">            &lt;td&gt;...&lt;/td&gt;</span><br><span class="line">        &lt;/tr&gt;</span><br><span class="line">        &lt;tr&gt;...&lt;/tr&gt;</span><br><span class="line">        &lt;tr&gt;...&lt;/tr&gt;</span><br><span class="line">        ...</span><br><span class="line">        &lt;tr&gt;...&lt;/tr&gt;</span><br><span class="line">        &lt;tr&gt;...&lt;/tr&gt;        </span><br><span class="line">    &lt;/tbody&gt;</span><br><span class="line">&lt;/table&gt;</span><br></pre></td></tr></table></figure><p>只要网页具有以上结构，你就可以尝试用pandas抓取数据。</p><h3 id="2-pandas请求表格数据流程"><a href="#2-pandas请求表格数据流程" class="headerlink" title="2.pandas请求表格数据流程"></a>2.pandas请求表格数据流程</h3><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210117185828682.png" alt="流程图"></p><p>针对网页结构类似的表格类型数据，pd.read_html()可以将网页上的表格数据都抓取下来，并以DataFrame的形式装在一个list中返回。</p><h3 id="3-pd-read-html语法及参数"><a href="#3-pd-read-html语法及参数" class="headerlink" title="3.pd.read_html语法及参数"></a>3.pd.read_html语法及参数</h3><p>（1）<strong>基本语法</strong>：</p><p>pycharm快捷键可以看到read_html()的参数</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210117182126073.png" alt="image-20210117182126073"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pandas.read_html(io,match=<span class="string">&#x27;.+&#x27;</span>,flavor=<span class="literal">None</span>,header=<span class="literal">None</span>,index_col=<span class="literal">None</span>,skiprows=<span class="literal">None</span>, attrs=<span class="literal">None</span>,</span><br><span class="line">parse_dates=<span class="literal">False</span>, thousands=<span class="string">&#x27;, &#x27;</span>, encoding=<span class="literal">None</span>, decimal=<span class="string">&#x27;.&#x27;</span>, converters=<span class="literal">None</span>, na_values=<span class="literal">None</span>, </span><br><span class="line">keep_default_na=<span class="literal">True</span>, displayed_only=<span class="literal">True</span>）</span><br></pre></td></tr></table></figure><p>（2）<strong>主要参数</strong>：</p><table><thead><tr><th>参数</th><th>释义</th></tr></thead><tbody><tr><td>io</td><td>接收网址、文件、字符串</td></tr><tr><td>parse_dates</td><td>解析日期</td></tr><tr><td>flavor</td><td>解析器</td></tr><tr><td>header</td><td>标题行</td></tr><tr><td>skiprows</td><td>跳过的行属性，比如 attrs = {‘id’: ‘table’}</td></tr></tbody></table><h2 id="实战"><a href="#实战" class="headerlink" title="实战"></a>实战</h2><h3 id="案例1：抓取世界大学排名"><a href="#案例1：抓取世界大学排名" class="headerlink" title="案例1：抓取世界大学排名"></a>案例1：抓取世界大学排名</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd </span><br><span class="line"><span class="keyword">import</span> csv</span><br><span class="line">url1 = <span class="string">&#x27;http://www.compassedu.hk/qs&#x27;</span></span><br><span class="line">df1 = pd.read_html(url1)[<span class="number">0</span>]  <span class="comment">#0表示网页中的第一个Table</span></span><br><span class="line">df1.to_csv(<span class="string">&#x27;世界大学综合排名.csv&#x27;</span>,index=<span class="number">0</span>)</span><br></pre></td></tr></table></figure><p>没错，5行代码，几秒钟就搞定，我们来预览下爬取到的数据：</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/24171048-3c6ae3eff36aecb7.png" alt="img"></p><h3 id="案例2：抓取新浪财经基金重仓股数据"><a href="#案例2：抓取新浪财经基金重仓股数据" class="headerlink" title="案例2：抓取新浪财经基金重仓股数据"></a>案例2：抓取新浪财经基金重仓股数据</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> csv</span><br><span class="line">df2 = pd.DataFrame()</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">6</span>):</span><br><span class="line">    url2 = <span class="string">&#x27;http://vip.stock.finance.sina.com.cn/q/go.php/vComStockHold/kind/jjzc/index.phtml?p=&#123;page&#125;&#x27;</span>.<span class="built_in">format</span>(page=i+<span class="number">1</span>)</span><br><span class="line">    df2 = pd.concat([df2,pd.read_html(url2)[<span class="number">0</span>]])</span><br><span class="line">    print(<span class="string">&#x27;第&#123;page&#125;页抓取完成&#x27;</span>.<span class="built_in">format</span>(page = i + <span class="number">1</span>))</span><br><span class="line">df2.to_csv(<span class="string">&#x27;./新浪财经数据.csv&#x27;</span>,encoding=<span class="string">&#x27;utf-8&#x27;</span>,index=<span class="number">0</span>)</span><br></pre></td></tr></table></figure><p>没错，8行代码搞定，还是那么简单。如果对翻页爬虫不理解，可查看公众号「菜J学Python」历史原创文章「实战|手把手教你用Python爬虫(附详细源码)」，如果对DataFrame合并不理解，可查看公众号历史原创文章「基础|Pandas常用知识点汇总(四)」。</p><p>我们来预览下爬取到的数据：</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/24171048-b5db3843aae2256d.png" alt="img"></p><h3 id="案例3：抓取证监会披露的IPO数据"><a href="#案例3：抓取证监会披露的IPO数据" class="headerlink" title="案例3：抓取证监会披露的IPO数据"></a>案例3：抓取证监会披露的IPO数据</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">from</span> pandas <span class="keyword">import</span> DataFrame</span><br><span class="line"><span class="keyword">import</span> csv</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line">start = time.time() <span class="comment">#程序计时</span></span><br><span class="line">df3 = DataFrame(data=<span class="literal">None</span>,columns=[<span class="string">&#x27;公司名称&#x27;</span>,<span class="string">&#x27;披露类型&#x27;</span>,<span class="string">&#x27;上市板块&#x27;</span>,<span class="string">&#x27;保荐机构&#x27;</span>,<span class="string">&#x27;披露时间&#x27;</span>, <span class="string">&#x27;公告&#x27;</span>]) <span class="comment">#添加列名</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">3</span>):</span><br><span class="line">    url3 =<span class="string">&#x27;http://eid.csrc.gov.cn/ipo/1010/index_%s.html&#x27;</span>%<span class="built_in">str</span>(i)</span><br><span class="line">    print(url3)</span><br><span class="line">    df3_1 = pd.read_html(url3,encoding=<span class="string">&#x27;utf-8&#x27;</span>)[<span class="number">0</span>]  <span class="comment">#必须加utf-8，否则乱码</span></span><br><span class="line">    df3_1.columns=[<span class="string">&#x27;公司名称&#x27;</span>,<span class="string">&#x27;披露类型&#x27;</span>,<span class="string">&#x27;上市板块&#x27;</span>,<span class="string">&#x27;保荐机构&#x27;</span>,<span class="string">&#x27;披露时间&#x27;</span>, <span class="string">&#x27;公告&#x27;</span>] <span class="comment">#新的df添加列名</span></span><br><span class="line">    df3 = pd.concat([df3,df3_1])  <span class="comment">#数据合并</span></span><br><span class="line">    print(<span class="string">&#x27;第&#123;page&#125;页抓取完成&#x27;</span>.<span class="built_in">format</span>(page=i))</span><br><span class="line"><span class="comment"># df3.to_csv(&#x27;./上市公司IPO信息.csv&#x27;, encoding=&#x27;utf-8&#x27;,index=0) #保存数据到csv文件</span></span><br><span class="line">end = time.time()</span><br><span class="line"><span class="built_in">print</span> (<span class="string">&#x27;共抓取&#x27;</span>,<span class="built_in">len</span>(df3),<span class="string">&#x27;家公司,&#x27;</span> + <span class="string">&#x27;用时&#x27;</span>,<span class="built_in">round</span>((end-start)/<span class="number">60</span>,<span class="number">2</span>),<span class="string">&#x27;分钟&#x27;</span>)</span><br><span class="line">print(df3)</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210117222007162.png" alt="image-20210117222007162"></p><p>这里只爬取了两页，当然你将range里改一下就能爬取全部页数了，可能需要time.sleep()一下哈哈哈哈哈哈。另外可以发现添加了个程序计时，方便查看爬取速度。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/24171048-fe0161c35ad75967.png" alt="img"></p><p>2分14秒爬下217页4334条数据，相当nice了。我们来预览下爬取到的数据：</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/24171048-9c753186a310ef20.png" alt="img"></p><p>需要注意的是，并不是所有表格都可以用pd.read_html爬取，有的网站表面上看起来是表格，但在网页源代码中不是table格式，而是list列表格式。还有一种情况是网页前后端分离时，你就要XHR或者JS分析了哈哈哈哈哈哈哈</p><h3 id="案例4：快代理"><a href="#案例4：快代理" class="headerlink" title="案例4：快代理"></a>案例4：快代理</h3><p>见视频<a href="https://www.bilibili.com/video/BV15K4y1W7KX/">回放</a></p><p>演示代码见<a href="https://github.com/Kit139/Pandas.read_html">github</a>上</p><p>tips：</p><blockquote><p>小马哥：你们回去都下载下来试试哈，这东西还挺好玩的</p><p>哈哈哈哈哈哈哈还不赶快去下载eNSP学<a href="https://www.bilibili.com/video/BV1Dr4y1T7Co/">网络基础</a>去</p></blockquote><p>参考文章：</p><ul><li><a href="https://zhuanlan.zhihu.com/p/122361747">天秀！Pandas还能用来写爬虫？</a></li><li><a href="https://www.jianshu.com/p/ecb4b2fc7f81">Pandas也能爬虫，还如此简单！</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> 爬虫 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 爬虫 </tag>
            
            <tag> Pandas </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python爬取股吧评论+情感分析</title>
      <link href="d8816516.html"/>
      <url>d8816516.html</url>
      
        <content type="html"><![CDATA[<h2 id="Python爬取股吧评论-情感分析"><a href="#Python爬取股吧评论-情感分析" class="headerlink" title="Python爬取股吧评论+情感分析"></a>Python爬取股吧评论+情感分析</h2><h2 id="1-背景"><a href="#1-背景" class="headerlink" title="1. 背景"></a>1. 背景</h2><p>上学期老师就让我爬取东方财富股吧评论进行情感打分了，这里总结一下。</p><p>这里只弄简单的，实际短时间爬取海量数据还要买代理。。。 </p><h2 id="2-爬取工具"><a href="#2-爬取工具" class="headerlink" title="2. 爬取工具"></a>2. 爬取工具</h2><p>本文使用了 Python 的 <code>request</code> 库作为主要爬取工具，并且该库具有简单易用等特点，能够满足一般的数据爬取需求。</p><p>进一步，本文使用了 <code>xpath</code> 来获取特定标签所储存的信息。<code>XPath</code>，全称 XML Path Language，即 XML 路径语言。<code>XPath</code> 最初设计是用来搜寻 XML 文档的，但是也同样适用于 HTML 文档的搜索。XPath 的选择功能十分强大，不但提供了非常简洁明了的路径选择表达式，而且还提供了超过 100 个内建函数用于字符串、数值、时间的匹配，以及节点、序列的处理等。甚至，我们可以认为几乎所有定位的节点都可以用 <code>XPath</code> 来选择。</p><p> </p><h2 id="3-代码实现"><a href="#3-代码实现" class="headerlink" title="3. 代码实现"></a>3. 代码实现</h2><p>本文爬取的股吧为上证指数，作为国民关注度最高的指数，该股吧也是众多的股吧中活跃度最高的。因此用上证指数股吧，作为爬取对象。</p><p>在本文中，我们将仅以「上证指数」的股吧评论为例进行演示。</p><h3 id="3-1-导入相关库"><a href="#3-1-导入相关库" class="headerlink" title="3.1 导入相关库"></a>3.1 导入相关库</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">import requests         ##获取网页  </span><br><span class="line">from lxml import etree  ##解析文档  </span><br><span class="line">import pandas as pd     ##保存文件  </span><br></pre></td></tr></table></figure><h3 id="3-2-分析网址规律"><a href="#3-2-分析网址规律" class="headerlink" title="3.2 分析网址规律"></a>3.2 分析网址规律</h3><p>网址：<a href="http://guba.eastmoney.com/list,zssh000001,f.html">http://guba.eastmoney.com/list,zssh000001,f.html</a></p><p>第一页如图所示：</p><p><img src="https://cdn.jsdelivr.net/gh/CIT-K/pictures/picture/640" alt="img"></p><p>第二页如图所示：</p><p><img src="https://cdn.jsdelivr.net/gh/CIT-K/pictures/picture/guba1.webp" alt="img"></p><p>可以发现，两页网址区别在于 f_ 后面的数字不同，因此可以通过设置数字爬取不同页面内容。</p><h3 id="3-3-爬取和解析网页源代码"><a href="#3-3-爬取和解析网页源代码" class="headerlink" title="3.3 爬取和解析网页源代码"></a>3.3 爬取和解析网页源代码</h3><p><strong>获取 User-Agent</strong></p><p>请求头反爬很常见，尤其是User-Agent现在已是爬虫必备：User-Agent会告诉网站服务器，访问者是通过什么工具来请求的，如果是爬虫请求，一般会拒绝，如果是用户浏览器，就会应答。</p><p>进入开发者模型，点击 Network，如下图：</p><p><img src="https://cdn.jsdelivr.net/gh/CIT-K/pictures/picture/guba2.png" alt="img"></p><p>然后，点击任意一个 Name 列的标题，就可以看到 <strong>User-Agent</strong>，如下图：</p><p><img src="https://cdn.jsdelivr.net/gh/CIT-K/pictures/picture/6g435uba4.png" alt="img"></p><p>通过 <code>requests</code> 库，我们可以获取网页源代码。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">headers &#x3D; &#123;&#39;User-Agent&#39;: &#39;Mozilla&#x2F;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit&#x2F;537.36 (KHTML, like Gecko) Chrome&#x2F;85.0.4183.102 Safari&#x2F;537.36&#39;&#125;  #构造头文件，模拟浏览器。</span><br><span class="line">for page in range(1,max_page+1):</span><br><span class="line">    #获取网页源代码</span><br><span class="line">    print(&#39;crawling the page is &#123;&#125;&#39;.format(page))  </span><br><span class="line">    url&#x3D; f&#39;http:&#x2F;&#x2F;guba.eastmoney.com&#x2F;list,zssh000001,f_&#123;page&#125;.html&#39;  </span><br><span class="line">    response  &#x3D; requests.get(url, headers&#x3D;headers) </span><br></pre></td></tr></table></figure><p>然后，通过 <code>xpath</code> 解析网页源代码，我们就可以获取需要信息。</p><p>在谷歌浏览器内按 F12 进入开发者模型，审查我们所需要的元素，如下图:</p><p><img src="https://cdn.jsdelivr.net/gh/CIT-K/pictures/picture/dhuih.png" alt="img"></p><p>可以看出，所有的标题和时间都保存在属性为 <code>articleh normal_post</code> 的 <code>div</code> 标签下，因此我们可以构造如下代码进行爬取。当然，以上过程也可以借助 <code>XPath Helper</code> 工具大大简化，</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">title &#x3D; root.xpath(&quot;&#x2F;&#x2F;div[contains(@class,&#39;articleh normal_post&#39;)]&#x2F;&#x2F;span[@class&#x3D;&#39;l3 a3&#39;]&#x2F;&#x2F;a&#x2F;&#x2F;text()&quot;)  </span><br><span class="line">time &#x3D; root.xpath(&quot;&#x2F;&#x2F;div[contains(@class,&#39;articleh normal_post&#39;)]&#x2F;&#x2F;span[@class&#x3D;&#39;l5 a5&#39;]&#x2F;&#x2F;text()&quot;)  </span><br></pre></td></tr></table></figure><p>完整代码如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">max_page  &#x3D; 20   #最大爬取页面</span><br><span class="line">all_title &#x3D; []   #爬取的标题存储列表</span><br><span class="line">all_time  &#x3D; []   #爬取的发表时间储存列表</span><br><span class="line">headers &#x3D; &#123;&#39;User-Agent&#39;: &#39;Mozilla&#x2F;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit&#x2F;537.36 (KHTML, like Gecko) Chrome&#x2F;85.0.4183.102 Safari&#x2F;537.36&#39;&#125;  #构造头文件，模拟浏览器。</span><br><span class="line">for page in range(1,max_page+1):</span><br><span class="line">    #获取网页源代码</span><br><span class="line">    print(&#39;crawling the page is &#123;&#125;&#39;.format(page))  </span><br><span class="line">    url&#x3D; f&#39;http:&#x2F;&#x2F;guba.eastmoney.com&#x2F;list,zssh000001,f_&#123;page&#125;.html&#39;  </span><br><span class="line">    response  &#x3D; requests.get(url, headers&#x3D;headers) </span><br><span class="line">    #解析网页源代码</span><br><span class="line">    root &#x3D; etree.HTML(response.text)  </span><br><span class="line">    title &#x3D; root.xpath(&quot;&#x2F;&#x2F;div[contains(@class,&#39;articleh normal_post&#39;)]&#x2F;&#x2F;span[@class&#x3D;&#39;l3 a3&#39;]&#x2F;&#x2F;a&#x2F;&#x2F;text()&quot;)  </span><br><span class="line">    time &#x3D; root.xpath(&quot;&#x2F;&#x2F;div[contains(@class,&#39;articleh normal_post&#39;)]&#x2F;&#x2F;span[@class&#x3D;&#39;l5 a5&#39;]&#x2F;&#x2F;text()&quot;)  </span><br><span class="line">    all_title +&#x3D; title  #保存到总数组上</span><br><span class="line">    all_time  +&#x3D; time </span><br></pre></td></tr></table></figure><h3 id="3-4-保存结果"><a href="#3-4-保存结果" class="headerlink" title="3.4 保存结果"></a>3.4 保存结果</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">data_raw &#x3D; pd.DataFrame()  </span><br><span class="line">data_raw[&#39;title&#39;] &#x3D; all_title  </span><br><span class="line">data_raw[&#39;time&#39;] &#x3D; all_time  </span><br><span class="line">data_raw.to_excel(&#39;.&#x2F;&#x2F;data_raw.xlsx&#39;, index&#x3D;False)  </span><br></pre></td></tr></table></figure><p>输出结果如下：</p><p><img src="https://cdn.jsdelivr.net/gh/CIT-K/pictures/picture/huilafh.png" alt="img"></p><p> </p><h2 id="4-情绪打分"><a href="#4-情绪打分" class="headerlink" title="4. 情绪打分"></a>4. 情绪打分</h2><p>不久之前，百度正式发布情感预训练模型 SKEP (Sentiment Knowledge Enhanced Pre-training for Sentiment Analysis)。通过利用情感知识增强预训练模型，SKEP 在 14 项中英情感分析典型任务上全面超越 SOTA。</p><p>具体实现原理，详见「SKEP: Sentiment Knowledge Enhanced Pre-training for Sentiment Analysis」。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">#!pip install paddlehub</span><br><span class="line"></span><br><span class="line">import paddlehub as hub</span><br><span class="line">data_raw &#x3D; pd.read_excel(&quot;.\\data_raw.xlsx&quot;)</span><br><span class="line">data_raw[&#39;time&#39;] &#x3D; pd.to_datetime(&#39;2020 &#39;+data_raw[&#39;time&#39;])</span><br><span class="line">##这里使用了百度开源的成熟NLP模型来预测情感倾向</span><br><span class="line">senta &#x3D; hub.Module(name&#x3D;&quot;senta_bilstm&quot;)</span><br><span class="line">texts &#x3D; data_raw[&#39;title&#39;].tolist()</span><br><span class="line">input_data &#x3D; &#123;&#39;text&#39;:texts&#125;</span><br><span class="line">res &#x3D; senta.sentiment_classify(data&#x3D;input_data)</span><br><span class="line">data_raw[&#39;pos_p&#39;] &#x3D; [x[&#39;positive_probs&#39;] for x in res]</span><br><span class="line">##重采样至五分钟</span><br><span class="line">data_raw.index &#x3D; data_raw[&#39;time&#39;]</span><br><span class="line">data &#x3D; data_raw.resample(&#39;15min&#39;).mean().reset_index()</span><br></pre></td></tr></table></figure><p>部分股本评论的情感评分如下：</p><p><img src="https://cdn.jsdelivr.net/gh/CIT-K/pictures/picture/kiohfl.png" alt="img"></p><p>可以看出，上述情感评分具有一定借鉴意义。</p><p> </p><h2 id="5-获取上证指数分时数据"><a href="#5-获取上证指数分时数据" class="headerlink" title="5. 获取上证指数分时数据"></a>5. 获取上证指数分时数据</h2><p><code>AkShare</code> 是基于 Python 的财经数据接口库，可以实现对股票、期货、期权、基金、外汇、债券、指数、数字货币等金融产品的基本面数据、历史行情数据、以及衍生数据的快速采集和清洗。接下来，我们将使用 <code>AKShare</code> 库获取上证指数分时数据，具体代码如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">#pip instasll akshare --usre</span><br><span class="line">import akshare as ak</span><br><span class="line">sz_index &#x3D; ak.stock_zh_a_minute(symbol&#x3D;&#39;sh000001&#39;, period&#x3D;&#39;15&#39;, adjust&#x3D;&quot;qfq&quot;)</span><br><span class="line">sz_index[&#39;day&#39;] &#x3D; pd.to_datetime(sz_index[&#39;day&#39;])</span><br><span class="line">sz_index[&#39;close&#39;] &#x3D; sz_index[&#39;close&#39;].astype(&#39;float&#39;)</span><br><span class="line">data &#x3D; data.merge(sz_index,left_on&#x3D;&#39;time&#39;,right_on&#x3D;&#39;day&#39;,how&#x3D;&#39;inner&#39;)</span><br><span class="line">import matplotlib.pyplot as plt</span><br><span class="line">matplotlib.use(&#39;Qt5Agg&#39;)</span><br><span class="line">data.index &#x3D; data[&#39;time&#39;]</span><br><span class="line">data[[&#39;pos_p&#39;,&#39;close&#39;]].plot(secondary_y&#x3D;[&#39;close&#39;])</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/CIT-K/pictures/picture/%E5%93%88%E9%A3%9E%E8%B7%AF%E5%AE%9D%EF%BC%8Csjbgb.png" alt="img"></p><p>可以看出，情绪相对于上证指数存在一个滞后效应。在初始的大幅上涨中，情绪没有立刻上涨，而是在第二次小幅上涨后才出现大幅度的上升。</p><p> </p><h2 id="6-总结"><a href="#6-总结" class="headerlink" title="6. 总结"></a>6. 总结</h2><p>总的来说不难，但步骤很丰富，在完善完善就是一个中等项目了哈哈哈哈哈</p>]]></content>
      
      
      <categories>
          
          <category> 爬虫 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 爬虫 </tag>
            
            <tag> 情感分析 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python爬虫入门首选，Requests+正则/Xpath</title>
      <link href="347090d0.html"/>
      <url>347090d0.html</url>
      
        <content type="html"><![CDATA[<h1 id="Python爬虫入门首选，Requests-正则-Xpath"><a href="#Python爬虫入门首选，Requests-正则-Xpath" class="headerlink" title="Python爬虫入门首选，Requests+正则/Xpath"></a>Python爬虫入门首选，Requests+正则/Xpath</h1><iframe id="pqvE7xEK-1596373719908" src="https://player.bilibili.com/player.html?aid=756043858" allowfullscreen="true" data-mediaembed="bilibili" __idm_id__="291592193" style="box-sizing: border-box; outline: 0px; margin: 0px; padding: 0px; font-weight: normal; overflow-wrap: break-word; display: block; width: 660px; height: 330px;"></iframe><p>学习完Python基本知识，我们就可以正式步入Python 爬虫的大门。</p><p>学习爬虫，最基础的便是模拟浏览器向服务器发出请求，那么我们需要从什么地方做起呢？请求需要我们自己来构造吗？需要关心请求这个数据结构的实现吗？需要了解 HTTP、TCP、IP 层的网络传输通信吗？需要知道服务器的响应和应答原理吗？</p><p>可能你无从下手，不过不用担心，Python 的强大之处就是提供了功能齐全的类库来帮助我们完成这些请求。利用 Python 现有的库我们可以非常方便地实现网络请求的模拟，常见的库有 urllib、requests 等。</p><p>拿 requests 这个库来说，有了它，我们只需要关心请求的链接是什么，需要传的参数是什么，以及如何设置可选的参数就好了，不用深入到底层去了解它到底是怎样传输和通信的。有了它，两行代码就可以完成一个请求和响应的处理过程，非常方便地得到网页内容。</p><p>接下来，就让我们用 Python 的 requests 库开始我们的爬虫之旅吧。</p><p><a href="https://requests.readthedocs.io/en/master/">Requests官方文档</a>   <a href="https://requests.readthedocs.io/zh_CN/latest/">中文文档</a></p><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><p>首先，requests 库是 Python 的一个第三方库，不是自带的。所以我们需要额外安装（<strong>Anaconda自带丰富库，可跳过此步</strong>）。</p><p>在这之前需要你先安装好 Python3 环境，如 Python 3.8 版本。</p><p>安装好 Python3 之后，我们使用 pip3 即可轻松地安装好 requests 库：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip3 install requests</span><br></pre></td></tr></table></figure><p>由于科学上网的原因，国外的第三方库官方下载龟速，请pip换源建议清华镜像。</p><p>安装完成之后，我们就可以开始我们的网络爬虫之旅了。</p><h3 id="实例引入"><a href="#实例引入" class="headerlink" title="实例引入"></a>实例引入</h3><p>用 Python 写爬虫的第一步就是模拟发起一个请求，把网页的源代码获取下来。</p><p>当我们在浏览器中输入一个 URL 并回车，实际上就是让浏览器帮我们发起一个 GET 类型的 HTTP 请求，浏览器得到源代码后，把它渲染出来就可以看到网页内容了。</p><p>那如果我们想用 requests 来获取源代码，应该怎么办呢？很简单，requests 这个库提供了一个 get 方法，我们调用这个方法，并传入对应的 URL 就能得到网页的源代码。</p><p>比如这里有一个示例网站：<a href="https://zhangkaiheng.gitee.io/%EF%BC%8C%E5%85%B6%E5%86%85%E5%AE%B9%E5%A6%82%E4%B8%8B%EF%BC%9A">https://zhangkaiheng.gitee.io/，其内容如下：</a></p><p><img src="https://cdn.jsdelivr.net/gh/CIT-K/pictures/picture/20210102221113.png"></p><p>哈哈哈哈哈哈！竟然到了爬自己博客的地步！！！</p><p>第一步当然就是获取它的网页源代码了。</p><p>我们可以用 requests 这个库轻松地完成这个过程，代码的写法是这样的：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">import requests  </span><br><span class="line"></span><br><span class="line">r &#x3D; requests.get(&#39;https:&#x2F;&#x2F;zhangkaiheng.gitee.io&#x2F;&#39;)  </span><br><span class="line">print(r.text)</span><br></pre></td></tr></table></figure><p>运行结果如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;zh-CN&quot; data-theme&#x3D;&quot;light&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;meta http-equiv&#x3D;&quot;X-UA-Compatible&quot; content&#x3D;&quot;IE&#x3D;edge&quot;&gt;</span><br><span class="line">    &lt;meta name&#x3D;&quot;viewport&quot; content&#x3D;&quot;width&#x3D;device-width,initial-scale&#x3D;1&quot;&gt;</span><br><span class="line">    &lt;title&gt;爱爬虫与大数据&lt;&#x2F;title&gt;</span><br><span class="line">    &lt;meta name&#x3D;&quot;keywords&quot; content&#x3D;&quot;爱爬虫与大数据&quot;&gt;</span><br><span class="line">    &lt;meta name&#x3D;&quot;author&quot; content&#x3D;&quot;Kit&quot;&gt;</span><br><span class="line">    &lt;meta name&#x3D;&quot;copyright&quot; content&#x3D;&quot;Kit&quot;&gt;</span><br><span class="line">    ...</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div id&#x3D;&quot;sidebar&quot;&gt;</span><br><span class="line">        &lt;div id&#x3D;&quot;menu-mask&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;div id&#x3D;&quot;sidebar-menus&quot;&gt;</span><br><span class="line">...  </span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure><p>由于网页内容比较多，这里省略了大部分内容。</p><p>不过看运行结果，我们已经成功获取网页的 HTML 源代码，里面包含了电影的标题、类型、上映时间，等等。把网页源代码获取下来之后，下一步我们把想要的数据提取出来，数据的爬取就完成了。</p><p>这个实例的目的是让你体会一下 requests 这个库能帮我们实现什么功能。我们仅仅用 requests 的 get 方法就成功发起了一个 GET 请求，把网页源代码获取下来了，是不是很方便呢？</p><h3 id="请求"><a href="#请求" class="headerlink" title="请求"></a>请求</h3><p>HTTP 中最常见的请求之一就是 GET 请求，下面我们来详细了解利用 requests 库构建 GET 请求的方法。</p><h4 id="GET-请求"><a href="#GET-请求" class="headerlink" title="GET 请求"></a>GET 请求</h4><p>我们换一个示例网站，其 URL 为 <a href="http://httpbin.org/get%EF%BC%8C%E5%A6%82%E6%9E%9C%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%8F%91%E8%B5%B7%E7%9A%84%E6%98%AF">http://httpbin.org/get，如果客户端发起的是</a> GET 请求的话，该网站会判断并返回相应的请求信息，包括 Headers、IP 等。</p><p>我们还是用相同的方法来发起一个 GET 请求，代码如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">import requests  </span><br><span class="line"></span><br><span class="line">r &#x3D; requests.get(&#39;http:&#x2F;&#x2F;httpbin.org&#x2F;get&#39;)  </span><br><span class="line">print(r.text)</span><br></pre></td></tr></table></figure><p>运行结果如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;args&quot;: &#123;&#125;,</span><br><span class="line">  &quot;headers&quot;: &#123;</span><br><span class="line">    &quot;Accept&quot;: &quot;*&#x2F;*&quot;,</span><br><span class="line">    &quot;Accept-Encoding&quot;: &quot;gzip, deflate&quot;,</span><br><span class="line">    &quot;Host&quot;: &quot;httpbin.org&quot;,</span><br><span class="line">    &quot;User-Agent&quot;: &quot;python-requests&#x2F;2.24.0&quot;,</span><br><span class="line">    &quot;X-Amzn-Trace-Id&quot;: &quot;Root&#x3D;1-5ff98684-119fbcba4197a62114bac501&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;origin&quot;: &quot;112.32.241.87&quot;,</span><br><span class="line">  &quot;url&quot;: &quot;http:&#x2F;&#x2F;httpbin.org&#x2F;get&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>可以发现，我们成功发起了 GET 请求，也通过这个网站的返回结果得到了请求所携带的信息，包括 Headers、URL、IP，等等。</p><p>对于 GET 请求，我们知道 URL 后面是可以跟上一些参数的，如果我们现在想添加两个参数，其中 name 是 kit，age 是 25，URL 就可以写成如下内容：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:&#x2F;&#x2F;httpbin.org&#x2F;get?name&#x3D;kit&amp;age&#x3D;19</span><br></pre></td></tr></table></figure><p>要构造这个请求链接，是不是要直接写成这样呢？</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">r &#x3D; requests.get(&#39;http:&#x2F;&#x2F;httpbin.org&#x2F;get?name&#x3D;kit&amp;age&#x3D;19&#39;)</span><br></pre></td></tr></table></figure><p>这样也可以，但如果这些参数还需要我们手动拼接，未免有点不人性化。</p><p>一般情况下，这种信息我们利用 params 这个参数就可以直接传递了，示例如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">import requests  </span><br><span class="line"></span><br><span class="line">data &#x3D; &#123;  </span><br><span class="line">    &#39;name&#39;: &#39;kit&#39;,  </span><br><span class="line">    &#39;age&#39;: 19</span><br><span class="line">&#125; </span><br><span class="line">r &#x3D; requests.get(&#39;http:&#x2F;&#x2F;httpbin.org&#x2F;get&#39;, params&#x3D;data)  </span><br><span class="line">print(r.text)</span><br></pre></td></tr></table></figure><p>运行结果如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;args&quot;: &#123;</span><br><span class="line">    &quot;age&quot;: &quot;19&quot;, </span><br><span class="line">    &quot;name&quot;: &quot;kit&quot;</span><br><span class="line">  &#125;, </span><br><span class="line">  &quot;headers&quot;: &#123;</span><br><span class="line">    &quot;Accept&quot;: &quot;*&#x2F;*&quot;, </span><br><span class="line">    &quot;Accept-Encoding&quot;: &quot;gzip, deflate&quot;, </span><br><span class="line">    &quot;Host&quot;: &quot;httpbin.org&quot;, </span><br><span class="line">    &quot;User-Agent&quot;: &quot;python-requests&#x2F;2.24.0&quot;, </span><br><span class="line">    &quot;X-Amzn-Trace-Id&quot;: &quot;Root&#x3D;1-5ff99fab-4dc3d0207d4376fd6923f0c4&quot;</span><br><span class="line">  &#125;, </span><br><span class="line">  &quot;origin&quot;: &quot;112.32.241.87&quot;, </span><br><span class="line">  &quot;url&quot;: &quot;http:&#x2F;&#x2F;httpbin.org&#x2F;get?name&#x3D;kit&amp;age&#x3D;19&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>在这里我们把 URL 参数通过字典的形式传给 get 方法的 params 参数，通过返回信息我们可以判断，请求的链接自动被构造成了：<a href="http://httpbin.org/get?name=kit&amp;age=19%EF%BC%8C%E8%BF%99%E6%A0%B7%E6%88%91%E4%BB%AC%E5%B0%B1%E4%B8%8D%E7%94%A8%E5%86%8D%E5%8E%BB%E8%87%AA%E5%B7%B1%E6%9E%84%E9%80%A0">http://httpbin.org/get?name=kit&amp;age=19，这样我们就不用再去自己构造</a> URL 了，非常方便。</p><p>另外，网页的返回类型实际上是 str 类型，但是它很特殊，是 JSON 格式的。所以，如果想直接解析返回结果，得到一个 JSON 格式的数据的话，可以直接调用 json 方法。</p><p>示例如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">import requests  </span><br><span class="line"></span><br><span class="line">r &#x3D; requests.get(&#39;http:&#x2F;&#x2F;httpbin.org&#x2F;get&#39;)  </span><br><span class="line">print(type(r.text))  </span><br><span class="line">print(r.json())  </span><br><span class="line">print(type(r.json()))</span><br></pre></td></tr></table></figure><p>运行结果如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;class &#39;str&#39;&gt;</span><br><span class="line">&#123;&#39;args&#39;: &#123;&#125;, &#39;headers&#39;: &#123;&#39;Accept&#39;: &#39;*&#x2F;*&#39;, &#39;Accept-Encoding&#39;: &#39;gzip, deflate&#39;, &#39;Host&#39;: &#39;httpbin.org&#39;, &#39;User-Agent&#39;: &#39;python-requests&#x2F;2.24.0&#39;, &#39;X-Amzn-Trace-Id&#39;: </span><br><span class="line">&#39;Root&#x3D;1-5ff987e4-1248c4cd04158eed34ca44c5&#39;&#125;, &#39;origin&#39;: &#39;112.32.241.87&#39;, &#39;url&#39;: &#39;http:&#x2F;&#x2F;httpbin.org&#x2F;get&#39;&#125;</span><br><span class="line">&lt;class &#39;dict&#39;&gt;</span><br></pre></td></tr></table></figure><p>可以发现，调用 json 方法，就可以将返回结果是 JSON 格式的字符串转化为字典。</p><p>但需要注意的是，如果返回结果不是 JSON 格式，便会出现解析错误，抛出 json.decoder.JSONDecodeError 异常。</p><h4 id="解析网页"><a href="#解析网页" class="headerlink" title="解析网页"></a>解析网页</h4><p>上面的请求链接返回的是 JSON 形式的字符串，那么如果请求普通的网页，则肯定能获得相应的内容了。下面以本课时最初的实例页面为例，我们再加上一点提取信息的逻辑，将代码完善成如下的样子：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">import requests</span><br><span class="line">import re</span><br><span class="line"></span><br><span class="line">r &#x3D; requests.get(&#39;https:&#x2F;&#x2F;maoyan.com&#x2F;board&#x2F;4?offset&#x3D;0&#39;)</span><br><span class="line">pattern &#x3D; re.compile(&#39;&lt;p class&#x3D;&quot;name&quot;&gt;&lt;a href&#x3D;&quot;&#x2F;films&#x2F;.*?&gt;(.*?)&lt;&#x2F;a&gt;&#39;, re.S)</span><br><span class="line">titles &#x3D; re.findall(pattern, r.text)</span><br><span class="line">print(titles)</span><br></pre></td></tr></table></figure><p>在这个例子中我们用到了最基础的正则表达式来匹配出所有的标题。关于正则表达式的相关内容，我们会在下一课时详细介绍，这里作为实例来配合讲解。</p><p>运行结果如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[&#39;我不是药神&#39;, &#39;肖申克的救赎&#39;, &#39;绿皮书&#39;, &#39;海上钢琴师&#39;, &#39;哪吒之魔童降世&#39;, &#39;小偷家族&#39;, &#39;霸王别姬&#39;, &#39;美丽人生&#39;, &#39;盗梦空间&#39;, &#39;这个杀手不太冷&#39;]</span><br></pre></td></tr></table></figure><p>我们发现，这里成功提取出了所有的电影标题。一个最基本的抓取和提取流程就完成了。</p><h4 id="添加-headers"><a href="#添加-headers" class="headerlink" title="添加 headers"></a>添加 headers</h4><p>我们知道，在发起一个 HTTP 请求的时候，会有一个请求头 Request Headers，那么这个怎么来设置呢？</p><p>很简单，我们使用 headers 参数就可以完成了。</p><p>在刚才的实例中，实际上我们是没有设置 Request Headers 信息的，如果不设置，某些网站会发现这不是一个正常的浏览器发起的请求，网站可能会返回异常的结果，导致网页抓取失败。</p><p>要添加 Headers 信息，比如我们这里想添加一个 User-Agent 字段，我们可以这么来写：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">import requests</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">headers &#x3D; &#123;</span><br><span class="line">    &#39;User-Agent&#39;: &#39;Mozilla&#x2F;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit&#x2F;537.36 (KHTML, like Gecko) Chrome&#x2F;87.7.36.5901 Safari&#x2F;537.36&#39;</span><br><span class="line">&#125;</span><br><span class="line">r &#x3D; requests.get(&#39;https:&#x2F;&#x2F;zhangkaiheng.gitee.io&#x2F;&#39;, headers&#x3D;headers)</span><br><span class="line">print(r.text)</span><br></pre></td></tr></table></figure><p>当然，我们可以在 headers 这个参数中任意添加其他的字段信息。</p><h4 id="POST-请求"><a href="#POST-请求" class="headerlink" title="POST 请求"></a>POST 请求</h4><p>前面我们了解了最基本的 GET 请求，另外一种比较常见的请求方式是 POST。使用 requests 实现 POST 请求同样非常简单，示例如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">import requests</span><br><span class="line"></span><br><span class="line">data &#x3D; &#123;&#39;name&#39;: &#39;kit&#39;, &#39;age&#39;: &#39;20&#39;&#125;</span><br><span class="line">r &#x3D; requests.post(&quot;http:&#x2F;&#x2F;httpbin.org&#x2F;post&quot;, data&#x3D;data)</span><br><span class="line">print(r.text)</span><br></pre></td></tr></table></figure><p>这里还是请求 <a href="http://httpbin.org/post%EF%BC%8C%E8%AF%A5%E7%BD%91%E7%AB%99%E5%8F%AF%E4%BB%A5%E5%88%A4%E6%96%AD%E5%A6%82%E6%9E%9C%E8%AF%B7%E6%B1%82%E6%98%AF">http://httpbin.org/post，该网站可以判断如果请求是</a> POST 方式，就把相关请求信息返回。</p><p>运行结果如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;args&quot;: &#123;&#125;, </span><br><span class="line">  &quot;data&quot;: &quot;&quot;, </span><br><span class="line">  &quot;files&quot;: &#123;&#125;, </span><br><span class="line">  &quot;form&quot;: &#123;</span><br><span class="line">    &quot;age&quot;: &quot;20&quot;, </span><br><span class="line">    &quot;name&quot;: &quot;kit&quot;</span><br><span class="line">  &#125;, </span><br><span class="line">  &quot;headers&quot;: &#123;</span><br><span class="line">    &quot;Accept&quot;: &quot;*&#x2F;*&quot;, </span><br><span class="line">    &quot;Accept-Encoding&quot;: &quot;gzip, deflate&quot;, </span><br><span class="line">    &quot;Content-Length&quot;: &quot;15&quot;, </span><br><span class="line">    &quot;Content-Type&quot;: &quot;application&#x2F;x-www-form-urlencoded&quot;,         </span><br><span class="line">    &quot;Host&quot;: &quot;httpbin.org&quot;, </span><br><span class="line">    &quot;User-Agent&quot;: &quot;python-requests&#x2F;2.24.0&quot;, </span><br><span class="line">    &quot;X-Amzn-Trace-Id&quot;: &quot;Root&#x3D;1-5ff99ef7-1d4426a80c49df9d31ff3250&quot;</span><br><span class="line">  &#125;, </span><br><span class="line">  &quot;json&quot;: null, </span><br><span class="line">  &quot;origin&quot;: &quot;112.32.241.87&quot;, </span><br><span class="line">  &quot;url&quot;: &quot;http:&#x2F;&#x2F;httpbin.org&#x2F;post&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>可以发现，我们成功获得了返回结果，其中 form 部分就是提交的数据，这就证明 POST 请求成功发送了。</p><h3 id="响应"><a href="#响应" class="headerlink" title="响应"></a>响应</h3><p>发送请求后，得到的自然就是响应，即 Response。</p><p>在上面的实例中，我们使用 text 和 content 获取了响应的内容。此外，还有很多属性和方法可以用来获取其他信息，比如状态码、响应头、Cookies 等。示例如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">import requests</span><br><span class="line"></span><br><span class="line">r &#x3D; requests.get(&#39;https:&#x2F;&#x2F;zhangkaiheng.gitee.io&#x2F;&#39;)</span><br><span class="line">print(type(r.status_code), r.status_code)</span><br><span class="line">print(type(r.headers), r.headers)</span><br><span class="line">print(type(r.cookies), r.cookies)</span><br><span class="line">print(type(r.url), r.url)</span><br><span class="line">print(type(r.history), r.history)</span><br></pre></td></tr></table></figure><p>这里分别打印输出 status_code 属性得到状态码，输出 headers 属性得到响应头，输出 cookies 属性得到 Cookies，输出 url 属性得到 URL，输出 history 属性得到请求历史。</p><p>运行结果如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;class &#39;int&#39;&gt; 200</span><br><span class="line">&lt;class &#39;requests.structures.CaseInsensitiveDict&#39;&gt; &#123;&#39;Date&#39;: &#39;Sat, 09 Jan 2021 12:54:40 GMT&#39;, &#39;Content-Type&#39;: &#39;text&#x2F;html&#39;, &#39;Transfer-Encoding&#39;: &#39;chunked&#39;, &#39;Connection&#39;: &#39;keep-alive&#39;, &#39;Server&#39;: &#39;openresty&#x2F;1.13.6.2&#39;, &#39;Last-Modified&#39;: &#39;Mon, 04 Jan 2021 07:53:48 GMT&#39;, &#39;ETag&#39;: &#39;W&#x2F;&quot;5ff2c98c-9df5&quot;&#39;, &#39;Expires&#39;: &#39;Sun, 10 Jan 2021 12:54:40 GMT&#39;, &#39;Cache-Control&#39;: &#39;max-age&#x3D;86400&#39;, &#39;Content-Encoding&#39;: &#39;gzip&#39;&#125;</span><br><span class="line">&lt;class &#39;requests.cookies.RequestsCookieJar&#39;&gt; &lt;RequestsCookieJar[]&gt;</span><br><span class="line">&lt;class &#39;str&#39;&gt; https:&#x2F;&#x2F;zhangkaiheng.gitee.io&#x2F;</span><br><span class="line">&lt;class &#39;list&#39;&gt; []</span><br></pre></td></tr></table></figure><p>可以看到，headers 和 cookies 这两个属性得到的结果分别是 CaseInsensitiveDict 和 RequestsCookieJar 类型。</p><p>我们知道，<a href="https://baike.baidu.com/item/HTTP%E7%8A%B6%E6%80%81%E7%A0%81/5053660?fr=aladdin">状态码</a>是用来表示响应状态的，比如返回 200 代表我们得到的响应是没问题的，上面的例子正好输出的结果也是 200，所以我们可以通过判断 Response 的状态码来确认是否爬取成功。</p><p>requests 还提供了一个内置的状态码查询对象 requests.codes，用法示例如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">import requests</span><br><span class="line"></span><br><span class="line">r &#x3D; requests.get(&#39;https:&#x2F;&#x2F;zhangkaiheng.gitee.io&#x2F;&#39;)</span><br><span class="line">exit() if not r.status_code &#x3D;&#x3D; requests.codes.ok else print(&#39;Request Successfully&#39;)</span><br></pre></td></tr></table></figure><p>这里通过比较返回码和内置的成功的返回码，来保证请求得到了正常响应，输出成功请求的消息，否则程序终止，这里我们用 requests.codes.ok 得到的是成功的状态码 200。</p><p>这样的话，我们就不用再在程序里面写状态码对应的数字了，用字符串表示状态码会显得更加直观。</p><h1 id="爬虫入门首选开刀网站——猫眼电影"><a href="#爬虫入门首选开刀网站——猫眼电影" class="headerlink" title="爬虫入门首选开刀网站——猫眼电影"></a>爬虫入门首选开刀网站——猫眼电影</h1><h2 id="爬虫准备"><a href="#爬虫准备" class="headerlink" title="爬虫准备"></a>爬虫准备</h2><p>猫眼电影是美团旗下的一家集媒体内容、在线购票、用户互动社交、电影衍生品销售等服务的一站式电影互联网平台。2015年6月，猫眼电影覆盖影院超过4000家，这些影院的票房贡献占比超过90%。目前，猫眼占网络购票70%的市场份额，每三张电影票就有一张出自猫眼电影，是影迷下载量较多、使用率较高的电影应用软件。同时，猫眼电影为合作影院和电影制片发行方提供覆盖海量电影消费者的精准营销方案，助力影片票房。</p><p><img src="https://cdn.jsdelivr.net/gh/CIT-K/pictures/picture/20210109211910.png"></p><p>运行平台：win10</p><p>Python版本：3.8</p><p>IDE：Pycharm</p><p>浏览器：Chrome</p><p>目标：获取猫眼Top100电影名称、主演、上映时间、评分、封面图片</p><p>如此网站数据看上去都心动，不过猫眼电影也是有反爬机制的，只不过今天我们的入门小打小闹触及不深。</p><h2 id="分析网页"><a href="#分析网页" class="headerlink" title="分析网页"></a>分析网页</h2><p><img src="https://cdn.jsdelivr.net/gh/CIT-K/pictures/picture/20210109214518.png"></p><p>通过F12或者右键选择检查我们发现两个规律：</p><ol><li>要获取的数据有规律的存在网页代码中：如标题在class属性为name的p标签里、主演在class属性为star的p标签里······</li><li>第一页链接offset=0而第二页链接offset=10推测第三页offset=20</li></ol><h2 id="请求网页"><a href="#请求网页" class="headerlink" title="请求网页"></a>请求网页</h2><p>分析完网页我们可以试着模拟浏览器请求网页</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">import requests  </span><br><span class="line"></span><br><span class="line">r &#x3D; requests.get(&#39;https:&#x2F;&#x2F;maoyan.com&#x2F;board&#x2F;4?offset&#x3D;0&#39;)  </span><br><span class="line">print(r.text)</span><br></pre></td></tr></table></figure><p>为了保证爬虫正常，添加请求头</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">import requests</span><br><span class="line"></span><br><span class="line">headers &#x3D; &#123;</span><br><span class="line">  &#39;User-Agent&#39;: &#39;Mozilla&#x2F;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit&#x2F;537.36 (KHTML, like Gecko) Chrome&#x2F;87.7.36.5901 Safari&#x2F;537.36&#39;</span><br><span class="line">&#125;</span><br><span class="line">r &#x3D; requests.get(&#39;https:&#x2F;&#x2F;maoyan.com&#x2F;board&#x2F;4?offset&#x3D;0&#39;, headers&#x3D;headers)</span><br><span class="line">print(r.text)</span><br></pre></td></tr></table></figure><p>试着利用最简单的正则获取第一页的标题</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">import requests</span><br><span class="line">import re</span><br><span class="line"></span><br><span class="line">headers &#x3D; &#123;</span><br><span class="line">  &#39;User-Agent&#39;: &#39;Mozilla&#x2F;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit&#x2F;537.36 (KHTML, like Gecko) Chrome&#x2F;87.7.36.5901 Safari&#x2F;537.36&#39;</span><br><span class="line">&#125;</span><br><span class="line">r &#x3D; requests.get(&#39;https:&#x2F;&#x2F;maoyan.com&#x2F;board&#x2F;4?offset&#x3D;0&#39;, headers&#x3D;headers)</span><br><span class="line">pattern &#x3D; re.compile(&#39;&lt;p class&#x3D;&quot;name&quot;&gt;&lt;a href&#x3D;&quot;&#x2F;films&#x2F;.*?&gt;(.*?)&lt;&#x2F;a&gt;&#39;, re.S)</span><br><span class="line">titles &#x3D; re.findall(pattern, r.text)</span><br><span class="line">print(titles)</span><br><span class="line"># 运行结果</span><br><span class="line"># [&#39;我不是药神&#39;, &#39;肖申克的救赎&#39;, &#39;绿皮书&#39;, &#39;海上钢琴师&#39;, &#39;哪吒之魔童降世&#39;, &#39;小偷家族&#39;, &#39;霸王别姬&#39;, &#39;美丽人生&#39;, &#39;盗梦空间&#39;, &#39;这个杀手不太冷&#39;]</span><br></pre></td></tr></table></figure><p>针对规律一我们很容易利用正则解析</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># 主演</span><br><span class="line">star &#x3D; re.findall(re.compile(&#39;&lt;p class&#x3D;&quot;star&quot;&gt;(.*?)&lt;&#x2F;p&gt;&#39;, re.S), r.text)</span><br><span class="line"># 发表时间</span><br><span class="line">releasetime &#x3D; re.findall(re.compile(&#39;&lt;p class&#x3D;&quot;releasetime&quot;&gt;(.*?)&lt;&#x2F;p&gt;&#39;, re.S), r.text)</span><br><span class="line"># 封面链接</span><br><span class="line">img_urls &#x3D; re.findall(re.compile(&#39;&lt;img data-src&#x3D;&quot;(.*?)&quot; alt&#x3D;&quot;.*?&quot; class&#x3D;&quot;board-img&quot; &#x2F;&gt;&#39;, re.S), r.text)</span><br><span class="line"># 排名</span><br><span class="line">top &#x3D; re.findall(re.compile(&#39;&lt;i class&#x3D;&quot;board-index board-index-.*?&quot;&gt;(.*?)&lt;&#x2F;i&gt;&#39;, re.S), r.text)</span><br></pre></td></tr></table></figure><p>不写了。。。看<a href="https://www.bilibili.com/video/BV1Kr4y1T7z8/">视频</a>听口述吧代码自己敲别<a href="https://github.com/Kit139/maoyan_movies">copyme</a></p>]]></content>
      
      
      <categories>
          
          <category> 爬虫 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CIT </tag>
            
            <tag> 爬虫 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>20210102寒假第一交流会——黑屏见翻车？不！我在检测认真质量</title>
      <link href="47109d5a.html"/>
      <url>47109d5a.html</url>
      
        <content type="html"><![CDATA[<h1 id="20210102寒假第一交流会——黑屏见翻车？不！我在检测认真质量"><a href="#20210102寒假第一交流会——黑屏见翻车？不！我在检测认真质量" class="headerlink" title="20210102寒假第一交流会——黑屏见翻车？不！我在检测认真质量"></a>20210102寒假第一交流会——黑屏见翻车？不！我在检测认真质量</h1><iframe id="pqvE7xEK-1596373719908" src="https://player.bilibili.com/player.html?aid=330946159" allowfullscreen="true" data-mediaembed="bilibili" __idm_id__="291592193" style="box-sizing: border-box; outline: 0px; margin: 0px; padding: 0px; font-weight: normal; overflow-wrap: break-word; display: block; width: 660px; height: 330px;"></iframe><h2 id="明晰定位，确立方向"><a href="#明晰定位，确立方向" class="headerlink" title="明晰定位，确立方向"></a>明晰定位，确立方向</h2><ul><li>Python——除了生孩子不可以其他啥都行不假但不适合任何人</li><li>编程——工管人、经济人躲不掉</li><li>编程触类旁通——学Python培养编程思维利VB</li></ul><h2 id="选课推荐"><a href="#选课推荐" class="headerlink" title="选课推荐"></a>选课推荐</h2><ul><li>数学建模</li></ul><p><img src="https://cdn.jsdelivr.net/gh/CIT-K/pictures/picture/20210102220412.png"></p><ul><li><p>Python程序设计</p></li><li><p>MS高级应用</p></li></ul><p><img src="https://cdn.jsdelivr.net/gh/CIT-K/pictures/picture/20210102220812.png"></p><h2 id="互动环节"><a href="#互动环节" class="headerlink" title="互动环节"></a>互动环节</h2><p>主修与辅修</p><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><ul><li>利用好github、gitee</li></ul><p><img src="https://cdn.jsdelivr.net/gh/CIT-K/pictures/picture/20210102221419.png"></p><p><img src="https://cdn.jsdelivr.net/gh/CIT-K/pictures/picture/20210102221202.png"></p><p><img src="https://cdn.jsdelivr.net/gh/CIT-K/pictures/picture/20210102220935.png"></p><p><img src="https://cdn.jsdelivr.net/gh/CIT-K/pictures/picture/20210102221113.png"></p><ul><li><p>作业任务</p><p>一星期过一遍Python<a href="https://www.w3school.com.cn/python/index.asp">基础知识</a>和<a href="https://www.bilibili.com/video/BV1ta411w7D3">回放</a>等</p><p>查找资料预习爬虫(可以看看<a href="https://www.bilibili.com/video/BV1NE411Q7i2">解师哥的视频</a>注意有P2) </p><p>下周六个人学习总结分享 </p><p>B站、知乎、微信公众号等开源资源要利用好</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> CIT </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CIT </tag>
            
            <tag> Python </tag>
            
            <tag> 选课 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>给hexo Butterfly扩展图标</title>
      <link href="20e4c06c.html"/>
      <url>20e4c06c.html</url>
      
        <content type="html"><![CDATA[<h1 id="给hexo-Butterfly扩展图标"><a href="#给hexo-Butterfly扩展图标" class="headerlink" title="给hexo Butterfly扩展图标"></a>给hexo Butterfly扩展图标</h1><p>由于hexo butterfly主题采用了Font Awesome图标（不包含如B站，知乎这类中国大陆网站的图标）所以如果需要使用的话需要额外自行添加</p><h2 id="Font-Awesome相关知识"><a href="#Font-Awesome相关知识" class="headerlink" title="Font Awesome相关知识"></a><a href="http://www.fontawesome.com.cn/">Font Awesome</a>相关知识</h2><p>引用<a href="https://zh.wikipedia.org/wiki/Font_Awesome">维基百科</a>中的介绍</p><blockquote><p>Font Awesome 是一个基于CSS和LESS的字体和图标工具套件。它由Dave Gandy制作，用于Twitter Bootstrap，后来被整合到BootstrapCDN 中。Font Awesome在使用第三方Font Scripts的网站中占有20％的市场份额，排在Google字型之后的第二位。</p></blockquote><p>简单的说，Font Awesome是一个图标库，当你的博客需要使用一个图标时（比如）</p><p>由于next已经使用了Font Awesome，所以只需要插入：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;i class&#x3D;&quot;fab fa-github&quot;&gt;&lt;&#x2F;i&gt;</span><br></pre></td></tr></table></figure><p>即可。具体的Font Awesome使用方法可以看<a href="https://www.runoob.com/font-awesome/fontawesome-tutorial.html">菜鸟教程</a></p><h2 id="第三方图标库的使用"><a href="#第三方图标库的使用" class="headerlink" title="第三方图标库的使用"></a>第三方图标库的使用</h2><p>由于Font Awesome图标不包含如B站，知乎这类中国大陆网站的图标，所以如果需要使用的话需要额外自行添加第三方的图标库，在这里，我们使用使用<a href="https://www.iconfont.cn/">阿里巴巴矢量库</a></p><h3 id="下载图标"><a href="#下载图标" class="headerlink" title="下载图标"></a>下载图标</h3><p>首先，我们在阿里巴巴图标库挑选需要的图标，具体可以使用搜索功能进行搜索，在图标上点击添加入库将其加入库中，之后点击右上方购物车图标，点击下载代码获得一个压缩文件</p><h3 id="使用下载的图标"><a href="#使用下载的图标" class="headerlink" title="使用下载的图标"></a>使用下载的图标</h3><p>打开文件中的<code>iconfont.css</code>，将其中的内容（比如这样）</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">@font-face &#123;font-family: &quot;iconfont&quot;;</span><br><span class="line">    src: url(&#39;iconfont.eot?t&#x3D;1589906807175&#39;); &#x2F;* IE9 *&#x2F;</span><br><span class="line">    src: url(&#39;iconfont.eot?t&#x3D;1589906807175#iefix&#39;) format(&#39;embedded-opentype&#39;), &#x2F;* IE6-IE8 *&#x2F;</span><br><span class="line">    url(&#39;data:application&#x2F;x-font-woff2;charset&#x3D;utf-8;base64,d09GMgABAAAAAAiAAAsAAAAAD0AAAAgzAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHEIGVgCDNgqRPI4HATYCJAMYCw4ABCAFhG0HXxuyDCMR9oOSQpP9RYJ5yE75AyR1CmZsFOu9SJ3BIn3W9BPb&#x2F;Ad3h9hYq2CuK9yPrpD4rxP35f5dCEIazng0oUypUg1gxStcoQJ2sK5Mrk5aBxUGhfHrIJXedPa780X2JD+rwebUuibgQmWZsHTyyT3kZCsny23&#x2F;A+BgzdWJJ+8bcJj28nLIzRxTTeQlQiYkEW&#x2F;&#x2F;JGskqBAKIUYqObPoZoWJJy1mwQMT&#x2F;bqbAQVAxIILao1LyQEWBnZKDng01lcCWwjALQYK62aIEwuoNxDsNIo+CwATou+n&#x2F;uAVFoBGGsCBGXWxNRDxXKTXI6mXSgIJIF8xAKxPA0AAXABgQF1kaQ2ghFwih4jqjgUAYHEzGjwXP5&#x2F;9olSv1ypR&#x2F;qMUs0TqHx4ADUMIoAaAQ6KUKW0EPBdZfJEofYBPztkyHSDwojQNEPKcLPhoHoax2hcgWYaeAB4X&#x2F;qE8RAAXZ44yVIjdDS0kao0NQxQsVsVKoqptNiISVtb8uVguQCAwl0hEQmNDB04q7SKhpMVjzgG+L4pkoy9TpJqZ39hZBpc6ecvm3EXCXe3nSF0bQXsLdoZsr+0gsOxTD6rxV0d2N&#x2F;Z6zcbWiga7qssQ1XpQX5xzc6t7jtZoPiE0oDcqYtVpXdmjYQgV7z7icaUyITtaY9SU7FK9Zu3007LNqHJbYYMx2RvaKBVK8dpZPX5Zra&#x2F;vOVxVtzrXrFebWHEqfaPraM1IReuuwdQmASUh8zVWy&#x2F;djiKC1AARiCY&#x2F;XJHCgmUqHgS+gfDjFlkAixLAHIVnLS75d3A+f8bSUVyOobdMEE6IUAUs0pHOaDm&#x2F;ad0AM&#x2F;NupIkxx7cNo8sojtetmG5evk5q1OU3kORbOEpfdMQL4FGYLdsMA5UjQC++rNGSIwyGO+CgOZ1ApxEfmYzP+yA2kNXY1wPfHSpeI&#x2F;Jv4vWp8glc3&#x2F;J2qMGouX4ZYvZvFIoy2N0VEersaO6Fw0IxWFQEcRHYUkSC+9TvljkrXNly8fVrcf4Adgec9QLaL5uF3NYWqc+9IRLoK1pX+68qYQ2gcO3Eq0uRFlLhpzOSLo+gepfeLdzzBucnErmrINJq19bJO+GGoVBD4zxUshEniZutk&#x2F;diXkauhX19dy5GrYEVyNVtXj7v&#x2F;bpAEE1nv1XL4zcFCefWS2NhzxFP7NgF9b9x78rcV8vT+zRQatOXAGbE4b&#x2F;qgNWMqZUt3GtED19m2rthjigbtr1i2CmDgytGrKaplWXXuefb2HHBgwEaKt9TeseH4ezzY&#x2F;LRy3nHAqIhRUQPDIXz&#x2F;vzG0LdZ3RNLKIumJ+AWqN9KmFLfdXyC0bWPUZlggPOl26a2ZIIFJveRidCc8Uzrsg31Ps+Gd4i4Lqx5l6Mat7M5bR3tY2XpoC+p4z0tfJwvyDdJSC7lYWu56ZLPseGQB2z1ydmxQiYHHmyB+8Jfbmb65gVGZ9vYDD90xE7f5C&#x2F;LYXDrX6tiSK7Gik3KK97+km&#x2F;QzusBqKG9l35GhtDh38eHtadyI0g4mQZL0AeZ+1&#x2F;6YO8ZYazR3srFYhVVCBbEnCqEaq8XG2L+QxR5KARbIWKzBrCwRQFmBvfy7DlNymBNjsQIrGLUqxpufldDVe3ipWiBgMIqKJLeE1j6+Xn5+ym48vwfRhgwOxpbqDMywWJBV46jGtDWNTaREKrU5z2Ap42yNrRlxNcgI2cdE62x0MTFVNlXRMYacROPjs3e0xoSYcIQzJab+PWLssyOTil0NxwlkZEqQyoAYKBGJV8qVTiq5app5fGS8pxkRe8zqhn1It24aG&#x2F;&#x2F;Ra9zETiaus2ZGq4iWEDnBWszII4nUkXGUMdamuO6RvpbYxNsLjyjq5xkfqeXrvaQKcxmRKYlSTuTmz+RXTfHxJm5O7thnBv8vL98rv+6&#x2F;9&#x2F;uRw7yn9QSrDW0Y&#x2F;slj4Z1FeEMO49zVI4JLLU44Gkxpv76aRacguB&#x2F;3cKOvJgKfwZYjbeNdYuqKPFTZkqbEqDXCxaexoGSV0xHjKWY973SlpkYZZnZmLpmWkJxakaRJUlM34WHXbl5R5ps29uVzjI36aNOLTSschk108E2RVVmr+12qbCfdBJ+KvStsKwryS0J0aEYplYwfZkatjulAMzLpJDplum6CQaPackA+te5ylHUPsxAb&#x2F;5FTTkZu0c6L1G3T7o6Mr3nY1&#x2F;3Po77pP54gwqtp3bRpOloeYxnzMJNqaaEyFdYg68fa0qhOnggssrIfKmRSRQTgTig63shIZgqgWkSjRo00P3qWn8WfTU0ttKibVWuRZ1E7q87C6VJSmJrauuWHN04T3R1KjD9Pdge9qan3nf7cCGWucqS2Z9Dcox64V1TcUztS1oyAvgCH6He0wygYAAB9afNi8zG0G&#x2F;nq1t9oH62nyj&#x2F;I0FHaCQyP7Ffl8pBvrPh&#x2F;as3t1249dK1+RwEP77Jgb3SCsOcSfCqAIFOHmS3fK57JIeDLaeDmhPUAlUr3ucIavO0UliYDmoA5ICytFCtdgBDzAQYrHEScxZ8uptIJCFVCAHAyTACFswFoMgcA4ZyTYuU9IAy8AwYXBCJ5lOqCYgsc0rg5MSpBC&#x2F;oPKkO9M2HZxAPvWIRWcb4gsr6RfdUAWZyWO27YI3Mc4j9FLuLAMXVwFbfDtiUYmGo0EpciwzFJHHVobKgbbZwYlQQpLdB&#x2F;eStDvYstm8rX37EIreKWGY9538i+Wj&#x2F;IxNIe0puj7zXjrQz3nyInqtiBbWbqEtdVF2OLrQQGersajcTKEc3DUaJWcn0d8fKu7lt2+PpmBbFGprRUekZmi5OCVv3MeNvP&#x2F;8uqDHsJulKUWf8DRXt&#x2F;W9miyNT0OBoBAA&#x3D;&#x3D;&#39;) format(&#39;woff2&#39;),</span><br><span class="line">    url(&#39;iconfont.woff?t&#x3D;1589906807175&#39;) format(&#39;woff&#39;),</span><br><span class="line">    url(&#39;iconfont.ttf?t&#x3D;1589906807175&#39;) format(&#39;truetype&#39;), &#x2F;* chrome, firefox, opera, Safari, Android, iOS 4.2+ *&#x2F;</span><br><span class="line">    url(&#39;iconfont.svg?t&#x3D;1589906807175#iconfont&#39;) format(&#39;svg&#39;); &#x2F;* iOS 4.1- *&#x2F;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  .iconfont &#123;</span><br><span class="line">    font-family: &quot;iconfont&quot; !important;</span><br><span class="line">    font-size: 16px;</span><br><span class="line">    font-style: normal;</span><br><span class="line">    -webkit-font-smoothing: antialiased;</span><br><span class="line">    -moz-osx-font-smoothing: grayscale;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  .icon-douban:before &#123;</span><br><span class="line">    content: &quot;\f01c8&quot;;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  .icon-csdn:before &#123;</span><br><span class="line">    content: &quot;\e60a&quot;;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  .icon-zhihu:before &#123;</span><br><span class="line">    content: &quot;\e69a&quot;;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  .icon-tubiaozhizuo-:before &#123;</span><br><span class="line">    content: &quot;\e60b&quot;;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  .icon-bilibili-line:before &#123;</span><br><span class="line">    content: &quot;\e75d&quot;;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p>全部复制到<code>\blogs\themes\next\source\lib\font-awesome\css\all.min.css</code>后边。这样，就可以使用新添加的图标了</p><p>：<code>&lt;i class=&quot;iconfont icon-bilibili-line&quot;&gt;&lt;/i&gt;</code></p><h3 id="在侧栏的社交链接中加入bilibili"><a href="#在侧栏的社交链接中加入bilibili" class="headerlink" title="在侧栏的社交链接中加入bilibili"></a>在侧栏的社交链接中加入bilibili</h3><p>打开_config.butterfly.yml或者_config.yml文件，搜索找到social：增加</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bilibili: https:&#x2F;&#x2F;space.bilibili.com&#x2F;B站id || iconfont icon-bilibili-line</span><br></pre></td></tr></table></figure><p>修改完如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">social:</span><br><span class="line">  #GitHub: https:&#x2F;&#x2F;github.com&#x2F;yourname || fab fa-github</span><br><span class="line">  #E-Mail: mailto:yourname@gmail.com || fa fa-envelope</span><br><span class="line">  #Weibo: https:&#x2F;&#x2F;weibo.com&#x2F;yourname || fab fa-weibo</span><br><span class="line">  #Google: https:&#x2F;&#x2F;plus.google.com&#x2F;yourname || fab fa-google</span><br><span class="line">  #Twitter: https:&#x2F;&#x2F;twitter.com&#x2F;yourname || fab fa-twitter</span><br><span class="line">  #FB Page: https:&#x2F;&#x2F;www.facebook.com&#x2F;yourname || fab fa-facebook</span><br><span class="line">  #StackOverflow: https:&#x2F;&#x2F;stackoverflow.com&#x2F;yourname || fab fa-stack-overflow</span><br><span class="line">  #YouTube: https:&#x2F;&#x2F;youtube.com&#x2F;yourname || fab fa-youtube</span><br><span class="line">  #Instagram: https:&#x2F;&#x2F;instagram.com&#x2F;yourname || fab fa-instagram</span><br><span class="line">  #Skype: skype:yourname?call|chat || fab fa-skype</span><br><span class="line">  bilibili: https:&#x2F;&#x2F;space.bilibili.com&#x2F;B站id || iconfont icon-bilibili-line</span><br></pre></td></tr></table></figure><p>把B站id换成自己的B站id即可</p><p>参考文章：<a href="https://x-zeppelin.github.io/hexo-icon/">给hexo next扩展图标</a></p>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> 图标 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>同济校友世纪互联白票</title>
      <link href="f71317ac.html"/>
      <url>f71317ac.html</url>
      
        <content type="html"><![CDATA[<h1 id="同济校友世纪互联白票"><a href="#同济校友世纪互联白票" class="headerlink" title="同济校友世纪互联白票"></a><strong>同济校友世纪互联白票</strong></h1><p>社工库免费查询：@sgk123bot  </p><p>身份户籍、手机机主、开房记录、快递地址、贷款记录、车牌车主、个人常用密码、QQ/邮箱/微博/网络账号、就职单位和银行开户等联系方式。  </p><p>【每日1次免费】 输入推广码: IVT51C7A00B 额外获得5次查询。   </p><p>学号姓名怎么获取已经知道了，tg某社工库机器人库比较全。</p><p>之所以选生僻字也是这一点，缩小范围，再根据学号可以基本确定sfz里的出生年份进一步确定姓名对应的sfz号。  <a href="https://mail-mgmt.tongji.edu.cn/regOfficialEmail/checkPhone">https://mail-mgmt.tongji.edu.cn/regOfficialEmail/checkPhone</a> 同济大学的校友邮箱需要两个信息： 1.学工号  2.身份证号 </p><p> <img src="https://gitee.com/cit_k/pictures/raw/master/picture/Dgj2K7OYsc6UA8L.png" alt="img"> </p><p>第一步： 搜索学生名单，获取已经毕业了的学生学号  google： 同济大学 学生名单 ，或者直接去同济公开网查  <a href="http://xxgk.tongji.edu.cn/index.php?classid=3148&amp;page=5">http://xxgk.tongji.edu.cn/index.php?classid=3148&amp;page=5</a> </p><p>第二步： 去表格里找 生僻的名字 <img src="https://gitee.com/cit_k/pictures/raw/master/picture/RY9xaQkBq6zeHt7.png" alt="img"> 第三步：上TG去 @sgk123bot 搜索生僻的名字， 多试几个 ，有免费条数，精髓在于只搜索不查看的话 不消耗条数</p><p>  <img src="https://gitee.com/cit_k/pictures/raw/master/picture/SCpGQFNVdqXyack.png" alt="img"> </p><p>第四步： 找到只有一条记录的，如我找的这个  <img src="https://gitee.com/cit_k/pictures/raw/master/picture/jZC3WFONt9sBTHk.png" alt="img"> </p><p>第五步： 回到校友邮箱，输入他的学工号，你的手机号 进行注册，让你验证身份证就输入他的，搞定。    </p><p>第六步： 拿到邮箱以后github上找 onemanager 这个项目，用heroku搭建列表程序(同济可以用API但不能创建API，onemanager自带同济API，是最简单的) </p><p> 第七步： 搭建完成后配置邮箱时会自动弹窗授权，点击确定后在下面这个图的地方什么都不选，点确认就OK了  <img src="https://gitee.com/cit_k/pictures/raw/master/picture/duwWgDxq42VLXlU.png" alt="img"></p>]]></content>
      
      
      <categories>
          
          <category> 白票 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 黑科技 </tag>
            
            <tag> 白票 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Gitkarken Pro版本的破解使用</title>
      <link href="6e150933.html"/>
      <url>6e150933.html</url>
      
        <content type="html"><![CDATA[<h2 id="Gitkarken-Pro版本的破解使用"><a href="#Gitkarken-Pro版本的破解使用" class="headerlink" title="Gitkarken Pro版本的破解使用"></a>Gitkarken Pro版本的破解使用</h2><h3 id="下载安装"><a href="#下载安装" class="headerlink" title="下载安装"></a>下载安装</h3><ul><li><a href="https://www.gitkraken.com/download">官方地址</a></li><li>历史版本稳定：<a href="https://release.axocdn.com/win64/GitKrakenSetup-6.5.0.exe">GitKraken-6.5.0</a></li></ul><p><img src="https://cdn.jsdelivr.net/gh/CIT-K/pictures/picture/170c816e735f6251" alt="img"></p><h3 id="屏蔽更新host"><a href="#屏蔽更新host" class="headerlink" title="屏蔽更新host"></a>屏蔽更新host</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># gitKraken 更新屏蔽</span><br><span class="line">127.0.0.1 release.gitkraken.com</span><br></pre></td></tr></table></figure><h3 id="环境配置"><a href="#环境配置" class="headerlink" title="环境配置"></a>环境配置</h3><p>需要安装<code>node.js</code>和<code>yarn</code>，其中<code>node.js</code>安装时要选择加入系统环境中，<code>yarn</code>在安装后也要手动进行添加进系统环境。</p><h3 id="打开gitkraken并登陆"><a href="#打开gitkraken并登陆" class="headerlink" title="打开gitkraken并登陆"></a>打开gitkraken并登陆</h3><p>软件右下角有显示版本和Free(功能受限)</p><h3 id="下载破解脚本并破解"><a href="#下载破解脚本并破解" class="headerlink" title="下载破解脚本并破解"></a>下载破解脚本并破解</h3><p>这里使用<a href="https://github.com/5cr1pt/GitCracken">GitCracken</a></p><p>本地clone下载</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/<span class="number">5</span>cr1pt/GitCracken.git</span><br></pre></td></tr></table></figure><p>破解</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> GitCracken/GitCracken</span><br><span class="line">rm yarn.lock</span><br><span class="line">yarn install</span><br><span class="line">yarn build</span><br><span class="line"># 最后一个参数是此程序安装位置下的一个文件</span><br><span class="line"># windows gitbash</span><br><span class="line">node dist/bin/gitcracken.js patcher --asar ~/AppData/Local/gitkraken/app-<span class="number">6</span>.<span class="number">5</span>.<span class="number">0</span>/resources/app.asar</span><br><span class="line"># mac </span><br><span class="line">node dist/bin/gitcracken.js patcher --asar 你的gitkraken的目录/resources/app.asar</span><br></pre></td></tr></table></figure><h3 id="重启gitkraken则能看见右下角的Pro"><a href="#重启gitkraken则能看见右下角的Pro" class="headerlink" title="重启gitkraken则能看见右下角的Pro"></a>重启gitkraken则能看见右下角的Pro</h3><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/170c80eee33fc9c1" alt="img"></p><p>切换账号则重新执行node命令</p><h3 id="破解中遇到的问题"><a href="#破解中遇到的问题" class="headerlink" title="破解中遇到的问题"></a>破解中遇到的问题</h3><ol><li><p>破解最后一步使用的文件参数，若是失败的话改为自己文件的绝对位置</p></li><li><p>安装<code>node.js</code>和<code>yarn</code>之后重启，使用<code>yarn --version</code>验证是否能够使用</p></li><li><p>成功破解之后，是在<code>app.asar</code>做的修改，若是你之前打开了程序并且登录了<code>Github</code>其中保留的有你的信息，所以若是更换账户需要重新破解一次</p></li><li><p>我在最后一步破解之后，打开一直卡在启动界面上，我把<code>app.asar</code>拷贝出来重新安装了一遍，然后替换文件<code>app.asar</code>重新打开，在右下角看到<code>Pro</code>提示，若是显示是<code>Free</code>直接点击应该会变换。</p></li><li><p>在当前（2020.12.25）使用的7.0.1版本仍是可以破解的，但是为了之后保持能用最好不要更新。由于系统图标指向的是<code>Update.exe</code>程序，可在快捷方式中进行修改指向程序的真正位置。另外在<code>hosts</code>中加入<code>127.0.0.1 release.gitkraken.com</code>屏蔽更新。关于此程序的右键功能，在知乎有看大佬提到说需要修改注册表，我是直接将其关闭了</p></li></ol><p>参考文章:</p><ul><li><a href="https://juejin.cn/post/6844904087004135432">gitKraken 6.5.0 免收费破解</a></li><li><a href="https://hbaaa.github.io/2020/07/08/Gitkarken%E7%A0%B4%E8%A7%A3/">Gitkarken破解</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> 破解 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 破解 </tag>
            
            <tag> 黑科技 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>第一篇Hexo blog文章——Hexo + Gitee 部署个人博客</title>
      <link href="1640c2dd.html"/>
      <url>1640c2dd.html</url>
      
        <content type="html"><![CDATA[<hr><h1 id="第一篇Hexo-blog文章——Hexo-Gitee-部署个人博客"><a href="#第一篇Hexo-blog文章——Hexo-Gitee-部署个人博客" class="headerlink" title="第一篇Hexo blog文章——Hexo + Gitee 部署个人博客"></a>第一篇Hexo blog文章——Hexo + Gitee 部署个人博客</h1><h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><p>小组的谢老师给我们寒假布置了任务——建博客。害，其实博客这玩意儿，也就是那种“三分钟热度”，这里需要用数据说话：小组的金鼎师哥给我们培训前端展示过自己的博客，印象当中文章大多是生活感言建博之处，文章越往后时间越密集越往前越稀疏啊哈哈哈哈哈哈最后就看不到博客了(也不知是换域名了还是服务器关了)；添昊师哥<a href="https://loner1024.top/">博客</a>底子足初中就开始建了，开了又关关了又开，最近考研文章不高产了[笑哭]，但仍是我等楷模；倩师姐的博客太难见了，我当时从师哥那儿知道博客后就就就看了一眼啊一眼，啪，就没了。。。我，有一种预感，这经历会似曾相识！</p><blockquote><p>2021.1.15更新，今天才知道金鼎师哥原来是博客域名到期了，用的是<a href="http://typecho.org/">typecho</a>搭建的；添昊师哥是部署在github应该双路线在coding上也部署了不然没那么快，jekyll框架+H2O主题；倩师姐也是在github上弄得，机智的我那她的仓库重现一下结果里面没文章[好吧师姐更机智]，但可以看出是Hexo框架，同时也发现了被灰藏多年的公众号哈哈哈哈哈哈</p></blockquote><p>其实我去年就在github建了博客，科学上网的原因速度慢、百度难收录等诟病，然后就没管了。。。放了将近一年该臭了[笑哭]反正是不想再碰了</p><p>目前市场上比较火的一些博客框架： <strong>Hexo、jekyll、Solo、Halo 、gohugo、VuePress、wordpress</strong> 等等 ，这些都是开源的静态博客框架（没有登录注册，后台管理等等）好处就是能够非常快速的搭建好自己的个人博客（也是要一定前端知识的），但是你若是部署到服务器也是需要票子不断维护的Pass！Next！部署到github白票国外服务器又走了老路Pass！那有没有更好的办法呢？</p><p>当然，而且有很多，但我选择了Hexo + Gitee：</p><ul><li>Hexo富含了丰富的主题和扩展包，很大众</li><li>Gitee码云，国内代码托管平台速度快，我很爱国嘿嘿嘿</li></ul><hr><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/20200802200250982.png" alt="在这里插入图片描述"></p><h2 id="准备"><a href="#准备" class="headerlink" title="准备"></a>准备</h2><p><strong>1、安装 Node.js 环境：</strong> 因为 Hexo 是基于Node.js 的博客框架，就像 Java 要依赖 JDK 环境一样。</p><ul><li>node下载地址：<a href="http://nodejs.cn/download/">http://nodejs.cn/download/</a> ，傻瓜式安装，这里不再详述</li></ul><p><strong>NodeJS环境安装重点拓展：</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 确认node.js安装成功：运行下面两个命令打印版本号即可</span></span><br><span class="line">node -v</span><br><span class="line">npm  -v</span><br><span class="line"></span><br><span class="line"><span class="comment"># 安装 Node.js 淘宝镜像加速器 （cnpm）</span></span><br><span class="line">npm install -g cnpm --registry=https://registry.npm.taobao.org</span><br><span class="line"></span><br><span class="line"><span class="comment"># 修改 node 类库默认安装位置</span></span><br><span class="line"><span class="comment"># 默认是在 C:\Users\lingStudy\AppData\Roaming\npm</span></span><br><span class="line"></span><br><span class="line">npm config <span class="built_in">set</span> prefix <span class="string">&quot;D:\nodejs安装路径\node_global&quot;</span></span><br><span class="line">npm config <span class="built_in">set</span> cache <span class="string">&quot;D:\nodejs安装路径\node_cache&quot;</span></span><br><span class="line"><span class="comment"># 查看修改是否成功</span></span><br><span class="line">npm root -g</span><br><span class="line"><span class="comment"># 然后把D:\install\node\node_global配置到环境变量的 PATH 下即可</span></span><br></pre></td></tr></table></figure><p><strong>2、安装版本控制工具 Git ：</strong> 用来将本地项目托管到码云，所以还需要自己注册一个码云的账号</p><p>下载地址：<a href="https://git-scm.com/download">https://git-scm.com/download</a> 学程序的，在工作中 Git 是必知必会的，还没学的建议去看看，所以这里不再详细介绍 Git</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Git一些重要配置</span></span><br><span class="line">git config --global user.name <span class="string">&quot;lxxxxdy&quot;</span>  <span class="comment">#码云用户名</span></span><br><span class="line">git config --global user.email <span class="string">&quot;xxx83@qq.com&quot;</span>   <span class="comment">#邮箱</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 生成SSH公钥并添加到码云，实现免密码登录</span></span><br><span class="line"><span class="comment"># 1、生成公钥</span></span><br><span class="line">ssh-keygen -t rsa</span><br><span class="line"><span class="comment"># 2、进入 C:\Users\主机名\.ssh 目录，把 id_rsa.pub 里面的信息复制到码云的 SSH公钥 中即可</span></span><br></pre></td></tr></table></figure><p><strong>Hexo 官网：</strong> <a href="https://hexo.io/zh-cn/">https://hexo.io/zh-cn/</a><br><img src="https://gitee.com/cit_k/pictures/raw/master/picture/20200802200636724.png" alt="在这里插入图片描述"></p><p><strong>3、Hexo安装</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 全局安装</span></span><br><span class="line">npm install hexo-cli -g</span><br><span class="line"><span class="comment"># 查看hexo版本</span></span><br><span class="line">hexo -v</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/20200802200739294.png" alt="在这里插入图片描述"></p><h2 id="创建本地博客站点"><a href="#创建本地博客站点" class="headerlink" title="创建本地博客站点"></a>创建本地博客站点</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 初始化一个项目，hexoblog 是项目名</span></span><br><span class="line">hexo init  hexoblog</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/20200802200820716.png" alt="在这里插入图片描述"></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1、进入hexoblog项目目录</span></span><br><span class="line"><span class="built_in">cd</span> hexoblog</span><br><span class="line"><span class="comment">#/2、安装 hexoblog 项目的依赖包</span></span><br><span class="line">npm install</span><br><span class="line"><span class="comment">#/3、启动 hexoblog 项目服务</span></span><br><span class="line">hexo server</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/20200802200859628.png" alt="在这里插入图片描述"><br>此时，访问 <a href="http://localhost:4000/">http://localhost:4000/</a> 即可看到 hexo 默认的页面和一篇“Hello World”默认生成的文章<br><img src="https://gitee.com/cit_k/pictures/raw/master/picture/20200802200937295.png" alt="在这里插入图片描述"><br>至此，Hexo 项目搭建成功！</p><blockquote><p>项目主要文件目录介绍：</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">├── .deploy       <span class="comment"># 需要部署的文件</span></span><br><span class="line">├── node_modules  <span class="comment"># 项目所有的依赖包和插件</span></span><br><span class="line">├── public        <span class="comment"># 生成的静态网页文件</span></span><br><span class="line">├── scaffolds     <span class="comment"># 文章模板</span></span><br><span class="line">├── <span class="built_in">source</span>        <span class="comment"># 博客正文和其他源文件等都应该放在这里</span></span><br><span class="line">|   ├── _drafts   <span class="comment"># 草稿</span></span><br><span class="line">|   └── _posts    <span class="comment"># 文章</span></span><br><span class="line">├── themes        <span class="comment"># 主题</span></span><br><span class="line">├── _config.yml   <span class="comment"># 全局配置文件</span></span><br><span class="line">└── package.json  <span class="comment"># 项目依赖信息</span></span><br></pre></td></tr></table></figure><h2 id="新建一篇blog文章"><a href="#新建一篇blog文章" class="headerlink" title="新建一篇blog文章"></a>新建一篇blog文章</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 新建一篇名为 第一篇Hexo blog文章 的文章</span></span><br><span class="line">hexo new <span class="string">&quot;第一篇Hexo blog文章&quot;</span></span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/20200802201048569.png" alt="在这里插入图片描述"><br>  之后，就可以直接编辑刚刚新建的文章，再次启动服务查看效果，如下，这里有一个问题，Hexo框架文章中的图片只支持外链的形式，有很多方法解决，比如，可以在码云或者七牛云部署一个自己的图床。<br><img src="https://gitee.com/cit_k/pictures/raw/master/picture/20200802201113758.png" alt="在这里插入图片描述"></p><h2 id="将项目部署到码云"><a href="#将项目部署到码云" class="headerlink" title="将项目部署到码云"></a>将项目部署到码云</h2><p>1、在码云新建一个仓库，注意标红的地方，这里我的码云用户名为 <strong>lingstudy</strong><br><img src="https://gitee.com/cit_k/pictures/raw/master/picture/20200802201146107.png" alt="在这里插入图片描述"><br>2、在项目根目录下安装git部署插件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 之后就可以使用 hexo deploy（或简写 hexo d）将项目部署到gitee远程仓库</span></span><br><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/20200802201219532.png" alt="在这里插入图片描述"><br>3、修改项目配置文件：<strong>_config.yml</strong>，在最下面，修改如下内容</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Deployment</span></span><br><span class="line"><span class="comment">## Docs: https://hexo.io/docs/deployment.html</span></span><br><span class="line">deploy:</span><br><span class="line">  <span class="built_in">type</span>: git</span><br><span class="line">  repo: 仓库URL地址</span><br><span class="line">  branch: master</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/2020080220131539.png" alt="在这里插入图片描述"><br>4、使用命令 <strong>hexo d</strong> 将项目部署到 gitee 远程仓库，此时本地文件夹中出现有一个public文件夹。<br><img src="https://gitee.com/cit_k/pictures/raw/master/picture/20200802201344312.png" alt="在这里插入图片描述"><br>5、开启 Gitee Pages 静态网页托管服务<br><img src="https://gitee.com/cit_k/pictures/raw/master/picture/20200802201407831.png" alt="在这里插入图片描述"><br>之后使用提供的网址即可访问博客，每次重新上传代码到gitee时，都需要点击下图的更新按钮<strong>重启page服务</strong><br><img src="https://gitee.com/cit_k/pictures/raw/master/picture/202008022014338.png" alt="在这里插入图片描述"><br>访问生成的网址 <a href="https://lingstudy.gitee.io/">https://lingstudy.gitee.io/</a> ，部署成功！<br><img src="https://gitee.com/cit_k/pictures/raw/master/picture/20200802201510794.png" alt="在这里插入图片描述"></p><h2 id="修改主题"><a href="#修改主题" class="headerlink" title="修改主题"></a>修改主题</h2><p>官网主题：<a href="https://hexo.io/themes/">官方主题</a><br>可以去官网找自己喜欢的主题，下载下来，我这里就随便拿一个来演示了</p><p>1、进入所下载主题根目录下的 theme 目录，将里面的文件复制到自己项目的 theme 目录下<br><img src="https://gitee.com/cit_k/pictures/raw/master/picture/2020080220154554.png" alt="在这里插入图片描述"><br>2、修改根目录下的配置文件 <strong>_config.yml</strong><br><img src="https://gitee.com/cit_k/pictures/raw/master/picture/20200802201608536.png" alt="在这里插入图片描述"><br>3、启动项目，访问：<a href="http://localhost:4000/">http://localhost:4000/</a> 先在本地查看主题是否修改成功<br><img src="https://gitee.com/cit_k/pictures/raw/master/picture/20200802201649173.png" alt="在这里插入图片描述"><br>4、将修改后的项目部署到远程仓库</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 生成静态网站文件</span></span><br><span class="line">hexo g  </span><br><span class="line"><span class="comment"># 上传到远程仓库</span></span><br><span class="line">hexo d  </span><br><span class="line"></span><br><span class="line"><span class="comment"># 1、清除 hexo 的缓存</span></span><br><span class="line">hexo clean</span><br><span class="line"><span class="comment"># 2、采用一键部署</span></span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/20200802201726963.png" alt="在这里插入图片描述"><br>5、访问 <a href="https://lingstudy.gitee.io/">https://lingstudy.gitee.io/</a> 主题样式修改并部署成功！</p><p><strong>（这里若出现样式错乱，可能是浏览器缓存问题，执行 Ctrl + F5 强制刷新一下即可）</strong><br><img src="https://gitee.com/cit_k/pictures/raw/master/picture/20200802201812780.png" alt="在这里插入图片描述"><br>至此，Hexo + Gitee 部署自己的个人博客完成！</p><h2 id="拓展：快速编写文章"><a href="#拓展：快速编写文章" class="headerlink" title="拓展：快速编写文章"></a>拓展：快速编写文章</h2><p>新建文章时每次都要执行 <strong>hexo new “blogName”</strong> 命令很麻烦</p><p>可以直接到根目录 /source/_posts 目录下，创建一个.md 文件进行编写，在文件的顶部添加下面内容就可以了，主要写一个 title 就好了，其他都可以省略</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: 文章名称</span><br><span class="line">date: 2020-07-30 16:46:07(创建时间)</span><br><span class="line">tags: 标签名</span><br><span class="line">categories: 分类</span><br><span class="line">description: 描述</span><br><span class="line">comments: 是否开启评论(<span class="literal">true</span> or <span class="literal">false</span>)</span><br><span class="line">---</span><br></pre></td></tr></table></figure><p>之后，使用 <strong>hexo g –d</strong> 命令推送到 gitee上，并在 gitee 上更新一下 Gitee Pages 服务即可</p><hr><h2 id="END"><a href="#END" class="headerlink" title="END"></a>END</h2><p>步骤不是太复杂，思路清晰就行，但不得不说还是麻烦，特别是主题的选择配置要花费非常多的时间（强迫症的就更多了）<br>我的博客，可能，要重走师哥师姐博客的路了。。。也许，师弟师妹也是</p><p>参考文章：</p><ul><li><a href="https://blog.csdn.net/weixin_42365530/article/details/107750003">Hexo+gitee：30分钟搭建一个自己的个人博客网站</a></li><li><a href="https://butterfly.js.org/posts/21cfbf15/">Butterfly 安装文档(一) 快速开始</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>系统软件</title>
      <link href="b77c21ed.html"/>
      <url>b77c21ed.html</url>
      
        <content type="html"><![CDATA[<h1 id="CIT2020国庆培训软件总纲"><a href="#CIT2020国庆培训软件总纲" class="headerlink" title="CIT2020国庆培训软件总纲"></a>CIT2020国庆培训软件总纲</h1><h2 id="系统软件"><a href="#系统软件" class="headerlink" title="系统软件"></a>系统软件</h2><h3 id="win-主-Mac"><a href="#win-主-Mac" class="headerlink" title="win(主)+Mac"></a>win(主)+Mac</h3><p>win系统安装(工具的选择’以微pe为例,小白盘，大白菜，优启通，傻瓜式一键装机等’+系统盘制作+系统的下载’微pe,msdn,亦是美’+分区+安装版本选择+激活’kms,小马激活’)</p><p>扩展：黑苹果’电脑硬件与系统的选择+引导EFI’+多系统’OC+clover+’</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/image-20210315144235513.png" alt="image-20210315144235513"></p><h2 id="应用软件"><a href="#应用软件" class="headerlink" title="应用软件"></a>应用软件</h2><ol><li>火绒安全(广告拦截,文件清理,文件粉碎等)    <strong>禁360系列</strong>——捆绑、以毒攻毒</li><li>微pe修改win电脑开机密码</li><li>office(下载’亦是美，msdn’+安装+激活)</li><li>驱动(‘官网，驱动精灵，驱动人生’)</li><li>浏览器(谷歌、新版edge、火狐)</li><li>开机优化(自启动管理)</li><li>压缩包(winrar、7z、zip)</li><li>软件强力卸载(IObit Uninstaller等)</li><li>内存优化(meduct)</li><li>下载(迅雷’内测’,IDM)网盘不限速下载略，简</li><li>远控(向日葵，todesk)</li><li>markdown(typora)</li><li>vscode</li><li>python</li><li>anaconda</li><li>pycharm</li><li>matlab</li><li>stata、spss等</li></ol>]]></content>
      
      
      <categories>
          
          <category> CIT </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CIT </tag>
            
            <tag> 系统 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CIT20201004系统软件</title>
      <link href="b1cf8b54.html"/>
      <url>b1cf8b54.html</url>
      
        <content type="html"><![CDATA[<h1 id="CIT20201004系统软件"><a href="#CIT20201004系统软件" class="headerlink" title="CIT20201004系统软件"></a>CIT20201004系统软件</h1><h1 id="一、安装实践"><a href="#一、安装实践" class="headerlink" title="一、安装实践"></a><strong>一、安装实践</strong></h1><h1 id="1-1-为系统安装PE工具箱"><a href="#1-1-为系统安装PE工具箱" class="headerlink" title="1.1.为系统安装PE工具箱"></a>1.1.为系统安装PE工具箱</h1><p><em>本篇教程将详细介绍使用微PE工具箱软件的安装</em></p><p>链接：<a href="http://www.wepe.com.cn/download.html?tdsourcetag=s_pcqq_aiomsg">http://www.wepe.com.cn/download.html?tdsourcetag=s_pcqq_aiomsg</a></p><p>在微PE优盘的装机软件目录中，自带了4个可以安装进系统、U盘、移动硬盘、生成ISO的PE工具箱软件。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/%E4%B8%8B%E8%BD%BD.png" alt="img"></p><p>直接运行其中一个版本的PE软件，可以按需进行PE的二次安装。无论是安装进系统、U盘、移动硬盘、生成ISO均为一键安装。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/PE2.d658a63d.png" alt="img"></p><h1 id="二、微PE优盘使用指南（必读）"><a href="#二、微PE优盘使用指南（必读）" class="headerlink" title="二、微PE优盘使用指南（必读）"></a><strong>二、微PE优盘使用指南（必读）</strong></h1><h1 id="2-1-使用前必读"><a href="#2-1-使用前必读" class="headerlink" title="2.1.使用前必读"></a>2.1.使用前必读</h1><p>在正式开始使用之前，请务必认真阅读以下关于微PE优盘的特别说明。</p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/PEDESK.c81dfecc.png" alt="img"></p><h3 id="开始使用前的特别说明"><a href="#开始使用前的特别说明" class="headerlink" title="开始使用前的特别说明"></a>开始使用前的特别说明</h3><blockquote><p><strong>微PE优盘是PE盘，而非可一键安装的系统盘</strong></p><p>该U盘不是能够一键安装的系统安装盘，这点请特别注意。需要在开机时，选择从U盘启动进入，而不是在正常运行的系统下使用。通过U盘启动进入PE之后，如果要安装系统，需手工挂载ISO镜像，按照一定的流程安装。</p></blockquote><blockquote><p><strong>优盘中PE是隐藏的，系统镜像存放于可见区</strong></p><p>微PE优盘内的PE系统存储于不可见的隐藏分区。系统ISO镜像、常用装机软件均在这个可见的分区内。这些可见的内容是可以随意删除和替换的。在新的Win10系统上，会多显示一个叫EFI的分区，不用管就好。另外我们建议不要将微PE优盘插入到正在运行的Windows系统和mac系统下避免感染病毒</p></blockquote><blockquote><p><strong>搞清楚UEFI和Legacy(俗称BIOS)启动方式区别很重要</strong></p><p>请务必了解UEFI和Legacy(俗称BIOS)启动方式的大概含义。因为现在市面上的很多新机型，都是UEFI和Legacy共存的。以不同的启动方式进入PE之后，看到的启动界面和后续的操作并不完全相同。当然如果您遇到的机器比较老，只有Legacy启动，就不存在这个问题。关于UEFI和Legacy启动方式的具体含义和区别可以自行查询学习。</p></blockquote><blockquote><p><strong>PE支持USB3.0和NVME，但系统镜像并不全是</strong></p><p>本优盘的Win10PE是支持USB3.0和NVME盘的。但最终是否支持还是取决于安装的系统本身。众所周知，原版的WIN10,WIN8.1原生支持，但XP、WIN7并不支持。如果您在带NVME和USB3.0的新机器上装XP、WIN7，大概率会蓝屏或键盘鼠标不可用。关于这点，在后续教程中会单独做详解。</p></blockquote><blockquote><p><strong>PE是专业型装机维护工具，多些耐心多请教</strong></p><p>使用PE进行装机维护，对操作方式和经验有较高的要求。特别在当今市面上不同年代机型特别多的情况下，装机时也许偶尔会遇到一些小障碍，但也别担心，多查查多问问总可以解决的。我们提供的操作流程和技巧是最忠于原生技术，并且很巧妙的。按照我们提供的步骤，基本上可以很轻松的把各种奇怪的情况避免掉，遇到问题也别着急多查查多问问总能解决。</p></blockquote><h1 id="2-2-如何进入PE系统"><a href="#2-2-如何进入PE系统" class="headerlink" title="2.2.如何进入PE系统"></a>2.2.如何进入PE系统</h1><p>无论您是想装系统、拯救文件还是破解密码等，您要做的第一步就是从U盘启动进入PE系统。</p><p>启动PE系统的关键操作顺序：</p><ul><li>第一步：在开机时进入主板的启动项列表；</li><li>第二步：找到要启动的U盘，并辨别UEFI和Legeacy方式；</li><li>第三步：选择一个合适的WinPE系统版本进入。</li></ul><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/bootlist.02daed2a.jpg" alt="img"></p><h3 id="第一步：在开机时进入主板的启动项列表"><a href="#第一步：在开机时进入主板的启动项列表" class="headerlink" title="第一步：在开机时进入主板的启动项列表"></a>第一步：在开机时进入主板的启动项列表</h3><p>请将电脑关机，将微PE优盘插入到电脑后开机。然后在开机后的几秒内，当出现开机画面，按下快捷启动热键<code>F12</code>（不同机型请查看下面快捷键列表）进入启动项列表，然后在列表中通过方向键选择U盘所在选项，一般会带USB字样或者是U盘的品牌名（Sandisk、Toshiba之类），然后敲击回车可以进入U盘的PE菜单选择界面。</p><p>以下为各种品牌的主板和笔记本的快捷启动按键：</p><table><thead><tr><th>组装机主板</th><th>品牌电脑</th><th></th><th></th></tr></thead><tbody><tr><td>主板品牌</td><td>启动按键</td><td>电脑品牌</td><td>启动按键</td></tr><tr><td>华硕主板</td><td>F8</td><td>联想电脑</td><td>F12</td></tr><tr><td>技嘉主板</td><td>F12</td><td>宏基电脑</td><td>F12</td></tr><tr><td>微星主板</td><td>F11</td><td>华硕电脑</td><td>ESC或F8</td></tr><tr><td>映泰主板</td><td>F9</td><td>惠普电脑</td><td>F9或F12</td></tr><tr><td>梅捷主板</td><td>ESC或F12</td><td>联想Thinkpad</td><td>F12</td></tr><tr><td>七彩虹主板</td><td>ESC或F11</td><td>戴尔电脑</td><td>F12或ESC</td></tr><tr><td>华擎主板</td><td>F11</td><td>神舟电脑</td><td>F12</td></tr><tr><td>斯巴达克主板</td><td>ESC</td><td>东芝电脑</td><td>F12</td></tr><tr><td>昂达主板</td><td>F11</td><td>三星电脑</td><td>F12或F2</td></tr><tr><td>双敏主板</td><td>ESC</td><td>IBM电脑</td><td>F12</td></tr><tr><td>翔升主板</td><td>F10</td><td>富士通电脑</td><td>F12</td></tr><tr><td>精英主板</td><td>ESC或F11</td><td>海尔电脑</td><td>F12</td></tr><tr><td>冠盟主板</td><td>F11或F12</td><td>方正电脑</td><td>F12</td></tr><tr><td>富士康主板</td><td>ESC或F12</td><td>清华同方电脑</td><td>F12</td></tr><tr><td>顶星主板</td><td>F11或F12</td><td>微星电脑</td><td>F11</td></tr><tr><td>铭瑄主板</td><td>ESC或F11</td><td>明基电脑</td><td>F9或F8</td></tr><tr><td>盈通主板</td><td>F8</td><td>技嘉电脑</td><td>F12</td></tr><tr><td>捷波主板</td><td>ESC</td><td>Gateway电脑</td><td>F12</td></tr><tr><td>Intel主板</td><td>F12</td><td>eMachines电脑</td><td>F12</td></tr><tr><td>杰微主板</td><td>ESC或F8</td><td>索尼电脑</td><td>ESC</td></tr><tr><td>致铭主板</td><td>F12</td><td>苹果电脑</td><td>长按“option”键</td></tr><tr><td>磐英主板</td><td>ESC</td><td></td><td></td></tr><tr><td>磐正主板</td><td>ESC</td><td></td><td></td></tr><tr><td>冠铭主板</td><td>F9</td><td></td><td></td></tr><tr><td>注意：其它机型请尝试或参考以上品牌常用启动热键</td><td></td><td></td><td></td></tr></tbody></table><p><em>另外您还可以在BIOS设置中，将U盘设置为第一启动项启动U盘，具体方法可以百度。</em></p><h3 id="第二步：找到要启动的U盘，并辨别UEFI和Legeacy方式"><a href="#第二步：找到要启动的U盘，并辨别UEFI和Legeacy方式" class="headerlink" title="第二步：找到要启动的U盘，并辨别UEFI和Legeacy方式"></a>第二步：找到要启动的U盘，并辨别UEFI和Legeacy方式</h3><p>微PE优盘支持两种启动方式：</p><ul><li><strong>UEFI</strong></li><li><strong>Legacy</strong></li></ul><p><strong>当您的机器支持UEFI的话（新机器一般同时支持Legacy和UEFI），在这个启动项中一般会出现两个U盘的选项，一个是UEFI开头的，另一个是不带UEFI开头的或叫Legacy的：</strong></p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/uefi_legacy_1.6aef8ddb.png" alt="img"></p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/uefi_legacy_2.fb91e35d.png"></p><p><strong>当您的机器（老机器）只支持Legacy时，在这个主板的启动项中就只会出现一个U盘的选项：</strong></p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/legacy_1.cb047919.png" alt="img"></p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/legacy_2.c963adcb.png" alt="img"></p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/legacy_3.5b0d64e8.png" alt="img"></p><p>UEFI/Legacy启动方式的选择，对后续安装系统的时候影响比较大，一般情况下，如果需要用EFI方法安装系统（硬盘分区表为GPT），就启动UEFI的PE。如果用传统方式安装系统（硬盘分区表为MBR），就Legacy启动方式启动PE，这个按照您自己的需求选择。如果不清楚的话可随意先进一个，如果后面遇到问题再回来重选即可。如果是只支持Legacy启动的老机器，那就没得选，只能以Legacy方式启动PE。</p><p>注意：一些新机器默认了只开通了UEFI启动，如果需要打开Legacy启动，需要进BIOS设置中关闭SecureBoot。</p><p>选中需要启动的U盘选项，继续敲回车之后，均会先进入PE版本选择界面。但以不同的方式进入，显示的PE选择界面是不同的。<strong>Legacy启动时，PE选择菜单为蓝色天空背景。UEFI启动时，PE选择菜单为黑色纯色背景。</strong></p><p><img src="https://gitee.com/cit_k/pictures/raw/master/picture/legacype.df172ec1.png" alt="img"></p><p><img src="http://www.wepe.com.cn/ubook/assets/img/uefipe.0a6116b6.png" alt="img"></p><h3 id="第三步：选择一个合适的WinPE系统版本进入"><a href="#第三步：选择一个合适的WinPE系统版本进入" class="headerlink" title="第三步：选择一个合适的WinPE系统版本进入"></a>第三步：选择一个合适的WinPE系统版本进入</h3><p>微PE优盘支持多个PE系统，在黑色或蓝色PE选择界面可以按需选择，legacy启动的蓝色菜单可以让您自由决定PE系统版本和位数32位或64位，而UEFI启动的黑色菜单，已经按照机器的情况自动确定了位数，您只能选择系统版本。10PE和8PE是目前最常用的两种PE，10PE用于比较新的机器，8PE用于比较老的机器。如果不太清楚，选默认第一个Win10PEx64就好。关于10PE、8PE、32位和64位的具体功能区别会在后续的教程中单独列出。选中后，敲击回车正式进入PE系统。</p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABAAAAAMACAIAAAA12IJaAAAMx0lEQVR4nO3dv04cVxTA4YNNZIGCZvmz0q5dDG7TbENKyy9gyS5SB1dpXcYdVYpUPAK0SJH8CMipLVluInfIlctFRqJJpE2BjUSMbZgwe2f3fF81AiGd6s79sbNzIwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA6LzllRjWpYcAmGELpQcAgC9YXolqLVb7sT6IjWH070X/bmwMY30QP/9YejiAWbVYegAA+Opef7Uf1Vosr5QeEWBOCAAApsteH6AoAQBAa+z1AbpHAABwE+z1AWaEAADgmr6517+zFLfdXwA6ygINwJd9c6+/9H0seKEcwCwRAABEhL0+QBYCACCxB4/s9QGysb4DzLth/d//6//2y8df/flhVr+bu+X+BdCQBRRgjny+17/0PTznu+dXk1KT/l8CAKApjwABzKYr7vUB4CIBANB59voA3BwBANAZztICoH0CAKAEe30AChEAAO3zDA8AnSEAANr3+x/2+gB0hAAAaN8PW6UnAICPbpUeAAAAmB4BAAAAiQgAAABIRAAAAEAiAgAAABIRAAAAkIgAAACARAQAAAAkIgAAACARAQAAAIkIAAAASEQAAABAIgIAAAASEQAAAJCIAAAAgEQEAAAAJCIAAAAgEQEAAACJCAAAAEhEAAAAQCICAAAAEhEAAACQiAAAAIBEBAAAACQiAAAAIBEBAAAAiQgAAABIRAAAAEAiAgAAABIRAAAAkIgAAACARAQAAAAkIgAAACARAQAAAIkIAAAASEQAAABAIgIAAAAAAAAAAAAAAABmw0LpAQASeDUpPcFFW58W/64NdnVb7l8ADfkSMAAAJCIAAAAgEQEAAACJCAAAAEhEAAAAQCICAAAAEhEAAACQiAAAAIBEBAAAACQiAAAAIBEBAAAAiQgAAABIRAAAAEAiAgAAABIRAAAAkIgAAACARAQAAAAkIgAAACARAQAAAIkIAAAASEQAAABAIgIAAAASEQAAAJCIAAAAgEQEAAAAJCIAAAAgEQEAAACJCAAAAEhEAAAAQCICAAAAEhEAAACQiAAAAIBEBAAAACQiAAAAIBEBAAAAiQgAAABIRAAAAEAiAgCgfX+9ivfv4vSk9BwAEIulBwBI4NefYrUf64PYGEb/XvTvxsYw1gex2o9qLZZXSs8HQCICAKB979/F+3cXfrK8EtWaKgBg+gQAQAmnJ3F6ogoAmD4BANAZl1ZBRAxrVQDATREAAJ33+RNEoQoAaEgAAMwmVQBAIwIAYI5csQrOnZ7E8kr883csfjfNMQEoaKH0AACU8+DRrH5WsOX+BdCQBRSAiJi1dxAJAICmLKAAfFlnq0AAADRlAQXgmrpQBQIAoCkLKAA3YcpVIAAAmrKAAtCa9qpAAAA0ZQEFYOq+fl7BnaW4/a23VAsAgKYsoAB0w7VOMRMAAE05CAyAbrjW2cYAAEAWw7r0BAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMyA0Wh0dHR0dHT0+PHj0rMAAAAtOzw8nEwmk8lkPB6XngWAqbpVegAAWlRV1dlef3d3t/QsAABAy549ezb55OHDh+c/9wgQQFqLpQcAYEqOj4/Pr9+8eXP//v2CwwBQyu3SAwDQordv3w4Gg+Pj4/39/YODgyv+1e7u7vPnzzc3N1++fNnqeAAAQGHb29vnTw2NRqPS4wBww3wJGIALer3epdcAAMAcqqrq9evXk8nk8PCw9CwAAAAAAAAAAAAAAAAAADAH6rre2dmp67r0IAAAQMvquj57f/94PNYAAFzKOQAA8+Pp06dnF71e78mTJ0VnAQAAWlbX9Xg89gkAAABk4TsAAAAAAAAAAAAAAAAAAAAAAAAwc6qq2tvbe/HixWg0Kj0LAADQsr29vfNThEvPAkCLnAQMQETE5ubm2UWv1ys6CAAA0L7RaHR2ivDOzk7pWQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIDO+xeE6PBeXAxICQAAAABJRU5ErkJggg==" alt="img"></p><p><img src="http://www.wepe.com.cn/ubook/assets/img/PEDESK.c81dfecc.png" alt="img"></p><p>如果您能成功进入到这个PE桌面，并且知道自己进入的是legacy方式的PE，还是UEFI方式的PE（通过在PE版本选择菜单页中背景是蓝色/黑色确定），就完成第一步。虽然现在看起来只完成了一小步，但这是迈向成功的一大步。</p><h1 id="3-3-判断分区表类型"><a href="#3-3-判断分区表类型" class="headerlink" title="3.3.判断分区表类型"></a>3.3.判断分区表类型</h1><p>进行到这里，您就已经成功进入了微PE的桌面了，但是为了您能够正确的使用PE，避免各种可能出现的问题、保护数据安全，请务必按照这里的要求，了解您的本地磁盘结构。并确认自己系统盘所在的磁盘号和磁盘分区表类型。</p><p><img src="http://www.wepe.com.cn/ubook/assets/img/DISKPART.c3cdacc8.png" alt="img"></p><h3 id="PE下的盘符顺序和本地系统内很可能不同"><a href="#PE下的盘符顺序和本地系统内很可能不同" class="headerlink" title="PE下的盘符顺序和本地系统内很可能不同"></a>PE下的盘符顺序和本地系统内很可能不同</h3><p>PE下的硬盘驱动器盘符的顺序（就是C盘、D盘、E盘…这种盘的顺序）和本地系统内看到的可能不一样，特别当您电脑里有2块以上硬盘的时候。平时您在正常系统内看到的C盘，很有可能在PE里就显示成了D盘E盘之类的，您在PE内看的C盘有可能不是真正的那种系统盘“C盘”。这是一种PE内正常的磁盘错乱的现象。没关系，不用管就行了。您只需要认准一件事情：通过分析磁盘结构和分区结构，确认自己的系统盘的位置和盘符即可。</p><p><img src="http://www.wepe.com.cn/ubook/assets/img/ZIYUAN.66cde534.png" alt="img"></p><h3 id="使用分区工具查看硬盘的分区结构"><a href="#使用分区工具查看硬盘的分区结构" class="headerlink" title="使用分区工具查看硬盘的分区结构"></a>使用分区工具查看硬盘的分区结构</h3><p>进行这个操作需要借助专业的分区工具，这里我们推荐分区助手，比较简单直观。打开PE桌面上的“分区助手(无损)”。查看电脑里的硬盘和分区信息，了解每个硬盘的分区表类型，并定位系统分区所在位置，您大概会看到下面三种情况：</p><p><img src="http://www.wepe.com.cn/ubook/assets/img/DISKGPT.1be9b4ae.png" alt="img"></p><p><img src="http://www.wepe.com.cn/ubook/assets/img/DISKMBR.5c7f4f90.png" alt="img"></p><p><img src="http://www.wepe.com.cn/ubook/assets/img/DISKGPTMBR.04c302bf.png" alt="img"></p><h3 id="观察硬盘分区表类型方法"><a href="#观察硬盘分区表类型方法" class="headerlink" title="观察硬盘分区表类型方法"></a>观察硬盘分区表类型方法</h3><p>硬盘分区表有两种类型：</p><ul><li><strong>GPT</strong></li><li><strong>MBR</strong></li></ul><p>从以上图片中红色框框中圈出的位置上，我们可以准确辨别出硬盘的分区表类型。</p><p>如果概括起来解释这两种分区表的区别，就是：</p><ul><li><strong>GPT</strong> <em>新型分区表类型，需对应UEFI启动，支持快速启动，支持2TB以上硬盘</em></li><li><strong>MBR</strong> <em>传统分区表类型，需对应Legacy启动，旧机器上比较常见</em></li></ul><p><strong>请记下您的分区表类型，这很重要。</strong></p><h3 id="观察系统盘所在硬盘和分区方法："><a href="#观察系统盘所在硬盘和分区方法：" class="headerlink" title="观察系统盘所在硬盘和分区方法："></a>观察系统盘所在硬盘和分区方法：</h3><p>通常情况下，PE下的C盘就是系统所在分区和硬盘。打开分区助手之后，直接去找被分配为C盘的那个分区。并通过下面这个策略去验证这个C盘是不是真正的系统所在分区：</p><ul><li>对于MBR分区表的硬盘，一般第一个大容量的主分区就是系统盘所在分区。</li><li>对于GPT分区表的硬盘，一般第一个大容量的GPT就是所在分区。</li><li>打开PE桌面上的此电脑（计算机），打开C盘，看看里面有木有Windows目录。 其实，PE里，绝大多数系统盘所在分区，都会被分配为C盘。以上就是保险起见的多次确认。</li></ul><p><strong>请记下您的硬盘上系统盘的位置，这很重要。</strong></p><p><img src="http://www.wepe.com.cn/ubook/assets/img/cpan.eba22a77.png" alt="img"></p><p>如果您是全新机器装系统，或者想整体格式化一下磁盘，清除全部数据，全新安装系统，那么以上文字可以暂时忽略。 至此，您已经进入PE，并分析好了电脑里硬盘和分区的情况，掌握了您的系统盘所在位置。您当前已经具备了正确使用微PE优盘基本条件。下面您就按照自己的需要做想做的事情了。开始吧。</p><h1 id="三、PE系统维护系列教程"><a href="#三、PE系统维护系列教程" class="headerlink" title="三、PE系统维护系列教程"></a><strong>三、PE系统维护系列教程</strong></h1><h1 id="3-1-硬盘快速分区教程"><a href="#3-1-硬盘快速分区教程" class="headerlink" title="3.1.硬盘快速分区教程"></a>3.1.硬盘快速分区教程</h1><p><em>本篇教程将详细介绍使用微PE对硬盘进行完全格式化重新分区的具体方法流程、注意事项等。</em></p><p><em>本方法支持的分区的格式为：GPT MBR</em></p><h2 id="硬盘分区的特别提示"><a href="#硬盘分区的特别提示" class="headerlink" title="硬盘分区的特别提示"></a>硬盘分区的特别提示</h2><ul><li>本分区教程会完全格式化硬盘，如果您需要无损分区，请参考：<a href="http://www.wepe.com.cn/ubook/diskpart.html">3.1.硬盘无损调整教程</a>。</li><li>本分区方法可以将分区重新分为GPT或MBR。</li><li>在分区操作之前，请务必做好数据备份。</li></ul><h2 id="硬盘分区的具体操作"><a href="#硬盘分区的具体操作" class="headerlink" title="硬盘分区的具体操作"></a>硬盘分区的具体操作</h2><p>进行这个操作需要借助专业的分区工具，这里我们推荐分区助手，比较简单直观。打开PE桌面上的“分区助手(无损)”。您会看到当前硬盘的列表。</p><p><img src="http://www.wepe.com.cn/ubook/assets/img/DISKPART.c3cdacc8.png" alt="img"></p><p>对着需要分区的硬盘点右键，选择快速分区。</p><p><img src="http://www.wepe.com.cn/ubook/assets/img/DISKQUICK.78ce0ada.png" alt="img"></p><p>在弹出的快速分区窗口中选择需要分区的个数、分区表类型GPT或者MBR、4K对齐等，然后点击开始执行。</p><p>注意</p><p>如果您需要使用UEFI启动系统，这里必须选择GPT分区表，如果使用Legacy方式启动电脑，这里必须选择MBR。</p><p><img src="http://www.wepe.com.cn/ubook/assets/img/DISKQUICK2.a8f0248d.png" alt="img"></p><p>等待执行完成之后，分区操作完毕。</p><h1 id="3-2-无损分区教程"><a href="#3-2-无损分区教程" class="headerlink" title="3.2.无损分区教程"></a>3.2.无损分区教程</h1><p>无损分区需使用傲梅分区助手</p><p>相关教程教程请参考：<a href="https://www.disktool.cn/jiaocheng/index.html">分区助手官方无损分区教程</a></p><h1 id="3-3-修改本地Windows密码"><a href="#3-3-修改本地Windows密码" class="headerlink" title="3.3.修改本地Windows密码"></a>3.3.修改本地Windows密码</h1><p><em>本篇教程将详细介绍使用微PE修改本地Windows密码等。</em></p><h2 id="修改本地Windows密码的特别提示"><a href="#修改本地Windows密码的特别提示" class="headerlink" title="修改本地Windows密码的特别提示"></a>修改本地Windows密码的特别提示</h2><ul><li>该功能不可用于非法用途。</li><li>该功能使用前需选确认本地Windows是否在C盘。</li></ul><h2 id="修改本地Windows密码的具体流程"><a href="#修改本地Windows密码的具体流程" class="headerlink" title="修改本地Windows密码的具体流程"></a>修改本地Windows密码的具体流程</h2><p>进入PE后，打开桌面上的“Windows密码修改”工具。</p><p><img src="http://www.wepe.com.cn/ubook/assets/img/pass.3bb7835e.png" alt="img"></p><p>打开 C:\WINDOWS\SYSTEM32\CONFIG\SAM 可列出本地全部的账户。</p><p>选中要修改的账户，点击解锁或更改密码，按照提示完成操作即可。</p><h1 id="3-4-本地系统注入驱动"><a href="#3-4-本地系统注入驱动" class="headerlink" title="3.4.本地系统注入驱动"></a>3.4.本地系统注入驱动</h1><p>无损分区需使用Dism++</p><p>相关教程教程请参考：<a href="http://www.chuyu.me/zh-Hans/Document.html">Dism++官方教程</a></p><h1 id="3-5-修复系统引导"><a href="#3-5-修复系统引导" class="headerlink" title="3.5.修复系统引导"></a>3.5.修复系统引导</h1><p>抱歉，该篇文档正在编写中，敬请期待。</p><h1 id="3-6-系统备份恢复"><a href="#3-6-系统备份恢复" class="headerlink" title="3.6.系统备份恢复"></a>3.6.系统备份恢复</h1><p><em>本篇教程将详细介绍使用微PE安装原版安装版以外Ghost&amp;Wim格式系统的具体方法流程、注意事项等。</em></p><p><em>本方法支持的格式：.gho .wim .esd</em></p><h2 id="系统备份恢复的特别提示"><a href="#系统备份恢复的特别提示" class="headerlink" title="系统备份恢复的特别提示"></a>系统备份恢复的特别提示</h2><ul><li>备份恢复保存的镜像文件支持.gho .wim .esd。</li><li>我们推荐使用wim格式的备份，特别是GPT分区表。</li><li>在做系统备份操作之前，请多次确认恢复、备份的分区是否正确，以免数据丢失。</li></ul><h2 id="系统备份恢复的具体流程"><a href="#系统备份恢复的具体流程" class="headerlink" title="系统备份恢复的具体流程"></a>系统备份恢复的具体流程</h2><p><img src="http://www.wepe.com.cn/ubook/assets/img/wim.710b3686.png" alt="img"></p><h2 id="系统备份"><a href="#系统备份" class="headerlink" title="系统备份"></a>系统备份</h2><p>进入PE后，打开桌面上的CGI工具。选择备份分区，选中要备份的分区位置，并选择.gho .wim要保存的镜像位置。</p><p>之后点开始执行，系统盘就备份到镜像了。</p><h2 id="系统还原"><a href="#系统还原" class="headerlink" title="系统还原"></a>系统还原</h2><p>进入PE后，打开桌面上的CGI工具。选择还原分区，选中要还原的分区位置，并选择要恢复的.gho .wim镜像。</p><p>之后点开始执行，镜像就恢复到系统盘了。</p><h1 id="四、PE安装Windows系统教程"><a href="#四、PE安装Windows系统教程" class="headerlink" title="四、PE安装Windows系统教程"></a><strong>四、PE安装Windows系统教程</strong></h1><p>系统下载链接：</p><blockquote><ol><li>微pe：<a href="http://www.wepe.com.cn/download.html?tdsourcetag=s_pcqq_aiomsg">http://www.wepe.com.cn/download.html?tdsourcetag=s_pcqq_aiomsg</a></li><li>msdn：<a href="https://msdn.itellyou.cn/">https://msdn.itellyou.cn/</a></li><li>亦是美：<a href="http://www.yishimei.cn/network/290.html">http://www.yishimei.cn/network/290.html</a></li></ol></blockquote><h1 id="4-1-原生安装Windows8-1-amp-10"><a href="#4-1-原生安装Windows8-1-amp-10" class="headerlink" title="4.1.原生安装Windows8.1&amp;10"></a>4.1.原生安装Windows8.1&amp;10</h1><p><em>本篇教程将详细介绍使用微PE安装微软原版系统的具体方法流程、注意事项、异常问题解决等。</em></p><p><em>Windows PE系统的全称叫做Windows Preinstallation Environment，即Windows预安装环境。顾名思义，这是安装系统前需要进入的环境，为安装系统而生。在PE内，通过挂载微软原版的系统ISO镜像，执行原生的安装程序SETUP.EXE，进入安装界面，这种方法安装系统，是最原生的安装方式。本方法同时支持UEFI和Legacy启动的系统安装，并且不管是UEFI方式还是Legacy方式，具体安装系统操作步骤都一样。</em></p><p><em>本方法支持的系统：Windows 7，Windows 8.1，Windows 10等NT6系列的全部系统。本方法不支持安装XP。</em></p><p><img src="http://www.wepe.com.cn/ubook/assets/img/7.b123116f.png" alt="img"></p><h2 id="安装系统前的准备工作"><a href="#安装系统前的准备工作" class="headerlink" title="安装系统前的准备工作"></a>安装系统前的准备工作</h2><p>使用微PE优盘安装系统的具体操作步骤并不多，如果能按照下面的要求做足充分的判断，可极大提高成功率。</p><ul><li><p><strong>确认自己要安装的系统位数是64位还是32位？</strong></p><p>如果是安装64位系统，则必须进入64位PE，如果是安装32位系统，请首选进入32位PE。</p></li><li><p><strong>原生安装方式对UEFI还是Legacy启动PE有严格要求</strong></p><p>UEFI启动的系统，系统盘所在硬盘的分区表为GPT，PE应为UEFI启动。</p><p>Legacy启动的系统，系统盘所在硬盘的分区表为MBR，PE应为Legacy启动。</p><p>请牢记UEFI&lt;-&gt;GPT和Legacy&lt;-&gt;MBR的这种对应关系。并通过当前硬盘的分区表类型判断机器之前是哪种方式启动。</p><p>若PE启动方式选择错误可以重新选择。</p></li><li><p><strong>判断系统盘所在硬盘的位置？</strong></p><p>如果您的机器上装了多块硬盘，请做好区分，别装错了。如果需要提前分区，就先分好再装。</p></li><li><p><strong>请务必提前做好数据备份</strong></p><p>安装的时候要格式化C盘，请务必将C盘文件备份至其他。必要时，将文档照片类的不可再生数据存储至外部存储器一份。</p></li></ul><p><em>关于如何启动PE和查看分区表类型的方法在「<a href="http://www.wepe.com.cn/ubook/bootpe.html">如何进入PE系统</a>」和「<a href="http://www.wepe.com.cn/ubook/checktable.html">判断分区表类型</a>」这两文章中有详细的讲解。</em></p><h2 id="正式开始安装系统"><a href="#正式开始安装系统" class="headerlink" title="正式开始安装系统"></a>正式开始安装系统</h2><p>安装原版系统的操作步骤为：</p><ul><li>第一步：PE内将要安装的系统ISO镜像挂载为虚拟光驱；</li><li>第二步：运行Windows安装程序Setup.exe一步一步开始安装；</li><li>第三步：等待系统安装完成，做最后的系统配置；</li><li>第四步：进入桌面，装驱动装软件。</li></ul><h3 id="第一步：将要安装的系统ISO镜像挂载为虚拟光驱"><a href="#第一步：将要安装的系统ISO镜像挂载为虚拟光驱" class="headerlink" title="第一步：将要安装的系统ISO镜像挂载为虚拟光驱"></a>第一步：将要安装的系统ISO镜像挂载为虚拟光驱</h3><p>从U盘启动进入PE内，打开U盘内的存放系统镜像的“ISO”目录，找到要安装的镜像。</p><p><img src="http://www.wepe.com.cn/ubook/assets/img/1.41e5b9ff.png" alt="img"></p><p>对着ISO镜像点右键，选择挂载，或者直接双击，该ISO就会被挂载为一个新的虚拟的光盘驱动器，和插入安装光盘效果类似。它会显示在“我的电脑”里，并且有一个盘符。</p><p><img src="http://www.wepe.com.cn/ubook/assets/img/1.5.49d02474.png" alt="img"></p><h3 id="第二步：运行Windows安装程序Setup-exe一步一步开始安装"><a href="#第二步：运行Windows安装程序Setup-exe一步一步开始安装" class="headerlink" title="第二步：运行Windows安装程序Setup.exe一步一步开始安装"></a>第二步：运行Windows安装程序Setup.exe一步一步开始安装</h3><p>运行这个虚拟盘符内的windows安装程序Setup.exe，就进入了windows的原版安装界面。</p><p><img src="http://www.wepe.com.cn/ubook/assets/img/2.f7879fc5.png" alt="img"></p><p>在Windows安装程序中点击“现在安装”开始，一步步往里点。</p><p><img src="http://www.wepe.com.cn/ubook/assets/img/3.73b6c08d.png" alt="img"></p><p>有对应产品密钥就输入，没有产品密钥就跳过输入密钥，待安装完系统再想办法激活。</p><p><img src="http://www.wepe.com.cn/ubook/assets/img/4.30a2e1df.png" alt="img"></p><p><img src="http://www.wepe.com.cn/ubook/assets/img/5.1e02a8b0.png" alt="img"></p><p><img src="http://www.wepe.com.cn/ubook/assets/img/6.41eab0c8.png" alt="img"></p><p>系统版本那里自行选择，安装类型那里选择 “自定义”，直到进入到待安装磁盘位置的页面。</p><p><img src="http://www.wepe.com.cn/ubook/assets/img/7.bb60c4e0.png" alt="img"></p><p>在这个界面中，需要做一个操作，来提升提升安装成功率。请先定位到您系统盘的位置，观察前面有几个小分区，百十来兆的样子，有时候一个，有时候两个，直接把小分区连同系统大分区一起删除。是的您没听错，选中后直接点红××删除它们，留下一个完整的“未分配空间”。</p><p><img src="http://www.wepe.com.cn/ubook/assets/img/8.ef5e210d.png" alt="img"></p><p>然后在这个未分配空间上点下一步，这个时候系统就开始安装了。</p><p><img src="http://www.wepe.com.cn/ubook/assets/img/9.d217ba7b.png" alt="img"></p><p>如果不出意外，等进度走完，重启后，就进入了安装配置阶段。</p><p><img src="http://www.wepe.com.cn/ubook/assets/img/10.c206de32.png" alt="img"></p><p><img src="http://www.wepe.com.cn/ubook/assets/img/11.a9fc357c.png" alt="img"></p><h3 id="第三步：等待系统安装完成，做最后的系统配置"><a href="#第三步：等待系统安装完成，做最后的系统配置" class="headerlink" title="第三步：等待系统安装完成，做最后的系统配置"></a>第三步：等待系统安装完成，做最后的系统配置</h3><p>重启后，进入系统最后配置页，这里会要求您做一些简单的设置，创建登录账户，按照提示操作即可。怎么选都可以。</p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABAAAAAMACAIAAAA12IJaAAAUi0lEQVR4nO3dPWwjZ3oH8HfPDg7eZGH4YwHvXeGGVCGodJpZXB9yr1ARqMx2o5IEAiGNuihFoIYqyc6tkGKbHfUHiJXTEVtoCATGFe7PgJsEYAqREj+GpEjxQ9T7+3XiDGcesqCe/8z7vhMCAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAC74OWr8Ob7bRcBsKtebLsAAJju5avw5dfhq9fhm+/Ct2/C6z+G138I374J33wX/uUft10cwE76fNsFAEAIYWav/9Xr8OXX4eWrbZcI8BwIAABsnF4fYHsEAADWSa8P8MQIAACsiF4fYBcIAAAsbm6v//svwmf+xQA8RX6dAZhpbq//xT+EF9aUA9gZAgAAA3p9gAgIAABx+9Of9foAUfHjDhCBN9+PX9f/j7S/6S9/29W5uT/4FwawDL+eAM/LZK9fuA7PXff8U29blT6WAACwFEOAAHbWA3t9ABgiAADsAr0+ACsiAAA8JZ6lBcCaCQAAW6LXB2AbBACAjTCGB4CnQQAA2Ij//C+9PgBPgQAAsBH7P2y7AgAIIYTfbbsAAABgcwQAAACIiAAAAAAREQAAACAiAgAAAEREAAAAgIgIAAAAEBEBAAAAIiIAAABARAQAAACIiAAAAAAREQAAACAiAgAAAEREAAAAgIgIAAAAEBEBAAAAIiIAAABARAQAAACIiAAAAAAREQAAACAiAgAAAEREAAAAgIgIAAAAEBEBAAAAIiIAAABARAQAAACIiAAAAAAREQAAACAiAgAAAEREAAAAgIgIAAAAEBEBAAAAIiIAAABARAQAAACIiAAAAAAREQAAACAiAgAAAAAAAAAAAAAAAOyGF9suACAOP/W2XcGoHwa//0+tsIf7wb8wgGWYBAwAABERAAAAICICAAAAREQAAACAiAgAAAAQEQEAAAAiIgAAAEBEBAAAAIiIAAAAABERAAAAICICAAAAREQAAACAiAgAAAAQEQEAAAAiIgAAAEBEBAAAAIiIAAAAABERAAAAICICAAAAREQAAACAiAgAAAAQEQEAAAAiIgAAAEBEBAAAAIiIAAAAABERAAAAICICAAAAREQAAACAiAgAAAAQEQEAAAAiIgAAAEBEBAAAAIiIAAAAABERAAAAICICAAAAREQAAACAiAgAAAAQEQEAYCM+/RR++Tn89uu26wAgdp9vuwCAOPzbP4evXodvvgvfvgmv/xhe/yF8+yZ881346nX48uvw8tW26wMgFgIAwEb88nP45eeRV16+Cl9+LRUAsGECAMCW/PZr+O1XqQCADRMAAJ6SwlQQQnjzvVQAwEoIAAC7YHIEUZAKAFiGAACws6QCABYnAAA8Lw9MBXd++zW8fBX+73/D53+3yTIB2JYX2y4AgK3605939V7BD/6FASzDrycAA7u1BpEAALAUv54AzPRkU4EAALAUv54ALO4ppAIBAGApfj0BWJENpwIBAGApfj0BWKf1pQIBAGApfj0B2IbZzyv4/Rfhs3kLVQsAAEvx6wnAk7HQU8wEAICleBAYAE/GQs82BgAAYvHm+21XAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADsls+2XQAAG5Ik6b82//2f/v5//vbff/3rtosBAADWKGnkvTt5IynaJW1kWdZIk6KNAADA7kiz3ogsnbXDxFYAno/fbbsAAJ6A9LAy9FflpPAWAQAAsCNGbwGMX+IfGSDkHgAAAOyIJEkbU8bxJ40s7/V6vTwruLw/mgCK5wgAAABPyQMm+s58d5bneZ7njVT7DwAAT97cib4AYBIwAAAAwC6aPdEXAAB4ZmZO9H3EUfNlJxYAAAC7ZWxqgRsLADvOHAAAZkn2yyN/Vw4lAICdJgAAMEv7Uz7yd/ems6VKAACADRh+vIBJAAAAsE3rmfY7eZokTYseLwwAAGzMyKN/zc8FAIDnzbN/AViYScAAAAAAu2BkDFCWGqMPAADPXJKkjSxraP4BAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFYgWduBJ46cTL40/yhpI11biSu0K3UCABC1NOv1er1e3lh575o08l6v18sGXXE6+HuZoyz6tsJDrbM9X2GdAACwNo/p/5M0m9Hu9jvioSMPeuQFTrbEW2YdKC+st/8dTDe/qV9ZnQAARGhuQ/pgc/vR5fv/eS1v/8ijvfOCffJg916vlz9Ycbd+d6iCUz86AKywTgAAIrT6ADDUoa7usHdlFrSyk5f/7zfk2cOGyi/5NUxtrNNsSga4PVHR+5KHjFpadZ0A0fl82wUAbFur+rYzt0U+OPqxWSuF7sXx+8vO1L3a7ZVWNqJVfbufX9dKodLMG51yfehU6WmtFEIIYe80y8belufh8DQ7HHv15sNZvTV8hCxvVu7+ujp+UW3NqiVJs+vb/a8+TNuxVS2HrNeshFLtOvv0ttpaxXezhjoBAKDA1GvsU3afdDf8Jy3YONt4FaN1LHO/YeRzDK7V51l6V+X02wbJ3aX93vx7C2k28aUVDlYa+STTLtavsU4AABi1YACY9v7i5na0y59tYiTQ4IWCZHG7qTBy3J36rk0eHG8oZEz0zUNN9cOjUGH9xd/D9ACw9joBAGDYIwPArNm/Dxr5Pn6swUXt+xHxU6fbTq/5vocunjzc6+VZv7tOhnrqWdfdH1L79A97lw5Gk8rm6wQAIAazmvxHBYDZi9YvGgCGrqoPT4hdIgDcDqop3p40hhrp+zFGeTbvG5g2fGnosvzUiiZHMw0mQK++TgAAoremADBvMc7FA0Df4LZCPq20uQEgzHpc1/C19L5s7sN3x9fo6Z98eEzOzA+apNno6p2D4ldcJwAArCcAzF+Lf7kAMHTcuwmx4/K8eMOsD5EkaSPLRzrqPBvvsPM8y7JGmqYTkxfu+/eRADCYwbu6EfmPrBMgYpYBBVhA6d1ptjdl281ZtT6+1GXS+LFWCiF0L95PbHuc9uXHbq0WLt7X2we3S3+WKpVS4a6TGz6EcF9NkiQHB0eHh+/KldLIft3u1fn7s1Z/bdMkSY9OT2qVUgihVKqUSpVKZWLvaqta7q+3mWa9oRU7Q6v6vtMfpf+QVrw9uaLqautc44KtAE+cAACwiKlddhhrq0MIIc2u+wv055/aIYSQNLLTyfxQLoUQQvkkm1iuf2K9/hBCCEmahlarXS+/vUza7RAOQgih6BEFB6fXzUrBhnY7hJCk2Y/Ngg/T7V59PD+7bI134O12q11t1cNti310+O5duTTSiH88m9NVH/04+Drmu1/if/N1AjxzAgDAArpXF+cfPhVv64w9ICzNmpWxXQ72xi5HDymVxi5shxBC+easPv5aetpsVprNq+MXY9exO+OXzQ+mbQghhHbr7ONJ5fb+RLeb5x9vPny6vP8MMy/Udy4vO5eX9+c5OAihM7+tzrvdQS/e7XaL9ymNfwlbqBPgeRMAABZxc9l6UAOZNPKJ9j+Eztnx8YfxF/cPT2qVUuheHJ9PRovOxMnSw1U92rZdL7/ox4s06zVrlVBb/CC3OeQhX0m7Xi3Xk0Z+XSuFq/Ny4TN8+5tHP92G6wR47gQAgJUbtLEhXF1clGv3417a7YIeNNk/qVVCyD+1Wg/o6ZP9cggr6f8nFN7e2D9p1orTST+4LOZ26kKpctJIWpOzItLT/oyJs1mfbhN1AjxjAgDAig0m/obuxdvq5VG+xOXqGQc/elcKhf1/wfzkcrl4Q+HMglB8eyM9bIZSYTrpB5cFtevnV7VmpVQ7TetjNwH6Y6bmT5jeRJ0Az5cAALBity1u+eJtud4OydFKj92/RF54/f/hqwAVzSzYnFb1+LDXrFSaWdoaigCDKRNX5yteLwmAUQIAwMq1qm87YR3jzWeN/19gFaCptR3MeNzWxKaDwv2mS5LBeVtnFyeVWqnSzBudcr0d7qdMdC/eFs4N2GSdAM+dAACwBuuZbTpn/u9iqwBNKtWa11PGK1Wa148ZRZOk2Y/N8se35X4d7Xr5eK/XrJRq13k4Pt87uV3n8+q4/JCr/+urEyAKAgDArljd+j/F1jO59uBuHf+9g6EHJbSqb/fz61qpVGs2b8/+sIv/a6sTIBoCAMCOWHf/v5bJtYP+vnt1cT66tE9yEPJuuFv1v/txyuMVNlMnQEQEACByQ2PG7waLFwwxn7VtxNTRNkmaFo9G379doqe8n6Zp8Vs7rVY7aZzM6f/3jsbPcLtiaMGG/jGnHGgl+nElhBC6V8fvh59ZlqSN0/uL8t1uN5RKpVKteV07uTp+f2a1foD1EgCAqKXZ9cTzumYMMZ+57dbV8YviR1wdnTRrswai3I2FmdC96LTCwd7tgwWm9v+lSq3g0WPTNnQvOgWN9uom1/YfVxC6F8fv75YcHe38h5JB0h8mVKo0ryvN29sFlzOCgEnAAI8gAACR63a7GzlP+/L8+OGDXEZ12qHdrr5oJWl6MHX8T+HI+JnHHLfKybXt+vuLvaNPZ/VWOyRp4+jw3cg4/O7opf52q1pu3ceDUqXWrNSaIYTu1cX76vjEYJOAAR5FAACi1qqW1zaifkz78WNuZh+iaGT8QhaMEHMm17br1dtqkqOT+4chd68uzoufQhbarXq1VR+5S9D9eFawLNBq6wSIjgAAsE79C/+dzvxdl9a5uboK4WbZ+wt3h7j5sFCESML+Xti7mfvJ2vXy8V5+eDOt8R/bu1WvtuohJEl6dNAZb//XWScAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsA3/DzBOtWU8B/psAAAAAElFTkSuQmCC" alt="img"></p><p><img src="http://www.wepe.com.cn/ubook/assets/img/2.f1ed1675.png" alt="img"></p><p><img src="http://www.wepe.com.cn/ubook/assets/img/3.1966fa41.png" alt="img"></p><p><img src="http://www.wepe.com.cn/ubook/assets/img/4.144c200e.png" alt="img"></p><p><img src="http://www.wepe.com.cn/ubook/assets/img/5.4625bc7d.png" alt="img"></p><p><img src="http://www.wepe.com.cn/ubook/assets/img/6.875739fb.png" alt="img"></p><p><img src="http://www.wepe.com.cn/ubook/assets/img/7.b123116f.png" alt="img"></p><p>至此，系统就算安装完毕了。</p><h3 id="第四步：进入桌面，装驱动装软件"><a href="#第四步：进入桌面，装驱动装软件" class="headerlink" title="第四步：进入桌面，装驱动装软件"></a>第四步：进入桌面，装驱动装软件</h3><p>进入到桌面后，请尽快安装驱动，您可以自己提前备好需要安装的驱动，也可以用驱动精灵联网装驱动。U盘内自带了一个带网卡驱动的驱动精灵安装包，可以用这个先把网卡驱动装了，再联网装驱动。</p><p>U盘内我们还提供了一些常用的装机软件，都是纯净的，可以安装，也可以自行下载。</p><p>至此，全部工作结束，尽情享用吧。</p><h2 id="常见异常问题解决"><a href="#常见异常问题解决" class="headerlink" title="常见异常问题解决"></a>常见异常问题解决</h2><ul><li><p><strong>1.提示“Windows 无法安装到这个磁盘。选中的磁盘具有MBR分区表。在 EFI 系统上，Windows 只能安装到 GPT 磁盘”</strong></p><p>遇到这种报错，是因为要安装系统的那块硬盘是MBR分区表，需要legacy启动的PE才能安装，而PE却是UEFI启动的，因此报错。解决方法是：重启电脑,以legacy方式进入PE，再进行安装就好了。请牢记UEFI&lt;-&gt;GPT和Legacy&lt;-&gt;MBR的这种对应关系。只要严格按照必读教程的要求来，这个提示是不会遇到的。</p></li><li><p><strong>2.提示“windows无法安装到这个磁盘 选中的磁盘采用GPT分区形式”</strong></p><p>和第一种错误恰恰相反，是因为要安装系统的那块硬盘是GPT分区表，而PE却是Legacy启动的。解决方法是：重启电脑,以UEFI方式进入PE，再进行安装就好了。</p></li></ul><h1 id="4-2-原生安装Windows7"><a href="#4-2-原生安装Windows7" class="headerlink" title="4.2.原生安装Windows7"></a>4.2.原生安装Windows7</h1><p><em>本篇教程将详细介绍使用微PE安装微软原版Windows7系统的具体方法流程、注意事项、异常问题解决等。</em></p><p><em>其实原生安装Windows7的方法和安装Windows8.1或10的方法步骤完全一样，但由于Win7这个系统比较老，在一些新机器上安装会出问题，这里单独说一注意事项。</em></p><p><img src="http://www.wepe.com.cn/ubook/assets/img/win7.249208a5.jpg" alt="img"></p><h2 id="原生安装Windows7的特别提示"><a href="#原生安装Windows7的特别提示" class="headerlink" title="原生安装Windows7的特别提示"></a>原生安装Windows7的特别提示</h2><ul><li>1.如果需要原生安装Windows7，必须进入Win8PE。</li><li>2.原版的Windows7比较老，原生连USB3.0驱动都没有，只能装到比较老的机器上。在新机器上要么蓝屏，要么鼠标键盘动不了。</li><li>3.如果坚持必须要在新机器上安装Windows7，请在安装完成后使用Dism++工具往本地安装好的系统上注入USB3.0和NVME驱动。</li><li>4.如果觉着注入新驱动比较麻烦，可以联系微PE优盘客服获得一份打了NVME驱动和USB3.0的Windows7原版镜像ISO。</li><li>5.我们不建议新机器装Windows7，性能发挥不出来。也无法使用新的高级特性，如果因为某些软件必须Win7的缘故，建议用虚拟机安装一个Windows7。</li></ul><h2 id="安装Windows7的具体流程"><a href="#安装Windows7的具体流程" class="headerlink" title="安装Windows7的具体流程"></a>安装Windows7的具体流程</h2><p>与安装Windows8.1或10的方法一样，参见：<a href="http://www.wepe.com.cn/ubook/installwin810.html">2.1.原生安装Windows8.1&amp;10</a></p><h1 id="4-3-安装器方法安装原版Windows"><a href="#4-3-安装器方法安装原版Windows" class="headerlink" title="4.3.安装器方法安装原版Windows"></a>4.3.安装器方法安装原版Windows</h1><p><em>本篇教程将详细介绍使用微PE中的第三方windows安装器安装微软原版系统的具体方法流程、注意事项、异常问题解决等。</em></p><p><em>第三方的Windows安装器利用了与微软原版Windows安装程序一样的原理，直接将系统中的文件，解压到硬盘上，实现最终的安装。 该方式的特点是：安装系统和PE的启动类型、PE的位数无关，以任何方式启动的PE，均能将系统安装至任意分区表类型的硬盘上。</em></p><p><em>本方法支持的系统：Windows 7，Windows 8.1，Windows 10等NT6系列的全部系统。甚至支持安装XP。</em></p><p><img src="http://www.wepe.com.cn/ubook/assets/img/4.73d475b2.png" alt="img"></p><h2 id="安装系统前的准备工作-1"><a href="#安装系统前的准备工作-1" class="headerlink" title="安装系统前的准备工作"></a>安装系统前的准备工作</h2><p>使用安装器安装系统的具体操作步骤并不多，如果能按照下面的要求做足充分的判断，可极大提高成功率。</p><ul><li><p><strong>观察自己的系统所在硬盘是GPT分区表还是MBR</strong></p><p>如果是MBR的分区表，这样装就好。如果是GPT分区表，推荐原生安装方法：<a href="http://www.wepe.com.cn/ubook/installwin810.html">2.1.原生安装Windows8.1&amp;10</a>，或者是安装完手工修复一下UEFI引导。</p></li><li><p><strong>判断系统盘所在硬盘的位置？</strong></p><p>如果您的机器上装了多块硬盘，请做好区分，别装错了。如果需要提前分区，就先分好再装。</p></li><li><p><strong>请务必提前做好数据备份</strong></p><p>安装的时候要格式化C盘，请务必将C盘文件备份至其他。必要时，将文档照片类的不可再生数据存储至外部存储器一份。</p></li></ul><p><em>关于如何启动PE和查看分区表类型的方法在「<a href="http://www.wepe.com.cn/ubook/bootpe.html">如何进入PE系统</a>」和「<a href="http://www.wepe.com.cn/ubook/checktable.html">判断分区表类型</a>」这两文章中有详细的讲解。</em></p><h2 id="正式开始安装系统-1"><a href="#正式开始安装系统-1" class="headerlink" title="正式开始安装系统"></a>正式开始安装系统</h2><p>安装器安装原版系统的操作步骤为：</p><ul><li>第一步：PE内将要安装的系统ISO镜像挂载为虚拟光驱；</li><li>第二步：打开桌面上的Windows安装器，输入选项后安装；</li><li>第三步：等待系统安装完成，做最后的系统配置；</li><li>第四步：进入桌面，装驱动装软件。</li></ul><h3 id="第一步：将要安装的系统ISO镜像挂载为虚拟光驱-1"><a href="#第一步：将要安装的系统ISO镜像挂载为虚拟光驱-1" class="headerlink" title="第一步：将要安装的系统ISO镜像挂载为虚拟光驱"></a>第一步：将要安装的系统ISO镜像挂载为虚拟光驱</h3><p>从U盘启动进入PE内，打开U盘内的存放系统镜像的“ISO”目录，找到要安装的镜像。</p><p><img src="http://www.wepe.com.cn/ubook/assets/img/1.41e5b9ff.png" alt="img"></p><p>对着ISO镜像点右键，选择挂载，或者直接双击，该ISO就会被挂载为一个新的虚拟的光盘驱动器，和插入安装光盘效果类似。它会显示在“我的电脑”里，并且有一个盘符。</p><p><img src="http://www.wepe.com.cn/ubook/assets/img/1.5.49d02474.png" alt="img"></p><h3 id="第二步：打开桌面上的Windows安装器，输入选项后安装"><a href="#第二步：打开桌面上的Windows安装器，输入选项后安装" class="headerlink" title="第二步：打开桌面上的Windows安装器，输入选项后安装"></a>第二步：打开桌面上的Windows安装器，输入选项后安装</h3><p>执行桌面上的Windows安装器，按照提示进行选择。</p><p><img src="http://www.wepe.com.cn/ubook/assets/img/2.e0b846d0.png" alt="img"></p><p>Windows安装器顶部有两个选项卡，右边的支持WIN10、8.1、7的安装，左边的支持XP的安装。请注意区别对待。</p><p><img src="http://www.wepe.com.cn/ubook/assets/img/4.73d475b2.png" alt="img"></p><p>在第一个选项中，请选择系统包install.wim的位置（在刚才挂载出来的虚拟光驱里的source文件夹里），比如H:\sources\install.wim等等。</p><p><em>注：如果是安装XP的话，选择左侧的选项卡，第一个选项选择挂载出来的虚拟光驱根目录或I386。</em></p><p><img src="http://www.wepe.com.cn/ubook/assets/img/3.35a5301d.png" alt="img"></p><p>其余的两项填写要安装到的目标系统盘，正常情况下选择 C: 即可</p><p>当选择好三个选项之后，左下角的系统版本按照需要进行选择。</p><p>之后就可以点击开始安装，在弹出的确认对话框中再次点确认即可开始安装。</p><p><img src="http://www.wepe.com.cn/ubook/assets/img/5.c1cc2827.png" alt="img"></p><p><img src="http://www.wepe.com.cn/ubook/assets/img/6.5b01fa19.png" alt="img"></p><p><img src="http://www.wepe.com.cn/ubook/assets/img/5.c1cc2827.png" alt="img"></p><p>安装完成后，若没有自动重启，请手工重启。</p><h3 id="第三步：等待系统安装完成，做最后的系统配置-1"><a href="#第三步：等待系统安装完成，做最后的系统配置-1" class="headerlink" title="第三步：等待系统安装完成，做最后的系统配置"></a>第三步：等待系统安装完成，做最后的系统配置</h3><p>重启后，进入系统最后配置页，这里会要求您做一些简单的设置，创建登录账户，按照提示操作即可。怎么选都可以。</p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABAAAAAMACAIAAAA12IJaAAAUi0lEQVR4nO3dPWwjZ3oH8HfPDg7eZGH4YwHvXeGGVCGodJpZXB9yr1ARqMx2o5IEAiGNuihFoIYqyc6tkGKbHfUHiJXTEVtoCATGFe7PgJsEYAqREj+GpEjxQ9T7+3XiDGcesqCe/8z7vhMCAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAC74OWr8Ob7bRcBsKtebLsAAJju5avw5dfhq9fhm+/Ct2/C6z+G138I374J33wX/uUft10cwE76fNsFAEAIYWav/9Xr8OXX4eWrbZcI8BwIAABsnF4fYHsEAADWSa8P8MQIAACsiF4fYBcIAAAsbm6v//svwmf+xQA8RX6dAZhpbq//xT+EF9aUA9gZAgAAA3p9gAgIAABx+9Of9foAUfHjDhCBN9+PX9f/j7S/6S9/29W5uT/4FwawDL+eAM/LZK9fuA7PXff8U29blT6WAACwFEOAAHbWA3t9ABgiAADsAr0+ACsiAAA8JZ6lBcCaCQAAW6LXB2AbBACAjTCGB4CnQQAA2Ij//C+9PgBPgQAAsBH7P2y7AgAIIYTfbbsAAABgcwQAAACIiAAAAAAREQAAACAiAgAAAEREAAAAgIgIAAAAEBEBAAAAIiIAAABARAQAAACIiAAAAAAREQAAACAiAgAAAEREAAAAgIgIAAAAEBEBAAAAIiIAAABARAQAAACIiAAAAAAREQAAACAiAgAAAEREAAAAgIgIAAAAEBEBAAAAIiIAAABARAQAAACIiAAAAAAREQAAACAiAgAAAEREAAAAgIgIAAAAEBEBAAAAIiIAAABARAQAAACIiAAAAAAREQAAACAiAgAAAAAAAAAAAAAAAOyGF9suACAOP/W2XcGoHwa//0+tsIf7wb8wgGWYBAwAABERAAAAICICAAAAREQAAACAiAgAAAAQEQEAAAAiIgAAAEBEBAAAAIiIAAAAABERAAAAICICAAAAREQAAACAiAgAAAAQEQEAAAAiIgAAAEBEBAAAAIiIAAAAABERAAAAICICAAAAREQAAACAiAgAAAAQEQEAAAAiIgAAAEBEBAAAAIiIAAAAABERAAAAICICAAAAREQAAACAiAgAAAAQEQEAAAAiIgAAAEBEBAAAAIiIAAAAABERAAAAICICAAAAREQAAACAiAgAAAAQEQEAYCM+/RR++Tn89uu26wAgdp9vuwCAOPzbP4evXodvvgvfvgmv/xhe/yF8+yZ881346nX48uvw8tW26wMgFgIAwEb88nP45eeRV16+Cl9+LRUAsGECAMCW/PZr+O1XqQCADRMAAJ6SwlQQQnjzvVQAwEoIAAC7YHIEUZAKAFiGAACws6QCABYnAAA8Lw9MBXd++zW8fBX+73/D53+3yTIB2JYX2y4AgK3605939V7BD/6FASzDrycAA7u1BpEAALAUv54AzPRkU4EAALAUv54ALO4ppAIBAGApfj0BWJENpwIBAGApfj0BWKf1pQIBAGApfj0B2IbZzyv4/Rfhs3kLVQsAAEvx6wnAk7HQU8wEAICleBAYAE/GQs82BgAAYvHm+21XAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADsls+2XQAAG5Ik6b82//2f/v5//vbff/3rtosBAADWKGnkvTt5IynaJW1kWdZIk6KNAADA7kiz3ogsnbXDxFYAno/fbbsAAJ6A9LAy9FflpPAWAQAAsCNGbwGMX+IfGSDkHgAAAOyIJEkbU8bxJ40s7/V6vTwruLw/mgCK5wgAAABPyQMm+s58d5bneZ7njVT7DwAAT97cib4AYBIwAAAAwC6aPdEXAAB4ZmZO9H3EUfNlJxYAAAC7ZWxqgRsLADvOHAAAZkn2yyN/Vw4lAICdJgAAMEv7Uz7yd/ems6VKAACADRh+vIBJAAAAsE3rmfY7eZokTYseLwwAAGzMyKN/zc8FAIDnzbN/AViYScAAAAAAu2BkDFCWGqMPAADPXJKkjSxraP4BAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFYgWduBJ46cTL40/yhpI11biSu0K3UCABC1NOv1er1e3lh575o08l6v18sGXXE6+HuZoyz6tsJDrbM9X2GdAACwNo/p/5M0m9Hu9jvioSMPeuQFTrbEW2YdKC+st/8dTDe/qV9ZnQAARGhuQ/pgc/vR5fv/eS1v/8ijvfOCffJg916vlz9Ycbd+d6iCUz86AKywTgAAIrT6ADDUoa7usHdlFrSyk5f/7zfk2cOGyi/5NUxtrNNsSga4PVHR+5KHjFpadZ0A0fl82wUAbFur+rYzt0U+OPqxWSuF7sXx+8vO1L3a7ZVWNqJVfbufX9dKodLMG51yfehU6WmtFEIIYe80y8belufh8DQ7HHv15sNZvTV8hCxvVu7+ujp+UW3NqiVJs+vb/a8+TNuxVS2HrNeshFLtOvv0ttpaxXezhjoBAKDA1GvsU3afdDf8Jy3YONt4FaN1LHO/YeRzDK7V51l6V+X02wbJ3aX93vx7C2k28aUVDlYa+STTLtavsU4AABi1YACY9v7i5na0y59tYiTQ4IWCZHG7qTBy3J36rk0eHG8oZEz0zUNN9cOjUGH9xd/D9ACw9joBAGDYIwPArNm/Dxr5Pn6swUXt+xHxU6fbTq/5vocunjzc6+VZv7tOhnrqWdfdH1L79A97lw5Gk8rm6wQAIAazmvxHBYDZi9YvGgCGrqoPT4hdIgDcDqop3p40hhrp+zFGeTbvG5g2fGnosvzUiiZHMw0mQK++TgAAoremADBvMc7FA0Df4LZCPq20uQEgzHpc1/C19L5s7sN3x9fo6Z98eEzOzA+apNno6p2D4ldcJwAArCcAzF+Lf7kAMHTcuwmx4/K8eMOsD5EkaSPLRzrqPBvvsPM8y7JGmqYTkxfu+/eRADCYwbu6EfmPrBMgYpYBBVhA6d1ptjdl281ZtT6+1GXS+LFWCiF0L95PbHuc9uXHbq0WLt7X2we3S3+WKpVS4a6TGz6EcF9NkiQHB0eHh+/KldLIft3u1fn7s1Z/bdMkSY9OT2qVUgihVKqUSpVKZWLvaqta7q+3mWa9oRU7Q6v6vtMfpf+QVrw9uaLqautc44KtAE+cAACwiKlddhhrq0MIIc2u+wv055/aIYSQNLLTyfxQLoUQQvkkm1iuf2K9/hBCCEmahlarXS+/vUza7RAOQgih6BEFB6fXzUrBhnY7hJCk2Y/Ngg/T7V59PD+7bI134O12q11t1cNti310+O5duTTSiH88m9NVH/04+Drmu1/if/N1AjxzAgDAArpXF+cfPhVv64w9ICzNmpWxXQ72xi5HDymVxi5shxBC+easPv5aetpsVprNq+MXY9exO+OXzQ+mbQghhHbr7ONJ5fb+RLeb5x9vPny6vP8MMy/Udy4vO5eX9+c5OAihM7+tzrvdQS/e7XaL9ymNfwlbqBPgeRMAABZxc9l6UAOZNPKJ9j+Eztnx8YfxF/cPT2qVUuheHJ9PRovOxMnSw1U92rZdL7/ox4s06zVrlVBb/CC3OeQhX0m7Xi3Xk0Z+XSuFq/Ny4TN8+5tHP92G6wR47gQAgJUbtLEhXF1clGv3417a7YIeNNk/qVVCyD+1Wg/o6ZP9cggr6f8nFN7e2D9p1orTST+4LOZ26kKpctJIWpOzItLT/oyJs1mfbhN1AjxjAgDAig0m/obuxdvq5VG+xOXqGQc/elcKhf1/wfzkcrl4Q+HMglB8eyM9bIZSYTrpB5cFtevnV7VmpVQ7TetjNwH6Y6bmT5jeRJ0Az5cAALBity1u+eJtud4OydFKj92/RF54/f/hqwAVzSzYnFb1+LDXrFSaWdoaigCDKRNX5yteLwmAUQIAwMq1qm87YR3jzWeN/19gFaCptR3MeNzWxKaDwv2mS5LBeVtnFyeVWqnSzBudcr0d7qdMdC/eFs4N2GSdAM+dAACwBuuZbTpn/u9iqwBNKtWa11PGK1Wa148ZRZOk2Y/N8se35X4d7Xr5eK/XrJRq13k4Pt87uV3n8+q4/JCr/+urEyAKAgDArljd+j/F1jO59uBuHf+9g6EHJbSqb/fz61qpVGs2b8/+sIv/a6sTIBoCAMCOWHf/v5bJtYP+vnt1cT66tE9yEPJuuFv1v/txyuMVNlMnQEQEACByQ2PG7waLFwwxn7VtxNTRNkmaFo9G379doqe8n6Zp8Vs7rVY7aZzM6f/3jsbPcLtiaMGG/jGnHGgl+nElhBC6V8fvh59ZlqSN0/uL8t1uN5RKpVKteV07uTp+f2a1foD1EgCAqKXZ9cTzumYMMZ+57dbV8YviR1wdnTRrswai3I2FmdC96LTCwd7tgwWm9v+lSq3g0WPTNnQvOgWN9uom1/YfVxC6F8fv75YcHe38h5JB0h8mVKo0ryvN29sFlzOCgEnAAI8gAACR63a7GzlP+/L8+OGDXEZ12qHdrr5oJWl6MHX8T+HI+JnHHLfKybXt+vuLvaNPZ/VWOyRp4+jw3cg4/O7opf52q1pu3ceDUqXWrNSaIYTu1cX76vjEYJOAAR5FAACi1qqW1zaifkz78WNuZh+iaGT8QhaMEHMm17br1dtqkqOT+4chd68uzoufQhbarXq1VR+5S9D9eFawLNBq6wSIjgAAsE79C/+dzvxdl9a5uboK4WbZ+wt3h7j5sFCESML+Xti7mfvJ2vXy8V5+eDOt8R/bu1WvtuohJEl6dNAZb//XWScAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsA3/DzBOtWU8B/psAAAAAElFTkSuQmCC" alt="img"></p><p><img src="http://www.wepe.com.cn/ubook/assets/img/2.f1ed1675.png" alt="img"></p><p><img src="http://www.wepe.com.cn/ubook/assets/img/3.1966fa41.png" alt="img"></p><p><img src="http://www.wepe.com.cn/ubook/assets/img/4.144c200e.png" alt="img"></p><p><img src="http://www.wepe.com.cn/ubook/assets/img/5.4625bc7d.png" alt="img"></p><p><img src="http://www.wepe.com.cn/ubook/assets/img/6.875739fb.png" alt="img"></p><p><img src="http://www.wepe.com.cn/ubook/assets/img/7.b123116f.png" alt="img"></p><p>至此，系统就算安装完毕了。</p><h3 id="第四步：进入桌面，装驱动装软件-1"><a href="#第四步：进入桌面，装驱动装软件-1" class="headerlink" title="第四步：进入桌面，装驱动装软件"></a>第四步：进入桌面，装驱动装软件</h3><p>进入到桌面后，请尽快安装驱动，您可以自己提前备好需要安装的驱动，也可以用驱动精灵联网装驱动。U盘内自带了一个带网卡驱动的驱动精灵安装包，可以用这个先把网卡驱动装了，再联网装驱动。</p><p>U盘内我们还提供了一些常用的装机软件，都是纯净的，可以安装，也可以自行下载。</p><p>至此，全部工作结束，尽情享用吧。</p><h1 id="4-4-安装其它Ghost-amp-Wim格式系统"><a href="#4-4-安装其它Ghost-amp-Wim格式系统" class="headerlink" title="4.4.安装其它Ghost&amp;Wim格式系统"></a>4.4.安装其它Ghost&amp;Wim格式系统</h1><p><em>本篇教程将详细介绍使用微PE安装原版安装版以外Ghost&amp;Wim格式系统的具体方法流程、注意事项等。</em></p><p><em>本方法支持的格式：.gho .wim</em></p><h2 id="安装其它Ghost-amp-Wim格式系统的特别提示"><a href="#安装其它Ghost-amp-Wim格式系统的特别提示" class="headerlink" title="安装其它Ghost&amp;Wim格式系统的特别提示"></a>安装其它Ghost&amp;Wim格式系统的特别提示</h2><ul><li>这类.gho .wim系统本优盘并不自带，可以从网上单独下载。</li><li>安装这类系统的实质是将.gho .wim通过备份还原工具恢复到系统盘。</li><li>这种方法一般只支持legacy启动，即磁盘是MBR分区表。如果硬要装到GPT并UEFI，需要单独修复UEFI引导。</li></ul><h2 id="安装其它Ghost-amp-Wim格式系统的具体流程"><a href="#安装其它Ghost-amp-Wim格式系统的具体流程" class="headerlink" title="安装其它Ghost&amp;Wim格式系统的具体流程"></a>安装其它Ghost&amp;Wim格式系统的具体流程</h2><p>进入PE后，打开桌面上的CGI工具。选择还原分区，选中要还原的分区位置，并选择要恢复的.gho .wim镜像。</p><p>之后点开始执行，镜像就恢复到系统盘了。</p><p><img src="http://www.wepe.com.cn/ubook/assets/img/wim.710b3686.png" alt="img"></p>]]></content>
      
      
      <categories>
          
          <category> CIT </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CIT </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
